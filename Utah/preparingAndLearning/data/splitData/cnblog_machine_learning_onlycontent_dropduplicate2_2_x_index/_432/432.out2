在/p,机器/n,学习/v,中/f,的/u,矩阵/n,向/p,量/n,求导/nw,(/w,二/m,)/w, ,矩阵/n,向/p,量/n,求导/nw,之/u,定义/n,法/j,中/f,，/w,我们/r,讨论/v,了/u,定义/n,法/j,求解/v,矩阵/n,向/p,量/n,求导/nw,的/u,方法/n,，/w,但是/c,这个/r,方法/n,对于/p,比较/d,复杂/a,的/u,求导式子/nw,，/w,中间/f,运算会/nw,很/d,复杂/a,，/w,同时/c,排列/v,求/v,导出/v,的/u,结果/n,也/d,很/d,麻烦/an,。/w,因此/c,我们/r,需要/v,其他/r,的/u,一些/m,求导/nw,方法/n,。/w,本文/r,我们/r,讨论/v,使用/v,微分法/nw,来/v,求解/v,标量/n,对/p,向量/n,的/u,求导/nw,，/w,以及/c,标量/n,对/p,矩阵/n,的/u,求导/nw,。/w,本文/r,的/u,标量/n,对/p,向量/n,的/u,求导/nw,，/w,以及/c,标量/n,对/p,矩阵/n,的/u,求导/nw,使用/v,分母/n,布局/n,。/w,如果/c,遇到/v,其他/r,资料/n,求导/nw,结果/n,不同/a,，/w,请/v,先/d,确认/v,布局/n,是否/v,一样/u,。/w,1/m,./w, ,矩阵/n,微分/n,在/p,高数/nw,里面/f,我们/r,学习/v,过/u,标量/n,的/u,导数/n,和/c,微分/n,，/w,他们/r,之间/f,有/v,这样/r,的/u,关系/n,：/w,$/w,df/en, ,=/w,f/en,'/w,(/w,x/en,)/w,dx/en,$/w,。/w,如果/c,是/v,多变量/nw,的/u,情况/n,，/w,则/d,微分/n,可以/v,写/v,成/v,：/w,$/w,$/w,df/en,=/w,\/w,sum/en,\/w,limits/en,_,{/w,i/en,=/w,1/m,}/w,^,n/en,\/w,frac/en,{/w,\/w,partial/en, ,f/en,}/w,{/w,\/w,partial/en, ,x/en,_,i/en,}/w,dx/en,_,i/en, ,=/w, ,(/w,\/w,frac/en,{/w,\/w,partial/en, ,f/en,}/w,{/w,\/w,partial/en, ,\/w,mathbf/en,{/w,x/en,}/w,}/w,)/w,^,td/en,\/w,mathbf/en,{/w,x/en,}/w,$/w,$/w,从/p,上次/t,我们/r,可以/v,发现/v,标量/n,对/p,向量/n,的/u,求导/nw,和/c,它/r,的/u,向量/n,微分/n,有/v,一个/m,转置/nw,的/u,关系/n,。/w,现在/t,我们/r,再/d,推广/v,到/v,矩阵/n,。/w,对于/p,矩阵/n,微分/n,，/w,我们/r,的/u,定义/n,为/p,：/w,$/w,$/w,df/en,=/w,\/w,sum/en,\/w,limits/en,_,{/w,i/en,=/w,1/m,}/w,^,m/en,\/w,sum/en,\/w,limits/en,_,{/w,j/en,=/w,1/m,}/w,^,n/en,\/w,frac/en,{/w,\/w,partial/en, ,f/en,}/w,{/w,\/w,partial/en, ,x/en,_,{/w,ij/en,}/w,}/w,dx/en,_,{/w,ij/en,}/w, ,=/w, ,tr/en,(/w,(/w,\/w,frac/en,{/w,\/w,partial/en, ,f/en,}/w,{/w,\/w,partial/en, ,\/w,mathbf/en,{/w,x/en,}/w,}/w,)/w,^,td/en,\/w,mathbf/en,{/w,x/en,}/w,)/w,$/w,$/w,其中/r,第二/m,步/q,使用/v,了/u,矩阵/n,迹/ng,的/u,性质/n,，/w,即/v,迹函数/nw,等于/v,主/n,对/p,角线/nw,的/u,和/c,。/w,即/v,$/w,$/w,tr/en,(/w,a/en,^,tb/en,)/w, ,=/w, ,\/w,sum/en,\/w,limits/en,_,{/w,i/en,,/w,j/en,}/w,a/en,_,{/w,ij/en,}/w,b/en,_,{/w,ij/en,}/w,$/w,$/w,从/p,上面/f,矩阵/n,微分/n,的/u,式子/n,，/w,我们/r,可以/v,看到/v,矩阵/n,微分/n,和/c,它/r,的/u,导数/n,也/d,有/v,一个/m,转置/nw,的/u,关系/n,，/w,不过/c,在/p,外面/f,套/q,了/u,一个/m,迹函数/nw,而已/y,。/w,由于/c,标量/n,的/u,迹函数/nw,就/d,是/v,它/r,本身/r,，/w,那么/r,矩阵/n,微分/n,和/c,向量/n,微分/n,可以/v,统一/vn,表示/v,，/w,即/v,：/w,$/w,$/w,df/en,=/w, ,tr/en,(/w,(/w,\/w,frac/en,{/w,\/w,partial/en, ,f/en,}/w,{/w,\/w,partial/en, ,\/w,mathbf/en,{/w,x/en,}/w,}/w,)/w,^,td/en,\/w,mathbf/en,{/w,x/en,}/w,)/w,\/w,;/w,\/w,;/w, ,\/w,;/w,df/en,=/w, ,tr/en,(/w,(/w,\/w,frac/en,{/w,\/w,partial/en, ,f/en,}/w,{/w,\/w,partial/en, ,\/w,mathbf/en,{/w,x/en,}/w,}/w,)/w,^,td/en,\/w,mathbf/en,{/w,x/en,}/w,)/w,$/w,$/w,2/m,./w, ,矩阵/n,微分/n,的/u,性质/n,我们/r,在/p,讨论/v,如何/r,使用/v,矩阵/n,微分/n,来/v,求导/nw,前/f,，/w,先/d,看看/v,矩阵/n,微分/n,的/u,性质/n,：/w,1/m,）/w,微分/n,加/v,减法/n,：/w,$/w,d/en,(/w,x/en,+/w,y/en,)/w, ,=/w,dx/en,+/w,dy/en,,/w, ,d/en,(/w,x/en,-/w,y/en,)/w, ,=/w,dx/en,-/w,dy/en,$/w,2/m,)/w, , ,微分/n,乘法/n,：/w,$/w,d/en,(/w,xy/en,)/w, ,=/w,(/w,dx/en,)/w,y/en, ,+/w, ,x/en,(/w,dy/en,)/w,$/w,3/m,)/w, , ,微分/n,转置/nw,：/w,$/w,d/en,(/w,x/en,^,t/en,)/w, ,=/w,(/w,dx/en,)/w,^,t/en,$/w,4/m,)/w, , ,微分/n,的/u,迹/ng,：/w,$/w,dtr/en,(/w,x/en,)/w, ,=/w,tr/en,(/w,dx/en,)/w,$/w,5/m,)/w, , ,微分/n,哈达/n,马乘/nr,积/v,：/w, ,$/w,d/en,(/w,x/en, ,\/w,odot/en, ,y/en,)/w, ,=/w, ,x/en,\/w,odot/en, ,dy/en, ,+/w, ,dx/en, ,\/w,odot/en, ,y/en,$/w,6/m,)/w, ,逐/vg,元素/n,求导/nw,：/w,$/w,d/en, ,\/w,sigma/en,(/w,x/en,)/w, ,=/w,\/w,sigma/en,'/w,(/w,x/en,)/w, ,\/w,odot/en, ,dx/en,$/w,7/m,)/w, ,逆/vg,矩阵/n,微分/n,：/w,$/w,d/en, ,x/en,^,{/w,-/w,1/m,}/w,=/w, ,-/w,x/en,^,{/w,-/w,1/m,}/w,dxx/en,^,{/w,-/w,1/m,}/w,$/w,8/m,)/w, ,行列式/n,微分/n,：/w,$/w,d/en, ,|/w,x/en,|/w,=/w, ,|/w,x/en,|/w,tr/en,(/w,x/en,^,{/w,-/w,1/m,}/w,dx/en,)/w,$/w,有/v,了/u,这些/r,性质/n,，/w,我们/r,再/d,来/v,看看/v,如何/r,由/p,矩阵/n,微分/n,来/v,求/v,导数/n,。/w,3/m,./w, ,使用/v,微分法/nw,求解/v,矩阵/n,向/p,量/n,求导/nw,由于/c,第一/m,节/n,我们/r,已经/d,得到/v,了/u,矩阵/n,微分/n,和/c,导数/n,关系/n,，/w,现在/t,我们/r,就/d,来/v,使用/v,微分法/nw,求解/v,矩阵/n,向/p,量/n,求导/nw,。/w,若/c,标量/n,函数/n,$/w,f/en,$/w,是/v,矩阵/n,$/w,x/en,$/w,经/p,加/v,减/v,乘/v,法/j,、/w,逆/vg,、/w,行列式/n,、/w,逐/vg,元素/n,函数/n,等/u,运算/vn,构成/v,，/w,则/d,使用/v,相应/v,的/u,运算/vn,法则/n,对/p,$/w,f/en,$/w,求/v,微分/n,，/w,再/d,使用/v,迹函数/nw,技巧/n,给/p,$/w,df/en,$/w,套/q,上迹/nw,并/c,将/d,其它/r,项/q,交换/v,至/p,$/w,dx/en,$/w,左侧/f,,/w,那么/r,对于/p,迹函数/nw,里面/f,在/p,$/w,dx/en,$/w,左边/f,的/u,部分/n,，/w,我们/r,只/d,需要/v,加/v,一个/m,转置/nw,就/d,可以/v,得到/v,导数/n,了/u,。/w,这里/r,需要/v,用/p,到/v,的/u,迹函数/nw,的/u,技巧/n,主要/b,有/v,这么/r,几/m,个/q,：/w,1/m,)/w, , ,标量/n,的/u,迹/ng,等于/v,自己/r,：/w,$/w,tr/en,(/w,x/en,)/w, ,=/w,x/en,$/w,2/m,)/w, , ,转置/nw,不变/nz,：/w,$/w,tr/en,(/w,a/en,^,t/en,)/w, ,=/w,tr/en,(/w,a/en,)/w,$/w,3/m,)/w, , ,交换率/nw,：/w,$/w,tr/en,(/w,ab/en,)/w, ,=/w,tr/en,(/w,ba/en,)/w,$/w,,/w,需要/v,满足/v,$/w,a/en,,/w,b/en,^,t/en,$/w,同/p,维度/n,。/w,4/m,)/w, , ,加减法/n,：/w,$/w,tr/en,(/w,x/en,+/w,y/en,)/w, ,=/w,tr/en,(/w,x/en,)/w,+/w,tr/en,(/w,y/en,)/w,,/w, ,tr/en,(/w,x/en,-/w,y/en,)/w, ,=/w,tr/en,(/w,x/en,)/w,-/w,tr/en,(/w,y/en,)/w,$/w,5/m,)/w, ,矩阵/n,乘法/n,和/c,迹/ng,交换/v,：/w,$/w,tr/en,(/w,(/w,a/en,\/w,odot/en, ,b/en,)/w,^,tc/en,)/w,=/w, ,tr/en,(/w,a/en,^,t/en,(/w,b/en, ,\/w,odot/en, ,c/en,)/w,)/w,$/w,,/w,需要/v,满足/v,$/w,a/en,,/w,b/en,,/w,c/en,$/w,同/p,维度/n,。/w,我们/r,先/d,看/v,第一/m,个/q,例子/n,，/w,我们/r,使用/v,上/f,一篇/mq,定义/n,法/j,中/f,的/u,一个/m,求导/nw,问题/n,：/w,$/w,$/w,y/en,=/w,\/w,mathbf/en,{/w,a/en,}/w,^,t/en,\/w,mathbf/en,{/w,x/en,}/w,\/w,mathbf/en,{/w,b/en,}/w,,/w, ,\/w,frac/en,{/w,\/w,partial/en, ,y/en,}/w,{/w,\/w,partial/en, ,\/w,mathbf/en,{/w,x/en,}/w,}/w,$/w,$/w,首先/d,，/w,我们/r,使用/v,微分/n,乘法/n,的/u,性质/n,对/p,$/w,f/en,$/w,求/v,微分/n,，/w,得到/v,：/w,$/w,$/w,dy/en, ,=/w, ,d/en,\/w,mathbf/en,{/w,a/en,}/w,^,t/en,\/w,mathbf/en,{/w,x/en,}/w,\/w,mathbf/en,{/w,b/en,}/w, ,+/w, ,\/w,mathbf/en,{/w,a/en,}/w,^,td/en,\/w,mathbf/en,{/w,x/en,}/w,\/w,mathbf/en,{/w,b/en,}/w, ,+/w, ,\/w,mathbf/en,{/w,a/en,}/w,^,t/en,\/w,mathbf/en,{/w,x/en,}/w,d/en,\/w,mathbf/en,{/w,b/en,}/w, ,=/w, ,\/w,mathbf/en,{/w,a/en,}/w,^,td/en,\/w,mathbf/en,{/w,x/en,}/w,\/w,mathbf/en,{/w,b/en,}/w,$/w,$/w,第二/m,步/q,，/w,就/d,是/v,两边/f,套/q,上/f,迹函数/nw,，/w,即/v,：/w,$/w,$/w,dy/en, ,=/w,tr/en,(/w,dy/en,)/w, ,=/w, ,tr/en,(/w,\/w,mathbf/en,{/w,a/en,}/w,^,td/en,\/w,mathbf/en,{/w,x/en,}/w,\/w,mathbf/en,{/w,b/en,}/w,)/w, ,=/w, ,tr/en,(/w,\/w,mathbf/en,{/w,b/en,}/w,\/w,mathbf/en,{/w,a/en,}/w,^,td/en,\/w,mathbf/en,{/w,x/en,}/w,)/w,$/w,$/w,其中/r,第一/m,到/v,第二/m,步/q,使用/v,了/u,上面/f,迹函数/nw,性质/n,1/m,，/w,第三/nw,步/q,到/v,第四/nw,步/q,用到/v,了/u,上面/f,迹函数/nw,的/u,性质/n,3/m,./w,根据/p,我们/r,矩阵/n,导数/n,和/c,微分/n,的/u,定义/n,，/w,迹函数/nw,里面/f,在/p,$/w,dx/en,$/w,左边/f,的/u,部分/n,$/w,\/w,mathbf/en,{/w,b/en,}/w,\/w,mathbf/en,{/w,a/en,}/w,^,t/en,$/w,,/w,加上/v,一个/m,转置/nw,即/v,为/p,我们/r,要求/v,的/u,导数/n,，/w,即/v,：/w,$/w,$/w,\/w,frac/en,{/w,\/w,partial/en, ,f/en,}/w,{/w,\/w,partial/en, ,\/w,mathbf/en,{/w,x/en,}/w,}/w, ,=/w, ,(/w,\/w,mathbf/en,{/w,b/en,}/w,\/w,mathbf/en,{/w,a/en,}/w,^,t/en,)/w,^,t/en, ,=/w,ab/en,^,t/en,$/w,$/w,以上/f,就/d,是/v,微分法/nw,的/u,基本/a,流程/n,，/w,先/d,求/v,微分/n,再/d,做/v,迹函数/nw,变换/v,，/w,最后/f,得到/v,求导/nw,结果/n,。/w,比起/v,定义/n,法/j,，/w,我们/r,现在/t,不/d,需要/v,去/v,对/p,矩阵/n,中/f,的/u,单个/b,标量/n,进行/v,求导/nw,了/u,。/w,再/d,来/v,看看/v,$/w,$/w,y/en,=/w,\/w,mathbf/en,{/w,a/en,}/w,^,texp/en,(/w,\/w,mathbf/en,{/w,x/en,}/w,\/w,mathbf/en,{/w,b/en,}/w,)/w,,/w, ,\/w,frac/en,{/w,\/w,partial/en, ,y/en,}/w,{/w,\/w,partial/en, ,\/w,mathbf/en,{/w,x/en,}/w,}/w,$/w,$/w,$/w,$/w,dy/en, ,=/w,tr/en,(/w,dy/en,)/w, ,=/w, ,tr/en,(/w,\/w,mathbf/en,{/w,a/en,}/w,^,tdexp/en,(/w,\/w,mathbf/en,{/w,x/en,}/w,\/w,mathbf/en,{/w,b/en,}/w,)/w,)/w, ,=/w, ,tr/en,(/w,\/w,mathbf/en,{/w,a/en,}/w,^,t/en, ,(/w,exp/en,(/w,\/w,mathbf/en,{/w,x/en,}/w,\/w,mathbf/en,{/w,b/en,}/w,)/w, ,\/w,odot/en, ,d/en,(/w,\/w,mathbf/en,{/w,x/en,}/w,\/w,mathbf/en,{/w,b/en,}/w,)/w,)/w,)/w, ,=/w, ,tr/en,(/w,(/w,\/w,mathbf/en,{/w,a/en,}/w, , ,\/w,odot/en, ,exp/en,(/w,\/w,mathbf/en,{/w,x/en,}/w,\/w,mathbf/en,{/w,b/en,}/w,)/w, ,)/w,^,t/en, ,d/en,\/w,mathbf/en,{/w,x/en,}/w,\/w,mathbf/en,{/w,b/en,}/w,)/w, ,=/w, , ,tr/en,(/w,\/w,mathbf/en,{/w,b/en,}/w,(/w,\/w,mathbf/en,{/w,a/en,}/w, , ,\/w,odot/en, ,exp/en,(/w,\/w,mathbf/en,{/w,x/en,}/w,\/w,mathbf/en,{/w,b/en,}/w,)/w, ,)/w,^,t/en, ,d/en,\/w,mathbf/en,{/w,x/en,}/w,)/w, , ,$/w,$/w,其中/r,第三/nw,步/q,到/v,第/m,4步/mq,使用/v,了/u,上面/f,迹函数/nw,的/u,性质/n,5/m,./w, ,这样/r,我们/r,的/u,求导/nw,结果/n,为/p,：/w,$/w,$/w,\/w,frac/en,{/w,\/w,partial/en, ,y/en,}/w,{/w,\/w,partial/en, ,\/w,mathbf/en,{/w,x/en,}/w,}/w, ,=/w,(/w,\/w,mathbf/en,{/w,a/en,}/w, , ,\/w,odot/en, ,exp/en,(/w,\/w,mathbf/en,{/w,x/e