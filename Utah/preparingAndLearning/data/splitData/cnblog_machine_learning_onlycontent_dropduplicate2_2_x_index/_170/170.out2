一/m,,/w,引言/n,：/w,上/f,一章/mq,我们/r,讲/v,的/u,knn/en,算法/n,，/w,虽然/c,可以/v,完成/v,很多/m,分类/vn,任务/n,，/w,但/c,它/r,最/d,大/a,的/u,缺点/n,是/v,无法/v,给/p,出/v,数据/n,的/u,内在/b,含义/n,，/w,而/c,决策树/nz,的/u,主要/b,优势/n,就/d,在于/v,数据/n,形式/n,非常/d,容易/a,理解/v,。/w,决策树/nz,算法/n,能够/v,读/v,取/v,数据/n,集合/v,，/w,决策树/nz,的/u,一个/m,重要/a,任务/n,是/v,为了/p,数据/n,所/u,蕴含/v,的/u,知识/n,信息/n,，/w,因此/c,，/w,决策树/nz,可以/v,使用/v,不/d,熟悉/v,的/u,数据/n,集合/v,，/w,并/c,从中/d,提取/v,一系列/mq,规则/n,，/w,在/p,这些/r,机器/n,根据/p,数据集/nw,创建/v,规则/n,是/v,，/w,就/d,是/v,机器/n,学习/v,的/u,过程/n,。/w,二/m,，/w,相关/v,知识/n,1/m, ,决策树/nz,算法/n,在/p,构造/v,决策树/nz,时/ng,，/w,第一/m,个/q,需要/v,解决/v,的/u,问题/n,就/d,是/v,，/w,如何/r,确定/v,出/v,哪个/r,特征/n,在/p,划分/v,数据/n,分类/vn,是/v,起/v,决定性/n,作用/n,，/w,或者说/nw,使用/v,哪个/r,特征/n,分类/vn,能/v,实现/v,最/d,好/a,的/u,分类/vn,效果/n,。/w,这样/r,，/w,为了/p,找到/v,决定性/n,的/u,特征/n,，/w,划分/v,川/j,最/d,好/a,的/u,结果/n,，/w,我们/r,就/d,需要/v,评估/vn,每个/r,特征/n,。/w,当/p,找到/v,最优/ad,特征/n,后/f,，/w,依/v,此/r,特征/n,，/w,数据集/nw,就/d,被/p,划分/v,为/p,几/m,个/q,数据子集/nw,，/w,这些/r,数据/n,自己/r,会/v,分布/v,在/p,该/r,决策点/nw,的/u,所有/b,分支/n,中/f,。/w,此时/r,，/w,如果/c,某个/r,分支/n,下/f,的/u,数据/n,属于/v,同一/b,类型/n,，/w,则/d,该/r,分支/n,下/f,的/u,数据/n,分类/vn,已经/d,完成/v,，/w,无需/v,进行/v,下/f,一步/mq,的/u,数据集/nw,分类/vn,；/w,如果/c,分支/n,下/f,的/u,数据子集/nw,内/f,数据/n,不/d,属于/v,同一/b,类型/n,，/w,那么/r,就要/d,重复/v,划分/v,该/r,数据集/nw,的/u,过程/n,，/w,按照/p,划分/v,原始/a,数据集/nw,相同/a,的/u,原则/n,，/w,确定/v,出/v,该/r,数据子/nw,集中/v,的/u,最优/ad,特征/n,，/w,继续/v,对/p,数据子集/nw,进行/v,分类/vn,，/w,直到/v,所有/b,的/u,特征/n,已经/d,遍历/nw,完成/v,，/w,或者/c,所有/b,叶结点/nr,分支/n,下/f,的/u,数据/n,具有/v,相同/a,的/u,分类/vn,。/w,创建/v,分支/n,的/u,伪代码/nw,函数/n,createbranch/en,（/w,）/w,如下/v,：/w,检测/vn,数据/n,集中/v,的/u,每/r,一个/m,子项/nr,是否/v,属于/v,同一/b,分类/vn,：/w,if/en, ,so/en, ,return/en, ,类/q,标签/n,;/w, ,else/en, ,寻找/v,划分/v,数据集/nw,的/u,最/d,好/a,特征/n, ,划分/v,数据集/nw, ,创建/v,分支/n,结点/nw, ,for/en, ,每个/r,分支/n,结点/nw, ,调用/v,函数/n,createbranch/en,并/c,增加/v,返回/v,结点/nw,到/v,分支/n,结点/nw,中/f,//w,//w,递归/nw,调用/v,createbranch/en,（/w,）/w, ,return/en, ,分支/n,结点/nw,了解/v,了/u,如何/r,划分/v,数据集/nw,后/f,，/w,我们/r,可以/v,总结/v,出/v,决策树/nz,的/u,一般/a,流程/n,：/w,（/w,1/m,）/w,收集/v,数据/n,（/w,2/m,）/w,准备/v,数据/n,：/w,构造/v,树/v,算法/n,只/d,适用/v,于/p,标称型/nw,数据/n,，/w,因此/c,数/m,值型/nw,数据/n,必须/d,离散/vn,化/v,（/w,3/m,）/w,分析/vn,数据/n,（/w,4/m,）/w,训练/vn,数据/n,：/w,上述/b,的/u,构造/v,树/v,过程/n,构造/v,决策树/nz,的/u,数据/n,结构/n,（/w,5/m,）/w,测试/vn,算法/n,：/w,使用/v,经验/n,树/v,计算/v,错误/n,率/v,（/w,6/m,）/w,使用/v,算法/n,：/w,在/p,实际/n,中/f,更/d,好/a,地/u,理解/v,数据/n,内在/b,含义/n,2/m, ,最/d,好/a,特征/n,选取/v,的/u,规则/n,：/w,信息/n,增益/v,划分/v,数据集/nw,的/u,大/a,原则/n,是/v,：/w,将/d,无序/b,的/u,数据/n,变/v,得/u,更加/d,有序/a,。/w,在/p,划分/v,数据集/nw,前后/f,信息/n,发生/v,的/u,变化/vn,称为/v,信息/n,增益/v,，/w,如果/c,我们/r,知道/v,如何/r,计算/v,信息/n,增益/v,，/w,就/d,可以/v,计算/v,每个/r,特征/n,值/n,划分/v,数据集/nw,获得/v,的/u,信息/n,增益/v,，/w,而/c,获取/v,信息/n,增益/v,最/d,高/a,的/u,特征/n,就/d,是/v,最/d,好/a,的/u,特征/n,。/w,接下来/l,，/w,我们/r,讲/v,学习/v,如何/r,计算/v,信息/n,增益/v,，/w,而/c,提到/v,信息/n,增益/v,我们/r,又/d,不得不/d,提到/v,一个/m,概念/n,"/w,香/a,农熵/nr,"/w,，/w,或者/c,简称/v,熵/g,。/w,熵/g,定义/n,为/p,信息/n,的/u,期望值/n,。/w,如果/c,待/v,分类/vn,的/u,事物/n,可能/v,会/v,出现/v,多/a,个/q,结果/n,x/en,，/w,则/d,第/m,i/en,个/q,结果/n,xi/en,发生/v,的/u,概率/n,为/p,p/en,(/w,xi/en,)/w,,/w,那么/r,我们/r,可以/v,由此/d,计算/v,出/v,xi/en,的/u,信息/n,熵/g,为/p,l/en,(/w,xi/en,)/w,=/w,p/en,(/w,xi/en,)/w,log/en,(/w,1/m,//w,p/en,(/w,xi/en,)/w,)/w,=/w,-/w,p/en,(/w,xi/en,)/w,log/en,(/w,p/en,(/w,xi/en,)/w,)/w,那么/r,，/w,对于/p,所有/b,可能/v,出现/v,的/u,结果/n,，/w,事物/n,所/u,包含/v,的/u,信息/n,希望值/nw,（/w,信息熵/nz,）/w,就/d,为/p,：/w,h/en,=/w,-/w,Σ,p/en,(/w,xi/en,)/w,log/en,(/w,p/en,(/w,xi/en,)/w,)/w,，/w,i/en,属于/v,所有/b,可能/v,的/u,结果/n,这样/r,，/w,假设/v,利用/v,数据/n,集中/v,某/r,一/m,特征/n,a/en,对/p,数据集/nw,d/en,（/w,d/en,的/u,分类/vn,类别/n,有/v,n/en,种/q,）/w,进行/v,分类/vn,，/w,而/c,特征/n,a/en,取值/v,有/v,k/en,种/q,，/w,那么/r,此时/r,，/w,利用/v,特征/n,a/en,对/p,数据集/nw,进行/v,分类/vn,的/u,信息/n,增益/v,为/p,：/w,信息/n,增益/v,h/en,(/w,d/en,,/w,a/en,)/w,=/w,原始/a,数据集/nw,的/u,信息熵/nz,h/en,(/w,d/en,)/w,-/w,特征/n,a/en,对/p,数据集/nw,进行/v,划分/v,后/f,信息熵/nz,h/en,(/w,d/en,//w,a/en,)/w,其中/r,h/en,(/w,d/en,//w,a/en,)/w,=/w,∑/w,|/w,aj/en,|/w,//w,|/w,d/en,|/w,*/w,h/en,(/w,aj/en,)/w,，/w,j/en,属于/v,a/en,的/u,k/en,种/q,取值/v,，/w,|/w,aj/en,|/w,和/c,|/w,d/en,|/w,分别/d,表示/v,，/w,特征/n,a/en,第/m,j/en,种/q,取值/v,的/u,样本/n,数/m,占/v,所有/b,取值/v,样本/n,总数/n,的/u,比例/n,，/w,以及/c,数据集/nw,的/u,样本/n,总数/n,三/m,，/w,构造/v,决策树/nz,在/p,知道/v,了/u,如何/r,选取/v,划分/v,数据/n,的/u,最优/ad,特征/n,后/f,，/w,我们/r,就/d,可以/v,依据/n,此/r,来/v,构建/v,决策树/nz,了/u,。/w,1/m, ,由于/c,要/v,多次/m,使用/v,香/a,农熵/nr,的/u,公式/n,，/w,所以/c,我们/r,写/v,出/v,计算/v,给/p,定/v,数据集/nw,的/u,熵/g,的/u,公式/n,：/w,#,计算/v,给/p,定/v,数据集/nw,的/u,熵/g, ,#,导入/v,log/en,运算符/n, ,from/en, ,math/en, ,import/en, ,log/en, ,def/en, ,calent/en,(/w,dataset/en,)/w,:/w, ,#,获取/v,数据集/nw,的/u,行数/n, ,numentries/en,=/w,len/en,(/w,dataset/en,)/w, ,#,设置/v,字典/n,的/u,数据/n,结构/n, ,labelcounts/en,=/w,{/w,}/w, ,#,提取/v,数据集/nw,的/u,每/r,一行/n,的/u,特征/n,向量/n, ,for/en, ,featvec/en, ,in/en, ,dataset/en,:/w, ,#,获取/v,特征/n,向量/n,的/u,最后/f,一列/mq,的/u,标签/n, ,currentlabel/en,=/w,featvec/en,[/w,-/w,1/m,]/w, ,#,检测/vn,字典/n,的/u,关键字/n,key/en,中/f,是否/v,存在/v,该/r,标签/n, ,#,如果/c,不/d,存在/v,keys/en,(/w,)/w,关键字/n, ,if/en, ,currentlabel/en, ,not/en, ,in/en, ,labelcounts/en,./w,keys/en,(/w,)/w,:/w, ,#,将/d,当前/t,标签/n,//w,0/m,键值/nr,对/p,存入/v,字典/n,中/f, ,labelcounts/en,[/w,currentlabel/en,]/w,=/w,0/m, ,#,否则/c,将/d,当前/t,标签/n,对应/v,的/u,键值/nr,加/v,1/m, ,labelcounts/en,[/w,currentlabel/en,]/w,+/w,=/w,1/m, ,#,初始化/v,熵/g,为/p,0/m, ,ent/en,=/w,0.0/m, ,#,对于/p,数据/n,集中/v,所有/b,的/u,分类/vn,类别/n, ,for/en, ,key/en, ,in/en, ,labelcounts/en,:/w, ,#,计算/v,各个/r,类别/n,出现/v,的/u,频率/n, ,prob/en,=/w,float/en,(/w,labelcounts/en,[/w,key/en,]/w,)/w,//w,numentries/en, ,#,计算/v,各个/r,类别/n,信息/n,期望值/n, ,ent/en,-/w,=/w,prob/en,*/w,log/en,(/w,prob/en,,/w,2/m,)/w, ,#,返回/v,熵/g, ,return/en, ,ent/en,2/m, ,我们/r,当然/d,需要/v,构建/v,决策树/nz,的/u,数据集/nw,：/w,#,创建/v,一个/m,简单/a,的/u,数据集/nw, ,#,数据/n,集中/v,包含/v,两个/m,特征/n,'/w,no/en, ,surfacing/en,'/w,,/w,'/w,flippers/en,'/w,;/w, ,#,数据/n,的/u,类/q,标签/n,有/v,两个/m,'/w,yes/en,'/w,,/w,'/w,no/en,'/w, ,def/en, ,creatdataset/en,(/w,)/w,:/w, ,dataset/en,=/w,[/w,[/w,1/m,,/w,1/m,,/w,'/w,yes/en,'/w,]/w,,/w, ,[/w,1/m,,/w,1/m,,/w,'/w,yes/en,'/w,]/w,,/w, ,[/w,1/m,,/w,0/m,,/w,'/w,no/en,'/w,]/w,,/w, ,[/w,0/m,,/w,1/m,,/w,'/w,no/en,'/w,]/w,,/w, ,[/w,0/m,,/w,1/m,,/w,'/w,no/en,'/w,]/w,]/w, ,labels/en,=/w,[/w,'/w,no/en, ,surfacing/en,'/w,,/w,'/w,flippers/en,'/w,]/w, ,#,返回/v,数据集/nw,和/c,类/q,标签/n, ,return/en, ,dataset/en,,/w,labels/en,需要/v,说明/v,的/u,是/v,，/w,熵/g,越/d,高/a,，/w,那么/r,混合/vn,的/u,数据/n,就/d,越/d,多/a,，/w,如果/c,我们/r,在/p,数据/n,集中/v,添加/vn,更/d,多/a,的/u,分类/vn,，/w,会/v,导致/v,熵/g,结果/n,增大/v,3/m, ,接下来/l,我们/r,就要/d,通过/p,上面/f,讲/v,到/v,的/u,信息/n,增益/v,公式/n,得到/v,划分/v,数据集/nw,的/u,最/d,有/v,特征/n,，/w,从而/c,划分/v,数据集/nw,首先/d,划分/v,数据集/nw,的/u,代码/n,：/w,#,划分/v,数据集/nw,：/w,按照/p,最优/ad,特征/n,划分/v,数据集/nw, ,#,@/w,dataset/en,:/w,待/v,划分/v,的/u,数据集/nw, ,#,@/w,axis/en,:/w,划分/v,数据集/nw,的/u,特征/n, ,#,@/w,value/en,:/w,特征/n,的/u,取值/v, ,def/en, ,splitdataset/en,(/w,dataset/en,,/w,axis/en,,/w,value/en,)/w,:/w, ,#,需要/v,说明/v,的/u,是/v,,/w,python/en,语言/n,传递/v,参数/n,列表/v,时/ng,，/w,传递/v,的/u,是/v,列表/v,的/u,引用/v, ,#,如果/c,在/p,函数/n,内部/f,对/p,列表/v,对象/n,进行/v,修改/v,，/w,将/d,会/v,导致/v,列表/v,发生/v,变化/vn,，/w,为了/p, ,#,不/d,修改/v,原始/a,数据集/nw,，/w,创建/v,一个/m,新/a,的/u,列表/v,对象/n,进行/v,操作/v, ,retdataset/en,=/w,[/w,]/w, ,#,提取/v,数据集/nw,的/u,每/r,一行/n,的/u,特征/n,向量/n, ,for/en, ,featvec/en, ,in/en, ,dataset/en,:/w, ,#,针对/p,axis/en,特征/n,不同/a,的/u,取值/v,，/w,将/d,数据集/nw,划分/v,为/p,不同/a,的/u,分支/n, ,#,如果/c,该/r,特征/n,的/u,取值/v,为/p,value/en, ,if/en, ,featvec/en,[/w,axis/en,]/w,=/w,=/w,value/en,:/w, ,#,将/d,特征/n,向量/n,的/u,0/m,~/w,axis/en,-/w,1列/mq,存入/v,列表/v,reducedfeatvec/en, ,reducedfeatvec/en,=/w,featvec/en,[/w,:/w,axis/en,]/w, ,#,将/d,特征/n,向量/n,的/u,axis/en,+/w,1/m,~/w,最后/f,一列/mq,存入/v,列表/v,reducedfeatvec/en, ,#,extend/en,(/w,)/w,是/v,将/d,另外/c,一个/m,列表/v,中/f,的/u,元素/n,（/w,以/p,列表/v,中/f,元素/n,为/p,对象/n,）/w,一一/d,添加/vn,到/v,当前/t,列表/v,中/f,，/w,构成/v,一个/m,列表/v, ,#,比如/v,a/en,=/w,[/w,1/m,,/w,2/m,,/w,3/m,]/w,,/w,b/en,=/w,[/w,4/m,,/w,5/m,,/w,6/m,]/w,,/w,则/d,a/en,./w,extend/en,(/w,b/en,)/w,=/w,[/w,1/m,,/w,2/m,,/w,3/m,,/w,4/m,,/w,5/m,,/w,6/m,]/w, ,reducedfeatvec/en,./w,extend/en,(/w,featvec/en,[/w,axis/en,+/w,1/m,:/w,]/w,)/w, ,#,简言之/l,，/w,就是/d,将/d,原始/a,数据集/nw,去掉/v,当前/t,划分/v,数据/n,的/u,特征/n,列/v, ,#,append/en,(/w,)/w,是/v,将/d,另外/c,一个/m,列表/v,（/w,以/p,列表/v,为/p,对象/n,）/w,添加/vn,到/v,当前/t,列表/v,中/f, ,#,#,比如/v,a/en,=/w,[/w,1/m,,/w,2/m,,/w,3/m,]/w,,/w,b/en,=/w,[/w,4/m,,/w,5/m,,/w,6/m,]/w,,/w,则/d,a/en,./w,extend/en,(/w,b/en,)/w,=/w,[/w,1/m,,/w,2/m,,/w,3/m,,/w,[/w,4/m,,/w,5/m,,/w,6/m,]/w,]/w, ,retdataset/en,./w,append/en,(/w,reducedfeatvec/en,)/w, ,return/en, ,retdataset/en,需要/v,说明/v,的/u,是/v,：/w,（/w,1/m,）/w,在/p,划分/v,数据集/nw,函数/n,中/f,，/w,传递/v,的/u,参数/n,dataset/en,列表/v,的/u,引用/v,，/w,在/p,函数/n,内部/f,对/p,该/r,列表/v,对象/n,进行/v,修改/v,，/w,会/v,导致/v,列表/v,内容/n,发生/v,改变/v,，/w,于是/c,，/w,为了/p,消除/v,该/r,影响/vn,，/w,我们/r,应该/v,在/p,函数/n,中/f,创建/v,一个/m,新/a,的/u,列表/v,对象/n,，/w,将/d,对/p,列表/v,对象/n,操作/v,后/f,的/u,数据集/nw,存入/v,新/a,的/u,列表/v,对象/n,中/f,（/w,2/m,）/w,需要/v,区分/v,一下/m,append/en,(/w,)/w,函数/n,和/c,extend/en,(/w,)/w,函数/n,这/r,两种/mq,方法/n,的/u,功能/n,类似/v,，/w,都/d,是/v,在/p,列表/v,末尾/n,添加/vn,新/a,元素/n,，/w,但是/c,在/p,处理/v,多/a,个/q,列表/v,时/ng,，/w,处理/v,结果/n,有所不同/l,：/w,比如/v,：/w,a/en,=/w,[/w,1/m,,/w,2/m,,/w,3/m,]/w,,/w,b/en,=/w,[/w,4/m,,/w,5/m,,/w,6/m,]/w,那么/r,a/en,./w,append/en,(/w,b/en,)/w,的/u,结果/n,为/p,：/w,[/w,1/m,,/w,2/m,,/w,3/m,,/w,[/w,4/m,,/w,5/m,,/w,6/m,]/w,]/w,,/w,即使/c,用/p,append/en,(/w,)/w,函数/n,会/v,在/p,列表/v,末尾/n,添加/vn,人/n,新/a,的/u,列表/v,对象/n,b/en,而/c,a/en,./w,extend/en,(/w,b/en,)/w,的/u,结果/n,为/p,：/w,[/w,1/m,,/w,2/m,,/w,3/m,,/w,4/m,,/w,5/m,,/w,6/m,]/w,，/w,即使/c,用/p,extend/en,(/w,)/w,函数/n,接/v,下来/v,，/w,我们/r,再/d,看/v,选取/v,最优/ad,特征/n,的/u,代码/n,：/w,#,如何/r,选择/v,最/d,好/a,的/u,划分/v,数据集/nw,的/u,特征/n, ,#,使用/v,某/r,一/m,特征/n,划分/v,数据集/nw,，/w,信息/n,增益/v,最/d,大/a,，/w,则/d,选择/v,该/r,特征/n,作为/v,最优/ad,特征/n, ,def/en, ,choosebestfeaturetosplit/en,(/w,dataset/en,)/w,:/w, ,#,获取/v,数据集/nw,特征/n,的/u,数目/n,(/w,不/d,包含/v,最后/f,一列/mq,的/u,类/q,标签/n,)/w, ,numfeatures/en,=/w,len/en,(/w,dataset/en,[/w,0/m,]/w,)/w,-/w,1/m, ,#,计算/v,未/d,进行/v,划分/v,的/u,信息熵/nz, ,baseentropy/en,=/w,calent/en,(/w,dataset/en,)/w, ,#,最/d,优/ag,信息/n,增益/v, ,最优/ad,特征/n, ,bestinfogain/en,=/w,0.0/m,;/w,bestfeature/en,=/w,-/w,1/m, ,#,利用/v,每/r,一个/m,特征/n,分别/d,对/p,数据集/nw,进行/v,划分/v,，/w,计算/v,信息/n,增益/v, ,for/en, ,i/en, ,in/en, ,range/en,(/w,numfeatures/en,)/w,:/w, ,#,得到/v,特征/n,i/en,的/u,特征值/n,列表/v, ,featlist/en,=/w,[/w,example/en,[/w,i/en,]/w, ,for/en, ,example/en, ,in/en, ,dataset/en,]/w, ,#,利用/v,set/en,集合/v,的/u,性质/n,--/nrf,元素/n,的/u,唯一性/n,，/w,得到/v,特征/n,i/en,的/u,取值/v, ,uniquevals/en,=/w,set/en,(/w,featlist/en,)/w, ,#,信息/n,增益/v,0.0/m, ,newentropy/en,=/w,0.0/m, ,#,对/p,特征/n,的/u,每/r,一个/m,取值/v,，/w,分别/d,构建/v,相应/v,的/u,分支/n, ,for/en, ,value/en, ,in/en, ,uniquevals/en,:/w, ,#,根据/p,特征/n,i/en,的/u,取值/v,将/d,数据集/nw,进行/v,划分/v,为/p,不同/a,的/u,子集/n, ,#,利用/v,splitdataset/en,(/w,)/w,获取/v,特征/n,取值/v,value/en,分支/n,包含/v,的/u,数据集/nw, ,subdataset/en,=/w,splitdataset/en,(/w,dataset/en,,/w,i/en,,/w,value/en,)/w, ,#,计算/v,特征/n,取值/v,value/en,对/p,应子/nw,集/vg,占/v,数据集/nw,的/u,比例/n, ,prob/en,=/w,len/en,(/w,subdataset/en,)/w,//w,float/en,(/w,len/en,(/w,dataset/en,)/w,)/w, ,#,计算/v,占/v,比/p,*/w,当前/t,子集/n,的/u,信息熵/nz,,/w,并/c,进行/v,累加/v,得到/v,总/b,的/u,信息熵/nz, ,newentropy/en,+/w,=/w,prob/en,*/w,calent/en,(/w,subdataset/en,)/w, ,#,计算/v,按/p,此/r,特征/n,划分/v,数据集/nw,的/u,信息/n,增益/v, ,#,公式/n,特征/n,a/en,,/w,数据集/nw,d/en, ,#,则/d,h/en,(/w,d/en,,/w,a/en,)/w,=/w,h/en,(/w,d/en,)/w,-/w,h/en,(/w,d/en,//w,a/en,)/w, ,infogain/en,=/w,baseentropy/en,-/w,newentropy/en, ,#,比较/d,此/r,增益/v,与/p,当前/t,保存/v,的/u,最/d,大/a,的/u,信息/n,增益/v, ,if/en, ,(/w,infogain/en,>,bestinfogain/en,)/w,:/w, ,#,保存/v,信息/n,增益/v,的/u,最大值/nz, ,bestinfogain/en,=/w,infogain/en, ,#,相应/v,地/u,保存/v,得到/v,此/r,最/d,大/a,增益/v,的/u,特征/n,i/en, ,bestfeature/en,=/w,i/en, ,#,返回/v,最优/ad,特征/n, ,return/en, ,bestfeature/en,在/p,函数/n,调用/v,中/f,，/w,数据/n,必须/d,满足/v,一定/d,的/u,要求/v,，/w,首先/d,，/w,数据/n,必须/d,是/v,由/p,列表/v,元素/n,组成/v,的/u,列表/v,，/w,而且/c,所有/b,的/u,列表/v,元素/n,具有/v,相同/a,的/u,数据/n,长度/n,；/w,其次/c,，/w,数据/n,的/u,最后/f,一列/mq,或者/c,每个/r,实例/n,的/u,最后/f,一个/m,元素/n,是/v,当前/t,实例/n,的/u,类别/n,标签/n,。/w,这样/r,，/w,我们/r,才/d,能/v,通过/p,程序/n,统一/vn,完成/v,数据集/nw,的/u,划分/v,4/m,，/w,在/p,通过/p,以上/f,的/u,各个/r,模块/n,学习/v,之后/f,，/w,我们/r,接/v,下来/v,就要/d,真正/d,构建/v,决策树/nz,，/w,构建/v,决策树/nz,的/u,工作/vn,原理/n,为/p,：/w,首先/d,得到/v,原始/a,数据集/nw,，/w,然后/c,基于/p,最/d,好/a,的/u,属性/n,划分/v,数据集/nw,，/w,由于/c,特征/n,值/n,可能/v,多于/v,两个/m,，/w,因此/c,可能/v,存在/v,大于/v,两个/m,分支/n,的/u,数据集/nw,划分/v,。/w,第一/m,次/q,划分/v,之后/f,，/w,数据/n,将/d,向/p,下/f,传递/v,到/v,树/v,分支/n,的/u,下/f,一个/m,结点/nw,，/w,在/p,该/r,结点/nw,上/f,，/w,我们/r,可以/v,再次/d,划分/v,数据/n,。/w,因此/c,，/w,我们/r,可以/v,采用/v,递归/nw,的/u,方法/n,处理/v,数据集/nw,，/w,完成/v,决策树/nz,构造/v,。/w,递归/nw,的/u,条件/n,是/v,：/w,程序/n,遍历/nw,完/v,所有/b,划分/v,数据集/nw,的/u,属性/n,，/w,或者/c,每个/r,分之下/nw,的/u,所有/b,实例/n,都/d,具有/v,相同/a,的/u,分类/vn,。/w,如果/c,所有/b,的/u,实例/n,具有/v,相同/a,的/u,分类/vn,，/w,则/d,得到/v,一个/m,叶子结点/nt,或者/c,终止/v,块/q,。/w,当然/d,，/w,我们/r,可能/v,会/v,遇到/v,，/w,当/p,遍历/nw,完/v,所有/b,的/u,特征/n,属性/n,，/w,但是/c,某个/r,或/c,多/a,个/q,分支/n,下/f,实例/n,类/q,标签/n,仍然/d,不/d,唯一/b,，/w,此时/r,，/w,我们/r,需要/v,确定/v,出/v,如何/r,定义/n,该/r,叶子结点/nt,，/w,在/p,这种/r,情况/n,下/f,，/w,通过/p,会/v,采取/v,多数/m,表决/vn,的/u,原则/n,选取/v,分支/n,下/f,实例/n,中/f,类/q,标签/n,种类/n,最/d,多/a,的/u,分类/vn,作为/v,该/r,叶子结点/nt,的/u,分类/vn,这样/r,，/w,我们/r,就/d,需要/v,先/d,定义/n,一个/m,多数/m,表决/vn,函数/n,majoritycnt/en,(/w,)/w,#,当/p,遍历/nw,完/v,所有/b,的/u,特征/n,属性/n,后/f,，/w,类/q,标签/n,仍然/d,不/d,唯一/b,(/w,分支/n,下/f,仍/d,有/v,不同/a,分类/vn,的/u,实例/n,)/w, ,#,采用/v,多数/m,表决/vn,的/u,方法/n,完成/v,分类/vn, ,def/en, ,majoritycnt/en,(/w,classlist/en,)/w,:/w, ,#,创建/v,一个/m,类/q,标签/n,的/u,字典/n, ,classcount/en,=/w,{/w,}/w, ,#,遍历/nw,类/q,标签/n,列表/v,中/f,每/r,一个/m,元素/n, ,for/en, ,vote/en, ,in/en, ,classlist/en,:/w, ,#,如果/c,元素/n,不/d,在/p,字典/n,中/f, ,if/en, ,vote/en, ,not/en, ,in/en, ,classcount/en,./w,keys/en,(/w,)/w,:/w, ,#,在/p,字典/n,中/f,添加/vn,新/a,的/u,键值/nr,对/p, ,classcount/en,[/w,vote/en,]/w,=/w,0/m, ,#,否则/c,，/w,当前/t,键/nr,对于/p,的/u,值加/nw,1/m, ,classcount/en,[/w,vote/en,]/w,+/w,=/w,1/m, ,#,对/p,字典/n,中/f,的/u,键/nr,对应/v,的/u,值/n,所/u,在/p,的/u,列/v,，/w,按照/p,又/d,大/a,到/v,小/a,进行/v,排序/vn, ,#,@/w,classcount/en,./w,items/en, ,列表/v,对象/n, ,#,@/w,key/en,=/w,operator/en,./w,itemgetter/en,(/w,1/m,)/w, ,获取/v,列表/v,对象/n,的/u,第一/m,个域/nw,的/u,值/n, ,#,@/w,reverse/en,=/w,true/en, ,降序/nw,排序/vn,，/w,默认/v,是/v,升序/n,排序/vn, ,sortedclasscount/en,=/w,sorted/en,(/w,classcount/en,./w,items/en,,/w,\/w, ,key/en,=/w,operator/en,./w,itemgetter/en,(/w,1/m,)/w,,/w,reverse/en,=/w,true/en,)/w, ,#,返回/v,出现/v,次数/n,最/d,多/a,的/u,类/q,标签/n, ,return/en, ,sortedclasscount/en,[/w,0/m,]/w,[/w,0/m,]/w,好/a,了/u,，/w,考虑/v,了/u,这种/r,情况/n,后/f,，/w,我们/r,就/d,可以/v,通过/p,递归/nw,的/u,方式/n,写/v,出/v,决策树/nz,的/u,构建/v,代码/n,了/u,#,创建/v,树/v, ,def/en, ,createtree/en,(/w,dataset/en,,/w,labels/en,)/w,:/w, ,#,获取/v,数据/n,集中/v,的/u,最后/f,一列/mq,的/u,类/q,标签/n,，/w,存入/v,classlist/en,列表/v, ,classlist/en,=/w,[/w,example/en,[/w,-/w,1/m,]/w, ,for/en, ,example/en, ,in/en, ,dataset/en,]/w, ,#,通过/p,count/en,(/w,)/w,函数/n,获取/v,类/q,标签/n,列表/v,中/f,第一/m,个/q,类/q,标签/n,的/u,数目/n, ,#,判断/v,数目/n,是否/v,等于/v,列表/v,长度/n,，/w,相同/a,表面/n,所有/b,类/q,标签/n,相同/a,，/w,属于/v,同一/b,类/q, ,if/en, ,classlist/en,./w,count/en,(/w,classlist/en,[/w,0/m,]/w,)/w,=/w,=/w,len/en,(/w,classlist/en,)/w,:/w, ,return/en, ,classlist/en,[/w,0/m,]/w, ,#,遍历/nw,完/v,所有/b,的/u,特征/n,属性/n,，/w,此时/r,数据集/nw,的/u,列为/v,1/m,，/w,即/v,只/d,有/v,类/q,标签/n,列/v, ,if/en, ,len/en,(/w,dataset/en,[/w,0/m,]/w,)/w,=/w,=/w,1/m,:/w, ,#,多数/m,表决/vn,原则/n,，/w,确定/v,类/q,标签/n, ,return/en, ,majoritycnt/en,(/w,classlist/en,)/w, ,#,确定/v,出/v,当前/t,最/d,优/ag,的/u,分类/vn,特征/n, ,bestfeat/en,=/w,choosebestfeaturetosplit/en,(/w,dataset/en,)/w, ,#,在/p,特征/n,标签/n,列表/v,中/f,获取/v,该/r,特征/n,对应/v,的/u,值/n, ,bestfeatlabel/en,=/w,labels/en,[/w,bestfeat/en,]/w, ,#,采用/v,字典/n,嵌/v,套/q,字典/n,的/u,方式/n,，/w,存储/vn,分类/vn,树/v,信息/n, ,mytree/en,=/w,{/w,bestfeatlabel/en,:/w,{/w,}/w,}/w, ,#,#,此/r,位置/n,书/n,上/f,写/v,的/u,有误/vn,，/w,书/n,上/f,为/p,del/en,(/w,labels/en,[/w,bestfeat/en,]/w,)/w, ,#,#,相当/d,于/p,操作/v,原始/a,列表/v,内容/n,，/w,导致/v,原始/a,列表/v,内容/n,发生/v,改变/v, ,#,#,按/p,此/r,运行/vn,程序/n,，/w,报/n,错/n,'/w,no/en, ,surfacing/en,'/w,is/en, ,not/en, ,in/en, ,list/en, ,#,#,以下/f,代码/n,已/d,改正/v, ,#,复制/v,当前/t,特征/n,标签/n,列表/v,，/w,防止/v,改变/v,原始/a,列表/v,的/u,内容/n, ,sublabels/en,=/w,labels/en,[/w,:/w,]/w, ,#,删除/v,属性/n,列表/v,中/f,当前/t,分类/vn,数据集/nw,特征/n, ,del/en,(/w,sublabels/en,[/w,bestfeat/en,]/w,)/w, ,#,获取/v,数据/n,集中/v,最优/ad,特征/n,所/u,在/p,列/v, ,featvalues/en,=/w,[/w,example/en,[/w,bestfeat/en,]/w, ,for/en, ,example/en, ,in/en, ,dataset/en,]/w, ,#,采用/v,set/en,集合/v,性质/n,，/w,获取/v,特征/n,的/u,所有/b,的/u,唯一/b,取/v,值/n, ,uniquevals/en,=/w,set/en,(/w,featvalues/en,)/w, ,#,遍历/nw,每/r,一个/m,特征/n,取值/v, ,for/en, ,value/en, ,in/en, ,uniquevals/en,:/w, ,#,采用/v,递归/nw,的/u,方法/n,利用/v,该/r,特征/n,对/p,数据集/nw,进行/v,分类/vn, ,#,@/w,bestfeatlabel/en, ,分类/vn,特征/n,的/u,特征/n,标签/n,值/n, ,#,@/w,dataset/en, ,要/v,分类/vn,的/u,数据集/nw, ,#,@/w,bestfeat/en, ,分类/vn,特征/n,的/u,标称/v,值/n, ,#,@/w,value/en, ,标称型/nw,特征/n,的/u,取值/v, ,#,@/w,sublabels/en, ,去/v,除/p,分类/vn,特征/n,后/f,的/u,子/ng,特征/n,标签/n,列表/v, ,mytree/en,[/w,bestfeatlabel/en,]/w,[/w,value/en,]/w,=/w,createtree/en,(/w,splitdataset/en,\/w, ,(/w,dataset/en,,/