本节/t,使用/v,的/u,算法/n,称为/v,id/en,3/m,，/w,另/r,一个/m,决策/n,树/v,构造/v,算法/n,cart/en,以后/f,讲解/v,。/w,一/m,、/w,概述/v,我们/r,经常/d,使用/v,决策/n,树/v,处理/v,分类/vn,问题/n,，/w,它/r,的/u,过程/n,类似/v,二十个/m,问题/n,的/u,游戏/n,：/w,参与/v,游戏/n,的/u,一方/mq,在/p,脑海/n,里/f,想/v,某个/r,事物/n,，/w,其他/r,参与者/n,向/p,他/r,提出/v,问题/n,，/w,只/d,允许/v,提/v,20个/m,问/v, ,题/n,，/w,问题/n,的/u,答案/n,也/d,只能/v,用/p,对/p,或/c,错/n,回答/v,。/w,问/v,问题/n,的/u,人/n,通过/p,推断/vn,分解/v,，/w,逐步/d,缩小/v,带/v,猜测/vn,事物/n,的/u,范围/n,。/w,如/v,所/u,示/vg,的/u,流程/n,图/n,就/d,是/v,一个/m,决策/n,树/v,，/w,长方形/n,代表/n,判断/v,模块/n,（/w,decision/en, ,block/en,）/w,，/w,椭圆形/n,代表/n,终止/v,模块/n,（/w,terminating/en, ,block/en,）/w,，/w,表示/v,已经/d,得出/v,结论/n,，/w,可以/v,终止/v,运行/vn,。/w,从/p,判断/v,模块/n,引出/v,的/u,左右/m,箭头/n,称作/v,分支/n,（/w,branch/en,）/w,，/w,它/r,可以/v,到达/v,另/r,一个/m,判断/v,模块/n,或/c,终止/v,模块/n,。/w,图/n, ,1/m,构造/v,了/u,一个/m,假象/n,的/u,邮件/n,分类/vn,系统/n,，/w,它/r,首先/d,检测/vn,发送/v,邮件/n,域名/n,地址/n,。/w,如果/c,地址/n,为/p,myemployer/en,./w,com/en,，/w,则/d,将/d,其/r,放在/v,分类/vn,"/w,无聊/a,时/ng,需要/v,阅读/v,的/u,邮件/n,"/w,中/f,。/w,如/v, ,果/ng,邮件/n,不/d,是/v,来自/v,这个/r,域名/n,，/w,则/d,检查/vn,内容/n,是否/v,包括/v,单词/n,曲棍球/n,，/w,如果/c,包含/v,则/d,将/d,邮件/n,归类/vn,到/v,"/w,需要/v,及时/ad,处理/v,的/u,朋友/n,邮件/n,"/w,，/w,否则/c,将/d,邮件/n,归类/vn,到/v,"/w,无须/d,阅读/v,的/u,垃圾/n,邮件/n,"/w,。/w,二/m,、/w,优/ag,缺点/n,优点/n,：/w,计算/v,复杂/a,度/q,不/d,高/a,，/w,输出/v,结果/n,易于/v,理解/v,，/w,对/p,中间值/nw,的/u,缺失/n,不/d,敏感/a,，/w,可以/v,处理/v,不/d,相关/v,特征/n,数据/n,。/w,缺点/n,：/w,可能/v,会/v,产生/v,过度/d,匹配/vn,问题/n,。/w,适用/v,数据/n,类型/n,：/w,离散型/nw,和/c,连续型/nw,三/m,、/w,数学/n,公式/n,如果/c,待/v,分类/vn,的/u,数据集/nw,可能/v,划分/v,在/p,多/a,个/q,分类/vn,之中/f,，/w,则/d,符号/n,xi/en,定义/n,为/p,：/w,x/en,其中/r,p/en,(/w,xi/en,)/w,是/v,选择/v,该/r,分类/vn,的/u,概率/n,。/w,其中/r,：/w,n/en, ,=/w, ,数据集/nw,分类/vn,数/m,。/w,例如/v,：/w,数据集/nw,的/u,分类/vn,为/p, ,lables/en,=/w,[/w,a/en,,/w,b/en,,/w,c/en,,/w,b/en,,/w,a/en,,/w,b/en,]/w, ,则/d,p/en,(/w,a/en,)/w,=/w,2/m,//w,6/m,=/w,0.3333/m,,/w,p/en,(/w,b/en,)/w,=/w,3/m,//w,6/m,=/w,0.5/m,,/w,p/en,(/w,c/en,)/w,=/w,1/m,//w,6/m,=/w,0.277/m,,/w,数据集/nw,的/u,熵/g, ,h/en,=/w,-/w,p/en,(/w,a/en,)/w,*/w,log/en,2/m,p/en,(/w,a/en,)/w,+/w,(/w,-/w,p/en,(/w,b/en,)/w,*/w,log/en,2/m,p/en,(/w,b/en,)/w,)/w,+/w,(/w,-/w,p/en,(/w,c/en,)/w,*/w,log/en,2/m,p/en,(/w,c/en,)/w,)/w,四/m,、/w,树/v,的/u,构造/v,在/p,构造/v,决策/n,树/v,时/ng,，/w,我们/r,需要/v,解决/v,的/u,第一/m,个/q,问题/n,就/d,是/v,，/w,当前/t,数据集/nw,上/f,哪个/r,特征/n,在/p,划分/v,数据/n,分类/vn,时/ng,起/v,决定性/n,作用/n,。/w,为了/p,找到/v,决定性/n,的/u,特征/n,，/w,划分/v,出/v,最/d,好/a,的/u,结果/n,，/w,我们/r,必须/d,评估/vn,每个/r,特征/n,。/w,我们/r,假设/v,已经/d,根据/p,一定/d,的/u,方法/n,选取/v,了/u,待/v,划分/v,的/u,特征/n,，/w,则/d,原始/a,数据集/nw,将/d,根据/p,这个/r,特征/n,被/p,划分/v,为/p,几/m,个/q,数据子集/nw,。/w,这/r,数据子/nw,集会/v,分布/v,在/p,决策点/nw,（/w,关键/n, ,特征/n,）/w,的/u,所有/b,分支/n,上/f,。/w,如果/c,某个/r,分支/n,下/f,的/u,数据/n,属于/v,同一/b,类型/n,，/w,则/d,无/v,需/v,进一步/d,对/p,数据集/nw,进行/v,分割/v,。/w,如果/c,数据子集/nw,内/f,的/u,数据/n,不/d,属于/v,同一/b,类型/n,，/w,则/d,需要/v,递归/nw,地/u,重复/v,划分/v,数据/n, ,子集/n,的/u,过程/n,，/w,直到/v,每个/r,数据子集/nw,内/f,的/u,数据/n,类型/n,相同/a,。/w,如何/r,划分/v,子集/n,的/u,算法/n,和/c,划分/v,原始/a,数据集/nw,的/u,方法/n,相同/a,。/w,创建/v,分支/n,的/u,过程/n,用/p,伪代码/nw,表示/v,如下/v,：/w,检测/vn,数据/n,集中/v,的/u,每个/r,子项/nr,是否/v,属于/v,同一/b,类型/n,：/w,if/en, ,yes/en, ,return/en, ,类/q,标签/n,else/en,寻找/v,划分/v,数据集/nw,的/u,最/d,好/a,特征/n,划分/v,数据集/nw,创建/v,分支/n,节点/n,for/en, ,每个/r,划分/v,的/u,子集/n,：/w,递归/nw,调用/v,本算法/nw,并/c,添加/vn,返回/v,结果/n,到/v,分支/n,节点/n,中/f,(/w,这/r,是/v,个/q,递归/nw,)/w,return/en, ,分支/n,节点/n,决策/n,树/v,的/u,一般/a,流程/n,：/w,收集/v,数据/n,：/w,可以/v,使用/v,任何/r,方法/n,。/w,准备/v,数据/n,：/w,树/v,构造/v,算法/n,只/d,适用/v,于/p,标称/v,数据/n,，/w,因此/c,数/m,值型/nw,数据/n,必须/d,离/v,散化/nw,。/w,分析/vn,数据/n,：/w,可以/v,使用/v,任何/r,方法/n,，/w,构造/v,树/v,完成/v,之后/f,，/w,我们/r,应该/v,检查/vn,图形/n,是否/v,符合/v,预期/vn,。/w,训练/vn,算法/n,：/w,构造/v,树/v,的/u,数据/n,结构/n,。/w,测试/vn,算法/n,：/w,使用/v,经验/n,树/v,计算/v,错误率/n,。/w,使用/v,算法/n,：/w,此/r,步骤/n,可以/v,适用/v,于/p,任何/r,监督/vn,学习/v,算法/n,，/w,而/c,使用/v,决策/n,树/v,可以/v,更/d,好/a,地/u,理解/v,数据/n,的/u,内在/b,含义/n,。/w,一些/m,决策/n,树/v,算法/n,使用/v,二分法/n,划分/v,数据/n,，/w,本书/r,将/d,使用/v,id/en,3/m,算法/n,划分/v,数据集/nw,，/w,该/r,算法/n,处理/v,如何/r,划分/v,数据集/nw,，/w,何时/r,停止/v,划分/v,数据集/nw,。/w,每次/r,划分/v,数据集/nw,我们/r,只/d,选取/v,一个/m,特征/n,属性/n,，/w,那么/r,应该/v,选择/v,哪个/r,特征/n,作为/v,划分/v,的/u,参考/v,属性/n,呢/y,？/w,表/n,1/m,的/u,数据/n,包含/v,5个/m,海洋/n,动物/n,，/w,特征/n,包括/v,：/w,不/d,浮/v,出/v,水面/n,是否/v,可以/v,生存/v,，/w,以及/c,是否/v,有/v,脚噗/nw,。/w,我们/r,可以/v,将/d,这些/r,动物/n,分成/v,两类/mq,：/w,鱼类/n,和/c,非/h,鱼类/n,。/w,表/n,1/m, ,海洋生物/l,数据/n,不/d,浮/v,出/v,水面/n,是否/v,可以/v,生存/v,是否/v,有/v,脚蹼/n,属于/v,鱼类/n,1/m,是/v,是/v,是/v,2/m,是/v,是/v,是/v,3/m,是否/v,否/vg,4/m,否/vg,是否/v,5/m,否/vg,是否/v,五/m,、/w,信息/n,增益/v,划分/v,数据集/nw,的/u,大/a,原则/n,是/v,：/w,将/d,无序/b,的/u,数据/n,变/v,得/u,更加/d,有序/a,。/w,我们/r,可以/v,使用/v,多种/m,方法/n,划分/v,数据集/nw,，/w,但是/c,每/r,种/q,方法/n,都/d,有/v,各自/r,的/u,优缺点/n,。/w,组织/v,杂乱无章/i,数据/n,的/u,一种/mq,方法/n,就/d,是/v,使用/v,信息论度量/nw,信息/n,，/w,信息论/n,是/v,量化/v,处理/v,信息/n,的/u,分支/n,科学/n,。/w,我们/r,可以/v,在/p,划分/v,数据/n,之前/f,或/c,之后/f,使用/v,信息论/n,量化/v,度量/v,信息/n,的/u,内容/n,。/w,在/p,划分/v,数据集/nw,之前/f,之后/f,信息/n,发生/v,的/u,变化/vn,成为/v,信息/n,增益/v,，/w,我们/r,可以/v,计算/v,每个/r,特征/n,划分/v,数据集/nw,获得/v,的/u,信息/n,增益/v,，/w,获得/v,信息/n,增益/v,最/d,高/a,的/u,特征/n,就/d,是/v,最/d,好/a,的/u,选择/v,。/w,集合/v,信息/n,的/u,度量/v,方式/n,成为/v,香/a,农熵/nr,或者/c,简称/v,为/p,熵/g,。/w,为了/p,计算/v,熵/g,，/w,我们/r,需要/v,计算/v,所有/b,类型/n,所有/b,可能/v,值/n,包含/v,的/u,信息/n,的/u,期望值/n,，/w,通过/p,下面/f,的/u,公式/n,得到/v,：/w,其中/r,n/en,是/v,分类/vn,的/u,数目/n,。/w,下面/f,给/p,出/v,计算/v,信息/n,熵/g,的/u,python/en,函数/n,，/w,创建/v,名/q,为/p,trees/en,./w,py/en,文件/n,，/w,添加/vn,如下/v,代码/n,：/w,1/m, ,def/en, ,createdataset/en,(/w,)/w,:/w, ,2/m, ,dataset/en, ,=/w, ,[/w,[/w,1/m,,/w, ,1/m,,/w, ,'/w,yes/en,'/w,]/w,,/w, ,3/m, ,[/w,1/m,,/w, ,1/m,,/w, ,'/w,yes/en,'/w,]/w,,/w, ,4/m, ,[/w,1/m,,/w, ,0/m,,/w, ,'/w,no/en,'/w,]/w,,/w, ,5/m, ,[/w,0/m,,/w, ,1/m,,/w, ,'/w,no/en,'/w,]/w,,/w, ,6/m, ,[/w,0/m,,/w, ,1/m,,/w, ,'/w,no/en,'/w,]/w,]/w, ,7/m, ,labels/en, ,=/w, ,[/w,'/w,no/en, ,surfacing/en,'/w,,/w,'/w,flippers/en,'/w,]/w, ,8/m, ,#,change/en, ,to/en, ,discrete/en, ,values/en, ,9/m, ,return/en, ,dataset/en,,/w, ,labels/en, ,10/m, ,def/en, ,calcshannonent/en,(/w,dataset/en,)/w,:/w, ,11/m, ,numentries/en, ,=/w, ,len/en,(/w,dataset/en,)/w, ,#,获取/v,数据/n,行数/n, ,numentries/en, ,=/w, ,5/m, ,12/m, ,labelcounts/en, ,=/w, ,{/w,}/w, ,13/m, ,for/en, ,featvec/en, ,in/en, ,dataset/en,:/w, ,#,the/en, ,the/en, ,number/en, ,of/en, ,unique/en, ,elements/en, ,and/en, ,their/en, ,occurance/en, ,14/m, ,currentlabel/en, ,=/w, ,featvec/en,[/w,-/w,1/m,]/w, ,15/m, ,if/en, ,currentlabel/en, ,not/en, ,in/en, ,labelcounts/en,./w,keys/en,(/w,)/w,:/w, ,labelcounts/en,[/w,currentlabel/en,]/w, ,=/w, ,0/m, ,16/m, ,labelcounts/en,[/w,currentlabel/en,]/w, ,+/w,=/w, ,1/m, ,17/m, ,shannonent/en, ,=/w, ,0.0/m, ,18/m, ,print/en,(/w,"/w,labelcounts/en,=/w,"/w,,/w,labelcounts/en,)/w, ,#, ,labelcounts/en,=/w, ,{/w,'/w,yes/en,'/w,:/w, ,2/m,,/w, ,'/w,no/en,'/w,:/w, ,3/m,}/w, ,19/m, ,for/en, ,key/en, ,in/en, ,labelcounts/en,:/w, ,20/m, ,prob/en, ,=/w, ,float/en,(/w,labelcounts/en,[/w,key/en,]/w,)/w,//w,numentries/en, ,#, ,prob/en, ,为/p,每个/r,值/n,出现/v,的/u,概率/n, ,21/m, ,shannonent/en, ,-/w,=/w, ,prob/en, ,*/w, ,log/en,(/w,prob/en,,/w,2/m,)/w, ,#, ,数学/n,公式/n,，/w,计算/v, ,熵/g, ,22/m, ,print/en,(/w,"/w,shannonent/en,=/w,"/w,,/w,shannonent/en,)/w, ,23/m, ,return/en, ,shannonent/en,测试/vn,代码/n,：/w,1/m, ,>,>,>, ,d/en,,/w,l/en,=/w,trees/en,./w,createdataset/en,(/w,)/w, ,2/m, ,>,>,>, ,d/en, ,3/m, ,[/w,[/w,1/m,,/w, ,1/m,,/w, ,'/w,yes/en,'/w,]/w,,/w, ,[/w,1/m,,/w, ,1/m,,/w, ,'/w,yes/en,'/w,]/w,,/w, ,[/w,1/m,,/w, ,0/m,,/w, ,'/w,no/en,'/w,]/w,,/w, ,[/w,0/m,,/w, ,1/m,,/w, ,'/w,no/en,'/w,]/w,,/w, ,[/w,0/m,,/w, ,1/m,,/w, ,'/w,no/en,'/w,]/w,]/w, ,4/m, ,>,>,>, ,l/en, ,5/m, ,[/w,'/w,no/en, ,surfacing/en,'/w,,/w, ,'/w,flippers/en,'/w,]/w, ,6/m, ,>,>,>, ,c/en,=/w,trees/en,./w,calcshannonent/en,(/w,d/en,)/w, ,7/m, ,labelcounts/en,=/w, ,{/w,'/w,yes/en,'/w,:/w, ,2/m,,/w, ,'/w,no/en,'/w,:/w, ,3/m,}/w, ,8/m, ,shannonent/en,=/w, ,0.9709505944546686/m, ,9/m, ,>,>,>,calcshannonent/en,：/w,返回/v,整个/b,数据集/nw,的/u, ,熵/g,上面/f,测试/vn,代码/n,数据集/nw,的/u,熵/g,=/w,0.9709505944546686/m,熵/g, ,值/n,越高/nt,，/w,则/d,混合/vn,的/u,数据/n,也/d,越/d,多/a,，/w,得到/v, ,熵/g, ,之后/f,，/w,我们/r,就/d,可以/v,按/p,最/d,大/a,信息/n,增益/v,的/u,方法/n,划分/v,数据集/nw,。/w,六/m,、/w,划分/v,数据集/nw,上面/f,我们/r,学习/v,了/u,如何/r,度量/v,数据集/nw,的/u,无序/b,程序/n,，/w,分类/vn,算法/n,除了/p,需要/v,测量/vn,信息/n,熵/g,，/w,还/d,需要/v,划分/v,数据集/nw,，/w,度量/v,划分/v,数据集/nw,的/u,熵/g,，/w,以便/d,判断/v,当前/t,是否/v,正确/a,地/u,划分/v,了/u,数据集/nw,。/w,我们/r,将/d,对/p,每个/r,特征/n,划分/v,数据集/nw,的/u,结果/n,计算/v,一次/mq,信息/n,熵/g,，/w,然后/c,判断/v,按照/p,哪个/r,特征/n,划分/v,数据/n,集市/n,最/d,好/a,的/u,划分/v,方法/n,。/w,按照/p,给/p,定/v,的/u,特征/n,划分/v,数据集/nw,：/w,1/m, ,def/en, ,splitdataset/en,(/w,dataset/en,,/w, ,axis/en,,/w, ,value/en,)/w,:/w,#,查找/v,数据集/nw, ,dataset/en, ,第/m, ,axis/en, ,列值/nr,=/w,=/w, ,value/en, ,的/u,元素/n,，/w,再/d,排除/v,第/m, ,axis/en, ,列/v,的/u,数据/n,，/w,组成/v,一个/m,新/a,的/u,数据集/nw, ,2/m, ,retdataset/en, ,=/w, ,[/w,]/w, ,3/m, ,for/en, ,featvec/en, ,in/en, ,dataset/en,:/w, ,4/m, ,if/en, ,featvec/en,[/w,axis/en,]/w, ,=/w,=/w, ,value/en,:/w, ,5/m, ,reducedfeatvec/en, ,=/w, ,featvec/en,[/w,:/w,axis/en,]/w, ,#,chop/en, ,out/en, ,axis/en, ,used/en, ,for/en, ,splitting/en, ,6/m, ,reducedfeatvec/en,./w,extend/en,(/w,featvec/en,[/w,axis/en,+/w,1/m,:/w,]/w,)/w, ,7/m, ,retdataset/en,./w,append/en,(/w,reducedfeatvec/en,)/w, ,8/m, ,return/en, ,retdataset/en,该/r,函数/n,使用/v,了/u,三个/m,输入/v,参数/n,：/w,带/v,划分/v,的/u,数据集/nw,、/w,划分/v,数据集/nw,的/u,特征/n,（/w,数据集/nw,第几/nw,列/v,）/w,、/w,需要/v,返回/v,的/u,特征/n,的/u,值/n,（/w,按/p,哪个/r,值/n,划分/v,）/w,。/w,函数/n,先/d,选取/v,数据/n,集中/v,第/m,axis/en,个/q,特征/n,值/n,为/p,value/en,的/u,数据/n,，/w,从/p,这/r,部分/n,数据/n,中/f,去除/v,第/m,axis/en,个/q,特征/n,，/w,并/c,返回/v,。/w,测试/vn,这个/r,函数/n,，/w,效果/n,如下/v,：/w,1/m, ,>,>,>, ,mydat/en,,/w, ,labels/en, ,=/w, ,trees/en,./w,createdataset/en,(/w,)/w, ,2/m, ,>,>,>, ,mydat/en, ,3/m, ,[/w,[/w,1/m,,/w, ,1/m,,/w, ,'/w,yes/en,'/w,]/w,,/w, ,[/w,1/m,,/w, ,1/m,,/w, ,'/w,yes/en,'/w,]/w,,/w, ,[/w,1/m,,/w, ,0/m,,/w, ,'/w,no/en,'/w,]/w,,/w, ,[/w,0/m,,/w, ,1/m,,/w, ,'/w,no/en,'/w,]/w,,/w, ,[/w,0/m,,/w, ,1/m,,/w, ,'/w,no/en,'/w,]/w,]/w, ,4/m, ,>,>,>, ,trees/en,./w,splitdataset/en,(/w,mydat/en,,/w, ,0/m,,/w, ,1/m,)/w, ,#,查找/v,第/m,0/m,列值/nr,=/w,=/w,1/m,的/u,元素/n,，/w,再/d,排除/v,第/m,0列/mq,的/u,数据/n,，/w,组成/v,一个/m,新/a,的/u,数据集/nw, ,5/m, ,[/w,[/w,1/m,,/w, ,'/w,yes/en,'/w,]/w,,/w, ,[/w,1/m,,/w, ,'/w,yes/en,'/w,]/w,,/w, ,[/w,0/m,,/w, ,'/w,no/en,'/w,]/w,]/w, ,6/m, ,>,>,>, ,trees/en,./w,splitdataset/en,(/w,mydat/en,,/w, ,0/m,,/w, ,0/m,)/w, ,7/m, ,[/w,[/w,1/m,,/w, ,'/w,no/en,'/w,]/w,,/w, ,[/w,1/m,,/w, ,'/w,no/en,'/w,]/w,]/w,接/v,下来/v,我们/r,将/d,遍历/nw,整个/b,数据集/nw,，/w,循环/vn,计算/v,香/a,农熵/nr,和/c,splitdataset/en,(/w,)/w,函数/n,，/w,找到/v,最/d,好/a,的/u,特征/n,划分/v,方式/n,。/w,熵/g,计算/v,将/d,会/v,告诉/v,我们/r,如何/r,划分/v,数据集/nw,是/v,最/d,好/a,的/u,数据/n,组织/v,方式/n,。/w,选择/v,最/d,好/a,的/u,数据集/nw,划分/v,方式/n,：/w,1/m, ,def/en, ,choosebestfeaturetosplit/en,(/w,dataset/en,)/w,:/w, ,2/m, ,numfeatures/en, ,=/w, ,len/en,(/w,dataset/en,[/w,0/m,]/w,)/w, ,-/w, ,1/m, ,#, ,这里/r,的/u,dataset/en, ,最后/f,一列/mq,是/v,分类/vn, ,numfeatures/en,=/w,2/m,;/w,我们/r,按/p,2列/mq,数据/n,进行/v,划分/v, ,3/m, ,baseentropy/en, ,=/w, ,calcshannonent/en,(/w,dataset/en,)/w, ,#, ,计算/v,出/v,整个/b, ,数据/n,数据集/nw,的/u, ,熵/g, ,4/m, ,bestinfogain/en, ,=/w, ,0.0/m,;/w, ,bestfeature/en, ,=/w, ,-/w,1/m, ,5/m, ,for/en, ,i/en, ,in/en, ,range/en,(/w,numfeatures/en,)/w,:/w, ,#, ,循环/vn,每/r,一列/mq,特征/n, ,6/m, ,featlist/en, ,=/w, ,[/w,example/en,[/w,i/en,]/w, ,for/en, ,example/en, ,in/en, ,dataset/en,]/w,#, ,创建/v,一个/m,新/a,的/u, ,列表/v,，/w,存放/v,数据集/nw,第/m, ,i/en, ,列/v,的/u,数据/n, ,7/m, ,uniquevals/en, ,=/w, ,set/en,(/w,featlist/en,)/w, ,#, ,使用/v,集合/v,，/w,把/p,数据/n,去/v,重/a,。/w,。/w,。/w,。/w,。/w,。/w,。/w,。/w,。/w,。/w, ,8/m, ,newentropy/en, ,=/w, ,0.0/m, ,#, ,以下/f,是/v,计算/v, ,每/r,一列/mq, ,的/u, ,熵/g, ,求/v,某/r,列/v, ,最/d,大/a,的/u, ,熵/g, ,9/m, ,for/en, ,value/en, ,in/en, ,uniquevals/en,:/w,#, ,循环/vn, ,第/m, ,i/en, ,列/v, ,的/u,特征/n,值/n, ,10/m, ,subdataset/en, ,=/w, ,splitdataset/en,(/w,dataset/en,,/w, ,i/en,,/w, ,value/en,)/w, ,#, ,划分/v,数据集/nw,。/w,。/w,。/w,。/w, ,11/m, ,prob/en, ,=/w, ,len/en,(/w,subdataset/en,)/w,//w,float/en,(/w,len/en,(/w,dataset/en,)/w,)/w, ,#, ,子/ng,数据集/nw,所/u,占/v,的/u,比例/n,。/w,。/w,。/w,。/w, ,12/m, ,newentropy/en, ,+/w,=/w, ,prob/en, ,*/w, ,calcshannonent/en,(/w,subdataset/en,)/w, ,#, ,子/ng,数据集/nw,的/u, ,熵/g, ,*/w, ,比例/n,。/w,。/w,。/w,。/w, ,13/m, ,infogain/en, ,=/w, ,baseentropy/en, ,-/w, ,newentropy/en, ,#,calculate/en, ,the/en, ,info/en, ,gain/en,;/w, ,ie/en, ,reduction/en, ,in/en, ,entropy/en, ,14/m, ,if/en, ,(/w,infogain/en, ,>, ,bestinfogain/en,)/w,:/w, ,#,compare/en, ,this/en, ,to/en, ,the/en, ,best/en, ,gain/en, ,so/en, ,far/en, ,15/m, ,bestinfogain/en, ,=/w, ,infogain/en, ,#,if/en, ,better/en, ,than/en, ,current/en, ,best/en,,/w, ,set/en, ,to/en, ,best/en, ,16/m, ,bestfeature/en, ,=/w, ,i/en, ,17/m, ,return/en, ,bestfeature/en, ,#,返回/v,按/p,某/r,列/v,划分/v,数据集/nw,的/u,最大/a, ,熵/g,本/r,函数/n,使用/v,变量/n,bestinfogain/en,和/c,bestfeature/en,记录/v,最/d,好/a,的/u,信息/n,增益/v,和/c,对应/v,的/u,特征/n,；/w,numfeatures/en,记录/v,特征/n,维数/nr,，/w,依次/d,遍历/nw,各个/r,特征/n,，/w,计算/v,该/r,特征/n,值/n,的/u,集合/v,（/w,uniquevals/en,）/w,；/w,遍历/nw,该/r,特征/n,计算/v,使用/v,该/r,特征/n,划分/v,的/u,熵/g,（/w,newentropy/en,）/w,，/w,据此/d,计算/v,新/a,的/u,信息/n,增益/v,（/w,infogain/en,）/w,；/w,比较/d,infogain/en,和/c,bestinfogain/en,记录/v,信息/n,增益/v,的/u,最大值/nz,和/c,对应/v,特征/n,；/w,最终/d,返回/v,最/d,大/a,的/u,信息/n,增益/v,对应/v,特征/n,的/u,索引/n,。/w,测试/vn,上面/f,代码/n,的/u,实际/n,输出/v,结果/n,：/w,1/m, ,>,>,>, ,mydata/en,,/w, ,labels/en, ,=/w, ,trees/en,./w,createdataset/en,(/w,)/w, ,2/m, ,>,>,>, ,trees/en,./w,choosebestfeaturetosplit/en,(/w,mydata/en,)/w, ,3/m, ,labelcounts/en,=/w, ,{/w,'/w,yes/en,'/w,:/w, ,2/m,,/w, ,'/w,no/en,'/w,:/w, ,3/m,}/w, ,4/m, ,shannonent/en,=/w, ,0.9709505944546686/m, ,5/m, ,labelcounts/en,=/w, ,{/w,'/w,no/en,'/w,:/w, ,2/m,}/w, ,6/m, ,shannonent/en,=/w, ,0.0/m, ,7/m, ,labelcounts/en,=/w, ,{/w,'/w,yes/en,'/w,:/w, ,2/m,,/w, ,'/w,no/en,'/w,:/w, ,1/m,}/w, ,8/m, ,shannonent/en,=/w, ,0.9182958340544896/m, ,9/m, ,labelcounts/en,=/w, ,{/w,'/w,no/en,'/w,:/w, ,1/m,}/w, ,10/m, ,shannonent/en,=/w, ,0.0/m, ,11/m, ,labelcounts/en,=/w, ,{/w,'/w,yes/en,'/w,:/w, ,2/m,,/w, ,'/w,no/en,'/w,:/w, ,2/m,}/w, ,12/m, ,shannonent/en,=/w, ,1.0/m, ,13/m, ,0/m,七/m,、/w,递归/nw,构建/v,决策/n,树/v,构建/v,决策/n,树/v,的/u,算法/n,流程/n,如下/v,：/w,得到/v,原始/a,数据集/nw,，/w,基于/p,最/d,好/a,的/u,属性/n,值/n,划分/v,数据集/nw,，/w,由于/c,特征/n,值/n,可能/v,多于/v,两个/m,，/w,因此/c,可能/v,存在/v,大于/v,两个/m,分支/n,的/u,数据集/nw,划分/v,。/w,第一/m,次/q,划分/v,之后/f,，/w,数据/n,将/d,被/p,向/p,下/f,传递/v,到/v,树/v,分支/n,的/u,下/f,一个/m,节点/n,，/w,在/p,这个/r,节点/n,上/f,，/w,我们/r,可以/v,再次/d,划分/v,数据/n,。/w,我们/r,可以/v,采用/v,递归/nw,的/u,原则/n,处理/v,数据集/nw,。/w,递归/nw,结束/v,的/u,条件/n,是/v,，/w,程序/n,遍历/nw,完/v,所有/b,划分/v,数据集/nw,的/u,属性/n,，/w,或者/c,每个/r,分支/n,下/f,的/u,所有/b,实例/n,都/d,具有/v,相同/a,的/u,分类/vn,。/w,添加/vn,下面/f,的/u,程序/n,代码/n,：/w,1/m, ,def/en, ,majoritycnt/en,(/w,classlist/en,)/w,:/w,#, ,返回/v, ,出现/v,次数/n,最/d,多/a,的/u,类别/n, ,，/w,，/w,类似/v,于/p,k/en,-/w,近邻/n,算法/n,中/f, ,返回/v,前/f,k/en,中/f,类别/n,出现/v,最/d,多/a,次数/n,的/u,。/w, ,2/m, ,classcount/en,=/w,{/w,}/w, ,3/m, ,for/en, ,vote/en, ,in/en, ,classlist/en,:/w, ,4/m, ,if/en, ,vote/en, ,not/en, ,in/en, ,classcount/en,./w,keys/en,(/w,)/w,:/w, ,classcount/en,[/w,vote/en,]/w, ,=/w, ,0/m, ,5/m, ,classcount/en,[/w,vote/en,]/w, ,+/w,=/w, ,1/m, ,6/m, ,sortedclasscount/en, ,=/w, ,sorted/en,(/w,classcount/en,./w,iteritems/en,(/w,)/w,,/w, ,key/en,=/w,operator/en,./w,itemgetter/en,(/w,1/m,)/w,,/w, ,reverse/en,=/w,true/en,)/w, ,7/m, ,return/en, ,sortedclasscount/en,[/w,0/m,]/w,[/w,0/m,]/w, ,8/m, ,9/m, ,def/en, ,createtree/en,(/w,dataset/en,,/w,labels/en,)/w,:/w, ,10/m, ,classlist/en, ,=/w, ,[/w,example/en,[/w,-/w,1/m,]/w, ,for/en, ,example/en, ,in/en, ,dataset/en,]/w, ,#, ,获取/v,数据集/nw,的/u,所有/b,类别/n, ,11/m, ,if/en, ,classlist/en,./w,count/en,(/w,classlist/en,[/w,0/m,]/w,)/w, ,=/w,=/w, ,len/en,(/w,classlist/en,)/w,:/w, ,12/m, ,return/en, ,classlist/en,[/w,0/m,]/w,#, ,如果/c,数据集/nw,的/u,所有/b,类别/n, ,都/d,相同/a,，/w,则/d,不/d,需要/v,划分/v, ,13/m, ,if/en, ,len/en,(/w,dataset/en,[/w,0/m,]/w,)/w, ,=/w,=/w, ,1/m,:/w, ,#, ,使用/v,完/v,了/u,所有/b,特征/n,，/w,仍然/d,不/d,能/v,将/d,数据/n,划分/v, ,到/v,某个/r,类别/n,上/f,的话/u,，/w,返回/v,出现/v,次数/n,最/d,多/a,的/u,类别/n, ,14/m, ,return/en, ,majoritycnt/en,(/w,classlist/en,)/w, ,15/m, ,bestfeat/en, ,=/w, ,choosebestfeaturetosplit/en,(/w,dataset/en,)/w, ,#, ,获取/v,数据/n,集中/v, ,按/p,哪/r,一列/mq,进行/v,划分/v,。/w,。/w,。/w,。/w,。/w, ,16/m, ,bestfeatlabel/en, ,=/w, ,labels/en,[/w,bestfeat/en,]/w, ,#, ,bestfeatlabel/en, ,=/w, ,列/v, ,描述/v, ,17/m, ,mytree/en, ,=/w, ,{/w,bestfeatlabel/en,:/w,{/w,}/w,}/w, ,#, ,创建/v,一个/m,字典/n, ,18/m, ,del/en,(/w,labels/en,[/w,bestfeat/en,]/w,)/w, ,#, ,删除/v,已/d,计算/v,过/u,的/u,列/v, ,19/m, ,featvalues/en, ,=/w, ,[/w,example/en,[/w,bestfeat/en,]/w, ,for/en, ,example/en, ,in/en, ,dataset/en,]/w, ,20/m, ,uniquevals/en, ,=/w, ,set/en,(/w,featvalues/en,)/w, ,#, ,获取/v,某/r,列/v, ,所有/b,不/d,重复/v,值/n, ,21/m, ,for/en, ,value/en, ,in/en, ,uniquevals/en,:/w, ,22/m, ,sublabels/en, ,=/w, ,labels/en,[/w,:/w,]/w, ,#,copy/en, ,all/en, ,of/en, ,labels/en,,/w, ,so/en, ,