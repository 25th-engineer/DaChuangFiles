机器/n,视觉/n,工程/n,应用/vn,主要/b,可/v,划分/v,为/p,硬件/n,和/c,软件/n,两/m,大部分/m,。/w,硬件/n,：/w,工程/n,应用/vn,的/u,第一/m,步/q,就/d,是/v,硬件/n,选/v,型/k,。/w,硬件/n,选/v,型/k,很/d,关键/n,，/w,因为/c,它/r,是/v,你/r,后面/f,工作/vn,的/u,基础/n,。/w,主要/b,是/v,光源/n,、/w,工业/n,相机/n,和/c,镜头/n,选择/v,。/w,软件/n,：/w,目前/t,业内/d,商业库/nw,主要/b,有/v,halcon/en,，/w,康耐视/nr,，/w,dalsa/en,，/w,evision/en,，/w,ni/en,等/u,，/w,开源库/nw,有/v,opencv/en,./w,其中/r,ni/en,的/u,labview/en,+/w,vision/en,模块/n,。/w,机器/n,视觉/n,工程/n,应用/vn,的/u,基本/a,开发/v,思路/n,是/v,：/w,一/m,、/w,图像/n,采集/v,，/w,二/m,、/w,图像/n,分割/v,，/w,三/m,、/w,形态学/n,处理/v,，/w,四/m,、/w,特征/n,提取/v,，/w,五/m,、/w,输出/v,结果/n,。/w,下面/f,在/p,halcon/en,下/f,对/p,这/r,四个/m,步骤/n,进行/v,讲解/v,。/w,一/m,、/w,图像/n,采集/v,：/w,halcon/en,通过/p,imageacquisition/en, ,interfaces/en,对/p,各种/r,图像/n,采集/v,卡/n,及/c,各种/r,工业/n,相机/n,进行/v,支持/v,。/w,其中/r,包括/v,：/w,模拟/b,视频/n,信号/n,，/w,数字/n,视频/n,信号/n,camera/en, ,link/en,,/w,数字/n,视频/n,信号/n,ieee/en, ,1394/m,,/w,数字/n,视频/n,信号/n,usb/en,2.0/m,,/w,数字/n,视频/n,信号/n,gigabit/en, ,ethernet/en,等/u,。/w,halcon/en,通过/p,统一/vn,的/u,接口/n,封装/vn,上述/b,不同/a,相机/n,的/u,image/en, ,acquisition/en, ,interfaces/en,,/w,从而/c,达到/v,算子/n,统一化/nw,。/w,不同/a,的/u,相机/n,只/d,需/v,更改/v,几/m,个/q,参数/n,就/d,可/v,变更/v,使用/v,。/w,halcon/en,图像/n,获取/v,的/u,思路/n,：/w,1/m,、/w,打开/v,设备/n,，/w,获得/v,该/r,设备/n,的/u,句柄/nw,。/w,2/m,、/w,调用/v,采集/v,算子/n,，/w,获取/v,图像/n,。/w,1/m,、/w,打开/v,设备/n,，/w,获得/v,该/r,设备/n,的/u,句柄/nw,。/w,open/en,_,framegrabber/en,(/w,'/w,dahengcam/en,'/w,,/w, ,1/m,,/w, ,1/m,,/w, ,0/m,,/w, ,0/m,,/w, ,0/m,,/w, ,0/m,,/w, ,'/w,interlaced/en,'/w,,/w, ,8/m,,/w, ,'/w,gray/en,'/w,,/w, ,-/w,1/m,,/w, ,'/w,false/en,'/w,,/w,'/w,hv/en,-/w,13/m,xx/en,'/w,,/w, ,'/w,1/m,'/w,,/w, ,1/m,,/w, ,-/w,1/m,,/w, ,acqhandle/en,)/w, ,//w,//w,连接/v,相机/n,，/w,并/c,设置/v,相关/v,参数/n,parametervaluesdefaulttypedescriptionname/en,'/w,dahengcam/en,'/w,stringname/en, ,of/en, ,the/en, ,halcon/en, ,interface/en,./w,horizontalresolution/en,111/m,表示/v,水平/n,全部/m,，/w,2/m,为/p,水平/n,1/m,//w,2/m,，/w,表示/v,图像/n,截取/v,。/w,verticalresolution/en,11/m,同/p,上/f,，/w,表示/v,垂直/v,方向/n,。/w,imagewidth/en,</w,width/en,>,0/m,integer/en,所/u,需/v,的/u,图像/n,部分/n,的/u,宽度/n,（/w,'/w,0/m, ,'/w,代表/n,了/u,完整/a,的/u,图像/n,）/w,。/w,imageheight/en,</w,height/en,>,0/m,integer/en,所/u,需/v,的/u,图像/n,部分/n,的/u,高度/d,（/w,0/m,”/w,是/v,完整/a,的/u,图像/n,）/w,startrow/en,</w,width/en,>,0/m,integer/en,所/u,需/v,的/u,图像/n,部分/n,左上方/nw,的/u,像素/n,行/v,坐标/n,startcolumn/en,</w,column/en,>,0/m,integer/en,所/u,需/v,的/u,图像/n,部分/n,左上方/nw,的/u,像/v,素列/nr,坐标/n,field/en,忽视/v,bitsperchannel/en,忽视/v,colorspace/en,'/w,default/en,'/w,,/w, ,'/w,gray/en,'/w,,/w, ,'/w,rgb/en,'/w,'/w,gray/en,'/w,stringhalcon/en,图像/n,的/u,通道/n,模式/n,generic/en,忽视/v,externaltrigger/en,'/w,false/en,'/w,,/w, ,'/w,true/en,'/w,'/w,false/en,'/w,string/en,外部/f,触发/v,状态/n,cameratype/en,'/w,hv/en,-/w,13/m,xx/en,'/w,,/w, ,'/w,hv/en,-/w,20/m,xx/en,'/w,,/w, ,'/w,hv/en,-/w,30/m,xx/en,'/w,,/w, ,'/w,hv/en,-/w,31/m,xx/en,'/w,,/w,'/w,hv/en,-/w,50/m,xx/en,'/w,,/w, ,'/w,sv/en,-/w,xxxx/en,'/w,'/w,hv/en,-/w,13/m,xx/en,'/w,string/en,所/u,连接/v,的/u,摄像机/n,系列型/nw,。/w,device/en,'/w,1/m,'/w,,/w, ,'/w,2/m,'/w,,/w, ,'/w,3/m,'/w,,/w, ,./w,./w,./w,'/w,1/m,'/w,string/en,相机/n,连接/v,第一/m,个/q,设备/n,号/q,“/w,1/m,”/w,，/w,第二/m,个/q,设备/n,编号/v,“/w,2/m,”/w,。/w,port/en,忽视/v,linein/en,忽视/v,2/m,、/w,调用/v,采集/v,算子/n,，/w,获取/v,图像/n,。/w,grab/en,_,image/en, ,(/w,image/en,,/w, ,acqhandle/en,)/w, ,//w,//w,（/w,同步/vd,采集/v,）/w,完/v,后/f,处理/v,图像/n,，/w,然后/c,再/d,采集/v,图像/n,。/w,采集/v,图像/n,的/u,速率/n,受/v,处理/v,速度/n,影响/vn,。/w,grab/en,_,image/en,_,async/en, ,(/w,image/en,,/w, ,acqhandle/en,,/w,maxdelay/en,)/w, ,//w,//w,（/w,异步/v,采集/v,）/w,，/w,一幅/mq,画面/n,采集/v,完/v,后/f,相机/n,马上/d,采集/v,下/f,一幅/mq,画面/n,，/w,不/d,受/v,处理/v,速度/n,影响/vn,。/w,其中/r,第三/nw,个/q,参数/n,为/p,：/w,maxdelay/en,，/w,表示/v,异步/v,采集/v,时/ng,可以/v,允许/v,的/u,最/d,大/a,延/vg,时/ng,，/w,本次/r,采集/v,命令/n,距/p,上次/t,采集/v,命令/n,的/u,时间/n,不/d,能/v,超出/v,maxdelay/en,，/w,超出/v,即/v,重新/d,采集/v,。/w,图像/n,采集/v,其他/r,相关/v,算子/n,：/w,grab/en,_,image/en,_,start/en,，/w,该/r,算子/n,开始/v,命令/n,相机/n,进行/v,异步/v,采集/v,。/w,只能/v,与/p,grab/en,_,image/en,_,async/en,（/w,异步/v,采集/v,）/w,一起/s,使用/v,。/w,例子/n,：/w,*/w, ,select/en, ,a/en, ,suitable/en, ,image/en, ,acquisition/en, ,interface/en, ,nameacqnameopen/en,_,framegrabber/en,(/w,acqname/en,,/w,1/m,,/w,1/m,,/w,0/m,,/w,0/m,,/w,0/m,,/w,0/m,,/w,'/w,default/en,'/w,,/w,-/w,1/m,,/w,'/w,default/en,'/w,,/w,-/w,1.0/m,,/w,\/w,'/w,default/en,'/w,,/w,'/w,default/en,'/w,,/w,'/w,default/en,'/w,,/w,-/w,1/m,,/w,-/w,1/m,,/w,acqhandle/en,)/w,grab/en,_,image/en,(/w,image/en,1/m,,/w,acqhandle/en,)/w,//w,//w,进行/v,同步/vd,采集/v,*/w, ,start/en, ,next/en, ,grabgrab/en,_,image/en,_,start/en,(/w,acqhandle/en,,/w,-/w,1.0/m,)/w,//w,//w,命令/n,相机/n,进行/v,异步/v,图像/n,采集/v,开始/v,*/w, ,process/en, ,image/en,1/m, ,./w,./w,./w,*/w, ,finish/en, ,asynchronous/en, ,grab/en, ,+/w, ,start/en, ,next/en, ,grabgrab/en,_,image/en,_,async/en,(/w,image/en,2/m,,/w,acqhandle/en,,/w,-/w,1.0/m,)/w,//w,//w,读/v,取/v,异步/v,采集/v,的/u,图像/n,*/w, ,process/en, ,image/en,2/m, ,./w,./w,./w,close/en,_,framegrabber/en,(/w,acqhandle/en,)/w,3/m,、/w,相机/n,参数/n,读/v,写/v,读/v,取/v,相机/n,参数/n,：/w,info/en,_,framegrabber/en,(/w, ,:/w, ,:/w, ,name/en,,/w, ,query/en, ,:/w, ,information/en,,/w, ,valuelist/en,)/w,写/v,相机/n,参数/n,：/w,set/en,_,framegrabber/en,_,param/en,(/w, ,:/w, ,:/w, ,acqhandle/en,,/w, ,param/en,,/w, ,value/en, ,:/w, ,)/w,二/m,、/w,图像/n,分割/v,：/w,图像/n,分割/v,的/u,定义/n,：/w,所谓/v,图像/n,分割/v,是/v,指/v,将/d,图像/n,中/f,具有/v,特殊/a,含义/n,的/u,不同/a,区域/n,分割/v,开来/v,，/w,这些/r,区域/n,是/v,互相/d,不/d,交叉/vn,的/u,，/w,每个/r,区域/n,都/d,满足/v,特定/b,区域/n,的/u,一致性/n,。/w,1/m,、/w,基于/p,阈值/n,的/u,图像/n,分割/v,threshold/en, ,—/w,采用/v,全局/n,阈值/n,分割/v,图像/n,。/w,格式/n,：/w, , , , ,threshold/en,(/w,image/en, ,:/w, ,region/en, ,:/w, ,mingray/en,,/w, ,maxgray/en, ,:/w, ,)/w,自动/d,全局/n,阈值/n,分割/v,的/u,方法/n,：/w,（/w,1/m,）/w,计算/v,灰度/n,直方图/n,（/w,2/m,）/w,寻找/v,出现/v,频率/n,最/d,多/a,的/u,灰度值/nw,（/w,最大值/nz,）/w,（/w,3/m,）/w,在/p,threshold/en,中/f,使用/v,与/p,最/d,大/a,值/n,有/v,一定/d,距离/n,的/u,值/n,作为/v,阈值/n,代码/n,：/w,gray/en,_,histo/en,(/w,regions/en,,/w, ,image/en,，/w,absolutehisto/en,,/w, ,relativehisto/en,)/w, ,//w,//w,计算/v,出/v,图像/n,区域/n,内/f,的/u,绝对/d,和/c,相对灰度值/nw,直方图/n,。/w,peakgray/en, ,:/w,=/w, ,sort/en,_,index/en,(/w,absolutehisto/en,)/w,[/w,255/m,]/w, ,//w,//w,求/v,出/v,出现/v,频率/n,最/d,多/a,的/u,灰度值/nw,threshold/en,(/w,image/en,,/w,region/en,,/w,0/m,,/w,peakgray/en,-/w,25/m,)/w,bin/en,_,threshold/en, ,—/w, ,使用/v,一个/m,自动/d,确定/v,的/u,阈值/n,分割/v,图像/n,。/w,格式/n,：/w, , , , ,bin/en,_,threshold/en,(/w,image/en, ,:/w, ,region/en, ,:/w, ,:/w, ,)/w,dyn/en,_,threshold/en, ,—/w,使用/v,一个/m,局部/n,阈值/n,分割/v,图像/n,。/w,格式/n,：/w, , , , ,dyn/en,_,threshold/en,(/w,origimage/en,,/w, ,thresholdimage/en, ,:/w, ,regiondynthresh/en, ,:/w, ,offset/en,,/w, ,lightdark/en, ,:/w, ,)/w,例子/n,：/w,mean/en,_,image/en,(/w,image/en,,/w,mean/en,,/w,21/m,,/w,21/m,)/w,dyn/en,_,threshold/en,(/w,image/en,,/w,mean/en,,/w, ,regiondynthresh/en,,/w,15/m,,/w,'/w,dark/en,'/w,)/w,var/en,_,threshold/en, ,—/w,阈值/n,图像/n,局部/n,均值/n,和/c,标准/n,差/a,的/u,分析/vn,。/w,格式/n,：/w, , , , ,var/en,_,threshold/en,(/w,image/en, ,:/w, ,region/en, ,:/w, ,maskwidth/en,,/w, ,maskheight/en,,/w, ,stddevscale/en,,/w, ,absthreshold/en,,/w, ,lightdark/en, ,:/w, ,)/w,2/m,、/w,基于/p,边缘/n,的/u,图像/n,分割/v,：/w,寻找/v,区域/n,之间/f,的/u,边界/n,watersheds/en, ,—/w,从/p,图像/n,中/f,提取/v,分水岭/n,和/c,盆地/n,。/w,格式/n,：/w, , , , ,watersheds/en,(/w,image/en, ,:/w, ,basins/en,,/w, ,watersheds/en, ,:/w, ,:/w, ,)/w,watersheds/en,_,threshold/en, ,—/w,使用/v,阈值/n,从/p,图像/n,中/f,提取/v,分水岭/n,和/c,盆地/n,。/w,格式/n,：/w, , , , ,watersheds/en,_,threshold/en,(/w,image/en, ,:/w, ,basins/en, ,:/w, ,threshold/en, ,:/w, ,)/w,3/m,、/w,基于/p,区域/n,的/u,图像/n,分割/v,：/w,直接/ad,创建/v,区域/n,三/m,、/w,形态学/n,处理/v,形态学/n,处理/v,以/p,集合/v,运算/vn,为/p,基础/n,。/w,腐蚀/v,、/w,膨胀/v,、/w,开/v,操作/v,、/w,闭/v,操作/v,是/v,所有/b,形态学/n,图像/n,处理/v,的/u,基础/n,。/w,开/v,操作/v,（/w,先/d,腐蚀/v,再/d,膨胀/v,）/w,使/v,对象/n,的/u,轮廓/n,变/v,得/u,光滑/a,，/w,断开/v,狭窄/a,的/u,间断/v,和/c,消除/v,细/a,的/u,突出/a,物/ng,。/w,闭/v,操作/v,（/w,先/d,膨胀/v,再/d,腐蚀/v,）/w,消弥/nw,狭窄/a,的/u,间断/v,和/c,长细/nw,的/u,鸿沟/n,，/w,消除/v,小/a,的/u,孔洞/n,，/w,填补/v,轮廓线/nz,的/u,断裂/v,。/w,形体/n,学/v,基础/n,算子/n,：/w,erosion/en,1/m,dilation/en,1/m,openingclosing/en,常用/a,的/u,形态学/n,相关/v,算子/n,connectionselect/en,_,shapeopening/en,_,circleclosing/en,_,circleopening/en,_,rectangle/en,1/m,closing/en,_,rectangle/en,1/m,complementdifferenceintersectionunion/en,1/m,shaps/en,_,transfill/en,_,up/en,形态学/n,高级/a,算子/n,：/w,boundaryskeleton/en,四/m,、/w,特征/n,提取/v,：/w,1/m,、/w,区域/n,特征/n,：/w,areamomentssmallest/en,_,rectangl