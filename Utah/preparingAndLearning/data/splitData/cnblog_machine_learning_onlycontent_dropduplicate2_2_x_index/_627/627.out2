机器/n,学习/v,中/f,常常/d,要/v,用/p,到/v,分类/vn,算法/n,，/w,在/p,诸多/m,的/u,分类/vn,算法/n,中/f,有/v,一种/mq,算法/n,名/q,为/p,k/en,-/w,近邻/n,算法/n,，/w,也/d,称为/v,knn/en,算法/n,。/w,一/m,、/w,knn/en,算法/n,的/u,工作/vn,原理/n,二/m,、/w,适用/v,情况/n,三/m,、/w,算法/n,实例/n,及/c,讲解/v,---/nrf,1/m,./w,收集/v,数据/n,---/nrf,2/m,./w,准备/v,数据/n,---/nrf,3/m,./w,设计/vn,算法/n,分析/vn,数据/n,---/nrf,4/m,./w,测试/vn,算法/n,一/m,、/w,knn/en,算法/n,的/u,工作/vn,原理/n,官方/n,解释/v,：/w,存在/v,一个/m,样本/n,数据集/nw,，/w,也/d,称作/v,训练/vn,样本/n,集/vg,，/w,并且/c,样本/n,中/f,每个/r,数据/n,都/d,存在/v,标签/n,，/w,即/v,我们/r,知道/v,样本/n,集中/v,每/r,一/m,数据/n,与/p,所属/n,分类/vn,的/u,对应/v,关系/n,，/w,输入/v,没有/v,标签/n,的/u,新/a,数据/n,后/f,，/w,将/d,新/a,数据/n,的/u,每个/r,特征/n,与/p,样本/n,集中/v,的/u,数据/n,对应/v,的/u,特征/n,进行/v,比较/d,，/w,然后/c,算法/n,提取/v,样本/n,集中/v,特征/n,最/d,相似/a,的/u,数据/n,（/w,最近/t,邻/vg,）/w,的/u,分类/vn,标签/n,。/w,一般来说/l,，/w,我们/r,只/d,选择/v,样本/n,集中/v,前/f,k/en,个/q,最/d,相似/a,的/u,数据/n,，/w,这/r,就/d,是/v,k/en,-/w,近邻/n,算法/n,中/f,k/en,的/u,出处/n,，/w,通常/d,k/en,是/v,不/d,大于/v,20/m,的/u,整数/n,，/w,最后/f,，/w,选择/v,k/en,个/q,最/d,相似/a,的/u,数据/n,中/f,出现/v,次数/n,最/d,多/a,的/u,分类/vn,，/w,作为/v,新/a,数据/n,的/u,分类/vn,。/w,我的/nt,理解/v,：/w,k/en,-/w,近邻/n,算法/n,就/d,是/v,根据/p,“/w,新/a,数据/n,的/u,分类/vn,取决于/v,它/r,的/u,邻居/n,”/w,进行/v,的/u,，/w,比如/v,邻居/n,中/f,大多数/m,都/d,是/v,退伍军人/n,，/w,那么/r,这个/r,人/n,也/d,极/d,有/v,可能/v,是/v,退伍军人/n,。/w,而/c,算法/n,的/u,目的/n,就/d,是/v,先/d,找/v,出/v,它/r,的/u,邻居/n,，/w,然后/c,分析/vn,这/r,几/m,位/q,邻居/n,大多数/m,的/u,分类/vn,，/w,极/d,有/v,可能/v,就/d,是/v,它/r,本省/r,的/u,分类/vn,。/w,二/m,、/w,适用/v,情况/n,优点/n,：/w,精度/n,高/a,，/w,对/p,异常/a,数据/n,不/d,敏感/a,（/w,你/r,的/u,类别/n,是/v,由/p,邻居/n,中/f,的/u,大多数/m,决定/v,的/u,，/w,一个/m,异常/a,邻居/n,并/c,不能/v,影响/vn,太/d,大/a,）/w,，/w,无数/m,据/p,输入/v,假定/v,；/w,缺点/n,：/w,计算/v,发/v,杂度/nw,高/a,（/w,需要/v,计算/v,新/a,的/u,数据点/nw,与/p,样本/n,集中/v,每个/r,数据/n,的/u,“/w,距离/n,”/w,，/w,以/p,判断/v,是否/v,是/v,前/f,k/en,个/q,邻居/n,）/w,，/w,空间/n,复杂/a,度/q,高/a,（/w,巨大/a,的/u,矩阵/n,）/w,；/w,适用/v,数据/n,范围/n,：/w,数/m,值型/nw,（/w,目标/n,变量/n,可以/v,从/p,无限/vd,的/u,数值/n,集合/v,中/f,取值/v,）/w,和/c,标称型/nw,（/w,目标/n,变量/n,只有/c,在/p,有限/a,目标/n,集中/v,取值/v,）/w,。/w,三/m,、/w,算法/n,实例/n,及/c,讲解/v,例子/n,中/f,的/u,案例/n,摘/v,《/w,机器/n,学习/v,实战/n,》/w,一/m,书/n,中/f,的/u,，/w,代码/n,例子/n,是/v,用/p,python/en,编写/v,的/u,（/w,需要/v,matplotlib/en,和/c,numpy/en,库/n,）/w,，/w,不过/c,重在/v,算法/n,，/w,只要/c,算法/n,明白/v,了/u,，/w,用/p,其他/r,语言/n,都/d,是/v,可以/v,写/v,出来/v,的/u,：/w,海伦/nr,一直/d,使用/v,在线/vn,约会/vn,网站/n,寻找/v,合适/a,自己/r,的/u,约会/vn,对象/n,。/w,尽管/c,约会/vn,网站/n,会/v,推荐/v,不同/a,的/u,人选/n,，/w,但/c,她/r,没有/v,从中/d,找到/v,喜欢/v,的/u,人/n,。/w,经过/p,一番/m,总结/v,，/w,她/r,发现/v,曾/d,交往/vn,过/u,三种/mq,类型/n,的/u,人/n,：/w,1/m,./w,不/d,喜欢/v,的/u,人/n,（/w,以下/f,简称/v,1/m,）/w,；/w,2/m,./w,魅力/n,一般/a,的/u,人/n,（/w,以下/f,简称/v,2/m,）/w, ,；/w,3/m,./w,极/d,具/vg,魅力/n,的/u,人/n,（/w,以下/f,简称/v,3/m,）/w,尽管/c,发现/v,了/u,上述/b,规律/n,，/w,但海伦/nrf,依然/d,无法/v,将/d,约会/vn,网站/n,推荐/v,的/u,匹配/vn,对象/n,归入/v,恰当/a,的/u,分类/vn,。/w,她/r,觉得/v,可以/v,在/p,周一/t,到/v,周五/t,约/d,会/v,哪些/r,魅力/n,一般/a,的/u,人/n,，/w,而/c,周末/t,则/d,更/d,喜欢/v,与/p,那些/r,极/d,具/vg,魅力/n,的/u,人/n,为伴/v,。/w,海伦/nr,希望/v,我们/r,的/u,分类/vn,软件/n,可以/v,更/d,好/a,的/u,帮助/v,她/r,将/d,匹配/vn,对象/n,划分/v,到/v,确切/a,的/u,分类/vn,中/f,。/w,此外/c,海伦/nr,还/d,收集/v,了/u,一些/m,约会/vn,网站/n,未曾/d,记录/v,的/u,数据/n,信息/n,，/w,她/r,认为/v,这些/r,数据/n,更/d,有助于/v,匹配/vn,对象/n,的/u,归类/vn,。/w,我们/r,先/d,提取/v,一下/m,这个/r,案例/n,的/u,目标/n,：/w,根据/p,一些/m,数据/n,信息/n,，/w,对/p,指定/v,人选/n,进行/v,分类/vn,（/w,1/m,或/c,2/m,或/c,3/m,）/w,。/w,为了/p,使用/v,knn/en,算法/n,达到/v,这个/r,目标/n,，/w,我们/r,需要/v,哪些/r,信息/n,？/w,前面/f,提到/v,过/u,，/w,就/d,是/v,需要/v,样本/n,数据/n,，/w,仔细/ad,阅读/v,我们/r,发现/v,，/w,这些/r,样本/n,数据/n,就/d,是/v,“/w,海伦/nr,还/d,收集/v,了/u,一些/m,约会/vn,网站/n,未曾/d,记录/v,的/u,数据/n,信息/n,”/w,。/w,好/a,的/u,，/w,下面/f,我们/r,就/d,开始/v,吧/y,！/w,----/nrf,1/m,./w,收集/v,数据/n,海伦/nrf,收集/v,的/u,数据/n,是/v,记录/v,一个/m,人/n,的/u,三个/m,特征/n,：/w,每年/r,获得/v,的/u,飞行/vn,常客/n,里程/n,数/m,；/w,玩/v,视频/n,游戏/n,所/u,消耗/v,的/u,时间/n,百分比/n,；/w,每周/r,消费/vn,的/u,冰淇淋公升数/nw,。/w,数据/n,是/v,txt/en,格式/n,文件/n,，/w,如/v,下/f,图/n,，/w,前/f,三列/mq,依次/d,是/v,三个/m,特征/n,，/w,第四/nw,列/v,是/v,分类/vn,（/w,1/m,：/w,不/d,喜欢/v,的/u,人/n,，/w,2/m,：/w,魅力/n,一般/a,的/u,人/n,，/w,3/m,：/w,极/d,具/vg,魅力/n,的/u,人/n,）/w,，/w,每/r,一行/n,代表/n,一个/m,人/n,。/w,数据/n,文档/n,的/u,下载/v,链接/n,是/v,：/w,http/en,:/w,//w,//w,pan/en,./w,baidu/en,./w,com/en,//w,s/en,//w,1/m,jg/en,7/m,n/en,4/m,hs/en,----/nrf,2/m,./w,准备/v,数据/n,何/r,为/p,准备/v,数据/n,？/w,之前/f,收集/v,到/v,了/u,数据/n,，/w,放到/v,了/u,txt/en,格式/n,的/u,文档/n,中/f,了/u,，/w,看/v,起来/v,也/d,比较/d,规整/a,，/w,但是/c,计算机/n,并/c,不/d,认识/v,啊/y,。/w,计算机/n,需要/v,从/p,txt/en,文档/n,中/f,读取/v,数据/n,，/w,并/c,把/p,数据/n,进行/v,格式化/v,，/w,也就是说/l,存/v,到/v,矩阵/n,中/f,，/w,用/p,矩阵/n,来/v,承装/nw,这些/r,数据/n,，/w,这样/r,才/d,能/v,使用/v,计算机/n,处理/v,。/w,需要/v,两个/m,矩阵/n,：/w,一个/m,承装/nw,三个/m,特征/n,数据/n,，/w,一个/m,承装/nw,对应/v,的/u,分类/vn,。/w,于是/c,，/w,我们/r,定义/n,一个/m,函数/n,，/w,函数/n,的/u,输入/v,时/ng,数据/n,文档/n,（/w,txt/en,格式/n,）/w,，/w,输出/v,为/p,两个/m,矩阵/n,。/w,代码/n,如下/v,：/w,1/m, ,def/en, ,file/en,2/m,matrix/en,(/w,filename/en,)/w,:/w, ,2/m, ,fr/en, ,=/w, ,open/en,(/w,filename/en,)/w, ,3/m, ,numberoflines/en, ,=/w, ,len/en,(/w,fr/en,./w,readlines/en,(/w,)/w,)/w, ,4/m, ,returnmat/en, ,=/w, ,zeros/en,(/w,(/w,numberoflines/en,,/w, ,3/m,)/w,)/w, ,5/m, ,classlabelvector/en, ,=/w, ,[/w,]/w, ,6/m, ,fr/en, ,=/w, ,open/en,(/w,filename/en,)/w, ,7/m, ,index/en, ,=/w, ,0/m, ,8/m, ,for/en, ,line/en, ,in/en, ,fr/en,./w,readlines/en,(/w,)/w,:/w, ,9/m, ,line/en, ,=/w, ,line/en,./w,strip/en,(/w,)/w, ,10/m, ,listfromline/en, ,=/w, ,line/en,./w,split/en,(/w,'/w,\/w,t/en,'/w,)/w, ,11/m, ,returnmat/en,[/w,index/en,,/w, ,:/w,]/w, ,=/w, ,listfromline/en,[/w,0/m,:/w,3/m,]/w, ,12/m, ,classlabelvector/en,./w,append/en,(/w,int/en,(/w,listfromline/en,[/w,-/w,1/m,]/w,)/w,)/w, ,13/m, ,index/en, ,+/w,=/w, ,1/m, ,14/m, ,return/en, ,returnmat/en,,/w, ,classlabelvector/en,简要/ad,解读/v,代码/n,：/w,首先/d,打开/v,文件/n,，/w,读/v,取/v,文件/n,的/u,行数/n,，/w,然后/c,初始化/v,之后/f,要/v,返回/v,的/u,两个/m,矩阵/n,（/w,returnmat/en,、/w,classlabelsvector/en,）/w,，/w,然后/c,进入/v,循环/vn,，/w,将/d,每/r,行/v,的/u,数据/n,各/r,就/d,各位/r,分配/vn,给/p,returnmat/en,和/c,classlabelsvector/en,。/w,----/nrf,3/m,./w,设计/vn,算法/n,分析/vn,数据/n,k/en,-/w,近邻/n,算法/n,的/u,目的/n,就是/d,找到/v,新/a,数据/n,的/u,前/f,k/en,个/q,邻居/n,，/w,然后/c,根据/p,邻居/n,的/u,分类/vn,来/v,确定/v,该/r,数据/n,的/u,分类/vn,。/w,首先/d,要/v,解决/v,的/u,问题/n,，/w,就/d,是/v,什么/r,是/v,邻居/n,？/w,当然/d,就/d,是/v,“/w,距离/n,”/w,近/a,的/u,了/u,，/w,不同/a,人/n,的/u,距离/n,怎么/r,确定/v,？/w,这个/r,有点/d,抽象/a,，/w,不过/c,我们/r,有/v,每个/r,人/n,的/u,3个/m,特征/n,数据/n,。/w,每个/r,人/n,可以/v,使用/v,这/r,三个/m,特征/n,数据/n,来/v,代替/v,这个/r,人/n,——/w,三维点/nw,。/w,比如/v,样本/n,的/u,第一/m,个/q,人/n,就/d,可以/v,用/p,（/w,40920/m,，/w, ,8.326976/m,，/w, ,0.953952/m,）/w,来/v,代替/v,，/w,并且/c,他/r,的/u,分类/vn,是/v,3/m,。/w,那么/r,此时/r,的/u,距离/n,就/d,是/v,点/q,的/u,距离/n,：/w,a/en,点/q,(/w,x/en,1/m,,/w, ,x/en,2/m,,/w, ,x/en,3/m,)/w,，/w,b/en,点/q,(/w,y/en,1/m,,/w, ,y/en,2/m,,/w, ,y/en,3/m,)/w,，/w,这/r,两个点/mq,的/u,距离/n,就/d,是/v,：/w,(/w,x/en,1/m,-/w,y/en,1/m,)/w,^,2/m,+/w,(/w,x/en,2/m,-/w,y/en,2/m,)/w,^,2/m,+/w,(/w,x/en,3/m,-/w,y/en,3/m,)/w,^,2/m,的/u,平方根/n,。/w,求/v,出/v,新/a,数据/n,与/p,样本/n,中/f,每个/r,点/q,的/u,距离/n,，/w,然后/c,进行/v,从小到大/l,排序/vn,，/w,前/f,k/en,位/q,的/u,就/d,是/v,k/en,-/w,近邻/n,，/w,然后/c,看看/v,这/r,k/en,位/q,近邻/n,中/f,占/v,得/u,最/d,多/a,的/u,分类/vn,是/v,什么/r,，/w,也/d,就/d,获得/v,了/u,最终/d,的/u,答案/n,。/w,这个/r,处理/v,过程/n,也/d,是/v,放/v,到/v,一个/m,函数/n,里/f,的/u,，/w,代码/n,如下/v,：/w,1/m, ,def/en, ,classify/en,0/m,(/w,inx/en,,/w, ,dataset/en,,/w, ,labels/en,,/w, ,k/en,)/w,:/w, ,2/m, ,datasetsize/en, ,=/w, ,dataset/en,./w,shape/en,[/w,0/m,]/w, ,3/m, ,diffmat/en, ,=/w, ,tile/en,(/w,inx/en,,/w, ,(/w,datasetsize/en,,/w,1/m,)/w,)/w, ,-/w, ,dataset/en, ,4/m, ,sqdiffmat/en, ,=/w, ,diffmat/en,*/w,*/w,2/m, ,5/m, ,sqdistances/en, ,=/w, ,sqdiffmat/en,./w,sum/en,(/w,axis/en,=/w,1/m,)/w, ,6/m, ,distances/en, ,=/w, ,sqdistances/en,*/w,*/w,0.5/m, ,7/m, ,sorteddistindicies/en, ,=/w, ,distances/en,./w,argsort/en,(/w,)/w, ,8/m, ,classcount/en,=/w,{/w,}/w, ,9/m, ,for/en, ,i/en, ,in/en, ,range/en,(/w,k/en,)/w,:/w, ,10/m, ,voteilabel/en, ,=/w, ,labels/en,[/w,sorteddistindicies/en,[/w,i/en,]/w,]/w, ,11/m, ,classcount/en,[/w,voteilabel/en,]/w, ,=/w, ,classcount/en,./w,get/en,(/w,voteilabel/en,,/w,0/m,)/w, ,+/w, ,1/m, ,12/m, ,sortedclasscount/en, ,=/w, ,sorted/en,(/w,classcount/en,./w,iteritems/en,(/w,)/w,,/w,key/en,=/w,operator/en,./w,itemgetter/en,(/w,1/m,)/w,,/w, ,reverse/en,=/w,true/en,)/w, ,13/m, ,return/en, ,sortedclasscount/en,[/w,0/m,]/w,[/w,0/m,]/w,简要/ad,解读/v,代码/n,：/w,该/r,函数/n,的/u,4个/m,参数/n,分别/d,为/p,新/a,数据/n,的/u,三个/m,特征/n,inx/en,、/w,样本/n,数据/n,特征/n,集/vg,（/w,上/f,一个/m,函数/n,的/u,返回值/nw,）/w,、/w,样本/n,数据/n,分类/vn,（/w,上/f,一个/m,函数/n,的/u,返回值/nw,）/w,、/w,k/en,，/w,函数/n,返回/v,位/q,新/a,数据/n,的/u,分类/vn,。/w,第二/m,行/v,datasetsize/en,获取/v,特征/n,集/vg,矩阵/n,的/u,行数/n,，/w,第三/nw,行为/n,新/a,数据/n,与/p,样本