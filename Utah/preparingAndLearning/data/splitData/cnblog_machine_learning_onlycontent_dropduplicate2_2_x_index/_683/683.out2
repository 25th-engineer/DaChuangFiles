欢迎/v,大家/r,前往/v,云/n,+/w,社区/n,，/w,获取/v,更/d,多/a,腾讯/nt,海量/n,技术/n,实践/v,干货/n,哦/e,~/w,下载/v, ,heaton/en,-/w,javascript/en,-/w,ml/en,./w,zip/en, ,-/w, ,45.1/m, ,kb/en,基本/a,介绍/v,在/p,本文/r,中/f,，/w,你/r,会/v,对/p,如何/r,使用/v,javascript/en,实现/v,机器/n,学习/v,这个/r,话题/n,有/v,一些/m,基本/a,的/u,了解/v,。/w,我/r,会/v,使用/v,encon/en,（/w,一个/m,先进/a,的/u,神经/n,网络/n,和/c,机器/n,学习/v,框架/n,）/w,这个/r,框架/n,，/w,并/c,向/p,你们/r,展示/v,如何/r,用/p,这个/r,框架/n,来/v,实现/v,光学/n,字符/n,辨识/v,，/w,模拟/b,退火法/nw,，/w,遗传/vn,算法/n,和/c,神经/n,网络/n,。/w,encog/en,同时/c,包括/v,了/u,几/m,个/q,gui/en,窗体/nw,小/a,部件/n,，/w,这些/r,小/a,部件/n,可以/v,更/d,方便/a,地/u,显示/v,出/v,一般/a,机器/n,学习/v,任务/n,的/u,输出/v,。/w,运行/vn,环境/n,encog/en,是/v,一个/m,面向/v,java/en,，/w,c/en,#,，/w,javascript/en,和/c,c/en,//w,c/en,+/w,+/w,的/u,高级/a,机器/n,学习/v,平台/n,。/w,除此之外/c,，/w,encog/en,还/d,可以/v,为/p,http/en,:/w,//w,//w,www/en,./w,heatonresearch/en,./w,com/en,//w,wiki/en,//w,meta/en,_,trader/en,_,4/m,的/u,实际/n,案例/n,生成/vn,对应/v,代码/n,，/w,本文/r,将/d,重点/n,介绍/v,如何/r,使用/v,支持/v,javascript/en,的/u,encog/en,框架/n,，/w,该/r,框架/n,允许/v,你/r,创建/v,利用/v,人工智能/n,实现/v,的/u,交互式/n,web/en,应用/vn,程序/n,。/w,访问/v,以下/f,网址/n,获取/v,有关/vn,encog/en,的/u,更/d,多/a,信息/n,。/w,http/en,:/w,//w,//w,www/en,./w,heatonresearch/en,./w,com/en,//w,encog/en,代码/n,调用/v,本文/r,介绍/v,的/u,所有/b,示例/n,代码/n,都/d,可以/v,在/p,附带/v,的/u,下载/v,中/f,找到/v,。/w,这/r,段/q,代码/n,同时/c,被/p,托管/vn,在/p,下面/f,的/u,github/en,库/n,中/f,。/w,https/en,:/w,//w,//w,github/en,./w,com/en,//w,encog/en,//w,encog/en,-/w,javascript/en,你/r,可以/v,看到/v,本文/r,讨论/v,的/u,所有/b,示例/n,都/d,运行/vn,在/p,下面/f,的/u,url/en,中/f,：/w,http/en,:/w,//w,//w,www/en,./w,heatonresearch/en,./w,com/en,//w,funencog/en,框架/n,包含/v,在/p,两个/m,javascript/en,文件/n,中/f,。/w,第一/m,个/q,javascript/en,文件/n,包含/v,了/u,所有/b,核心/n,的/u,机器/n,学习/v,函数/n,。/w,这个/r,javascript/en,文件/n,被/p,命名/v,为/p,encog/en,-/w,js/en,-/w,x/en,./w,js/en,。/w,第二/m,个/q,文件/n,包含/v,了/u,所有/b,的/u,gui/en,窗体/nw,小组/n,件/q,，/w,并/c,被/p,命名/v,为/p,encog/en,-/w,widget/en,./w,js/en,。/w,你/r,可以/v,在/p,下面/f,的/u,引用/v,路径/n,中/f,阅读/v,这/r,两个/m,文件/n,。/w,</w,script/en, ,src/en,=/w,"/w, ,encog/en,-/w,js/en,-/w,1/m,./w,0/m,./w,js/en,"/w,>,</w,//w,script/en,>, ,</w,script/en, ,src/en,=/w,"/w,encog/en,-/w,widget/en,-/w,1/m,./w,0/m,./w,js/en,"/w,>,</w,//w,script/en,>,欧氏/nr,距离/n,我们/r,从/p,欧氏/nr,距离/n,开始/v,谈/v,起/v,，/w,欧氏/nr,距离/n,是/v,一个/m,非常/d,简单/a,的/u,概念/n,，/w,适用/v,于/p,不同/a,的/u,机器/n,学习/v,技术/n,。/w,欧氏/nr,距离/n,提供/v,的/u,结果/n,是/v,一个/m,数字/n,，/w,该/r,数字/n,决定/v,了/u,相同/a,长度/n,的/u,两个/m,数/m,组/q,之间/f,的/u,相似性/n,。/w,思考/v,下面/f,三个/m,数组/n,：/w,array/en, ,1/m,:/w, ,[/w, ,1/m,,/w, ,2/m,,/w, ,3/m,]/w, ,array/en, ,2/m,:/w, ,[/w, ,1/m,,/w, ,3/m,,/w, ,2/m,]/w, ,array/en, ,3/m,:/w, ,[/w, ,3/m,,/w, ,2/m,,/w, ,1/m,]/w,我们/r,可以/v,计算/v,出/v,上面/f,任意/d,两个/m,数/m,组/q,之间/f,的/u,欧氏/nr,距离/n,，/w,这/r,对于/p,确定/v,数/m,组/q,之间/f,的/u,相似/a,度/q,是/v,非常/d,有用/a,的/u,。/w,思考/v,一下/m,，/w,假如/c,我们/r,想/v,要/v,确定/v,一下/m,数组/n,2/m,或者/c,数/m,组/q,3/m,哪个/r,距离/n,数/m,组/q,1更/mq,近/a,。/w,为了/p,做到/v,这/r,一点/m,，/w,我们/r,需要/v,计算/v,数组/n,1/m,和/c,数/m,组/q,2/m,之间/f,的/u,欧氏/nr,距离/n,。/w,然后/c,再/d,计算数/nw,组/q,1/m,和/c,数/m,组/q,3/m,之间/f,的/u,欧氏/nr,距离/n,。/w,两/m,相/d,比较/d,，/w,最/d,短/a,的/u,就/d,是/v,最/d,相似/a,的/u,。/w,从/p,数学/n,角度/n,来讲/u,，/w,欧氏/nr,距离/n,由/p,以下/f,方程式/n,进行/v,计算/v,。/w,图/n, ,1/m,:/w, ,欧氏/nr,距离/n,使用/v,这个/r,公式/n,，/w,我们/r,现在/t,可以/v,计算/v,上文/n,中/f,的/u,欧氏/nr,距离/n,d/en,(/w,a/en,1/m,,/w,a/en,2/m,)/w, ,=/w, ,sqrt/en,(/w, ,(/w,a/en,2/m,[/w,0/m,]/w,-/w,a/en,1/m,[/w,0/m,]/w,)/w,^,2/m, ,+/w, ,(/w,a/en,2/m,[/w,1/m,]/w,-/w,a/en,1/m,[/w,1/m,]/w,)/w,^,2/m, ,+/w, ,(/w,a/en,2/m,[/w,1/m,]/w,-/w,a/en,1/m,[/w,1/m,]/w,)/w,^,2/m, ,)/w, ,d/en,(/w,a/en,1/m,,/w,a/en,2/m,)/w, ,=/w, ,sqrt/en,(/w, ,(/w,1/m,-/w,1/m,)/w,^,2/m, ,+/w, ,(/w,3/m,-/w,2/m,)/w,^,2/m, ,+/w, ,(/w,2/m,-/w,3/m,)/w,^,2/m, ,)/w, ,d/en,(/w,a/en,1/m,,/w,a/en,2/m,)/w, ,=/w, ,sqrt/en,(/w, ,0/m,+/w,1/m,+/w,1/m, ,)/w, ,d/en,(/w,a/en,1/m,,/w,a/en,2/m,)/w, ,=/w, ,sqrt/en,(/w,2/m,)/w, ,=/w, ,1.4/m, ,d/en,(/w,a/en,1/m,,/w,a/en,3/m,)/w, ,=/w, ,sqrt/en,(/w, ,(/w,a/en,3/m,[/w,0/m,]/w,-/w,a/en,1/m,[/w,0/m,]/w,)/w,^,2/m, ,+/w, ,(/w,a/en,3/m,[/w,1/m,]/w,-/w,a/en,1/m,[/w,1/m,]/w,)/w,^,2/m, ,+/w, ,(/w,a/en,3/m,[/w,1/m,]/w,-/w,a/en,1/m,[/w,1/m,]/w,)/w,^,2/m, ,)/w, ,d/en,(/w,a/en,1/m,,/w,a/en,3/m,)/w, ,=/w, ,sqrt/en,(/w, ,(/w,3/m,-/w,1/m,)/w,^,2/m, ,+/w, ,(/w,2/m,-/w,2/m,)/w,^,2/m, ,+/w, ,(/w,1/m,-/w,3/m,)/w,^,2/m, ,)/w, ,d/en,(/w,a/en,1/m,,/w,a/en,3/m,)/w, ,=/w, ,sqrt/en,(/w, ,4/m,+/w,0/m,+/w,4/m, ,)/w, ,d/en,(/w,a/en,1/m,,/w,a/en,3/m,)/w, ,=/w, ,sqrt/en,(/w,8/m,)/w, ,=/w, ,2.3/m,从/p,结果/n,中/f,我们/r,可以/v,看出/v,数组/n,2/m,比/p,数/m,组/q,1/m,更为/d,接近/v,数/m,组/q,3/m,。/w,下面/f,的/u,javascript/en,代码/n,实现/v,了/u,欧氏/nr,距离/n,的/u,计算/v,。/w,encog/en,./w,mathutil/en,./w,euclideandistance/en, ,=/w, ,function/en, ,(/w,a/en,1/m,,/w, ,a/en,2/m,,/w, ,startindex/en,,/w, ,len/en,)/w, ,{/w, ,'/w,use/en, ,strict/en,'/w,;/w, ,var/en, ,result/en, ,=/w, ,0/m,,/w, ,i/en,,/w, ,diff/en,;/w, ,for/en, ,(/w,i/en, ,=/w, ,startindex/en,;/w, ,i/en, ,</w, ,(/w,startindex/en, ,+/w, ,len/en,)/w,;/w, ,i/en, ,+/w,=/w, ,1/m,)/w, ,{/w, ,diff/en, ,=/w, ,a/en,1/m,[/w,i/en,]/w, ,-/w, ,a/en,2/m,[/w,i/en,]/w,;/w, ,result/en, ,+/w,=/w, ,diff/en, ,*/w, ,diff/en,;/w, ,}/w, ,return/en, ,math/en,./w,sqrt/en,(/w,result/en,)/w,;/w, ,}/w,;/w,欧氏/nr,距离/n,可以/v,被/p,用/p,来/v,创建/v,一个/m,简单/a,的/u,光学/n,字符/n,辨识/v,实例/n,。/w,你/r,可以/v,在/p,下/f,图/n,中/f,看到/v,应用/vn,程序/n,运行/vn,实例/n,：/w,图/n, ,2/m,:/w, ,javascript/en,光学/n,字符/n,辨/vg,识/v,你/r,可以/v,在/p,下面/f,这个/r,url/en,中/f,查看/v,程序/n,的/u,运行/vn,实例/n,：/w,http/en,:/w,//w,//w,www/en,./w,heatonresearch/en,./w,com/en,//w,fun/en,//w,ocrhtml/en,5/m,（/w,启用/v,触控/nw,设备/n,）/w,的/u,javascript/en,应用/vn,程序/n,可以/v,通过/p,简单/a,的/u,欧氏/nr,距离/n,来/v,实现/v,基本/a,的/u,光学/n,字符/n,辨识/v,。/w,为了/p,使用/v,这个/r,示例/n,，/w,需要/v,在/p,下面/f,这个/r,大/a,的/u,矩形中/nw,绘制/v,一个/m,数字/n,，/w,然后/c,点击/v,“/w,recognize/en,”/w,（/w,识别/v,）/w,按钮/n,，/w,程序会/nw,尝试/vn,猜测/vn,你/r,画/v,的/u,这个/r,数字/n,。/w,虽然/c,准确性/n,并/c,不/d,是/v,特别/d,高/a,，/w,但/c,它/r,做/v,的/u,确实/ad,已经/d,很/d,不错/a,了/u,。/w,该/r,程序/n,已经/d,通过/p,了/u,数据/n,训练/vn,，/w,你/r,可以/v,移除/v,这些/r,数字/n,条目/n,中/f,的/u,任何/r,一个/m,，/w,或者/c,创建/v,你/r,自己/r,的/u,条目/n,。/w,如果/c,需要/v,训练/vn,一个/m,新/a,字符/n,的/u,ocr/en,，/w,只要/c,简单/a,绘/v,出/v,那个/r,字符/n,，/w,然后/c,点击/v,“/w,teach/en,”/w,（/w,教学/n,）/w,按钮/n,。/w,则/d,该/r,字符/n,就/d,会/v,被/p,增加/v,到/v,已知/nz,的/u,字符列表/nw,中/f,。/w,你/r,会/v,发现/v,，/w,你/r,所/u,绘制/v,的/u,任何/r,东西/n,都/d,是/v,先/d,剪裁/v,然后/c,向/p,下/f,采样/v,的/u,。/w,程序会/nw,对/p,你/r,所/u,绘制/v,的/u,高/a,分辨率/n,字符/n,向/p,下/f,采样/v,并/c,将/d,采样点/nw,分配/vn,到/v,5/m,×/w,8/m,网格/n,中/f,。/w,然后/c,将/d,这个/r,通过/p,向/p,下/f,采样/v,得到/v,的/u,网格/n,与/p,每个/r,数字/n,的/u,向/p,下/f,采样/v,网格/n,进行/v,比较/d,。/w,如果/c,要/v,查看/v,程序/n,中/f,经/p,训练/vn,后/f,得到/v,的/u,网格/n,，/w,需要/v,在/p,字符列表/nw,中/f,单击/v,你/r,希望/v,看到/v,的/u,字符/n,。/w,然后/c,程序会/nw,将/d,这个/r,网格/n,转换/v,成/v,一个/m,一/m,维数/nr,组/q,，/w,而/c,一个/m,5/m,×/w,8/m,的/u,网格/n,会/v,有/v,40个/m,数组/n,元素/n,。/w,以下/f,javascript/en,代码/n,执行/v,了/u,这个/r,搜索/vn,，/w,并且/c,实现/v,了/u,一个/m,欧氏/nr,距离/n,的/u,计算/v,var/en, ,c/en,,/w, ,data/en,,/w, ,sum/en,,/w, ,i/en,,/w, ,delta/en,;/w, ,for/en,(/w,c/en, ,in/en, ,chardata/en, ,)/w, ,{/w, ,data/en, ,=/w, ,chardata/en,[/w,c/en,]/w,;/w, ,//w,//w, ,现在/t,我们/r,将/d,会/v,识别/v,出/v,这个/r,画/v,出来/v,的/u,字母/n,./w, ,//w,//w, ,为此/l,，/w,我们/r,需要/v,利用/v,欧氏/nr,距离/n,来/v,计算/v, ,//w,//w, ,http/en,:/w,//w,//w,www/en,./w,heatonresearch/en,./w,com/en,//w,wiki/en,//w,euclidean/en,_,distance/en, ,（/w,这/r,是/v,欧氏/nr,距离/n,运行/vn,实例/n,的/u,url/en,）/w, ,sum/en, ,=/w, ,0/m,;/w, ,for/en,(/w,var/en, ,i/en, ,=/w, ,0/m,;/w, ,i/en,&/w,lt/en,;/w,data/en,./w,length/en,;/w, ,i/en,+/w,+/w, ,)/w, ,{/w, ,delta/en, ,=/w, ,data/en,[/w,i/en,]/w, ,-/w, ,downsampledata/en,[/w,i/en,]/w,;/w, ,sum/en, ,=/w, ,sum/en, ,+/w, ,(/w,delta/en,*/w,delta/en,)/w,;/w, ,}/w, ,sum/en, ,=/w, ,math/en,./w,sqrt/en,(/w,sum/en,)/w,;/w, ,//w,//w, ,最/d,基本/a,的/u,，/w,我们/r,需要/v,计算/v,的/u,是/v,欧氏/nr,距离/n, ,//w,//w, ,我们/r,画/v,上去/v,的/u,字母/n,，/w,我们/r,学习/v,的/u,每/r,一个/m,样本/n, ,//w,//w, ,程序/n,将/d,会/v,返回/v,欧氏/nr,距离/n,最小/a,的/u,那/r,个字符/n, ,if/en,(/w, ,sum/en,&/w,lt/en,;/w,bestscore/en, ,|/w,|/w, ,bestchar/en,=/w,=/w,'/w,?/w,?/w,'/w, ,)/w, ,{/w, ,bestscore/en, ,=/w, ,sum/en,;/w, ,bestchar/en, ,=/w, ,c/en,;/w, ,}/w, ,}/w,蜂拥算法/nw,这个/r,例子/n,展示/v,一个/m,名/q,为/p,flocking/en,（/w,蜂拥/v,）/w,的/u,迷人/a,的/u,简单/a,算法/n,。/w,此处/s,的/u,粒子/n,是/v,成群/v,存在/v,的/u,。/w,起初/d,的/u,时候/n,，/w,它们/r,各自/r,随机/d,出现/v,在/p,某个/r,位置/n,，/w,然而/c,，/w,这些/r,粒子/n,会/v,很快/d,地/u,填充/v,成/v,各种/r,形式/n,的/u,组/q,，/w,并/c,以/p,看似/v,复杂/a,的/u,模式/n,路线/n,飞行/vn,。/w,或者/c,你/r,也/d,可以/v,手动/b,点击/v,（/w,或者/c,触摸/v,）/w,一个/m,位置/n,，/w,这些/r,粒子/n,会/v,排斥/v,并/c,远离/v,你/r,的/u,接触点/nz,。/w,：/w,flocking/en,（/w,蜂拥算法/nw,）/w,你/r,可以/v,在线/vn,运行/vn,以下/f,url/en,的/u,实例/n,程序/n,：/w,http/en,:/w,//w,//w,www/en,./w,heatonresearch/en,./w,com/en,//w,fun/en,//w,flock/en,这个/r,实例/n,可能/v,需要/v,一分钟/t,（/w,大约/d,）/w,，/w,才/d,能/v,让/v,成熟/a,的/u,蜂拥/v,集群/nz,出现/v,。/w,即使/c,这些/r,集群/nz,出现/v,了/u,，/w,它们/r,也/d,经常/d,会/v,再次/d,分裂/v,和/c,重组/vn,。/w,重启/v,时/ng,点击/v,“/w,clear/en,”/w,（/w,清除/v,）/w,,/w,或者/c,也/d,可以/v,点击/v,“/w,big/en, ,bang/en,”/w,（/w,大/a,爆炸/v,模式/n,）/w,，/w,该/r,模式/n,不/d,会/v,使用/v,任何/r,随机/d,的/u,初始化/v,，/w,而是/c,将/d,粒子/n,统一/vn,放置/v,在/p,面板/n,中央/n,，/w,并且/c,以/p,粒子/n,设定/v,的/u,“/w,复杂/a,模式/n,”/w,迅速/ad,向/p,外/f,移动/vn,。/w,克雷格·雷诺兹/nrf,在/p,1986年/t,首次/m,用/p,他/r,的/u,模拟/b,程序/n,boids/en,在/p,计算机/n,上/f,成功/a,模拟/b,出/v,了/u,蜂拥算法/nw,。/w,蜂拥/v,集群/nz,是/v,一种/mq,非常/d,复杂/a,的/u,行为/n,。/w,他/r,在/p,不同/a,种类/n,的/u,动物/n,中/f,有/v,各自/r,表现/v,形式/n,，/w,各自/r,使用/v,了/u,很多/m,不同/a,的/u,名字/n,。/w,比如/v,一群/mq,小鸟/n,，/w,一群/mq,昆虫/n,，/w,一个/m,学校/n,的/u,鱼群/n,，/w,一群/mq,牛/n,等等/u,。/w,其实/d,就/d,是/v,用/p,不同/a,的/u,名字/n,来/v,描述/v,本质/n,相同/a,的/u,行为/n,。/w,初/f,看上去/v,，/w,蜂拥算法/nw,可能/v,看似/v,复杂/a,。/w,因为/c,我们/r,需要/v,创建/v,一个/m,对象/n,来/v,处理/v,集群/nz,中/f,的/u,个体/n,、/w,需要/v,定义/n,一个/m,蜂拥/v,对象/n,来/v,容纳/v,集群/nz,成员/n,、/w,需要/v,为/p,确定/v,蜂拥/v,集群/nz,应该/v,向/p,哪个/r,方向/n,移动/vn,而/c,制定/v,常规/n,行为/n,。/w,我们/r,还/d,必须/d,确定/v,如何/r,将/d,蜂拥/v,集群/nz,分/q,成/v,两群/mq,或者/c,更/d,多/a,的/u,群/q,。/w,那么/r,问题/n,是/v,什么样/r,的/u,标准/n,可以/v,决定/v,某个/r,群体/n,可以/v,得到/v,成员/n,数量/n,？/w,新/a,成员/n,如何/r,被/p,确认/v,是/v,属于/v,哪/r,一个/m,集群/nz,？/w,你/r,可以/v,在/p,下面/f,内容/n,中/f,看到/v,一些/m,真实/a,的/u,蜂拥/v,集群/nz,例子/n,。/w,蜂拥算法/nw,其实/d,很/d,简单/a,，/w,它/r,只/d,有/v,三条/mq,规则/n,：/w,分离/v, ,：/w,远离/v,拥挤/a,的/u,邻居/n,（/w,短距离/n,相互/d,排斥/v,）/w,对齐/v, ,：/w,趋/v,近/a,于/p,邻居/n,的/u,平均/a,方向/n,内聚/nw, ,：/w,转向/v,邻居/n,的/u,平均/a,距离/n,位置/n,（/w,长距离/d,相互/d,吸引/v,）/w,这/r,三个/m,基本/a,规则/n,是/v,必需/v,的/u,。/w,蜂拥算法/nw,其实/d,就/d,是/v,“/w,简单/a,的/u,复杂/a,”/w,的/u,典型/n,例子/n,。/w,我/r,希望/v,这个/r,例子/n,能够/v,尽可能/d,的/u,简单/a,，/w,但是/c,仍然/d,表现/v,出/v,看似/v,复杂/a,的/u,行为/n,方式/n,。/w,其实/d,这些/r,粒子/n,都/d,是/v,以/p,恒定/an,的/u,速度/n,运行/vn,的/u,，/w,每个/r,粒子/n,都/d,有/v,一个/m,角度/n,属性/n,来/v,定义/n,粒子/n,运动/n,的/u,方向/n,。/w,所以/c,这些/r,粒子/n,不/d,可以/v,加速/v,或者/c,减速/v,，/w,唯一/b,可以/v,做到/v,是/v,转向/v,。/w,上述/b,的/u,三种/mq,规则/n,其实/d,是/v,分别/d,为/p,粒子/n,的/u,运动/n,设定/v,好/a,了/u,一个/m,“/w,理想/n,的/u,角度/n,”/w,，/w,遵守/v,这/r,三种/mq,规则/n,的/u,期望/v,被/p,特定/b,的/u,百分比/n,属性/n,所/u,抑制/v,。/w,这些/r,抑制/v,因子/n,是/v,你/r,在/p,底部/f,看到/v,的/u,三个/m,数字/n,。/w,你/r,可以/v,尝试/vn,填/v,入/v,一些/m,数字/n,，/w,看看/v,它们/r,是/v,如何/r,影响/vn,集群/nz,粒子/n,的/u,运动/n,轨迹/n,的/u,。/w,其实/d,有/v,很多/m,的/u,数字/n,组合/v,不/d,会/v,产生/v,集群/nz,的/u,行为/n,，/w,而/c,我/r,在/p,实例/n,中/f,填/v,入/v,的/u,默认值/nw,是/v,比较/d,合适/a,的/u,。/w,如果/c,你/r,想/v,单独/d,查看/v,这/r,三种/mq,规则/n,中/f,单独/d,一条/mq,生效/v,时/ng,的/u,结果/n,，/w,那么/r,可以/v,将/d,该/r,规则/n,设置/v,为/p,1.0/m,，/w,其它/r,的/u,规则/n,设置/v,为/p,0.0/m,。/w,例如/v,当/p,内聚/nw,的/u,规则/n,单独/d,生效/v,时/ng,，/w,你/r,会/v,所有/b,的/u,粒子/n,会/v,聚集/v,在/p,面板/n,区域/n,中/f,少数/m,的/u,几/m,个/q,位置/n,。/w,在/p,这个/r,区域/n,中/f,不/d,存在/v,任何/r,随机性/n,。/w,除了/p,粒子/n,最初/d,出现/v,的/u,位置/n,是/v,随机/d,的/u,之外/f,，/w,不/d,会/v,产生/v,更/d,多/a,的/u,随机数/n,。/w,你/r,甚至/d,可以/v,点击/v,“/w,big/en, ,bang/en,”/w,（/w,大/a,爆炸/v,模式/n,）/w,按钮/n,，/w,来/v,消除/v,系统/n,中/f,所有/b,的/u,随机性/n,。/w,如果/c,你/r,点击/v,了/u,“/w,big/en, ,bang/en,”/w,按钮/n,，/w,则/d,所有/b,的/u,粒子/n,都/d,会/v,被/p,放置/v,到/v,区域/n,的/u,中心/n,位置/n,，/w,并/c,以/p,同样/d,的/u,方向/n,运动/n,。/w,如此一来/l,，/w,要/v,形成/v,一幅/mq,复杂/a,的/u,运动/n,模式/n,并/c,不/d,会/v,花费/v,很/d,长/a,时间/n,。/w,所以/c,对于/p,用/p,非常/d,简单/a,的/u,规则/n,来/v,实现/v,非常/d,复杂/a,的/u,系统/n,来说/u,，/w,蜂拥算法/nw,是/v,一个/m,非常/d,典型/n,的/u,例子/n,。/w,理解/v,欧氏/nr,距离/n,对于/p,例子/n,很/d,重要/a,。/w,因为/c,每个/r,粒子/n,都/d,有/v,两个/m,维度/n,，/w,分别/d,是/v,x/en,坐标/n,和/c,y/en,坐标/n,。/w,利用/v,欧氏/nr,距离/n,的/u,计算/v,方法/n,，/w,我们/r,就/d,可以/v,很快/d,找到/v,最近/t,的/u,邻居/n,。/w,由此/d,即/v,引入/v,了/u,另/r,一种/mq,重要/a,的/u,机器/n,学习/v,算法/n,，/w,即/v,“/w,k/en,-/w,邻近/v,算法/n,”/w,。/w,这个/r,k/en,就/d,是/v,你/r,希望/v,找到/v,的/u,邻居/n,的/u,数量/n,。/w,这/r,三种/mq,规则/n,可以/v,很/d,容易/a,的/u,用/p,javascript/en,实现/v,。/w,首先/d,，/w,我们/r,计算/v,出/v,理想/n,的/u,分离/v,角度/n,。/w,//w,//w, ,1/m,./w, ,隔离/vn,-/w,避免/v,拥挤/a,的/u,邻居/n, ,(/w,短/a,距离/n,的/u,排/v,斥力/n,)/w, ,separation/en, ,=/w, ,0/m,;/w, ,if/en, ,(/w,nearest/en,./w,length/en, ,>, ,0/m,)/w, ,{/w, ,meanx/en, ,=/w, ,encog/en,./w,arrayutil/en,./w,arraymean/en,(/w,nearest/en,,/w, ,0/m,)/w,;/w, ,meany/en, ,=/w, ,encog/en,./w,arrayutil/en,./w,arraymean/en,(/w,nearest/en,,/w, ,1/m,)/w,;/w, ,dx/en, ,=/w, ,meanx/en, ,-/w, ,this/en,./w,agentsi/en,;/w, ,dy/en, ,=/w, ,meany/en, ,-/w, ,this/en,./w,agentsi/en,;/w, ,separation/en, ,=/w, ,(/w,math/en,./w,atan/en,2/m,(/w,dx/en,,/w, ,dy/en,)/w, ,\/w,*/w, ,180/m, ,//w, ,math/en,./w,pi/en,)/w, ,-/w, ,this/en,./w,agentsi/en,;/w, ,separation/en, ,+/w,=/w, ,180/m,;/w, ,}/w,首先/d,，/w,我们/r,需要/v,计算/v,出/v,所有/b,邻居/n,粒子/n,的/u,x/en,坐标/n,的/u,平均值/n,和/c,y/en,坐标/n,的/u,平均值/n,，/w,这个/r,平均/a,坐标点/nw,就/d,是/v,邻近/v,集群/nz,的/u,中心点/nz,。/w,然后/c,，/w,借用/v,一些/m,三角/n,函数/n,中/f,的/u,知识/n,，/w,计算/v,出/v,我们/r,和/c,邻近/v,集群中心点/nt,之间/f,的/u,夹角值/nw,。/w,对/p,这个/r,夹角值/nw,加上/v,180/m,，/w,因为/c,我们/r,是/v,希望/v,远离/v,这个/r,邻近/v,的/u,邻居/n,的/u,（/w,进而/c,我们/r,就/d,不/d,会/v,撞/v,到/v,它们/r,）/w,。/w,这个/r,才/d,是/v,我们/r,应该/v,努力/ad,争取/v,的/u,理想/n,分离/v,角度/n,。/w,紧接着/c,，/w,我们/r,会/v,计算/v,出/v,理想/n,的/u,对/p,齐/d,角度/n,。/w,如下/v,代码/n,所/u,示/vg,。/w,//w,//w, ,2/m,./w, ,对齐/v,-/w,转向/v,邻居/n,的/u,平均/a,方向/n, ,alignment/en, ,=/w, ,0/m,;/w, ,if/en, ,(/w,neighbors/en,./w,length/en, ,>, ,0/m,)/w, ,{/w, ,alignment/en, ,=/w, ,encog/en,./w,arrayutil/en,./w,arraymean/en,(/w,neighbors/en,,/w, ,2/m,)/w, ,-/w, ,this/en,./w,agents/en,[/w,i/en,]/w,[/w,2/m,]/w,;/w, ,}/w,对/p,齐/d,非常/d,简单/a,，/w,其实/d,就/d,是/v,所有/b,邻居/n,的/u,平均/a,角度/n,。/w,接下来/l,我们/r,计算/v,内聚力/n,。/w,为此/l,我们/r,再/d,来/v,看看/v,邻居/n,，/w,不过/c,这/r,回/v,考虑/v,的/u,是/v,一个/m,更/d,大/a,的/u,集合/v,，/w,几乎/d,包括/v,了/u,所有/b,的/u,粒子/n,。/w,//w,//w, ,3/m,./w, ,内聚/nw,-/w,转向/v,邻居/n,的/u,平均/a,位置/n,(/w,长距离/d,的/u,吸引力/n,)/w, ,cohesion/en, ,=/w, ,0/m,;/w, ,if/en, ,(/w,neighbors/en,./w,length/en, ,>, ,0/m,)/w, ,{/w, ,meanx/en, ,=/w, ,encog/en,./w,arrayutil/en,./w,arraymean/en,(/w,this/en,./w,agents/en,,/w, ,0/m,)/w,;/w, ,meany/en, ,=/w, ,encog/en,./w,arrayutil/en,./w,arraymean/en,(/w,this/en,./w,agents/en,,/w, ,1/m,)/w,;/w, ,dx/en, ,=/w, ,meanx/en, ,-/w, ,this/en,./w,agents/en,[/w,i/en,]/w,[/w,0/m,]/w,;/w, ,dy/en, ,=/w, ,meany/en, ,-/w, ,this/en,./w,agents/en,[/w,i/en,]/w,[/w,1/m,]/w,;/w, ,cohesion/en, ,=/w, ,(/w,math/en,./w,atan/en,2/m,(/w,dx/en,,/w, ,dy/en,)/w, ,*/w, ,180/m, ,//w, ,math/en,./w,pi/en,)/w, ,-/w, ,this/en,./w,agents/en,[/w,i/en,]/w,[/w,2/m,]/w,;/w, ,}/w,现在/t,我们/r,从/p,这个/r,规则/n,中/f,得到/v,了/u,理想/n,的/u,角度/n,，/w,那么/r,必须/d,要/v,开始/v,转动/v,粒子/n,（/w,或者/c,说是/v,代理/vn,）/w,了/u,。/w,//w,//w, ,执行/v,转向/v,操作/v, ,//w,//w, ,这/r,三种/mq,规则/n,的/u,参数/n,应用值/nw,是/v,可以/v,配置/vn,的/u, ,//w,//w, ,我/r,提供/v,的/u,这/r,三个/m,默认值/nw,比例/n,的/u,运行/vn,表现/v,很/d,好/a, ,turnamount/en, ,=/w, ,(/w,cohesion/en, ,*/w, ,this/en,./w,constcohesion/en,)/w, ,+/w, ,(/w,alignment/en, ,*/w, ,this/en,./w,constalignment/en,)/w, ,+/w, ,(/w,separation/en, ,*/w, ,this/en,./w,constseparation/en,)/w,;/w, ,this/en,./w,agents/en,[/w,i/en,]/w,[/w,2/m,]/w, ,+/w,=/w, ,turnamount/en,;/w,到/v,目前/t,为止/u,，/w,我们/r,研究/vn,的/u,技术/n,并/c,不/d,是/v,随机性/n,的/u,，/w,而是/c,可以/v,被/p,认定/v,为/p,决定性/n,的/u,。/w,也就是说/l,得到/v,的/u,结果/n,总是/d,可以/v,预测/v,的/u,。/w,对于/p,本文/r,的/u,内容/n,的/u,排版/v,，/w,我们/r,会/v,做出/v,180度/mq,的/u,调整/vn,，/w,剩下/v,的/u,技术/n,都/d,是/v,研究/vn,随机性/n,的/u,。/w,也/d,就是/d,用/p,随机性/n,来/v,解决/v,问题/n,。/w,旅行/v,推销员/n,问题/n,（/w,tsp/en,问题/n,）/w,旅行/v,推销员/n,问题/n,（/w,tsp/en,）/w,意/ng,为/p,存在/v,一名/mq,“/w,推销员/n,”/w,，/w,他/r,必须/d,经过/p,一定/d,数量/n,的/u,城市/n,，/w,而/c,这/r,条/q,最/d,短/a,的/u,旅行/v,路线/n,就/d,是/v,我们/r,寻找/v,的/u,目标/n,。/w,其中/r,允许/v,推销员/n,从/p,任意/d,一个/m,城市/n,开始/v,或者/c,结束/v,。/w,唯一/b,的/u,要求/v,是/v,“/w,推销员/n,”/w,必须/d,经过/p,每/r,一个/m,城市/n,并且/c,只能/v,经过/p,一次/mq,。/w,如果/c,用/p,一般/a,的/u,迭代/vn,程序/n,实现/v,，/w,这/r,似乎/d,是/v,一个/m,简单/a,的/u,任务/n,。/w,思考/v,一下/m,随着/p,城市/n,数量/n,的/u,增加/v,，/w,可能/v,的/u,排列/v,组合/v,数量/n,会/v,增加/v,多少/r,。/w,如果/c,只/d,有/v,一两个/m,城市/n,，/w,那/r,只/d,需要/v,一步/mq,迭代/vn,就/d,够/v,了/u,。/w,如果/c,是/v,三个/m,城市/n,呢/y,，/w,迭代/vn,步骤/n,就/d,变成/v,了/u,6步/mq,。/w,表格/n,8/m,-/w,1/m,列举/v,出/v,了/u,迭代/vn,步骤/n,的/u,增长/v,速度/n,。/w,表/n,1/m,：/w,用/p,常规/n,程序/n,解决/v,tsp/en,问题/n,的/u,步骤/n,数目/n,表格/n,中/f,的/u,计算/v,公式/n,就/d,是/v,阶乘/nw,。/w,步骤/n,数目/n,n/en,的/u,数量/n,就/d,是/v,用/p,阶乘/nw,符号/n,!/w,计算/v,的/u,。/w,任意/d,n/en,值/n,的/u,阶乘/nw,计算/v,方式/n,是/v,n/en,×/w,(/w,n/en,−,1/m,)/w, ,×/w,(/w,n/en,−,2/m,)/w,./w,./w,./w,./w,./w,./w,./w,3/m,×/w,2/m,×/w,1/m,由/p,这个/r,公式/n,不/d,难/a,看/v,出/v,当/p,一个/m,程序/n,必须/d,使用/v,“/w,暴力/n,”/w,方式/n,进行/v,搜索/vn,时/ng,，/w,这些/r,数值/n,会/v,变/v,得/u,非常/d,大/a,。/w,在/p,下/f,一节/mq,的/u,讨论/v,中/f,，/w,我们/r,使用/v,的/u,示例/n,程序会/nw,在/p,几/m,分钟/q,内/f,找到/v,一个/m,能/v,解决/v,50个/m,城市/n,问题/n,的/u,解决/v,方案/n,，/w,这个/r,程序/n,用/p,到/v,是/v,模拟/b,退火法/nw,的/u,思路/n,，/w,而/c,不/d,是/v,使用/v,普通/a,的/u,暴力/n,搜索/vn,。/w,模拟/b,退火法/nw,模拟/b,退火法/nw,是/v,一种/mq,模拟/b,退火/v,的/u,物理/n,过程/n,的/u,编程/vn,方法/n,，/w,退火/v,是/v,指/v,将/d,某种/r,材料/n,（/w,比如/v,钢铁/n,或者/c,玻璃/n,）/w,加热/vn,后/f,再/d,冷却/vn,的/u,方法/n,，/w,通常/d,用/p,来/v,软化/v,材料/n,以及/c,降低/v,材料/n,硬度/n,。/w,由此可知/l,，/w,模拟/b,退火法/nw,就是/d,将/d,一个/m,“/w,解决/v,方案/n,”/w,暴露/v,在/p,“/w,热/a,处理/v,”/w,的/u,环境/n,中/f,，/w,然后/c,进行/v,冷却/vn,处理/v,进而/c,产生/v,一个/m,更/d,好/a,的/u,解决/v,方案/n,。/w,你/r,可以/v,在/p,下面/f,的/u,url/en,中/f,运行/vn,模拟/b,退火法/nw,的/u,示例/n,程序/n,。/w,http/en,:/w,//w,//w,www/en,./w,heatonresearch/en,./w,com/en,//w,fun/en,//w,tsp/en,//w,anneal/en,模拟/b,退火法/nw,是/v,通过/p,从/p,起始/vn,温度/n,到/v,结束/v,温度/n,的/u,多次/m,迭代/vn,进行/v,实现/v,的/u,。/w,循环/vn,计数/v,允许/v,你/r,指定/v,温度/n,下降/v,的/u,粒度/n,。/w,温度/n,越/d,高/a,，/w,系统/n,引入/v,的/u,随机性/n,就/d,越/d,高/a,。/w,你/r,可以/v,配置/vn,这/r,三个/m,参数/n,的/u,值/n,。/w,下面/f,的/u,javascript/en,代码/n,实现/v,了/u,模拟/b,退火法/nw,anneal/en,./w,randomize/en, ,=/w, ,function/en,(/w,path/en,,/w, ,temperature/en,)/w, ,{/w, ,var/en, ,length/en, ,=/w, ,path/en,./w,length/en, ,-/w, ,1/m,;/w, ,//w,//w, ,调整/vn,路径/n,上/f,城市/n,的/u,次序/n,（/w,即/v,模拟/b,退火/v,）/w, ,for/en, ,(/w,var/en, ,i/en, ,=/w, ,0/m,;/w, ,i/en, ,</w, ,temperature/en,;/w, ,i/en,+/w,+/w,)/w, ,{/w, ,var/en, ,index/en,1/m, ,=/w, ,math/en,./w,floor/en,(/w,length/en, ,*/w, ,math/en,./w,random/en,(/w,)/w,)/w,;/w, ,var/en, ,index/en,2/m, ,=/w, ,math/en,./w,floor/en,(/w,length/en, ,*/w, ,math/en,./w,random/en,(/w,)/w,)/w,;/w, ,var/en, ,d/en, ,=/w, ,universe/en,./w,pathdistance/en,(/w,path/en,,/w, ,index/en,1/m,,/w, ,index/en,1/m, ,+/w, ,1/m,)/w, ,+/w, ,universe/en,./w,pathdistance/en,(/w,path/en,,/w, ,index/en,2/m,,/w, ,index/en,2/m, ,+/w, ,1/m,)/w, ,-/w, ,universe/en,./w,pathdistance/en,(/w,path/en,,/w, ,index/en,1/m,,/w, ,index/en,2/m,)/w, ,-/w, ,universe/en,./w,pathdistance/en,(/w,path/en,,/w, ,index/en,1/m, ,+/w, ,1/m,,/w, ,index/en,2/m, ,+/w, ,1/m,)/w,;/w, ,if/en, ,(/w,d/en, ,>, ,0/m,)/w, ,{/w, ,//w,//w, ,如果/c,需要/v,的/u,话/n,对/p,index/en,1/m, ,和/c, ,index/en,2/m,进行/v,排序/vn, ,if/en, ,(/w,index/en,2/m, ,</w, ,index/en,1/m,)/w, ,{/w, ,var/en, ,temp/en, ,=/w, ,index/en,1/m,;/w, ,index/en,1/m, ,=/w, ,index/en,2/m,;/w, ,index/en,2/m, ,=/w, ,temp/en,;/w, ,}/w, ,for/en, ,(/w,;/w, ,index/en,2/m, ,>, ,index/en,1/m,;/w, ,index/en,2/m,--/nrf,)/w, ,{/w, ,var/en, ,temp/en, ,=/w, ,path/en,[/w,index/en,1/m, ,+/w, ,1/m,]/w,;/w, ,path/en,[/w,index/en,1/m, ,+/w, ,1/m,]/w, ,=/w, ,path/en,[/w,index/en,2/m,]/w,;/w, ,path/en,[/w,index/en,2/m,]/w, ,=/w, ,temp/en,;/w, ,index/en,1/m,+/w,+/w,;/w, ,}/w, ,}/w, ,}/w, ,}/w,上面/f,的/u,随机化/nw,函数/n,是/v,专门/d,为/p,tsp/en,问题/n,定义/n,的/u,。/w,在/p,encog/en,框架/n,中/f,模拟/b,退火法/nw,是/v,通用/vn,的/u,，/w,相对于/nw,tsp/en,独立/v,。/w,所以/c,你/r,必须/d,为/p,你/r,希望/v,解决/v,的/u,问题/n,提供/v,一个/m,随机/d,函数/n,。/w,基本/a,来说/u,，/w,随机化/nw,函数/n,会/v,根据/p,温度/n,对/p,城市/n,的/u,旅行/v,路线/n,进行/v,修正/v,。/w,上面/f,的/u,函数/n,只是/d,简单/a,地/u,根据/p,温度/n,将/d,旅行/v,路线/n,中/f,的/u,路线/n,上/f,经过/p,城市/n,次序/n,进行/v,对换/nw,。/w,温度/n,越/d,高/a,，/w,对换/nw,的/u,次数/n,越/d,多/a,。/w,随机/d,城市/n,这个/r,程序/n,的/u,常见/a,用/p,法/j,是/v,将/d,随机/d,几/m,个/q,城市/n,放置/v,地图/n,上/f,，/w,这些/r,城市/n,出现/v,在/p,地图/n,上/f,的/u,随机/d,的/u,几/m,个/q,位置/n,。/w,随机/d,城市/n,问题/n,的/u,排列/v,组合/v,相比/v,于/p,其他/r,的/u,固定/a,城市/n,组合/v,要/v,更/d,困难/an,一些/m,。/w,在/p,下/f,图/n,中/f,你/r,可以/v,看到/v,包含/v,了/u,50个/m,随机/d,的/u,城市/n,的/u,地图/n,。/w,图/n, ,4/m,：/w,随机/d,城市/n,一旦/d,解决/v,了/u,这/r,组/q,随机/d,城市/n,tsp/en,问题/n,，/w,结果/n,就/d,如/v,下/f,图/n,所/u,示/vg,。/w,图/n, ,5/m,：/w,可能/v,的/u,解决/v,方案/n,你/r,可能/v,想/v,要/v,通过/p,改变/v,参数/n,来/v,评估/vn,模拟/b,退火法/nw,的/u,实际/n,效果/n,，/w,为此/l,需要/v,重新/d,运行/vn,该/r,程序/n,，/w,并且/c,你/r,应该/v,随机化/nw,旅行/v,路线/n,。/w,这样/r,你/r,就/d,可以/v,用/p,相同/a,的/u,城市/n,配置/vn,重新/d,开始/v,。/w,城市/n,圈/q,你/r,可以/v,将/d,城市/n,位置/n,以/p,椭圆/n,的/u,形状/n,进行/v,排列/v,，/w,这样/r,就/d,更/d,容易/a,理解/v,模拟/b,退火法/nw,是/v,如何/r,演化/vn,出/v,最佳/z,解决/v,方案/n,的/u,。/w,围绕/v,一个/m,椭圆/n,的/u,最/d,优/ag,路径/n,与/p,它/r,的/u,周长/nr,形状/n,类似/v,。/w,在/p,这里/r,你/r,可以/v,利用/v,模拟/b,退火法/nw,，/w,找到/v,一条/mq,几乎/d,就/d,是/v,最/d,优/ag,的/u,路径/n,。/w,图/n, ,6/m,：/w,城市/n,圈/q,遗传/vn,算法/n,利用/v,遗传/vn,算法/n,（/w,ga/en,）/w,可以/v,得到/v,tsp/en,问题/n,的/u,潜在/b,解决/v,方案/n,。/w,ga/en,是/v,通过/p,简单/a,的/u,进化/vn,操作/v,来/v,创建/v,一个/m,能够/v,不断/d,改进/v,的/u,解决/v,方案/n,。/w,这/r,整个/b,过程/n,就/d,相当/d,于/p,生物/n,遗传/vn,进化/vn,的/u,精简/v,版/n,。/w,进化/vn,其实/d,就/d,是/v,通过/p,交叉/vn,和/c,突变/vn,实现/v,的/u,，/w,所以/c,当/p,两个/m,解决/v,方案/n,“/w,交配/vn,”/w,并/c,产生/v,后代/n,时/ng,，/w,就/d,相当/d,于/p,发生/v,了/u,交叉/vn,。/w,而/c,当/p,单一/a,的/u,解决/v,方案/n,稍微/d,有所/v,改变/v,时/ng,就/d,相当/d,于/p,引发/v,了/u,突变/vn,。/w,类似/v,于/p,模拟/b,退火法/nw,，/w,ga/en,（/w,遗传/vn,算法/n,）/w,也/d,是/v,随机/d,的/u,。/w,在/p,交叉/vn,过程/n,中/f,会/v,由/p,随机性/n,来/v,决定/v,父本/n,和/c,母本/n,会/v,遗产/n,什么样/r,的/u,特征/n,给/p,子代/n,。/w,你/r,可以/v,在/p,下面/f,的/u,url/en,中/f,在线/vn,查看/v,tsp/en,(/w,旅行/v,推销员/n,问题/n,)/w,的/u,遗传/vn,算法/n,应用/vn,程序/n,：/w,http/en,:/w,//w,//w,www/en,./w,heatonresearch/en,./w,com/en,//w,fun/en,//w,tsp/en,//w,genetic/en,为了/p,使用/v,encog/en,框架/n,中/f,自/p,带/v,的/u,遗传/vn,算法/n,，/w,你/r,必须/d,定义/n,变异/n,和/c,交叉/vn,这/r,两个/m,操作/v,，/w,它们/r,的/u,实现/v,取决于/v,你/r,正在/d,寻找/v,的/u,解决/v,方案/n,的/u,类型/n,。/w,下面/f,的/u,代码/n,定义/n,了/u,tsp/en,问题/n,的/u,突变/vn,操作/v,。/w,genetic/en,./w,mutate/en, ,=/w, ,function/en, ,performmutation/en,(/w,data/en,)/w, ,{/w, ,var/en, ,iswap/en,1/m, ,=/w, ,math/en,./w,floor/en,(/w,math/en,./w,random/en,(/w,)/w, ,*/w, ,data/en,./w,length/en,)/w,;/w, ,var/en, ,iswap/en,2/m, ,=/w, ,math/en,./w,floor/en,(/w,math/en,./w,random/en,(/w,)/w, ,*/w, ,data/en,./w,length/en,)/w,;/w, ,//w,//w, ,不/d,相等/v,时/ng, ,if/en, ,(/w,iswap/en,1/m, ,=/w,=/w, ,iswap/en,2/m,)/w, ,{/w, ,//w,//w, ,继续/v,下/f,一步/mq, ,//w,//w, ,但是/c,，/w,不要/d,出界/vn, ,if/en, ,(/w,iswap/en,1/m, ,>, ,0/m,)/w, ,{/w, ,iswap/en,1/m,--/nrf,;/w, ,}/w, ,else/en, ,{/w, ,iswap/en,1/m,+/w,+/w,;/w, ,}/w, ,}/w, ,var/en, ,t/en, ,=/w, ,data/en,[/w,iswap/en,1/m,]/w,;/w, ,data/en,[/w,iswap/en,1/m,]/w, ,=/w, ,data/en,[/w,iswap/en,2/m,]/w,;/w, ,data/en,[/w,iswap/en,2/m,]/w, ,=/w, ,t/en,;/w, ,}/w,这/r,段/q,代码/n,与/p,模拟/b,退火法/nw,的/u,随机化/nw,操作/v,非常/d,类似/v,。/w,本质/n,上/f,，/w,程序/n,对/p,列表/v,中/f,的/u,两个/m,城市/n,进行/v,了/u,交换/v,操作/v,。/w,所以/c,我们/r,必须/d,保证/v,这/r,两个/m,随机/d,城市/n,是/v,不/d,相同/a,的/u,，/w,因为/c,一旦/d,相同/a,，/w,这/r,两个/m,城市/n,就/d,不/d,会/v,发生/v,交换/v,。/w,交叉/vn,操作/v,比较/d,复杂/a,。/w,下面/f,的/u,代码/n,实现/v,了/u,交叉/vn,函数/n,。/w,genetic/en,./w,crossover/en, ,=/w, ,function/en, ,performcrossover/en,(/w,motherarray/en,,/w, ,fatherarray/en,,/w, ,child/en,1/m,array/en,,/w, ,child/en,2/m,array/en,)/w, ,{/w, ,//w,//w, ,染色体/n,（/w,此处/s,泛指/vn,遗传/vn,特性/n,）/w,必须/d,在/p,两个/m,位置/n,被/p,切割/v,，/w,并/c,确定/v,他们/r,。/w, ,var/en, ,cutlength/en, ,=/w, ,motherarray/en,./w,length/en, ,//w, ,5/m,;/w, ,var/en, ,cutpoint/en,1/m, ,=/w, ,math/en,./w,floor/en,(/w,math/en,./w,random/en,(/w,)/w, ,*/w, ,(/w,motherarray/en,./w,length/en, ,-/w, ,cutlength/en,)/w,)/w,;/w, ,var/en, ,cutpoint/en,2/m, ,=/w, ,cutpoint/en,1/m, ,+/w, ,cutlength/en,;/w, ,//w,//w, ,记录/v,这/r,两个/m,子代/n,中/f,每/r,一个/m,染色体/n,中/f,所/u,带/v,的/u,基因/n,，/w,默/vd,认为/v,false/en, ,var/en, ,taken/en,1/m, ,=/w, ,{/w,}/w,;/w, ,var/en, ,taken/en,2/m, ,=/w, ,{/w,}/w,;/w, ,//w,//w, ,处理/v,削减/v,的/u,染色体/n,部分/n, ,for/en, ,(/w,var/en, ,i/en, ,=/w, ,0/m,;/w, ,i/en, ,</w, ,motherarray/en,./w,length/en,;/w, ,i/en,+/w,+/w,)/w, ,{/w, ,if/en, ,(/w,!/w,(/w,(/w,i/en, ,</w, ,cutpoint/en,1/m,)/w, ,|/w,|/w, ,(/w,i/en, ,>, ,cutpoint/en,2/m,)/w,)/w,)/w, ,{/w, ,child/en,1/m,array/en,[/w,i/en,]/w, ,=/w, ,fatherarray/en,[/w,i/en,]/w,;/w, ,child/en,2/m,array/en,[/w,i/en,]/w, ,=/w, ,motherarray/en,[/w,i/en,]/w,;/w, ,taken/en,1/m,[/w,fatherarray/en,[/w,i/en,]/w,]/w, ,=/w, ,true/en,;/w, ,taken/en,2/m,[/w,motherarray/en,[/w,i/en,]/w,]/w, ,=/w, ,true/en,;/w, ,}/w, ,}/w, ,//w,//w, ,处理/v,外部/f,的/u,染色体/n,部分/n, ,for/en, ,(/w,var/en, ,i/en, ,=/w, ,0/m,;/w, ,i/en, ,</w, ,motherarray/en,./w,length/en,;/w, ,i/en,+/w,+/w,)/w, ,{/w, ,if/en, ,(/w,(/w,i/en, ,</w, ,cutpoint/en,1/m,)/w, ,|/w,|/w, ,(/w,i/en, ,>, ,cutpoint/en,2/m,)/w,)/w, ,{/w, ,child/en,1/m,array/en,[/w,i/en,]/w, ,=/w, ,getnottaken/en,(/w,motherarray/en,,/w,taken/en,1/m,)/w,;/w, ,child/en,2/m,array/en,[/w,i/en,]/w, ,=/w, ,getnottaken/en,(/w,fatherarray/en,,/w,taken/en,2/m,)/w,;/w, ,}/w, ,}/w, ,}/w,;/w,上面/f,代码/n,的/u,原理/n,如下/v,：/w,在/p,城市/n,的/u,道路/n,上/f,取/v,两个/m,“/w,切点/n,”/w,，/w,这/r,就/d,意味/n,着/u,把/p,父本/n,和/c,母本/n,的/u,特性/n,都/d,各自/r,分割/v,成/v,了/u,三份/mq,，/w,父本/n,和/c,母本/n,有着/v,相同/a,的/u,切点/n,。/w,这些/r,切割/v,的/u,规模/n,是/v,随机/d,的/u,，/w,然后/c,通过/p,交换/v,父辈/n,的/u,三份/mq,来/v,创建/v,两个/m,子代/n,。/w,例如/v,，/w,观察/v,下面/f,的/u,父本/n,和/c,母本/n,。/w,[/w,m/en,1/m,,/w, ,m/en,2/m,,/w, ,m/en,3/m, ,,/w,m/en,4/m,,/w, ,m/en,5/m,,/w, ,m/en,6/m,,/w, ,m/en,7/m,,/w, ,m/en,8/m,,/w, ,m/en,9/m,,/w, ,m/en,10/m,]/w, ,[/w,f/en,1/m,,/w, ,f/en,2/m,,/w, ,f/en,3/m, ,,/w,f/en,4/m,,/w, ,f/en,5/m,,/w, ,f/en,6/m,,/w, ,f/en,7/m,,/w, ,f/en,8/m,,/w, ,f/en,9/m,,/w, ,f/en,10/m,]/w,现在/t,我们/r,将/d,这些/r,切点/n,加/v,进去/v,。/w,[/w,m/en,1/m,,/w, ,m/en,2/m,]/w, ,[/w,m/en,3/m, ,,/w,m/en,4/m,,/w, ,m/en,5/m,,/w, ,m/en,6/m,]/w, ,[/w,m/en,7/m,,/w, ,m/en,8/m,,/w, ,m/en,9/m,,/w, ,m/en,10/m,]/w, ,[/w,f/en,1/m,,/w, ,f/en,2/m,]/w, ,[/w,f/en,3/m, ,,/w,f/en,4/m,,/w, ,f/en,5/m,,/w, ,f/en,6/m,]/w, ,[/w,f/en,7/m,,/w, ,f/en,8/m,,/w, ,f/en,9/m,,/w, ,f/en,10/m,]/w,如此/r,会/v,产生/v,下面/f,两个/m,子代/n,。/w,[/w,m/en,1/m,,/w, ,m/en,2/m,]/w, ,[/w,f/en,3/m, ,,/w,f/en,4/m,,/w, ,f/en,5/m,,/w, ,f/en,6/m,]/w, ,[/w,m/en,7/m,,/w, ,m/en,8/m,,/w, ,m/en,9/m,,/w, ,m/en,10/m,]/w, ,[/w,f/en,1/m,,/w, ,f/en,2/m,]/w, ,[/w,m/en,3/m, ,,/w,m/en,4/m,,/w, ,m/en,5/m,,/w, ,m/en,6/m,]/w, ,[/w,f/en,7/m,,/w, ,f/en,8/m,,/w, ,f/en,9/m,,/w, ,f/en,10/m,]/w,根据/p,另/r,一个/m,随机/d,事件/n,，/w,每个/r,解决/v,方案/n,都/d,可能/v,会/v,发生/v,突变/vn,。/w,突变/vn,就/d,是/v,将/d,“/w,新/a,产生/v,的/u,信息/n,”/w,添加/vn,到/v,种群/n,遗传/vn,的/u,过程/n,。/w,否则/c,就/d,是/v,简单/a,的/u,传递/v,已经/d,存在/v,的/u,遗传/vn,特征/n,。/w,xor/en,神经/n,网络/n,神经/n,网络/n,是/v,另外/c,一种/mq,基于/p,生物学/n,的/u,机器/n,学习/v,方法/n,，/w,它/r,非常/d,松散/a,地/u,建立/v,在/p,人脑/n,的/u,基础/n,上/f,。/w,神经/n,网络/n,是/v,由/p,神经/n,突触/nw,连接/v,的/u,神经元/n,组成/v,的/u,，/w,每/r,一个/m,突触/nw,本身/r,都/d,具有/v,权/n,重/a,，/w,众多/m,突触/nw,的/u,权重/nz,构成/v,了/u,神经/n,网络/n,的/u,记忆/n,。/w,如下/v,所/u,示/vg,的/u,神经/n,网络/n,示意图/n,。/w,图/n, ,7/m,：/w,一个/m,神经/n,网络/n,如/v,图/n,所/u,示/vg,的/u,结构/n,，/w,其实/d,就/d,是/v,我们/r,下/f,一节/mq,要/v,创建/v,的/u,神经/n,网络/n,，/w,你/r,可以/v,在/p,上面/f,的/u,神经/n,网络/n,中/f,看到/v,有/v,一个/m,输入层/nw,和/c,一个/m,输出/v,层/q,。/w,神经/n,网络/n,接收/v,来自/v,输入层/nw,的/u,刺激/v,，/w,并/c,交由/v,输出/v,层/q,进行/v,相应/v,输出/v,。/w,神经/n,网络/n,内部/f,也/d,可能/v,存在/v,隐藏层/nw,，/w,该/r,层/q,中/f,同样/d,包含/v,有神经元/nw,。/w,隐藏层/nw,也/d,有助于/v,信息/n,的/u,处理/v,。/w,xor/en,神经/n,网络/n,（/w,异或/nw,神经/n,网络/n,）/w,，/w,有/v,两个/m,输入/v,和/c,一个/m,输出/v,。/w,两个/m,输入/v,端/v,接收布尔值/nw,（/w,0/m,或者/c,1/m,）/w,，/w,输出/v,神经元/n,也/d,输出/v,布尔值/nr,。/w,其/r,目的/n,就/d,是/v,让/v,神经/n,网络/n,实现/v,和/c,xor/en,（/w,异或/nw,运算/vn,）/w,操作符/n,相同/a,的/u,功能/n,。/w,0/m, ,xor/en, ,0/m, ,=/w, ,0/m, ,1/m, ,xor/en, ,0/m, ,=/w, ,1/m, ,0/m, ,xor/en, ,1/m, ,=/w, ,1/m, ,1/m, ,xor/en, ,1/m, ,=/w, ,0/m,当/p,两个/m,输入/v,不/d,一致/a,时/ng,，/w,异或/nw,xor/en,操作符/n,的/u,输出/v,必/d,为/p,1/m,。/w,你/r,可以/v,在/p,下面/f,看到/v,异或/nw,xor/en,的/u,示例/n,输出/v,。/w,training/en, ,xor/en, ,with/en, ,resilient/en, ,propagation/en, ,(/w,rprop/en,)/w, ,training/en, ,iteration/en, ,#,1/m,,/w, ,error/en,:/w, ,0.266564333804989/m, ,training/en, ,iteration/en, ,#,2/m,,/w, ,error/en,:/w, ,0.2525674154011323/m, ,training/en, ,iteration/en, ,#,3/m,,/w, ,error/en,:/w, ,0.2510141208338126/m, ,training/en, ,iteration/en, ,#,4/m,,/w, ,error/en,:/w, ,0.2501895607116004/m, ,training/en, ,iteration/en, ,#,5/m,,/w, ,error/en,:/w, ,0.24604660296617512/m, ,training/en, ,iteration/en, ,#,6/m,,/w, ,error/en,:/w, ,0.24363697465430123/m, ,training/en, ,iteration/en, ,#,7/m,,/w, ,error/en,:/w, ,0.24007542622000883/m, ,training/en, ,iteration/en, ,#,8/m,,/w, ,error/en,:/w, ,0.23594361591893737/m, ,training/en, ,iteration/en, ,#,9/m,,/w, ,error/en,:/w, ,0.23110199069041137/m, ,training/en, ,iteration/en, ,#,10/m,,/w, ,error/en,:/w, ,0.22402031408256806/m, ,./w,./w,./w, ,training/en, ,iteration/en, ,#,41/m,,/w, ,error/en,:/w, ,0.0169149539750981/m, ,training/en, ,iteration/en, ,#,42/m,,/w, ,error/en,:/w, ,0.012983289628979862/m, ,training/en, ,iteration/en, ,#,43/m,,/w, ,error/en,:/w, ,0.010217909135985562/m, ,training/en, ,iteration/en, ,#,44/m,,/w, ,error/en,:/w, ,0.007442433731742264/m, ,testing/en, ,neural/en, ,network/en, ,input/en,:/w, ,0/m, ,;/w, ,0/m, ,output/en,:/w, ,0.000005296759326400659/m, ,ideal/en,:/w, ,0/m, ,input/en,:/w, ,1/m, ,;/w, ,0/m, ,output/en,:/w, ,0.9176637562838892/m, ,ideal/en,:/w, ,1/m, ,input/en,:/w, ,0/m, ,;/w, ,1/m, ,output/en,:/w, ,0.9249242746585553/m, ,ideal/en,:/w, ,1/m, ,input/en,:/w, ,1/m, ,;/w, ,1/m, ,output/en,:/w, ,0.036556423402042126/m, ,ideal/en,:/w, ,0/m,正/d,如/v,上文/n,所/u,示/vg,，/w,它/r,用/p,了/u,44个/m,迭代/vn,训练/vn,来/v,教/v,神经/n,网络/n,执行/v,xor/en,操作/v,，/w,神经/n,网络/n,的/u,初始化/v,权重/nz,是/v,从/p,随机/d,数字/n,开始/v,的/u,。/w,数据/n,训练/vn,的/u,过程/n,中/f,会/v,逐渐/d,调整/vn,权重/nz,，/w,以/p,产生/v,期望/v,的/u,输出/v,。/w,神经/n,网络/n,的/u,随机/d,部分/n,是/v,权重/nz,的/u,初始化量值/nw,。/w,除了/p,这些/r,，/w,神经/n,网络/n,是/v,决定性/n,的/u,。/w,给/p,定/v,相同/a,的/u,权重/nz,和/c,输入/v,，/w,神经/n,网络/n,始终/d,会/v,产生/v,相同/a,的/u,输出/v,。/w,在/p,上面/f,的/u,输出/v,中/f,，/w,你/r,可能/v,会/v,注意/v,到/v,输出/v,的/u,结果/n,并/c,不/d,是/v,非常/d,精确/a,的/u,。/w,因为/c,神经/n,网络/n,永远/d,不/d,会/v,为/p,1/m,的/u,输出/v,精确/a,到/v,1.0/m,。/w,由于/c,开始/v,的/u,权重/nz,是/v,随机/d,的/u,，/w,所以/c,你/r,不/d,可能/v,从/p,这个/r,神经/n,网络/n,中/f,得到/v,两个/m,相同/a,的/u,结果/n,。/w,另外/c,，/w,由于/c,一些/m,随机/d,的/u,初始化权/nw,重量/n,值/n,是/v,完全/ad,不可/v,训练/vn,的/u,，/w,正/d,因/p,如此/r,，/w,有时/d,你/r,会/v,看到/v,xor/en,神经/n,网络/n,达到/v,了/u,5000/m,的/u,最大/a,训练值/nw,，/w,然而/c,就/d,还是/c,放弃/v,了/u,。/w,你/r,可以/v,在/p,下面/f,url/en,中/f,看到/v,这个/r,案例/n,的/u,运行/vn,实例/n,。/w,http/en,:/w,//w,//w,www/en,./w,heatonresearch/en,./w,com/en,//w,fun/en,//w,ann/en,//w,xor/en,我们/r,现在/t,来/v,观察/v,这个/r,程序/n,是/v,如何/r,构建/v,的/u,。/w,首先/d,，/w,我们/r,创建/v,输入/v,和/c,理想/n,输出/v,。/w,var/en, ,xor/en,_,input/en, ,=/w, ,[/w, ,[/w,0/m,,/w,0/m,]/w,,/w, ,[/w,1/m,,/w,0/m,]/w,,/w, ,[/w,0/m,,/w,1/m,]/w,,/w, ,[/w,1/m,,/w,1/m,]/w, ,]/w,;/w, ,var/en, ,xor/en,_,ideal/en, ,=/w, ,[/w, ,[/w,0/m,]/w,,/w, ,[/w,1/m,]/w,,/w, ,[/w,1/m,]/w,,/w, ,[/w,0/m,]/w, ,]/w,;/w,上面/f,的/u,两个/m,数/m,组/q,分别/d,包含/v,了/u,输入/v,和/c,理想/n,输出/v,。/w,这个/r,“/w,真相表/nw,”/w,将/d,被/p,用/p,来/v,训练/vn,神经/n,网络/n,。/w,接着/c,我们/r,来/v,创建/v,一个/m,三层/mq,神经/n,网络/n,。/w,输入层/nw,有/v,两个/m,神经元/n,，/w,隐藏/v,的/u,神经元/n,有/v,三个/m,，/w,输出/v,层/q,有/v,一个/m,神经元/n,。/w,var/en, ,network/en, ,=/w, ,encog/en,./w,basicnetwork/en,./w,create/en,(/w, ,[/w, ,encog/en,./w,basiclayer/en,./w,create/en,(/w,encog/en,./w,activationsigmoid/en,./w,create/en,(/w,)/w,,/w,2/m,,/w,1/m,)/w,,/w, ,encog/en,./w,basiclayer/en,./w,create/en,(/w,encog/en,./w,activationsigmoid/en,./w,create/en,(/w,)/w,,/w,3/m,,/w,1/m,)/w,,/w, ,encog/en,./w,basiclayer/en,./w,create/en,(/w,encog/en,./w,activationsigmoid/en,./w,create/en,(/w,)/w,,/w,1/m,,/w,0/m,)/w,]/w, ,)/w,;/w, ,network/en,./w,randomize/en,(/w,)/w,;/w,创建/v,和/c,随机化/nw,神经/n,网络/n,的/u,时候/n,，/w,将/d,会/v,调用/v,随机化/nw,函数/n,将/d,权重/nz,填充/v,为/p,随机/d,值/n,。/w,训练/vn,神经/n,网络/n,有/v,很多/m,不同/a,方法/n,，/w,对于/p,本例/nw,，/w,我们/r,会/v,采用/v,rprop/en,（/w,一种/mq,基于/p,弹性/n,反向/f,传播/vn,的/u,神经/n,网络/n,算法/n,原理/n,）/w,来/v,实现/v,。/w,var/en, ,train/en, ,=/w, ,encog/en,./w,propagationtrainer/en,./w,create/en,(/w,network/en,,/w,xor/en,_,input/en,,/w,xor/en,_,ideal/en,,/w,"/w,rprop/en,"/w,,/w,0/m,,/w,0/m,)/w,;/w,现在/t,，/w,我们/r,将/d,通过/p,迭代/vn,训练/vn,进行/v,循环/vn,处理/v,，/w,直到/v,出错率/n,降/v,到/v,可以/v,接受/v,的/u,水平线/n,以下为止/nw,。/w,var/en, ,iteration/en, ,=/w, ,1/m,;/w, ,do/en, ,{/w, ,train/en,./w,iteration/en,(/w,)/w,;/w, ,var/en, ,str/en, ,=/w, ,"/w,training/en, ,iteration/en, ,#,"/w, ,+/w, ,iteration/en, ,+/w, ,"/w,,/w, ,error/en,:/w, ,"/w, ,+/w, ,train/en,./w,error/en,;/w, ,con/en,./w,writeline/en,(/w,str/en,)/w,;/w, ,iteration/en,+/w,+/w,;/w, ,}/w, ,while/en,(/w, ,iteration/en,</w,1000/m, ,&/w,&/w, ,train/en,./w,error/en,>,0.01/m,)/w,;/w,现在/t,神经/n,网络/n,的/u,训练/vn,已/d,完成/v,，/w,我们/r,将/d,对/p,输入/v,数组/n,进行/v,循环/vn,处理/v,，/w,并/c,将/d,其/r,提交/v,给/p,神经/n,网络/n,。/w,神经/n,网络/n,会/v,显示/v,出/v,对应/v,输出/v,。/w,var/en, ,input/en, ,=/w, ,[/w,0/m,,/w,0/m,]/w,;/w, ,var/en, ,output/en, ,=/w, ,[/w,]/w,;/w, ,con/en,./w,writeline/en,(/w,"/w,testing/en, ,neural/en, ,network/en,"/w,)/w,;/w, ,for/en,(/w,var/en, ,i/en,=/w,0/m,;/w,i/en,</w,xor/en,_,input/en,./w,length/en,;/w,i/en,+/w,+/w,)/w, ,{/w, ,network/en,./w,compute/en,(/w,xor/en,_,input/en,[/w,i/en,]/w,,/w,output/en,)/w,;/w, ,var/en, ,str/en, ,=/w, ,"/w,input/en,:/w, ,"/w, ,+/w, ,string/en,(/w,xor/en,_,input/en,[/w,i/en,]/w,[/w,0/m,]/w,)/w, ,+/w, ,"/w, ,;/w, ,"/w, ,+/w, ,string/en,(/w,xor/en,_,input/en,[/w,i/en,]/w,[/w,1/m,]/w,)/w, ,+/w, ,"/w, ,output/en,:/w, ,"/w, ,+/w, ,string/en,(/w,output/en,[/w,0/m,]/w,)/w, ,+/w, ,"/w, ,ideal/en,:/w, ,"/w, ,+/w, ,string/en,(/w,xor/en,_,ideal/en,[/w,