一/m,、/w,概述/v,k/en,-/w,近邻/n,算法/n,采用/v,测量/vn,不同/a,特征值/n,之间/f,的/u,距离/n,方法/n,进行/v,分类/vn,。/w,工作/vn,原理/n,：/w,首先/d,有/v,一个/m,样本/n,数据/n,集合/v,（/w,训练/vn,样本/n,集/vg,）/w,，/w,并且/c,样本/n,数据/n,集合/v,中/f,每/r,条/q,数据/n,都/d,存在/v,标签/n,（/w,分类/vn,）/w,，/w,即/v,我们/r,知道/v,样本/n,数据/n,中/f,每/r,一条/mq,数据/n,与/p,所属/n,分类/vn,的/u,对应/v,关系/n,，/w,输入/v,没有/v,标签/n,的/u,数据/n,之后/f,，/w,将/d,新/a,数据/n,的/u,每个/r,特征/n,与/p,样本/n,集/vg,的/u,数据/n,对应/v,的/u,特征/n,进行/v,比较/d,（/w,欧式/b,距离/n,运算/vn,）/w,，/w,然后/c,算/v,出/v,新/a,数据/n,与/p,样本/n,集中/v,特征/n,最/d,相似/a,（/w,最近/t,邻/vg,）/w,的/u,数据/n,的/u,分类/vn,标签/n,，/w,一般/a,我们/r,选择/v,样本/n,数据/n,集中/v,前/f,k/en,个/q,最/d,相似/a,的/u,数据/n,，/w,然后/c,再/d,从/p,k/en,个/q,数据/n,集中/v,选出/v,出现/v,分类/vn,最/d,多/a,的/u,分类/vn,作为/v,新/a,数据/n,的/u,分类/vn,。/w,二/m,、/w,优/ag,缺点/n,优点/n,：/w,精度/n,高/a,、/w,对/p,异常/a,值/n,不/d,敏感/a,、/w,无数/m,据/p,输入/v,假定/v,。/w,缺点/n,：/w,计算度/nw,复杂/a,、/w,空间度/nw,复杂/a,。/w,适用/v,范围/n,：/w,数值/n,型/k,和/c,标称型/nw,三/m,、/w,数学/n,公式/n,欧式/b,距离/n,：/w,欧氏/nr,距离/n,是/v,最/d,易于/v,理解/v,的/u,一种/mq,距离/n,计算/v,方法/n,，/w,源自/v,欧氏/nr,空间/n,中/f,两点/mq,间/f,的/u,距离/n,公式/n,。/w,(/w,1/m,)/w,二维/nr,平面/n,上/f,两点/mq,a/en,(/w,x/en,1/m,,/w,y/en,1/m,)/w,与/p,b/en,(/w,x/en,2/m,,/w,y/en,2/m,)/w,间/f,的/u,欧氏/nr,距离/n,：/w,(/w,2/m,)/w,三维/nz,空间/n,两点/mq,a/en,(/w,x/en,1/m,,/w,y/en,1/m,,/w,z/en,1/m,)/w,与/p,b/en,(/w,x/en,2/m,,/w,y/en,2/m,,/w,z/en,2/m,)/w,间/f,的/u,欧氏/nr,距离/n,：/w,(/w,3/m,)/w,两个/m,n/en,维向量/nw,a/en,(/w,x/en,11/m,,/w,x/en,12/m,,/w,…/w,,/w,x/en,1/m,n/en,)/w,与/p, ,b/en,(/w,x/en,21/m,,/w,x/en,22/m,,/w,…/w,,/w,x/en,2/m,n/en,)/w,间/f,的/u,欧氏/nr,距离/n,：/w,三/m,、/w,算法/n,实现/v,k/en,-/w,近邻/n,算法/n,的/u,伪代码/nw,对/p,未知/vn,类型/n,属性/n,的/u,数据/n,集中/v,的/u,每个/r,点/q,依次/d,执行/v,以下/f,操作/v,：/w,(/w,1/m,)/w, ,计算/v,已知/nz,类别/n,数据/n,集中/v,的/u,点/q,与/p,当前/t,点/q,之间/f,的/u,距离/n,；/w,(/w,2/m,)/w, ,按照/p,距离/n,增序/nw,排序/vn,；/w,(/w,3/m,)/w, ,选取/v,与/p,当前/t,点/q,距离/n,最近/t,的/u,k/en,个/q,点/q,；/w,(/w,4/m,)/w, ,决定/v,这/r,k/en,个/q,点/q,所/u,属/v,类别/n,的/u,出现/v,频率/n,；/w,(/w,5/m,)/w, ,返回/v,前/f,k/en,个/q,点/q,出现/v,频率/n,最/d,高/a,的/u,类别/n,作为/v,当前/t,点/q,的/u,预测/v,分类/vn,。/w,1/m,、/w,构造/v,数据/n,1/m, ,def/en, ,createdataset/en,(/w,)/w,:/w, ,2/m, ,group/en, ,=/w, ,array/en,(/w,[/w,[/w,1.0/m,,/w,1.1/m,]/w,,/w,[/w,1.0/m,,/w,1.0/m,]/w,,/w,[/w,0/m,,/w,0/m,]/w,,/w,[/w,0/m,,/w,0.1/m,]/w,]/w,)/w, ,3/m, ,labels/en, ,=/w, ,[/w,'/w,a/en,'/w,,/w,'/w,a/en,'/w,,/w,'/w,b/en,'/w,,/w,'/w,b/en,'/w,]/w, ,4/m, ,return/en, ,group/en,,/w, ,labels/en,这里/r,有/v,4组/mq,数据/n,，/w,每/r,组/q,数据/n,的/u,列/v,代表/n,不同/a,属性/n,的/u,特征值/n,，/w,向量/n,labels/en,包含/v,了/u,每个/r,数据点/nw,的/u,标签/n,信息/n,，/w,也/d,可以/v,叫/v,分类/vn,。/w,这里/r,有/v,两类/mq,数据/n,，/w,a/en,和/c,b/en,。/w,2/m,、/w,实施/v,算法/n,tile/en,:/w,重复/v,某个/r,数/m,组/q,。/w,比如/v,tile/en,(/w,a/en,,/w,n/en,)/w,，/w,功能/n,是/v,将/d,数/m,组/q,a/en,重复/v,n/en,次/q,，/w,构成/v,一个/m,新/a,的/u,数组/n,./w,1/m, ,>,>,>, ,tile/en,(/w,[/w,1/m,,/w,2/m,]/w,,/w,(/w,4/m,)/w,)/w, ,2/m, ,array/en,(/w,[/w,1/m,,/w, ,2/m,,/w, ,1/m,,/w, ,2/m,,/w, ,1/m,,/w, ,2/m,,/w, ,1/m,,/w, ,2/m,]/w,)/w, ,3/m, ,>,>,>, ,tile/en,(/w,[/w,1/m,,/w,2/m,]/w,,/w,(/w,4/m,,/w,1/m,)/w,)/w, ,4/m, ,array/en,(/w,[/w,[/w,1/m,,/w, ,2/m,]/w,,/w, ,5/m, ,[/w,1/m,,/w, ,2/m,]/w,,/w, ,6/m, ,[/w,1/m,,/w, ,2/m,]/w,,/w, ,7/m, ,[/w,1/m,,/w, ,2/m,]/w,]/w,)/w, ,8/m, ,>,>,>, ,tile/en,(/w,[/w,1/m,,/w,2/m,]/w,,/w,(/w,4/m,,/w,2/m,)/w,)/w, ,9/m, ,array/en,(/w,[/w,[/w,1/m,,/w, ,2/m,,/w, ,1/m,,/w, ,2/m,]/w,,/w, ,10/m, ,[/w,1/m,,/w, ,2/m,,/w, ,1/m,,/w, ,2/m,]/w,,/w, ,11/m, ,[/w,1/m,,/w, ,2/m,,/w, ,1/m,,/w, ,2/m,]/w,,/w, ,12/m, ,[/w,1/m,,/w, ,2/m,,/w, ,1/m,,/w, ,2/m,]/w,]/w,)/w,欧式/b,距离/n,算法/n,实现/v,：/w,1/m, ,def/en, ,classify/en,0/m,(/w,inx/en,,/w, ,dataset/en,,/w, ,labels/en,,/w, ,k/en,)/w,:/w, ,2/m, ,datasetsize/en, ,=/w, ,dataset/en,./w,shape/en,[/w,0/m,]/w, ,3/m, ,diffmat/en, ,=/w, ,tile/en,(/w,inx/en,,/w, ,(/w,datasetsize/en,,/w,1/m,)/w,)/w, ,-/w, ,dataset/en, ,#,新/a,数据/n,与/p,样本/n,数据/n,每/r,一行/n,的/u,值/n,相/d,减/v, ,[/w,[/w,x/en,-/w,x/en,1/m,,/w,y/en,-/w,y/en,1/m,]/w,,/w,[/w,x/en,-/w,x/en,2/m,,/w,y/en,-/w,y/en,2/m,]/w,,/w,[/w,x/en,-/w,x/en,3/m,,/w,y/en,-/w,y/en,3/m,]/w,,/w,./w,./w,./w,./w,./w,]/w, ,4/m, ,sqdiffmat/en, ,=/w, ,diffmat/en,*/w,*/w,2/m, ,#,数组/n,每/r,一项/mq,进行/v,平方/q,[/w,[/w,(/w,x/en,-/w,x/en,1/m,)/w,^,2/m,,/w,(/w,y/en,-/w,y/en,1/m,)/w,^,2/m,]/w,,/w,./w,./w,./w,./w,./w,./w,./w,./w,]/w, ,5/m, ,sqdistances/en, ,=/w, ,sqdiffmat/en,./w,sum/en,(/w,axis/en,=/w,1/m,)/w,#,数组/n,每个/r,特证/nw,求/v,和/c,[/w,[/w,(/w,x/en,-/w,xi/en,)/w,^,2/m,+/w,(/w,y/en,-/w,yi/en,)/w,^,2/m,]/w,,/w,./w,./w,./w,./w,./w,./w,]/w, ,6/m, ,distances/en, ,=/w, ,sqdistances/en,*/w,*/w,0.5/m, ,#,数组/n,每个/r,值/n, ,开/v,根号/n, ,，/w,，/w,欧式/b,距离/n,公式/n, ,完成/v,。/w,。/w,。/w,。/w, ,7/m, ,sorteddistindicies/en, ,=/w, ,distances/en,./w,argsort/en,(/w,)/w, ,#,argsort/en,函数/n,返回/v,的/u,是/v,数/m,组值/nw,从小到大/l,的/u,索引/n,值/n, ,8/m, ,classcount/en,=/w,{/w,}/w, ,#,以下/f,是/v,选取/v, ,距离/n,最小/a,的/u,前/f,k/en,个值/nw,的/u,索引/n,，/w,从/p,k/en,个中/r,选取/v,分类/vn,最/d,多/a,的/u,一个/m,作为/v,新/a,数据/n,的/u,分类/vn, ,9/m, ,for/en, ,i/en, ,in/en, ,range/en,(/w,k/en,)/w,:/w,#, ,统计/v,前/f,k/en,个/q,点/q,所/u,属/v,的/u,类别/n, ,10/m, ,voteilabel/en, ,=/w, ,labels/en,[/w,sorteddistindicies/en,[/w,i/en,]/w,]/w, ,11/m, ,classcount/en,[/w,voteilabel/en,]/w, ,=/w, ,classcount/en,./w,get/en,(/w,voteilabel/en,,/w,0/m,)/w, ,+/w, ,1/m, ,12/m, ,sortedclasscount/en, ,=/w, ,sorted/en,(/w,classcount/en,./w,iteritems/en,(/w,)/w,,/w, ,key/en,=/w,operator/en,./w,itemgetter/en,(/w,1/m,)/w,,/w, ,reverse/en,=/w,true/en,)/w, ,13/m, ,return/en, ,sortedclasscount/en,[/w,0/m,]/w,[/w,0/m,]/w,#, ,返回/v,前/f,k/en,个/q,点/q,中/f,频率/n,最/d,高/a,的/u,类别/n,其中/r, ,inx/en,:/w,需要/v,分类/vn,的/u,新/a,数据/n,，/w,dataset/en,：/w,样本/n,数据/n,特征/n,，/w,labels/en,：/w,样本/n,数据/n,分类/vn,，/w,k/en,：/w,选取/v,前/f,k/en,个/q,最近/t,的/u,距离/n,测试/vn,算法/n,：/w,1/m, ,>,>,>, ,group/en,,/w,labels/en, ,=/w, ,knn/en,./w,createdataset/en,(/w,)/w, ,2/m, ,>,>,>, ,group/en,,/w,labels/en, ,3/m, ,(/w,array/en,(/w,[/w,[/w, ,1/m,./w, ,,/w, ,1.1/m,]/w,,/w, ,4/m, ,[/w, ,1/m,./w, ,,/w, ,1/m,./w, ,]/w,,/w, ,5/m, ,[/w, ,0/m,./w, ,,/w, ,0/m,./w, ,]/w,,/w, ,6/m, ,[/w, ,0/m,./w, ,,/w, ,0.1/m,]/w,]/w,)/w,,/w, ,[/w,'/w,a/en,'/w,,/w, ,'/w,a/en,'/w,,/w, ,'/w,b/en,'/w,,/w, ,'/w,b/en,'/w,]/w,)/w, ,7/m, ,>,>,>, ,knn/en,./w,classify/en,0/m,(/w,[/w,0/m,,/w,0/m,]/w,,/w,group/en,,/w,labels/en,,/w,3/m,)/w, ,8/m, ,'/w,b/en,'/w, ,9/m, ,>,>,>,测试/vn,结果/n,：/w,[/w,0/m,,/w,0/m,]/w,属于/v,分类/vn,b/en,./w,3/m,、/w,如何/r,测试/vn,分类/vn,器四/nw,、/w, ,示例/n,：/w,使用/v,k/en,-/w,近邻/n,算法/n,改进/v,约会/vn,网站/n,的/u,配对/v,效果/n,我/r,的/u,朋友/n,海伦/nr,一直/d,使用/v,在线/vn,约会/vn,网站/n,寻找/v,适合/v,自己/r,的/u,约会/vn,对象/n,。/w,尽管/c,约会/vn,网站/n,会/v,推荐/v,不同/a,的/u,人选/n,，/w,但/c,她/r,并/c,不/d,是/v,喜欢/v,每/r,一个/m,人/n,。/w,经过/p,一番/m,总结/v,，/w,她/r,发现/v,曾/d,交往/vn,过/u,三种/mq,类型/n,的/u,人/n,：/w,不/d,喜欢/v,的/u,人/n,魅力/n,一般/a,的/u,人/n,极/d,具/vg,魅力/n,的/u,人/n,海伦/nr,希望/v,我们/r,的/u,分类/vn,软件/n,可以/v,更/d,好/a,地/u,帮助/v,她/r,将/d,匹配/vn,对象/n,划分/v,到/v,确切/a,的/u,分类/vn,中/f,。/w,此外/c,海伦/nr,还/d,收集/v,了/u,一些/m,约会/vn,网站/n,未曾/d,记录/v,的/u,数据/n,信息/n,，/w,她/r,认为/v,这些/r,数据/n,更/d,有助于/v,匹配/vn,对象/n,的/u,归类/vn,。/w,1/m,、/w,准备/v,数据/n,：/w,从/p,文本/n,文件/n,中/f,解析/v,数据/n,数据/n,存放/v,在/p,文本/n,文件/n,datingtestset/en,./w,txt/en,中/f,，/w,每个/r,样本/n,数据/n,占据/v,一行/n,，/w,总共/d,有/v,1000行/mq,。/w,海伦/nr,的/u,样本/n,主要/b,包含/v,以下/f,3种/mq,特征/n,：/w,每年/r,获得/v,的/u,飞行/vn,常客/n,里程/n,数/m,玩/v,视频/n,游戏/n,所/u,耗/v,时间/n,百分比/n,每周/r,消费/vn,的/u,冰淇淋/n,公升/q,数/m,2/m,、/w,分析/vn,数据/n,：/w,使用/v,matplotlib/en,创建/v,散点/nw,图散点图/nw,使用/v,datingdatamat/en,矩阵/n,的/u,第一/m,、/w,第二/m,列/v,数据/n,，/w,分别/d,表示/v,特征值/n,“/w,每年/r,获得/v,的/u,飞行/vn,常客/n,里程/n,数/m,”/w,和/c,“/w,玩/v,视频/n,游戏/n,所/u,耗/v,时间/n,百分比/n,”/w,。/w,每年/r,赢得/v,的/u,飞行/vn,常客/n,里程/n,数/m,与/p,玩/v,视频/n,游戏/n,所/u,占/v,百分比/n,的/u,约会/vn,数据/n,散点/nw,图/n,3/m,、/w,准备/v,数据/n,：/w,归/v,一化/nw,数值/n,不同/a,特征值/n,有/v,不同/a,的/u,均值/n,和/c,取值/v,范围/n,，/w,如果/c,直接/ad,使用/v,特征值/n,计算/v,距离/n,，/w,取值/v,范围/n,较/d,大/a,的/u,特征/n,将/d,对/p,距离/n,计算/v,的/u,结果/n,产生/v,绝对/d,得/u,影响/vn,，/w,而/c,使/v,较/d,小/a,的/u,特征值/n,几乎/d,没有/v,作用/n,，/w,近乎/v,没有/v,用/p,到/v,该/r,属性/n,。/w,如/v,两组/mq,特征/n,：/w,{/w,0/m,,/w, ,20000/m,,/w, ,1.1/m,}/w,和/c,{/w,67/m,,/w, ,32000/m,,/w, ,0.1/m,}/w,，/w,计算/v,距离/n,的/u,算式/n,为/p,：/w,显然/ad,第二/m,个/q,特征/n,将/d,对/p,结果/n,产生/v,绝对/d,得/u,影响/vn,，/w,第一/m,个/q,特征/n,和/c,第三/nw,个/q,特征/n,几乎/d,不/d,起/v,作用/n,。/w,然而/c,，/w,对于/p,识别/v,的/u,过程/n,，/w,我们/r,认为/v,这/r,不同/a,特征/n,是/v,同等/b,重要/a,的/u,，/w,因此/c,作为/v,三个/m,等/u,权重/nz,的/u,特征/n,之一/r,，/w,飞行/vn,常客/n,里程/n,数/m,并/c,不/d,应该/v,如此/r,严重/a,地/u,影响/vn,到/v,计算/v,结果/n,。/w,在/p,处理/v,这种/r,不同/a,取值/v,范围/n,的/u,特征值/n,时/ng,，/w,我们/r,通常/d,采用/v,的/u,方法/n,是/v,将/d,数值/n,归/v,一化/nw,，/w,如/v,将/d,取值/v,范围/n,处理/v,为/p,0/m,到/v,1/m,或者/c,1/m,到/v,1/m,之间/f,。/w,下面/f,的/u,公式/n,可以/v,将/d,任意/d,取值/v,范围/n,的/u,特征值/n,转化/v,为/p,0/m,到/v,1/m,区间/n,内/f,的/u,值/n,：/w,newvalue/en, ,=/w, ,(/w,oldvalue/en, ,–, ,min/en,)/w, ,//w, ,(/w,max/en, ,–, ,min/en,)/w,其中/r,min/en,和/c,max/en,分别/d,是/v,数据/n,集中/v,的/u,最小/a,特征值/n,和/c,最大/a,特征值/n,。/w,添加/vn,autonorm/en,(/w,)/w,函数/n,，/w,用于/v,将/d,数字/n,特征值/n,归/v,一化/nw,：/w,1/m, ,def/en, ,autonorm/en,(/w,dataset/en,)/w,:/w, ,2/m, ,minvals/en, ,=/w, ,dataset/en,./w,min/en,(/w,0/m,)/w,#, ,分别/d,求/v,各个/r,特征/n,的/u,最小值/nz, ,3/m, ,maxvals/en, ,=/w, ,dataset/en,./w,max/en,(/w,0/m,)/w,#, ,分别/d,求/v,各个/r,特征/n,的/u,最大值/nz, ,4/m, ,ranges/en, ,=/w, ,maxvals/en, ,-/w, ,minvals/en,#, ,各个/r,特征/n,的/u,取值/v,范围/n, ,5/m, ,normdataset/en, ,=/w, ,zeros/en,(/w,shape/en,(/w,dataset/en,)/w,)/w, ,6/m, ,m/en, ,=/w, ,dataset/en,./w,shape/en,[/w,0/m,]/w, ,7/m, ,normdataset/en, ,=/w, ,dataset/en, ,-/w, ,tile/en,(/w,minvals/en,,/w, ,(/w,m/en,,/w,1/m,)/w,)/w, ,#, ,oldvalue/en, ,-/w, ,min/en, ,8/m, ,normdataset/en, ,=/w, ,normdataset/en,//w,tile/en,(/w,ranges/en,,/w, ,(/w,m/en,,/w,1/m,)/w,)/w, ,#,element/en, ,wise/en, ,divide/en, ,(/w,oldvalue/en,-/w,min/en,)/w,//w,(/w,max/en,-/w,min/en,)/w, ,数据/n,归/v,一化/nw,处理/v, ,9/m, ,return/en, ,normdataset/en,,/w, ,ranges/en,,/w, ,minvals/en,对/p,这个/r,函数/n,，/w,要/v,注意/v,返回/v,结果/n,除了/p,归/v,一化/nw,好/a,的/u,数据/n,，/w,还/d,包括/v,用/p,来/v,归/v,一化/nw,的/u,范围/n,值/n,ranges/en,和/c,最小值/nz,minvals/en,，/w,这/r,将/d,用于/v,对/p,测试/vn,数据/n,的/u,归/v,一化/nw,。/w,注意/v,，/w,对/p,测试/vn,数据集/nw,的/u,归/v,一化/nw,过程/n,必须/d,使用/v,和/c,训练/vn,数据集/nw,相同/a,的/u,参数/n,（/w,ranges/en,和/c,minvals/en,）/w,，/w,不能/v,针对/p,测试/vn,数据/n,单独/d,计算/v,ranges/en,和/c,minvals/en,，/w,否则/c,将/d,造成/v,同一/b,组/q,数据/n,在/p,训练/vn,数据集/nw,和/c,测试/vn,数据/n,集中/v,的/u,不/d,一致/a,。/w,4/m,、/w,测试/vn,算法/n,：/w,作为/v,完整/a,程序/n,验证/vn,分类器/nw,机器/n,学习/v,算法/n,一个/m,很/d,重要/a,的/u,工作/vn,就/d,是/v,评估/vn,算法/n,的/u,正确率/n,，/w,通常/d,我们/r,只/d,提供/v,已/d,有/v,数据/n,的/u,90%/mq,作为/v,训练/vn,样本/n,来/v,训练/vn,分类器/nw,，/w,而/c,使用/v,其余/r,的/u,10%/mq,数据/n,去/v,测试/vn,分类器/nw,，/w,检测/vn,分类器/nw,的/u,正确率/n,。/w,需要/v,注意/v,的/u,是/v,，/w,10%/mq,的/u,测试/vn,数据/n,应该/v,是/v,随机/d,选择/v,的/u,。/w,由于/c,海伦/nr,提供/v,的/u,数据/n,并/c,没有/v,按照/p,特定/b,目的/n,来/v,排序/vn,，/w,所以/c,我们/r,可以/v,随意/ad,选择/v,10%/mq,数据/n,而/c,不/d,影响/vn,其/r,随机性/n,。/w,创建/v,分类器/nw,针对/p,约会/vn,网站/n,的/u,测试/vn,代码/n,：/w,利用/v,样本/n,集/vg,数据/n,进行/v,测试/vn,算法/n,1/m, ,def/en, ,datingclasstest/en,(/w,)/w,:/w, ,2/m, ,horatio/en, ,=/w, ,0.50/m, ,#,hold/en, ,out/en, ,10%/mq, ,3/m, ,datingdatamat/en,,/w,datinglabels/en, ,=/w, ,file/en,2/m,matrix/en,(/w,'/w,datingtestset/en,2/m,./w,txt/en,'/w,)/w, ,#,load/en, ,data/en, ,setfrom/en, ,file/en, ,4/m, ,normmat/en,,/w, ,ranges/en,,/w, ,minvals/en, ,=/w, ,autonorm/en,(/w,datingdatamat/en,)/w, ,5/m, ,m/en, ,=/w, ,normmat/en,./w,shape/en,[/w,0/m,]/w, ,6/m, ,numtestvecs/en, ,=/w, ,int/en,(/w,m/en,*/w,horatio/en,)/w, ,7/m, ,errorcount/en, ,=/w, ,0.0/m, ,8/m, ,for/en, ,i/en, ,in/en, ,range/en,(/w,numtestvecs/en,)/w,:/w, ,9/m, ,classifierresult/en, ,=/w, ,classify/en,0/m,(/w,normmat/en,[/w,i/en,,/w,:/w,]/w,,/w,normmat/en,[/w,numtestvecs/en,:/w,m/en,,/w,:/w,]/w,,/w,datinglabels/en,[/w,numtestvecs/en,:/w,m/en,]/w,,/w,3/m,)/w, ,10/m, ,print/en, ,"/w,the/en, ,classifier/en, ,came/en, ,back/en, ,with/en,:/w, ,%/w,d/en,,/w, ,the/en, ,real/en, ,answer/en, ,is/en,:/w, ,%/w,d/en,"/w, ,%/w, ,(/w,classifierresult/en,,/w, ,datinglabels/en,[/w,i/en,]/w,)/w, ,11/m, ,if/en, ,(/w,classifierresult/en, ,!/w,=/w, ,datinglabels/en,[/w,i/en,]/w,)/w,:/w, ,errorcount/en, ,+/w,=/w, ,1.0/m, ,12/m, ,print/en, ,"/w,the/en, ,total/en, ,error/en, ,rate/en, ,is/en,:/w, ,%/w,f/en,"/w, ,%/w, ,(/w,errorcount/en,//w,float/en,(/w,numtestvecs/en,)/w,)/w, ,13/m, ,print/en, ,errorcount/en,执行/v,分类器/nw,测试/vn,程序/n,：/w,1/m, ,>,>,>, ,knn/en,./w,datingclasstest/en,(/w,)/w, ,2/m, ,3/m, ,the/en, ,classifier/en, ,came/en, ,back/en, ,with/en,:/w, ,2/m,,/w, ,the/en, ,real/en, ,answer/en, ,is/en,:/w, ,1/m, ,4/m, ,5/m, ,the/en, ,classifier/en, ,came/en, ,back/en, ,with/en,:/w, ,2/m,,/w, ,the/en, ,real/en, ,answer/en, ,is/en,:/w, ,2/m, ,6/m, ,7/m, ,the/en, ,classifier/en, ,came/en, ,back/en, ,with/en,:/w, ,1/m,,/w, ,the/en, ,real/en, ,answer/en, ,is/en,:/w, ,1/m, ,8/m, ,9/m, ,the/en, ,classifier/en, ,came/en, ,back/en, ,with/en,:/w, ,1/m,,/w, ,the/en, ,real/en, ,answer/en, ,is/en,:/w, ,1/m, ,10/m, ,11/m, ,the/en, ,classifier/en, ,came/en, ,back/en, ,with/en,:/w, ,2/m,,/w, ,the/en, ,real/en, ,answer/en, ,is/en,:/w, ,2/m, ,12/m, ,13/m, ,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w,./w, ,14/m, ,15/m, ,the/en, ,total/en, ,error/en, ,rate/en, ,is/en,:/w, ,0.064000/m, ,16/m, ,17/m, ,32.0/m,分类器/nw,处理/v,约会/vn,数据集/nw,的/u,错误/n,率/v,是/v,6.4%/mq,，/w,这/r,是/v,一个/m,相当/d,不/d,错/n,的/u,结果/n,。/w,我们/r,可以/v,改变/v,函数/n,datingclasstest/en,内/f,变量/n,horatio/en,和/c,变量/n,k/en,的/u,值/n,，/w,检测/vn,错误/n,率/v,是否/v,随着/p,变量/n,值/n,的/u,变化/vn,而/c,增加/v,。/w,这个/r,例子/n,表明/v,我们/r,可以/v,正确/a,地/u,预测/v,分类/vn,，/w,错误/n,率/v,仅仅/d,是/v,2.4%/mq,。/w,海伦/nr,完全/ad,可以/v,输入/v,未知/vn,对象/n,的/u,属性/n,信息/n,，/w,由/p,分类/vn,软件/n,来/v,帮助/v,她/r,判定/v,某/r,一/m,对象/n,的/u,可/v,交往/vn,程度/n,：/w,讨厌/v,、/w,一般/a,喜欢/v,、/w,非常/d,喜欢/v,。/w,5/m,、/w,使用/v,算法/n,：/w,构建/v,完整/a,可/v,用/p,系统/n,综合/vn,上述/b,代码/n,，/w,我们/r,可以/v,构建/v,完整/a,的/u,约会/vn,网站/n,预测/v,函数/n,：/w,对/p,输入/v,的/u,数据/n,需要/v, ,归/v,一化/nw,处理/v,1/m, ,def/en, ,classifyperson/en,(/w,)/w,:/w, ,2/m, ,resultlist/en, ,=/w, ,[/w,'/w,not/en, ,at/en, ,all/en,'/w,,/w, ,'/w,in/en, ,small/en, ,doses/en,'/w,,/w, ,'/w,in/en, ,large/en, ,doses/en,'/w,]/w, ,3/m, ,percenttats/en, ,=/w, ,float/en,(/w,raw/en,_,input/en,(/w,"/w,percentage/en, ,of/en, ,time/en, ,spent/en, ,playing/en, ,video/en, ,game/en,?/w,"/w,)/w,)/w, ,4/m, ,ffmiles/en, ,=/w, ,float/en,(/w,raw/en,_,input/en,(/w,"/w,frequent/en, ,flier/en, ,miles/en, ,earned/en, ,per/en, ,year/en,?/w,"/w,)/w,)/w, ,5/m, ,icecream/en, ,=/w, ,float/en,(/w,raw/en,_,input/en,(/w,"/w,liters/en, ,of/en, ,ice/en, ,cream/en, ,consumed/en, ,per/en, ,year/en,?/w,"/w,)/w,)/w, ,6/m, ,datingdatamat/en,,/w, ,datinglabels/en, ,=/w, ,file/en,2/m,matrix/en,(/w,'/w,datingtestset/en,./w,txt/en,'/w,)/w, ,7/m, ,normmat/en,,/w, ,ranges/en,,/w, ,minvals/en, ,=/w, ,autonorm/en,(/w,datingdatamat/en,)/w, ,8/m, ,inarr/en, ,=/w, ,array/en,(/w,[/w,ffmiles/en,,/w, ,percenttats/en,,/w, ,icecream/en,]/w,)/w, ,#,新/a,数据/n, ,需要/v,归/v,一化/nw,处理/v, ,9/m, ,classifierresult/en, ,=/w, ,classify/en,(/w,(/w,inarr/en, ,-/w, ,minvals/en,)/w, ,//w, ,ranges/en,,/w, ,normmat/en,,/w, ,datinglabels/en,,/w, ,3/m,)/w, ,10/m, ,print/en, ,"/w,you/en, ,will/en, ,probably/en, ,like/en, ,this/en, ,person/en,:/w, ,"/w,,/w, ,resultlist/en,[/w,classifierresult/en, ,-/w, ,1/m,]/w,目前/t,为止/u,，/w,我们/r,已经/d,看到/v,如何/r,在/p,数据/n,上/f,构建/v,分类器/nw,。/w,完整/a,代码/n,：/w,1/m, ,'/w,'/w,'/w, ,2/m, ,created/en, ,on/en, ,sep/en, ,16/m,,/w, ,2010/m, ,3/m, ,knn/en,:/w, ,k/en, ,nearest/en, ,neighbors/en, ,4/m, ,5/m, ,input/en,:/w, ,inx/en,:/w, ,vector/en, ,to/en, ,compare/en, ,to/en, ,existing/en, ,dataset/en, ,(/w,1/m,xn/en,)/w, ,6/m, ,dataset/en,:/w, ,size/en, ,m/en, ,data/en, ,set/en, ,of/en, ,known/en, ,vectors/en, ,(/w,nxm/en,)/w, ,7/m, ,labels/en,:/w, ,data/en, ,set/en, ,labels/en, ,(/w,1/m,xm/en, ,vector/en,)/w, ,8/m, ,k/en,:/w, ,number/en, ,of/en, ,neighbors/en, ,to/en, ,use/en, ,for/en, ,comparison/en, ,(/w,should/en, ,be/en, ,an/en, ,odd/en, ,number/en,)/w, ,9/m, ,10/m, ,output/en,:/w, ,the/en, ,most/en, ,popular/en, ,class/en, ,label/en, ,11/m, ,12/m, ,@/w,author/en,:/w, ,pbharrin/en, ,13/m, ,'/w,'/w,'/w, ,14/m, ,from/en, ,numpy/en, ,import/en, ,*/w, ,15/m, ,import/en, ,operator/en, ,16/m, ,from/en, ,os/en, ,import/en, ,listdir/en, ,17/m, ,import/en, ,matplotlib/en, ,18/m, ,import/en, ,matplotlib/en,./w,pyplot/en, ,as/en, ,plt/en, ,19/m, ,def/en, ,show/en,(/w,d/en,,/w,l/en,)/w,:/w, ,20/m, ,#,d/en,,/w,l/en,=/w,knn/en,./w,file/en,2/m,matrix/en,(/w,'/w,datingtestset/en,2/m,./w,txt/en,'/w,)/w, ,21/m, ,fig/en,=/w,plt/en,./w,figure/en,(/w,)/w, ,22/m, ,ax/en,=/w,fig/en,./w,add/en,_,subplot/en,(/w,111/m,)/w, ,23/m, ,ax/en,./w,scatter/en,(/w,d/en,[/w,:/w,,/w,0/m,]/w,,/w,d/en,[/w,:/w,,/w,1/m,]/w,,/w,15/m,*/w,array/en,(/w,l/en,)/w,,/w,15/m,*/w,array/en,(/w,l/en,)/w,)/w, ,24/m, ,plt/en,./w,show/en,(/w,)/w, ,25/m, ,def/en, ,show/en,2/m,(/w,)/w,:/w, ,26/m, ,datingdatamat/en,,/w,datinglabels/en,=/w,file/en,2/m,matrix/en,(/w,'/w,datingtestset/en,2/m,./w,txt/en,'/w,)/w, ,27/m, ,fig/en, ,=/w, ,plt/en,./w,figure/en,(/w,)/w, ,28/m, ,ax/en, ,=/w, ,fig/en,./w,add/en,_,subplot/en,(/w,111/m,)/w, ,29/m, ,l/en,=/w,datingdatamat/en,./w,shape/en,[/w,0/m,]/w, ,30/m, ,x/en,1/m,=/w,[/w,]/w, ,31/m, ,y/en,1/m,=/w,[/w,]/w, ,32/m, ,x/en,2/m,=/w,[/w,]/w, ,33/m, ,y/en,2/m,=/w,[/w,]/w, ,34/m, ,x/en,3/m,=/w,[/w,]/w, ,35/m, ,y/en,3/m,=/w,[/w,]/w, ,36/m, ,for/en, ,i/en, ,in/en, ,range/en,(/w,l/en,)/w,:/w, ,37/m, ,if/en, ,datinglabels/en,[/w,i/en,]/w,=/w,=/w,1/m,:/w, ,38/m, ,x/en,1/m,./w,append/en,(/w,datingdatamat/en,[/w,i/en,,/w,0/m,]/w,)/w,;/w,y/en,1/m,./w,append/en,(/w,datingdatamat/en,[/w,i/en,,/w,1/m,]/w,)/w, ,39/m, ,elif/en, ,datinglabels/en,[/w,i/en,]/w,=/w,=/w,2/m,:/w, ,40/m, ,x/en,2/m,./w,append/en,(/w,datingdatamat/en,[/w,i/en,,/w,0/m,]/w,)/w,;/w,y/en,2/m,./w,append/en,(/w,datingdatamat/en,[/w,i/en,,/w,1/m,]/w,)/w, ,41/m, ,else/en,:/w, ,42/m, ,x/en,3/m,./w,append/en,(/w,datingdatamat/en,[/w,i/en,,/w,0/m,]/w,)/w,;/w,y/en,3/m,./w,append/en,(/w,datingdatamat/en,[/w,i/en,,/w,1/m,]/w,)/w, ,43/m, ,type/en,1/m,=/w,ax/en,./w,scatter/en,(/w,x/en,1/m,,/w,y/en,1/m,,/w,c/en,=/w,'/w,red/en,'/w,)/w, ,44/m, ,type/en,2/m,=/w,ax/en,./w,scatter/en,(/w,x/en,2/m,,/w,y/en,2/m,,/w,c/en,=/w,'/w,green/en,'/w,)/w, ,45/m, ,type/en,3/m,=/w,ax/en,./w,scatter/en,(/w,x/en,3/m,,/w,y/en,3/m,,/w,c/en,=/w,'/w,blue/en,'/w,)/w, ,46/m, ,#,ax/en,./w,axis/en,(/w,[/w,-/w,2/m,,/w,25/m,,/w,-/w,0.2/m,,/w,2.0/m,]/w,)/w, ,47/m, ,ax/en,./w,legend/en,(/w,[/w,type/en,1/m,,/w, ,type/en,2/m,,/w, ,type/en,3/m,]/w,,/w, ,[/w,"/w,did/en, ,not/en, ,like/en,"/w,,/w, ,"/w,liked/en, ,in/en, ,small/en, ,doses/en,"/w,,/w, ,"/w,liked/en, ,in/en, ,large/en, ,doses/en,"/w,]/w,,/w, ,loc/en,=/w,2/m,)/w, ,48/m, ,plt/en,./w,xlabel/en,(/w,'/w,percentage/en, ,of/en, ,time/en, ,spent/en, ,playing/en, ,video/en, ,games/en,'/w,)/w, ,49/m, ,plt/en,./w,ylabel/en,(/w,'/w,liters/en, ,of/en, ,ice/en, ,cream/en, ,consumed/en, ,per/en, ,week/en,'/w,)/w, ,50/m, ,plt/en,./w,show/en,(/w,)/w, ,51/m, ,52/m, ,def/en, ,classify/en,0/m,(/w,inx/en,,/w, ,dataset/en,,/w, ,labels/en,,/w, ,k/en,)/w,:/w, ,53/m, ,datasetsize/en, ,=/w, ,dataset/en,./w,shape/en,[/w,0/m,]/w, ,54/m, ,diffmat/en, ,=/w, ,tile/en,(/w,inx/en,,/w, ,(/w,datasetsize/en,,/w,1/m,)/w,)/w, ,-/w, ,dataset/en, ,55/m, ,sqdiffmat/en, ,=/w, ,diffmat/en,*/w,*/w,2/m, ,56/m, ,sqdistances/en, ,=/w, ,sqdiffmat/en,./w,sum/en,(/w,axis/en,=/w,1/m,)/w, ,57/m, ,distances/en, ,=/w, ,sqdistances/en,*/w,*/w,0.5/m, ,58/m, ,sorteddistindicies/en, ,=/w, ,distances/en,./w,argsort/en,(/w,)/w, ,59/m, ,classcount/en,=/w,{/w,}/w, ,60/m, ,for/en, ,i/en, ,in/en, ,range/en,(/w,k/en,)/w,:/w, ,61/m, ,voteilabel/en, ,=/w, ,labels/en,[/w,sorteddistindicies/en,[/w,i/en,]/w,]/w, ,62/m, ,classcount/en,[/w,voteilabel/en,]/w, ,=/w, ,classcount/en,./w,get/en,(/w,voteilabel/en,,/w,0/m,)/w, ,+/w, ,1/m, ,63/m, ,sortedclasscount/en, ,=/w, ,sorted/en,(/w,classcount/en,./w,iteritems/en,(/w,)/w,,/w, ,key/en,=/w,operator/en,./w,itemgetter/en,(/w,1/m,)/w,,/w, ,reverse/en,=/w,true/en,)/w, ,64/m, ,return/en, ,sortedclasscount/en,[/w,0/m,]/w,[/w,0/m,]/w, ,65/m, ,66/m, ,def/en, ,createdataset/en,(/w,)/w,:/w, ,67/m, ,group/en, ,=/w, ,array/en,(/w,[/w,[/w,1.0/m,,/w,1.1/m,]/w,,/w,[/w,1.0/m,,/w,1.0/m,]/w,,/w,[/w,0/m,,/w,0/m,]/w,,/w,[/w,0/m,,/w,0.1/m,]/w,]/w,)/w, ,68/m, ,labels/en, ,=/w, ,[/w,'/w,a/en,'/w,,/w,'/w,a/en,'/w,,/w,'/w,b/en,'/w,,/w,'/w,b/en,'/w,]/w, ,69/m, ,return/en, ,group/en,,/w, ,labels/en, ,70/m, ,71/m, ,def/en, ,file/en,2/m,matrix/en,(/w,filename/en,)/w,:/w, ,72/m, ,fr/en, ,=/w, ,open/en,(/w,filename/en,)/w, ,73/m, ,numberoflines/en, ,=/w, ,len/en,(/w,fr/en,./w,readlines/en,(/w,)/w,)/w, ,#,get/en, ,the/en, ,number/en, ,of/en, ,lines/en, ,in/en, ,the/en, ,file/en, ,74/m, ,returnmat/en, ,=/w, ,zeros/en,(/w,(/w,numberoflines/en,,/w,3/m,)/w,)/w, ,#,prepare/en, ,matrix/en, ,to/en, ,return/en, ,75/m, ,classlabelvector/en, ,=/w, ,[/w,]/w, ,#,prepare/en, ,labels/en, ,return/en, ,76/m, ,fr/en, ,=/w, ,open/en,(/w,filename/en,)/w, ,77/m, ,index/en, ,=/w, ,0/m, ,78/m, ,for/en, ,line/en, ,in/en, ,fr/en,./w,readlines/en,(/w,)/w,:/w, ,79/m, ,line/en, ,=/w, ,line/en,./w,strip/en,(/w,)/w, ,80/m, ,listfromline/en, ,=/w, ,line/en,./w,split/en,(/w,'/w,\/w,t/en,'/w,)/w, ,81/m, ,returnmat/en,[/w,index/en,,/w,:/w,]/w, ,=/w, ,listfromline/en,[/w,0/m,:/w,3/m,]/w, ,82/m, ,classlabelvector/en,./w,append/en,(/w,int/en,(/w,listfromline/en,[/w,-/w,1/m,]/w,)/w,)/w, ,83/m, ,index/en, ,+/w,=/w, ,1/m, ,84/m, ,return/en, ,returnmat/en,,/w,classlabelvector/en, ,85/m, ,86/m, ,def/en, ,autonorm/en,(/w,dataset/en,)/w,:/w, ,87/m, ,minvals/en, ,=/w, ,dataset/en,./w,min/en,(/w,0/m,)/w, ,88/m, ,maxvals/en, ,=/w, ,dataset/en,./w,max/en,(/w,0/m,)/w, ,89/m, ,ranges/en, ,=/w, ,maxvals/en, ,-/w, ,minvals/en, ,90/m, ,normdataset/en, ,=/w, ,zeros/en,(/w,shape/en,(/w,dataset/en,)/w,)/w, ,91/m, ,m/en, ,=/w, ,dataset/en,./w,shape/en,[/w,0/m,]/w, ,92/m, ,normdataset/en, ,=/w, ,dataset/en, ,-/w, ,tile/en,(/w,minvals/en,,/w, ,(/w,m/en,,/w,1/m,)/w,)/w, ,93/m, ,normdataset/en, ,=/w, ,normdataset/en,//w,tile/en,(/w,ranges/en,,/w, ,(/w,m/en,,/w,1/m,)/w,)/w, ,#,element/en, ,wise/en, ,divide/en, ,94/m, ,return/en, ,normdataset/en,,/w, ,ranges/en,,/w, ,minvals/en, ,95/m, ,96/m, ,def/en, ,datingclasstest/en,(/w,)/w,:/w, ,97/m, ,horatio/en, ,=/w, ,0.50/m, ,#,hold/en, ,out/en, ,10%/mq, ,98/m, ,datingdatamat/en,,/w,datinglabels/en, ,=/w, ,file/en,2/m,matrix/en,(/w,'/w,datingtestset/en,2/m,./w,txt/en,'/w,)/w, ,#,load/en, ,data/en, ,setfrom/en, ,file/en, ,99/m, ,normmat/en,,/w, ,ranges/en,,/w, ,minvals/en, ,=/w, ,autonorm/en,(/w,datingdatamat/en,)/w, ,100/m, ,m/en, ,=/w, ,normmat/en,./w,shape/en,[/w,0/m,]/w, ,101/m, ,numtestvecs/en, ,=/w, ,int/en,(/w,m/en,*/w,horatio/en,)/w, ,102/m, ,errorcount/en, ,=/w, ,0.0/m, ,103/m, ,for/en, ,i/en, ,in/en, ,range/en,(/w,numtestvecs/en,)/w,:/w, ,104/m, ,classifierresult/en, ,=/w, ,classify/en,0/m,(/w,normmat/en,[/w,i/en,,/w,:/w,]/w,,/w,normmat/en,[/w,numtestvecs/en,:/w,m/en,,/w,:/w,]/w,,/w,datinglabels/en,[/w,numtestvecs/en,:/w,m/en,]/w,,/w,3/m,)/w, ,105/m, ,print/en, ,"/w,the/en, ,classifier/en, ,came/en, ,back/en, ,with/en,:/w, ,%/w,d/en,,/w, ,the/en, ,real/en, ,answer/en, ,is/en,:/w, ,%/w,d/en,"/w, ,%/w, ,(/w,classifierresult/en,,/w, ,datinglabels/en,[/w,i/en,]/w,)/w, ,106/m, ,if/en, ,(/w,classifierresult/en, ,!/w,=/w, ,datinglabels/en,[/w,i/en,]/w,)/w,:/w, ,errorcount/en, ,+/w,=/w, ,1.0/m, ,107/m, ,print/en, ,"/w,the/en, ,total/en, ,error/en, ,rate/en, ,is/en,:/w, ,%/w,f/en,"/w, ,%/w, ,(/w,errorcount/en,//w,float/en,(/w,numtestvecs/en,)/w,)/w, ,108/m, ,print/en, ,errorcount/en, ,109/m, ,110/m, ,def/en, ,img/en,2/m,vector/en,(/w,filename/en,)/w,:/w, ,111/m, ,returnvect/en, ,=/w, ,zeros/en,(/w,(/w,1/m,,/w,1024/m,)/w,)/w, ,112/m, ,fr/en, ,=/w, ,open/en,(/w,filename/en,)/w, ,113/m, ,for/en, ,i/en, ,in/en, ,range/en,(/w,32/m,)/w,:/w, ,114/m, ,linestr/en, ,=/w, ,fr/en,./w,readline/en,(/w,)/w, ,115/m, ,for/en, ,j/en, ,in/en, ,range/en,(/w,32/m,)/w,:/w, ,116/m, ,returnvect/en,[/w,0/m,,/w,32/m,*/w,i/en,+/w,j/en,]/w, ,=/w, ,int/en,(/w,linestr/en,[/w,j/en,]/w,)/w, ,117/m, ,return/en, ,returnvect/en, ,118/m, ,119/m, ,def/en, ,handwritingclasstest/en,(/w,)/w,:/w, ,120/m, ,hwlabels/en, ,=/w, ,[/w,]/w, ,121/m, ,trainingfilelist/en, ,=/w, ,listdir/en,(/w,'/w,trainingdigits/en,'/w,)/w, ,#,load/en, ,the/en, ,training/en, ,set/en, ,122/m, ,m/en, ,=/w, ,len/en,(/w,trainingfilelist/en,)/w, ,123/m, ,trainingmat/en, ,=/w, ,zeros/en,(/w,(/w,m/en,,/w,1024/m,)/w,)/w, ,124/m, ,for/en, ,i/en, ,in/en, ,range/en,(/w,m/en,)/w,:/w, ,125/m, ,filenamestr/en, ,=/w, ,trainingfilelist/en,[/w,i/en,]/w, ,126/m, ,filestr/en, ,=/w, ,filenamestr/en,./w,split/en,(/w,'/w,./w,'/w,)/w,[/w,0/m,]/w, ,#,take/en, ,off/en, ,./w,txt/en, ,127/m, ,classnumstr/en, ,=/w, ,int/en,(/w,filestr/en,./w,split/en,(/w,'/w,_,'/w,)/w,[/w,0/m,]/w,)/w, ,128/m, ,hwlabels/en,./w,append/en,(/w,classnumstr/en,)/w, ,129/m, ,trainingmat/en,[/w,i/en,,/w,:/w,]/w, ,=/w, ,img/en,2/m,vector/en,(/w,'/w,trainingdigits/en,//w,%/w,s/en,'/w, ,%/w, ,filenamestr/en,)/w, ,130/m, ,testfilelist/en, ,=/w, ,listdir/en,(/w,'/w,testdigits/en,'/w,)/w, ,#,iterate/en, ,through/en,