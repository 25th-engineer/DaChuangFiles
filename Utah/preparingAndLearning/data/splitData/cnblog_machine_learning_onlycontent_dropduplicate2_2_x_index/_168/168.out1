重磅 微软 开源 自动 机器学习 工具 NNI 在 机器学习 建模 
时 除了 准备 数据 最 耗时耗力 的 就是 尝试 各种 
超 参 组合 找到 模型 最佳 效果 的 过程 了 
即使/c 是/v 对于/p 有/v 经验/n 的/uj 算法/n 工程师/n 和/c 数据/n 
科学家/n 有时候 也 很难 把握 其中 的 规律 只能 多次 
尝试 找到 较好 的 超 参 组合 而 对于 初学者 
来说 要花 更多 的 时间 和 精力 自动 机器学习 这 
两年 成为 了 热门 领域 着力 解决 超 参 调试 
过程 的 挑战 通过 超 参 选择 算法 和 强大 
的 算 力 来 加速 超 参 搜索 的 过程 
NNI Neural Network Intelligence 是 微软 开源 的 自动 机器学习 
工具 与 当前 的 各种 自动 机器学习 服务 或 工具 
相比 有 非常 独特 的 价值 本 文先 介绍 一下 
NNI 的 特点 然后 在 后续 的 安装 使用 章节 
详细 介绍 如何 上手 支持 私有 部署 云 服务 中 
的 自动 机器学习 直接 提供 了 自动 机器学习 的 服务 
不仅 包含 了 自动 机器 学习 的 功能 也 包含 
了 算 力 如果 团队 或 个人 已经 有了/nr 很强 
的 算 力 资源 就 需要 支持 私有 部署 的 
自动 学习 工具 了 NNI 支持 私有 部署 整个 部署 
也 很简单 使用 pip 即可 完成 安装 分布 式调度 NNI 
可以 在 单机 上 完成 试验 也 支持 以下 两 
种 分布 式调度 方案 GPU 远程 服务器 通过 SSH 控制 
多台 GPU 服务器 协同 完成 试验 并能够 计划 每个 试验 
所 需要 的 GPU 的 数量 OpenPAI 通过 OpenPAI NNI 
的 试验 可以 在 独立 的 Docker 中 运行 支持 
多样 的 实验 环境 在 计算 资源 规划 上 不仅 
能 指定 GPU 资源 还能 制定 CPU 内存 资源 超 
参 搜索 的 直接 支持 当前 大部分 自动 机器学习 服务 
与 工具 都是 在 某个 任务 上 使用 比如 图片 
分类 这样 的 好处 是 普通 用户 只要 有 标记 
数据 就能 训练 出 一个 高 质量 的 平台 不 
需要 任何 模型 训练 方面 的 知识 但这 需要 对 
每个 训练 任务 进行 定制 将 模型 训练 的 复杂性 
包装 起来 与 大部分 现有 的 自动 机器学习 服务 与 
工具 不同 NNI 需要 用户 提供 训练 代码 并 指定 
超 参 的 搜索 范围 这样 的 好处 在于 NNI 
几乎 是 通用 的 工具 任何 训练 任务 都 可以 
使用 NNI 来 进行 超 参 搜索 但 另一方面 NNI 
的 通用性 也 带来 了 一定 的 使用 门槛 使用 
NNI 需要 有 基本 的 模型 训练 的 经验 兼容 
已有 代码 NNI 使用 时 可以 通过 注释 的 方法 
来 进行 无 侵入 式 的 改动 不会 影响 代码 
原先 的 用途 通过 注释 方式 支持 NNI 后 代码 
还 可以 单独 运行 易于 扩展 NNI 的 设计 上 
有 很强 的 可扩展性 通过 下面 这些 扩展性 能将 系统 
与 算 法相 隔离 把 系统 复杂性 都 包装 起来 
Tuner 接口 可以 轻松 实现 新的 超 参 调试 算法 
研究 人员 可以 使用 NNI 来 试验 新的 超 参 
搜索 方法 比如 在 强化 学习 时 在 Tuner 中 
支持 off policy 来 探索 比较 好 的 超 参 
组合 在 Trial 里 进行 on policy 的 实际 验证 
也 可以 使用 Tuner 和 训练 代码 相配合 支持 复杂 
的 超 参 搜索 方法 如 实现 ENAS 将 Tuner 
作为 Control 在 多个 Trial 中 并行 试验 Accessor 接口 
可以 加速 参数 搜索 将 表现 不好 的 超 参 
组合 提前结束 NNI 还 提供 了 可扩展 的 集群 接口 
可以 定制 对接 的 计算 集群 方便 连接 已经 部署 
的 计算 集群 可视化 界面 在 启动 一次 超 参 
搜索 试验 后 就 可以 通过 可视化 界面 来 查看 
试验 进展 并 帮助 超 参 结果 洞察 更多 信息 
首页 可以 看到 当前 试验 的 进展 情况 搜索 参数 
和 效果 最好 的 一些 超 参 组合 优化 进度 
页面 可以 看到 按 时序 排列 的 精度 或 损失 
值 此 图为 精度 可以 看到 时间 越 靠后 右侧 
精度高 的 越多 这说明 选择 的 超 参 探索 算法 
随着 时间 能 找到 一些 好 的 超 参 空间 
继续 探索 通过 超 参 的 分布图 来 直观 地 
看到 哪些 超 参 值 会 明显 比较好 或者 看 
出 它们 之间 的 关联 通过 下面 的 颜色 图 
就能 直观 地 看到 红色 即 精度 较高 的 超 
参 组合 线条 所 表达 的 丰富 信息 如 卷积 
核 大 一些 会 表现 较好 全 连接 层 大了 
不一定 太好 也许是 所 需要 的 训练 时间 增加 了 
训练 速度 太慢 造成 的 而 学习率 小 一些 小于 
0.03 表现 基本 都 不错 ReLU 比 tanh 等 其它 
激活 函数 也好 不少 . . . 通过 试验 状态 
页面 能 看到 每个 试验 的 时间 长度 以及 具体 
的 超 参 组合 通过 控制 页面 还 可以 实时 
的 增加 试验 的 超 参 组合 或者 调整 超 
参 的 范围 最后 再 贴 一次 地址 https / 
/ github . com / microsoft / nni 使用 方法 
和 更多 详情 可 参考 GitHub 的 官网 有 问题 
或 bug 可以 直接 提 Issue 