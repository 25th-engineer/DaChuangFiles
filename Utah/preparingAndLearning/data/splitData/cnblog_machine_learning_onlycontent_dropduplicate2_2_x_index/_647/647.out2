机器/n,学习/v,实战/n,这/r,本书/r,是/v,基于/p,python/en,的/u,，/w,如果/c,我们/r,想/v,要/v,完成/v,python/en,开发/v,，/w,那么/r,python/en,的/u,开发/v,环境/n,必不可少/l,：/w,（/w,1/m,）/w,python/en,3.52/m,,/w,64位/mq,，/w,这/r,是/v,我/r,用/p,的/u,python/en,版本/n,（/w,2/m,）/w,numpy/en, ,1/m,./w,11/m,./w,3/m,,/w,64位/mq,，/w,这/r,是/v,python/en,的/u,科学/n,计算包/nw,，/w,是/v,python/en,的/u,一个/m,矩阵/n,类型/n,，/w,包含/v,数/m,组/q,和/c,矩阵/n,，/w,提供/v,了/u,大量/m,的/u,矩阵/n,处理/v,函数/n,，/w,使/v,运算/vn,更加/d,容易/a,，/w,执行/v,更加/d,迅速/ad,。/w,（/w,3/m,）/w,matplotlib/en, ,1/m,./w,5/m,./w,3/m,，/w,64位/mq,，/w,在/p,下载/v,该/r,工具/n,时/ng,，/w,一定/d,要/v,对应/v,好/a,python/en,的/u,版本/n,，/w,处理器/n,版本/n,，/w,matplotlib/en,可以/v,认为/v,是/v,python/en,的/u,一个/m,可视化/nz,工具/n,好/a,了/u,，/w,如果/c,你/r,已经/d,完成/v,了/u,上述/b,的/u,环境/n,配置/vn,，/w,下面/f,就/d,可以/v,开始/v,完成/v,真正/d,的/u,算法/n,实战/n,了/u,。/w,一/m,，/w,k/en,近邻/n,算法/n,的/u,工作/vn,原理/n,：/w,存在/v,一个/m,样本/n,数据集/nw,，/w,也/d,称作/v,训练/vn,数据集/nw,，/w,并且/c,样本/n,集中/v,每个/r,数据/n,都/d,存在/v,标签/n,，/w,即/v,我们/r,知道/v,样本/n,集中/v,每个/r,数据/n,与/p,所属/n,分类/vn,的/u,对应/v,关系/n,。/w,当/p,输入/v,没有/v,标签/n,的/u,新/a,数据/n,后/f,，/w,将/d,新/a,数据/n,的/u,每个/r,特征/n,与/p,样本/n,集中/v,数据/n,对应/v,的/u,特征/n,进行/v,比较/d,，/w,然后/c,算法/n,提取/v,样本/n,集中/v,特征/n,最/d,相似/a,的/u,数据/n,的/u,分类/vn,标签/n,。/w,一般来水/nw,，/w,我们/r,只/d,选择/v,样本/n,数据/n,集中/v,最/d,相似/a,的/u,k/en,个/q,数据/n,（/w,通常/d,k/en,不/d,大于/v,20/m,）/w,，/w,再/d,根据/p,多数/m,表决/vn,原则/n,，/w,选择/v,k/en,个/q,最/d,相似/a,数据/n,中/f,出现/v,次数/n,最/d,多/a,的/u,分类/vn,，/w,作为/v,新/a,数据/n,的/u,分类/vn,。/w,k/en,近邻/n,算法/n,的/u,一般/a,流程/n,：/w,（/w,1/m,）/w,收集/v,数据/n,：/w,可以/v,采用/v,公开/ad,的/u,数据源/nz,（/w,2/m,）/w,准备/v,数据/n,：/w,计算/v,距离/n,所/u,需要/v,的/u,数值/n,（/w,3/m,）/w,分析/vn,数据/n,：/w,剔除/v,垃圾/n,信息/n,（/w,4/m,）/w,测试/vn,算法/n,：/w,计算/v,错误/n,率/v,（/w,5/m,）/w,使用/v,算法/n,：/w,运用/v,在/p,实际/n,中/f,，/w,对/p,实际/n,情况/n,进行/v,预测/v,二/m,，/w,算法/n,具体/a,实施/v,过程/n,（/w,1/m,）/w,使用/v,python/en,导入/v,数据/n,，/w,代码/n,解析/v,如下/v,：/w,#,-------------------------/nrf,1/m, ,准备/v,数据/n,-------------------------------/nrf, ,#,可以/v,采用/v,公开/ad,的/u,数据集/nw,，/w,也/d,可以/v,利用/v,网络/n,爬虫/n,从/p,网站/n,上/f,抽取/vn,数据/n,，/w,方式/n,不限/v, ,#,-------------------------/nrf,2/m, ,准备/v,数据/n,-------------------------------/nrf, ,#,确保/v,数据/n,格式/n,符合/v,要求/v, ,#,导入/v,科学/n,计算包/nw,（/w,数/m,组/q,和/c,矩阵/n,）/w, ,from/en, ,numpy/en, ,import/en, ,*/w, ,from/en, ,os/en, ,import/en, ,listdir/en, ,#,导入/v,运算符/n,模块/n, ,import/en, ,operator/en, ,#,创建/v,符合/v,python/en,格式/n,的/u,数据集/nw, ,def/en, ,createdataset/en,(/w,)/w,:/w, ,#,数据集/nw, ,list/en,(/w,列表/v,形式/n,）/w, ,group/en,=/w,array/en,(/w,[/w,[/w,1.0/m,,/w,1.1/m,]/w,,/w,[/w,1.0/m,,/w,1.0/m,]/w,,/w,[/w,0/m,,/w,0/m,]/w,,/w,[/w,0/m,,/w,0.1/m,]/w,]/w,)/w, ,#,标签/n, ,labels/en,=/w,[/w,'/w,a/en,'/w,,/w,'/w,a/en,'/w,,/w,'/w,b/en,'/w,,/w,'/w,b/en,'/w,]/w, ,return/en, ,group/en,,/w, ,labels/en,（/w,2/m,）/w,我们/r,可以/v,使用/v,matplotlib/en, ,对/p,数据/n,进行/v,分析/vn,在/p,python/en,命令/n,环境/n,中/f,，/w,输入/v,如下/v,命令/n,：/w,当/p,输入/v,如下/v,命令/n,时/ng,：/w,#,导入/v,制图/vn,工具/n, ,import/en, ,matplotlib/en, ,import/en, ,matplotlib/en,./w,pyplot/en, ,as/en, ,plt/en, ,fig/en,=/w,plt/en,./w,figure/en,(/w,)/w, ,ax/en,=/w,fig/en,./w,add/en,_,subplot/en,(/w,111/m,)/w, ,ax/en,./w,scatter/en,(/w,datingdatamat/en,[/w,:/w,,/w,1/m,]/w,,/w,datingdatamat/en,[/w,:/w,,/w,2/m,]/w,)/w, ,plt/en,./w,show/en,(/w,)/w,从/p,上面/f,可以/v,看到/v,，/w,由于/c,没有/v,使用/v,样本/n,分类/vn,的/u,特征值/n,，/w,我们/r,很/d,难/a,看到/v,比较/d,有用/a,的/u,数据/n,模式/n,信息/n,一般/a,而言/u,，/w,我们/r,会/v,采用/v,色彩/n,或/c,其他/r,几/m,号/q,来/v,标记/n,不同/a,样本/n,的/u,分类/vn,，/w,以便/d,更/d,好/a,的/u,理解/v,数据/n,，/w,重新/d,输入/v,命令/n,：/w,#,导入/v,制图/vn,工具/n, ,import/en, ,matplotlib/en, ,import/en, ,matplotlib/en,./w,pyplot/en, ,as/en, ,plt/en, ,fig/en,=/w,plt/en,./w,figure/en,(/w,)/w, ,ax/en,=/w,fig/en,./w,add/en,_,subplot/en,(/w,111/m,)/w, ,#,记得/v,导入/v,array/en,函数/n, ,from/en, ,numpy/en, ,import/en, ,array/en, ,#,色彩/n,不等/v,，/w,尺寸/n,不同/a, ,ax/en,./w,scatter/en,(/w,datingdatamat/en,[/w,:/w,,/w,1/m,]/w,,/w,datingdatamat/en,[/w,:/w,,/w,2/m,]/w,,/w,15.0/m,*/w,array/en,(/w,datinglabels/en,)/w,,/w,15.0/m,*/w,array/en,(/w,datinglabels/en,)/w,)/w, ,plt/en,./w,show/en,(/w,)/w,（/w,3/m,）/w,实施/v,knn/en,算法/n,k/en,近邻/n,算法/n,对/p,未知/vn,类别/n,属性/n,的/u,数据/n,集中/v,每个/r,点/q,依次/d,执行/v,如下/v,步骤/n,：/w,1/m,）/w,计算/v,已知/nz,类别/n,数据/n,集中/v,的/u,点/q,与/p,当前/t,点/q,之间/f,的/u,距离/n,2/m,）/w,按照/p,距离/n,递增/v,次序/n,排序/vn,3/m,）/w,选取/v,与/p,当前/t,点/q,距离/n,最小/a,的/u,k/en,个/q,点/q,4/m,）/w,确定/v,前/f,k/en,个/q,点/q,所/u,在/p,类别/n,的/u,出现/v,频率/n,5/m,）/w,返回/v,前/f,k/en,个/q,点/q,出现/v,频率/n,最/d,高/a,的/u,类别/n,作为/v,当前/t,点/q,的/u,预测/v,分类/vn,具体/a,代码/n,解析/v,如下/v,：/w,#,-------------------------/nrf,构建/v,分类器/nw,-------------------------------/nrf, ,#,knn/en,算法/n,实施/v, ,#,@/w,inx/en, ,测试/vn,样本数/n,据/p, ,#,@/w,dataset/en, ,训练/vn,样本/n,数据/n, ,#,@/w,labels/en, ,测试/vn,样本/n,标签/n, ,#,@/w,k/en, ,选取/v,距离/n,最近/t,的/u,k/en,个/q,点/q, ,def/en, ,classify/en,0/m,(/w,inx/en,,/w,dataset/en,,/w,labels/en,,/w,k/en,)/w,:/w, ,#,获取/v,训练/vn,数据集/nw,的/u,行数/n, ,datasetsize/en,=/w,dataset/en,./w,shape/en,[/w,0/m,]/w, ,#,---------------/nrf,欧氏/nr,距离/n,计算/v,-----------------/nrf, ,#,各个/r,函数/n,均/d,是/v,以/p,矩阵/n,形式/n,保存/v, ,#,tile/en,(/w,)/w,:/w,inx/en,沿/p,各个/r,维度/n,的/u,复制/v,次数/n, ,diffmat/en,=/w,tile/en,(/w,inx/en,,/w,(/w,datasetsize/en,,/w,1/m,)/w,)/w,-/w,dataset/en, ,sqdiffmat/en,=/w,diffmat/en,*/w,*/w,2/m, ,#,./w,sum/en,(/w,)/w,运行/vn,加/v,函数/n,，/w,参数/n,axis/en,=/w,1/m,表示/v,矩阵/n,每/r,一行/n,的/u,各个/r,值/n,相加/v,和/c, ,sqdistances/en,=/w,sqdiffmat/en,./w,sum/en,(/w,axis/en,=/w,1/m,)/w, ,distances/en,=/w,sqdistances/en,*/w,*/w,0.5/m, ,#,--------------------------------------------/nrf, ,#,获取/v,排序/vn,（/w,有/v,小到大/nw,）/w,后/f,的/u,距离/n,值/n,的/u,索引/n,（/w,序号/n,）/w, ,sorteddistindicies/en,=/w,distances/en,./w,argsort/en,(/w,)/w, ,#,字典/n,，/w,键值/nr,对/p,，/w,结构/n,类似/v,于/p,hash/en,表/n, ,classcount/en,=/w,{/w,}/w, ,for/en, ,i/en, ,in/en, ,range/en,(/w,k/en,)/w,:/w, ,#,获取/v,该/r,索引/n,对应/v,的/u,训练/vn,样本/n,的/u,标签/n, ,voteilabel/en,=/w,labels/en,[/w,sorteddistindicies/en,[/w,i/en,]/w,]/w, ,#,累/a,加/v,几/m,类/q,标签/n,出现/v,的/u,次数/n,，/w,构成/v,键值/nr,对/p,key/en,//w,values/en,并存/v,于/p,classcount/en,中/f, ,classcount/en,[/w,voteilabel/en,]/w,=/w,classcount/en,./w,get/en,(/w,voteilabel/en,,/w,0/m,)/w,+/w,1/m, ,#,将/d,字典/n,列表/v,中/f,按照/p,第二/m,列/v,，/w,也/d,就/d,是/v,次数/n,标签/n,，/w,反序/nw,排序/vn,（/w,由/p,大/a,到/v,小/a,排序/vn,）/w, ,sortedclasscount/en,=/w,sorted/en,(/w,classcount/en,./w,items/en,(/w,)/w,,/w, ,key/en,=/w,operator/en,./w,itemgetter/en,(/w,1/m,)/w,,/w,reverse/en,=/w,true/en,)/w, ,#,返回/v,第一/m,个/q,元素/n,（/w,最高/a,频率/n,）/w,标签/n,key/en, ,return/en, ,sortedclasscount/en,[/w,0/m,]/w,[/w,0/m,]/w,（/w,3/m,）/w,测试/vn,分类器/nw,下面/f,以/p,两个/m,实例/n,对/p,分类器/nw,效果/n,进行/v,测试/vn,实例/n,1/m,：/w,使用/v,knn/en,改进/v,某/r,约会/vn,网站/n,的/u,配对/v,效果/n,#,-------------------------/nrf,knn/en,算法/n,实例/n,-----------------------------------/nrf, ,#,-------------------------/nrf,约会/vn,网站/n,配对/v,-----------------------------------/nrf, ,#,---------------/nrf,1/m, ,将/d,text/en,文本/n,数据/n,转化/v,为/p,分类器/nw,可以/v,接受/v,的/u,格式/n,---------------/nrf, ,def/en, ,file/en,2/m,matrix/en,(/w,filename/en,)/w,:/w, ,#,打开/v,文件/n, ,fr/en,=/w,open/en,(/w,filename/en,)/w, ,#,读/v,取/v,文件/n,每/r,一行/n,到/v,array/en,0/m,lines/en,列表/v, ,#,read/en,(/w,)/w,:/w,读/v,取/v,整个/b,文件/n,，/w,通常/d,将/d,文件/n,内容/n,放/v,到/v,一个/m,字符/n,串/v,中/f, ,#,readline/en,(/w,)/w,:/w,每次/r,读/v,取/v,文件/n,一行/n,，/w,当/p,没有/v,足够/v,内/f,存/v,一次/mq,读/v,取/v,整个/b,文件/n,内容/n,时/ng,，/w,使用/v,该/r,方法/n, ,#,readlines/en,(/w,)/w,:/w,读/v,取/v,文件/n,的/u,每/r,一行/n,，/w,组成/v,一个/m,字符/n,串/v,列表/v,，/w,内存/n,足够/v,时/ng,使用/v, ,array/en,0/m,lines/en,=/w,fr/en,./w,readlines/en,(/w,)/w, ,#,获取/v,字符/n,串/v,列表/v,行数/n,行数/n, ,numberoflines/en,=/w,len/en,(/w,array/en,0/m,lines/en,)/w, ,#,返回/v,的/u,特征/n,矩阵/n,大小/n, ,returnmat/en,=/w,zeros/en,(/w,(/w,numberoflines/en,,/w,3/m,)/w,)/w, ,#,list/en,存储/vn,类/q,标签/n, ,classlabelvector/en,=/w,[/w,]/w, ,index/en,=/w,0/m, ,for/en, ,line/en, ,in/en, ,array/en,0/m,lines/en,:/w, ,#,去掉/v,字符/n,串/v,头尾/n,的/u,空格/n,，/w,类似/v,于/p,java/en,的/u,trim/en,(/w,)/w, ,line/en,=/w,line/en,./w,strip/en,(/w,)/w, ,#,将/d,整行/nw,元素/n,按照/p,tab/en,分割/v,成/v,一个/m,元素/n,列表/v, ,listfromline/en,=/w,line/en,./w,split/en,(/w,'/w,\/w,t/en,'/w,)/w, ,#,将/d,listfromline/en,的/u,前/f,三个/m,元素/n,依次/d,存入/v,returnmat/en,的/u,index/en,行/v,的/u,三列/mq, ,returnmat/en,[/w,index/en,,/w,:/w,]/w,=/w,listfromline/en,[/w,0/m,:/w,3/m,]/w, ,#,python/en,可以/v,使用/v,负/v,索引/n,-/w,1/m,表示/v,列表/v,的/u,最后/f,一列/mq,元素/n,，/w,从而/c,将/d,标签/n,存入/v,标签/n,向/p,量/n,中/f, ,#,使用/v,append/en,函数/n,每次/r,循环/vn,在/p,list/en,尾部/n,添加/vn,一个/m,标签/n,值/n, ,classlabelvector/en,./w,append/en,(/w,int/en,(/w,listfromline/en,[/w,-/w,1/m,]/w,)/w,)/w, ,index/en,+/w,=/w,1/m, ,return/en, ,returnmat/en,,/w,classlabelvector/en, ,#,----------------/nrf,2/m, ,准备/v,数据/n,：/w,归/v,一/m,化/v,----------------------------------------------/nrf, ,#,计算/v,欧式/b,距离/n,时/ng,，/w,如果/c,某/r,一/m,特征/n,数值/n,相对于/nw,其他/r,特征/n,数值/n,较/d,大/a,，/w,那么/r,该/r,特征/n,对于/p,结果/n,影响/vn,要/v, ,#,远/a,大于/nrf,其他/r,特征/n,，/w,然后/c,假设/v,特征/n,都/d,是/v,同等/b,重要/a,，/w,即/v,等/u,权重/nz,的/u,，/w,那么/r,可能/v,某/r,一/m,特征/n,对于/p,结果/n,存/v, ,#,在/p,严重/a,影响/vn, ,def/en, ,autonorm/en,(/w,dataset/en,)/w,:/w, ,#,找/v,出/v,每/r,一列/mq,的/u,最小值/nz, ,minvals/en,=/w,dataset/en,./w,min/en,(/w,0/m,)/w, ,#,找/v,出/v,每/r,一列/mq,的/u,最大值/nz, ,maxvals/en,=/w,dataset/en,./w,max/en,(/w,0/m,)/w, ,ranges/en,=/w,maxvals/en,-/w,minvals/en, ,#,创建/v,与/p,dataset/en,等/u,大小/n,的/u,归/v,一/m,化/v,矩阵/n, ,#,shape/en,(/w,)/w,获取/v,矩阵/n,的/u,大小/n, ,normdataset/en,=/w,zeros/en,(/w,shape/en,(/w,dataset/en,)/w,)/w, ,#,获取/v,dataset/en,第一/m,维度/n,的/u,大小/n, ,m/en,=/w,dataset/en,./w,shape/en,[/w,0/m,]/w, ,#,将/d,dataset/en,的/u,每/r,一行/n,的/u,对应/v,列减/nw,去/v,minvals/en,中/f,对应/v,列/v,的/u,最小值/nz, ,normdataset/en,=/w,dataset/en,-/w,tile/en,(/w,minvals/en,,/w,(/w,m/en,,/w,1/m,)/w,)/w, ,#,归/v,一/m,化/v,，/w,公式/n,newvalue/en,=/w,(/w,value/en,-/w,minvalue/en,)/w,//w,(/w,maxval/en,-/w,minval/en,)/w, ,normdataset/en,=/w,normdataset/en,//w,tile/en,(/w,ranges/en,,/w,(/w,m/en,,/w,1/m,)/w,)/w, ,return/en, ,normdataset/en,,/w,ranges/en,,/w,minvals/en, ,#,-------------------------/nrf,3/m, ,测试/vn,算法/n,----------------------------------------------/nrf, ,#,改变/v,测试/vn,样本/n,占/v,比/p,，/w,k/en,值/n,等/u,都/d,会/v,对/p,最后/f,的/u,错误/n,率/v,产生/v,影响/vn, ,def/en, ,datingclasstest/en,(/w,)/w,:/w, ,#,设定/v,用/p,来/v,测试/vn,的/u,样本/n,占/v,比/p, ,horatio/en,=/w,0.10/m, ,#,从/p,文本/n,中/f,提取/v,得到/v,数据/n,特征/n,，/w,及/c,对应/v,的/u,标签/n, ,datingdatamat/en,,/w,datinglabels/en,=/w,file/en,2/m,matrix/en,(/w,'/w,datingtestset/en,2/m,./w,txt/en,'/w,)/w, ,#,对/p,数据/n,特征/n,进行/v,归/v,一/m,化/v, ,normmat/en,,/w,ranges/en,,/w,minvals/en,=/w,autonorm/en,(/w,datingdatamat/en,)/w, ,#,得到/v,第一/m,维度/n,的/u,大小/n, ,m/en,=/w,normmat/en,./w,shape/en,[/w,0/m,]/w, ,#,测试/vn,样本数/n,量/n, ,numtestvecs/en,=/w,int/en,(/w,horatio/en,*/w,m/en,)/w, ,#,错误/n,数/m,初始化/v, ,errorcount/en,=/w,0.0/m, ,for/en, ,i/en, ,in/en, ,range/en,(/w,numtestvecs/en,)/w,:/w, ,#,利用/v,分类/vn,函数/n,classify/en,0/m,获取/v,测试/vn,样本/n,数据/n,分类/vn,结果/n, ,classifierresult/en,=/w,classify/en,0/m,(/w,normmat/en,[/w,i/en,,/w,:/w,]/w,,/w,normmat/en,[/w,numtestvecs/en,:/w,m/en,,/w,:/w,]/w,,/w,\/w, ,datinglabels/en,[/w,numtestvecs/en,:/w,m/en,]/w,,/w,3/m,)/w, ,#,打印/v,预测/v,结果/n,和/c,实际/n,标签/n, ,print/en,(/w,"/w,the/en, ,classifier/en, ,came/en, ,back/en, ,with/en,:/w, ,%/w,d/en,,/w, ,the/en, ,real/en, ,answer/en, ,is/en,:/w, ,%/w,d/en,"/w,\/w, ,%/w,(/w,classifierresult/en,,/w,datinglabels/en,[/w,i/en,]/w,)/w,)/w, ,#,如果/c,预测/v,输出/v,不/d,等于/v,实际/n,标签/n,,/w,错误/n,数/m,增加/v,1.0/m, ,if/en,(/w,classifierresult/en, ,!/w,=/w, ,datinglabels/en,[/w,i/en,]/w,)/w,:/w,errorcount/en,+/w,=/w,1.0/m, ,#,打印/v,最后/f,的/u,误差率/n, ,print/en,(/w,"/w,the/en, ,total/en, ,error/en, ,rate/en, ,is/en,:/w, ,%/w,f/en,"/w, ,%/w,(/w,errorcount/en,//w,float/en,(/w,numtestvecs/en,)/w,)/w,)/w, ,#,-------------------------/nrf,4/m, ,构建/v,可/v,手动/b,输入/v,系统/n,------------------------------------/nrf, ,#,用户/n,输入/v,相关/v,数据/n,，/w,进行/v,预测/v, ,def/en, ,classifyperson/en,(/w,)/w,:/w, ,#,定义/n,预测/v,结果/n, ,resultlist/en,=/w,[/w,'/w,not/en, ,at/en, ,all/en,'/w,,/w,'/w,in/en, ,small/en, ,does/en,'/w,,/w,'/w,in/en, ,large/en, ,does/en,'/w,]/w, ,#,在/p,python/en,3/m,./w,x/en,中/f,，/w,已经/d,删除/v,raw/en,_,input/en,(/w,)/w,，/w,取而代之/i,的/u,是/v,input/en,(/w,)/w, ,percenttats/en,=/w,float/en,(/w,input/en,(/w,\/w, ,"/w,percentage/en, ,of/en, ,time/en, ,spent/en, ,playing/en, ,video/en, ,games/en,?/w,"/w,)/w,)/w, ,ffmiles/en,=/w,float/en,(/w,input/en,(/w,"/w,frequent/en, ,filer/en, ,miles/en, ,earned/en, ,per/en, ,year/en,?/w,"/w,)/w,)/w, ,icecream/en,=/w,float/en,(/w,input/en,(/w,"/w,liters/en, ,of/en, ,ice/en, ,cream/en, ,consumed/en, ,per/en, ,year/en,?/w,"/w,)/w,)/w, ,datingdatamat/en,,/w,datinglabels/en,=/w,file/en,2/m,matrix/en,(/w,'/w,datingtestset/en,2/m,./w,txt/en,'/w,)/w, ,normmat/en,,/w,ranges/en,,/w,minvalues/en,=/w,autonorm/en,(/w,datingdatamat/en,)/w, ,#,将/d,输入/v,的/u,数值/n,放/v,在/p,数组/n,中/f, ,inarr/en,=/w,array/en,(/w,[/w,ffmiles/en,,/w,percenttats/en,,/w,icecream/en,]/w,)/w, ,classifierresult/en,=/w,classify/en,0/m,(/w,(/w,inarr/en,-/w,minvalues/en,)/w,//w,ranges/en,,/w,normmat/en,,/w,datinglabels/en,,/w,3/m,)/w, ,print/en,(/w,"/w,you/en, ,will/en, ,probably/en, ,like/en, ,this/en, ,person/en,:/w,"/w,,/w,resultlist/en,[/w,classifierresult/en,-/w,1/m,]/w,)/w,实验/vn,结果/n,：/w,当然/d,用户/n,也/d,可以/v,自己/r,手动/b,输入/v,，/w,进行/v,预测/v,：/w,实例/n,2/m, ,手写/v,识别/v,系统/n,#,-------------------------/nrf,knn/en,算法/n,实例/n,-----------------------------------/nrf, ,#,-------------------------/nrf,手写/v,识别/v,系统/n,-----------------------------------/nrf, ,#,-------------------------/nrf,1/m, ,将/d,图像/n,转化/v,为/p,测试/vn,向/p,量/n,-------------------------/nrf, ,#,图像/n,大小/n,32/m,*/w,32/m,，/w,转化/v,为/p,1024/m,的/u,向量/n, ,def/en, ,img/en,2/m,vector/en,(/w,filename/en,)/w,:/w, ,returnvec/en,=/w,zeros/en,(/w,(/w,1/m,,/w,1024/m,)/w,)/w, ,fr/en,=/w,open/en,(/w,filename/en,)/w, ,for/en, ,i/en, ,in/en, ,range/en,(/w,32/m,)/w,:/w, ,#,每次/r,读/v,取/v,一行/n, ,linestr/en,=/w,fr/en,./w,readline/en,(/w,)/w, ,for/en, ,j/en, ,in/en, ,range/en,(/w,32/m,)/w,:/w, ,#,通俗/a,讲/v,：/w,就是/d,根据/p,首/m,地址/n,(/w,位置/n,)/w,的/u,偏移量/nz,计算/v,出/v,当前/t,数据/n,存放/v,的/u,地址/n,(/w,位置/n,)/w, ,returnvec/en,[/w,0/m,,/w,32/m,*/w,i/en,+/w,j/en,]/w,=/w,int/en,(/w,linestr/en,[/w,j/en,]/w,)/w, ,return/en, ,returnvec/en, ,#,-------------------------/nrf,2/m, ,测试/vn,代码/n,--------------------------------------/nrf, ,def/en, ,handwritingclasstest/en,(/w,)/w,:/w, ,hwlabels/en,=/w,[/w,]/w, ,#,列出/v,给/p,定/v,目录/n,的/u,文件/n,名列表/nw,，/w,使用/v,前/f,需/v,导入/v,from/en, ,os/en, ,import/en, ,listdir/en, ,trainingfilelist/en,=/w,listdir/en,(/w,'/w,knn/en,//w,trainingdigits/en,'/w,)/w, ,#,获取/v,列表/v,的/u,长度/n, ,m/en,=/w,len/en,(/w,trainingfilelist/en,)/w, ,#,创建/v,一个/m,m/en,*/w,1024/m,的/u,矩阵/n,用于/v,存储/vn,训练/vn,数据/n, ,trainingmat/en,=/w,zeros/en,(/w,(/w,m/en,,/w,1024/m,)/w,)/w, ,for/en, ,i/en, ,in/en, ,range/en,(/w,m/en,)/w,:/w, ,#,获取/v,当前/t,行/v,的/u,字符/n,串/v, ,filenamestr/en,=/w,trainingfilelist/en,[/w,i/en,]/w, ,#,将/d,字符/n,串/v,按照/p,'/w,./w,'/w,分开/v,，/w,并/c,将/d,前/f,一部分/m,放/v,于/p,filestr/en, ,filestr/en,=/w,filenamestr/en,./w,split/en,(/w,'/w,./w,'/w,)/w,[/w,0/m,]/w, ,#,将/d,filestr/en,按照/p,'/w,_,'/w,分开/v,，/w,并/c,将/d,前/f,一部分/m,存/v,于/p,classnumstr/en, ,classnumstr/en,=/w,int/en,(/w,filestr/en,./w,split/en,(/w,'/w,_,'/w,)/w,[/w,0/m,]/w,)/w, ,#,将/d,每个/r,标签/n,值/n,全部/m,存入/v,一个/m,列表/v,中/f, ,hwlabels/en,./w,append/en,(/w,classnumstr/en,)/w, ,#,解析/v,目录/n,中/f,的/u,每/r,一个/m,文件/n,，/w,将/d,图像/n,转化/v,为/p,向量/n,，/w,最后/f,存入/v,训练/vn,矩阵/n,中/f, ,trainingmat/en,[/w,i/en,,/w,:/w,]/w,=/w,img/en,2/m,vector/en,(/w,'/w,knn/en,//w,trainingdigits/en,//w,%/w,s/en,'/w, ,%/w,filenamestr/en,)/w, ,#,读/v,取/v,测试/vn,数据/n,目录/n,中/f,的/u,文件/n,列表/v, ,testfilelist/en,=/w,listdir/en,(/w,'/w,knn/en,//w,testdigits/en,'/w,)/w, ,errorcount/en,=/w,0.0/m, ,mtest/en,=/w,len/en,(/w,testfilelist/en,)/w, ,for/en, ,i/en, ,in/en, ,range/en,(/w,mtest/en,)/w,:/w, ,#,获取/v,第/m,i/en,行/v,的/u,文件名/n, ,filenamestr/en,=/w,testfilelist/en,[/w,i/en,]/w, ,#,将/d,字符/n,串/v,按照/p,'/w,./w,'/w,分开/v,，/w,并/c,将/d,前/f,一部分/m,放/v,于/p,filestr/en, ,filestr/en,=/w,filenamestr/en,./w,split/en,(/w,'/w,./w,'/w,)/w,[/w,0/m,]/w, ,#,将/d,filestr/en,按照/p,'/w,_,'/w,分开/v,，/w,并/c,将/d,前/f,一部分/m,存/v,于/p,classnumstr/en, ,classnumstr/en,=/w,int/en,(/w,filestr/en,./w,split/en,(/w,'/w,_,'/w,)/w,[/w,0/m,]/w,)/w, ,#,解析/v,目录/n,中/f,的/u,每/r,一个/m,文件/n,，/w,将/d,图像/n,转化/v,为/p,向量/n, ,vectorundertest/en,=/w,img/en,2/m,vector/en,(/w,'/w,knn/en,//w,testdigits/en,//w,%/w,s/en,'/w, ,%/w,filenamestr/en,)/w, ,#,分类/vn,预测/v, ,classifierresult/en,=/w,classify/en,0/m,(/w,vectorundertest/en,,/w,trainingmat/en,,/w,hwlabels/en,,/w,3/m,)/w, ,#,打印/v,预测/v,结果/n,和/c,实际/n,结果/n, ,print/en,(/w,"/w,the/en, ,classifierresult/en, ,came/en, ,back/en, ,with/en,:/w, ,%/w,d/en,,/w,the/en, ,real/en, ,answer/en, ,is/en,:/w, ,%/w,d/en,"/w, ,%/w,(/w,classifierresult/en,,/w,c