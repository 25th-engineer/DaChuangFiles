1/m,./w, ,iris/en, ,data/en, ,setiris/en,数据集/nw,是/v,常用/a,的/u,分类/vn,实验/vn,数据集/nw,，/w,由/p,fisher/en,,/w, ,1936/m,收集/v,整理/v,。/w,iris/en,也/d,称/v,鸢尾/nw,花卉/n,数据集/nw,，/w,是/v,一类/mq,多/a,重/a,变量/n,分析/vn,的/u,数据集/nw,。/w,数据集/nw,包含/v,150个/m,数据集/nw,，/w,分为/v,3类/mq,，/w,每/r,类/q,50个/m,数据/n,，/w,每个/r,数据/n,包含/v,4个/m,属性/n,。/w,可/v,通过/p,花萼/n,长度/n,，/w,花萼/n,宽度/n,，/w,花瓣/n,长度/n,，/w,花瓣/n,宽度/n,4个/m,属性/n,预测/v,鸢尾/nw,花卉/n,属于/v,（/w,setosa/en,，/w,versicolour/en,，/w,virginica/en,）/w,三个/m,种类/n,中/f,的/u,哪/r,一类/mq,。/w,该/r,数据集/nw,包含/v,了/u,5个/m,属性/n,：/w,sepal/en,./w,length/en,（/w,花萼/n,长度/n,）/w,，/w,单位/n,是/v,cm/en,;/w,sepal/en,./w,width/en,（/w,花萼/n,宽度/n,）/w,，/w,单位/n,是/v,cm/en,;/w,petal/en,./w,length/en,（/w,花瓣/n,长度/n,）/w,，/w,单位/n,是/v,cm/en,;/w,petal/en,./w,width/en,（/w,花瓣/n,宽度/n,）/w,，/w,单位/n,是/v,cm/en,;/w,species/en, ,(/w,种类/n,)/w,：/w,iris/en, ,setosa/en,（/w,山/n,鸢尾/nw,）/w,、/w,iris/en, ,versicolour/en,（/w,杂色/n,鸢尾/nw,）/w,，/w,以及/c,iris/en, ,virginica/en,（/w,维吉尼亚/nw,鸢尾/nw,）/w,。/w,如/v,表/n, ,11/m,所示/nz,的/u,iris/en,部分/n,数据集/nw,。/w,表/n, ,116/m,./w,42/m,./w,85/m,./w,62/m,./w,2252/m,./w,33/m,./w,3114/m,./w,92/m,./w,54/m,./w,51/m,./w,724/m,./w,93/m,./w,11/m,./w,50/m,./w,105/m,./w,73/m,./w,81/m,./w,70/m,./w,304/m,./w,43/m,./w,21/m,./w,30/m,./w,205/m,./w,43/m,./w,41/m,./w,50/m,./w,406/m,./w,93/m,./w,15/m,./w,12/m,./w,326/m,./w,73/m,./w,14/m,./w,41/m,./w,415/m,./w,13/m,./w,71/m,./w,50/m,./w,405/m,./w,22/m,./w,73/m,./w,91/m,./w,416/m,./w,93/m,./w,14/m,./w,91/m,./w,515/m,./w,841/m,./w,20/m,./w,205/m,./w,43/m,./w,91/m,./w,70/m,./w,407/m,./w,73/m,./w,86/m,./w,72/m,./w,226/m,./w,33/m,./w,34/m,./w,71/m,./w,612/m,./w, ,neural/en, ,network/en,2.1/m, ,performtensorflow/en,提供/v,一个/m,高/a,水平/n,的/u,机器/n,学习/v, ,api/en, ,(/w,tf/en,./w,contrib/en,./w,learn/en,)/w,，/w,使得/v,容易/a,配置/vn,(/w,configure/en,)/w,、/w,训练/vn,(/w,train/en,)/w,和/c,评估/vn,(/w,evaluate/en,)/w,各种/r,机器/n,学习/v,模型/n,。/w,tf/en,./w,contrib/en,./w,learn/en,库/n,的/u,使用/v,可以/v,概括/v,为/p,五个/m,步骤/n,，/w,如下/v,所示/nz,：/w,1/m,)/w, ,load/en, ,csvs/en, ,containing/en, ,iris/en, ,training/en,//w,test/en, ,data/en, ,into/en, ,a/en, ,tensorflow/en, ,dataset/en,2/m,)/w, ,construct/en, ,a/en, ,neural/en, ,network/en, ,classifier/en,3/m,)/w, ,fit/en, ,the/en, ,model/en, ,using/en, ,the/en, ,training/en, ,data/en,4/m,)/w, ,evaluate/en, ,the/en, ,accuracy/en, ,of/en, ,the/en, ,model/en,5/m,)/w,classify/en, ,new/en, ,samples/en,2.2/m, ,code/en,本节/t,以/p,对/p, ,iris/en, ,数据集/nw,进行/v,分类/vn,为/p,例/n,进行/v,介绍/v,，/w,如下/v,所示/nz,是/v,完整/a,的/u,tensorflow/en,程序/n,：/w,from/en, ,_,_,future/en,_,_, ,import/en, ,absolute/en,_,importfrom/en, ,_,_,future/en,_,_, ,import/en, ,divisionfrom/en, ,_,_,future/en,_,_, ,import/en, ,print/en,_,functionimport/en, ,osimport/en, ,urllibimport/en, ,numpy/en, ,as/en, ,npimport/en, ,tensorflow/en, ,as/en, ,tf/en,#, ,data/en, ,setsiris/en,_,training/en, ,=/w, ,"/w,iris/en,_,training/en,./w,csv/en,"/w,iris/en,_,training/en,_,url/en, ,=/w, ,"/w,http/en,:/w,//w,//w,download/en,./w,tensorflow/en,./w,org/en,//w,data/en,//w,iris/en,_,training/en,./w,csv/en,"/w,iris/en,_,test/en, ,=/w, ,"/w,iris/en,_,test/en,./w,csv/en,"/w,iris/en,_,test/en,_,url/en, ,=/w, ,"/w,http/en,:/w,//w,//w,download/en,./w,tensorflow/en,./w,org/en,//w,data/en,//w,iris/en,_,test/en,./w,csv/en,"/w,def/en, ,main/en,(/w,)/w,:/w,#, ,if/en, ,the/en, ,training/en, ,and/en, ,test/en, ,sets/en, ,aren/en,'/w,t/en, ,stored/en, ,locally/en,,/w, ,download/en, ,them/en,./w,if/en, ,not/en, ,os/en,./w,path/en,./w,exists/en,(/w,iris/en,_,training/en,)/w,:/w,raw/en, ,=/w, ,urllib/en,./w,urlopen/en,(/w,iris/en,_,training/en,_,url/en,)/w,./w,read/en,(/w,)/w,with/en, ,open/en,(/w,iris/en,_,training/en,,/w, ,"/w,w/en,"/w,)/w, ,as/en, ,f/en,:/w,f/en,./w,write/en,(/w,raw/en,)/w,if/en, ,not/en, ,os/en,./w,path/en,./w,exists/en,(/w,iris/en,_,test/en,)/w,:/w,raw/en, ,=/w, ,urllib/en,./w,urlopen/en,(/w,iris/en,_,test/en,_,url/en,)/w,./w,read/en,(/w,)/w,with/en, ,open/en,(/w,iris/en,_,test/en,,/w, ,"/w,w/en,"/w,)/w, ,as/en, ,f/en,:/w,f/en,./w,write/en,(/w,raw/en,)/w,#, ,load/en, ,datasets/en,./w,training/en,_,set/en, ,=/w, ,tf/en,./w,contrib/en,./w,learn/en,./w,datasets/en,./w,base/en,./w,load/en,_,csv/en,_,with/en,_,header/en,(/w,filename/en,=/w,iris/en,_,training/en,,/w,target/en,_,dtype/en,=/w,np/en,./w,int/en,,/w,features/en,_,dtype/en,=/w,np/en,./w,float/en,32/m,)/w,test/en,_,set/en, ,=/w, ,tf/en,./w,contrib/en,./w,learn/en,./w,datasets/en,./w,base/en,./w,load/en,_,csv/en,_,with/en,_,header/en,(/w,filename/en,=/w,iris/en,_,test/en,,/w,target/en,_,dtype/en,=/w,np/en,./w,int/en,,/w,features/en,_,dtype/en,=/w,np/en,./w,float/en,32/m,)/w,#, ,specify/en, ,that/en, ,all/en, ,features/en, ,have/en, ,real/en,-/w,value/en, ,datafeature/en,_,columns/en, ,=/w, ,[/w,tf/en,./w,contrib/en,./w,layers/en,./w,real/en,_,valued/en,_,column/en,(/w,"/w,"/w,,/w, ,dimension/en,=/w,4/m,)/w,]/w,#, ,build/en, ,3/m, ,layer/en, ,dnn/en, ,with/en, ,10/m,,/w, ,20/m,,/w, ,10/m, ,units/en, ,respectively/en,./w,classifier/en, ,=/w, ,tf/en,./w,contrib/en,./w,learn/en,./w,dnnclassifier/en,(/w,feature/en,_,columns/en,=/w,feature/en,_,columns/en,,/w,hidden/en,_,units/en,=/w,[/w,10/m,,/w, ,20/m,,/w, ,10/m,]/w,,/w,n/en,_,classes/en,=/w,3/m,,/w,model/en,_,dir/en,=/w,"/w,//w,tmp/en,//w,iris/en,_,model/en,"/w,)/w,#, ,define/en, ,the/en, ,training/en, ,inputsdef/en, ,get/en,_,train/en,_,inputs/en,(/w,)/w,:/w,x/en, ,=/w, ,tf/en,./w,constant/en,(/w,training/en,_,set/en,./w,data/en,)/w,y/en, ,=/w, ,tf/en,./w,constant/en,(/w,training/en,_,set/en,./w,target/en,)/w,return/en, ,x/en,,/w, ,y/en,#, ,fit/en, ,model/en,./w,classifier/en,./w,fit/en,(/w,input/en,_,fn/en,=/w,get/en,_,train/en,_,inputs/en,,/w, ,steps/en,=/w,2000/m,)/w,#, ,define/en, ,the/en, ,test/en, ,inputsdef/en, ,get/en,_,test/en,_,inputs/en,(/w,)/w,:/w,x/en, ,=/w, ,tf/en,./w,constant/en,(/w,test/en,_,set/en,./w,data/en,)/w,y/en, ,=/w, ,tf/en,./w,constant/en,(/w,test/en,_,set/en,./w,target/en,)/w,return/en, ,x/en,,/w, ,y/en,#, ,evaluate/en, ,accuracy/en,./w,accuracy/en,_,score/en, ,=/w, ,classifier/en,./w,evaluate/en,(/w,input/en,_,fn/en,=/w,get/en,_,test/en,_,inputs/en,,/w,steps/en,=/w,1/m,)/w,[/w,"/w,accuracy/en,"/w,]/w,print/en,(/w,"/w,\/w,ntest/en, ,accuracy/en,:/w, ,{/w,0/m,:/w,f/en,}/w,\/w,n/en,"/w,./w,format/en,(/w,accuracy/en,_,score/en,)/w,)/w,#, ,classify/en, ,two/en, ,new/en, ,flower/en, ,samples/en,./w,def/en, ,new/en,_,samples/en,(/w,)/w,:/w,return/en, ,np/en,./w,array/en,(/w,[/w,[/w,6.4/m,,/w, ,3.2/m,,/w, ,4.5/m,,/w, ,1.5/m,]/w,,/w,[/w,5.8/m,,/w, ,3.1/m,,/w, ,5.0/m,,/w, ,1.7/m,]/w,]/w,,/w, ,dtype/en,=/w,np/en,./w,float/en,32/m,)/w,predictions/en, ,=/w, ,list/en,(/w,classifier/en,./w,predict/en,(/w,input/en,_,fn/en,=/w,new/en,_,samples/en,)/w,)/w,print/en,(/w,"/w,new/en, ,samples/en,,/w, ,class/en, ,predictions/en,:/w, ,{/w,}/w,\/w,n/en,"/w,./w,format/en,(/w,predictions/en,)/w,)/w,if/en, ,_,_,name/en,_,_, ,=/w,=/w, ,"/w,_,_,main/en,_,_,"/w,:/w,main/en,(/w,)/w,3/m,./w, ,analysis/en,3.1/m, ,load/en, ,data/en,对于/p,本文/r,的/u,程序/n,，/w,iris/en,数据集/nw,被/p,分为/v,两/m,部分/n,：/w,训练/vn,集/vg,：/w,有/v,120个/m,样例/nw,，/w,保存/v,在/p,iris/en,_,training/en,./w,csv/en,文件/n,中/f,；/w,测试/vn,集/vg,：/w,有/v,30个/m,样例/nw,，/w,保存/v,在/p,iris/en,_,test/en,./w,csv/en,文件/n,中/f,。/w,1/m,)/w, ,import/en, ,module/en,首先/d,程序/n,引入/v,必要/a,module/en,，/w,然后/c,定义/n,了/u,数据集/nw,的/u,本地/r,路径/n,和/c,网络/n,路径/n,；/w,from/en, ,_,_,future/en,_,_, ,import/en, ,absolute/en,_,importfrom/en, ,_,_,future/en,_,_, ,import/en, ,divisionfrom/en, ,_,_,future/en,_,_, ,import/en, ,print/en,_,functionimport/en, ,osimport/en, ,urllibimport/en, ,tensorflow/en, ,as/en, ,tfimport/en, ,numpy/en, ,as/en, ,npiris/en,_,training/en, ,=/w, ,"/w,iris/en,_,training/en,./w,csv/en,"/w,iris/en,_,training/en,_,url/en, ,=/w, ,"/w,http/en,:/w,//w,//w,download/en,./w,tensorflow/en,./w,org/en,//w,data/en,//w,iris/en,_,training/en,./w,csv/en,"/w,iris/en,_,test/en, ,=/w, ,"/w,iris/en,_,test/en,./w,csv/en,"/w,iris/en,_,test/en,_,url/en, ,=/w, ,http/en,:/w,//w,//w,download/en,./w,tensorflow/en,./w,org/en,//w,data/en,//w,iris/en,_,test/en,./w,csv/en,2/m,)/w, ,open/en, ,file/en,若/c,本地/r,路径/n,上/f,不/d,存在/v,数据集/nw,指定/v,的/u,文件/n,，/w,则/d,通过/p,网上/s,下载/v,。/w,if/en, ,not/en, ,os/en,./w,path/en,./w,exists/en,(/w,iris/en,_,training/en,)/w,:/w,raw/en, ,=/w, ,urllib/en,./w,urlopen/en,(/w,iris/en,_,training/en,_,url/en,)/w,./w,read/en,(/w,)/w,with/en, ,open/en,(/w,iris/en,_,training/en,,/w,'/w,w/en,'/w,)/w, ,as/en, ,f/en,:/w,f/en,./w,write/en,(/w,raw/en,)/w,if/en, ,not/en, ,os/en,./w,path/en,./w,exists/en,(/w,iris/en,_,test/en,)/w,:/w,raw/en, ,=/w, ,urllib/en,./w,urlopen/en,(/w,iris/en,_,test/en,_,url/en,)/w,./w,read/en,(/w,)/w,with/en, ,open/en,(/w,iris/en,_,test/en,,/w,'/w,w/en,'/w,)/w, ,as/en, ,f/en,:/w,f/en,./w,write/en,(/w,raw/en,)/w,3/m,)/w, ,load/en, ,dataset/en,接着/c,将/d,iris/en,数据集/nw,加载/v,到/v,tensorflow/en,框架/n,中/f,，/w,使/v,其/r,tensorflow/en,能够/v,直接/ad,使用/v,。/w,这/r,其中/r,使用/v,了/u,learn/en,./w,datasets/en,./w,base/en,模块/n,的/u,load/en,_,csv/en,_,with/en,_,header/en,(/w,)/w,函数/n,。/w,该/r,方法/n,有/v,三个/m,参数/n,:/w,filename/en,：/w,指定/v,了/u,csv/en,文件/n,的/u,名字/n,；/w,target/en,_,dtype/en,：/w,指定/v,了/u,数据/n,集中/v,目标/n,数据/n,类型/n,，/w,其/r,为/p,numpy/en, ,datatype/en,类型/n,；/w,features/en,_,dtype/en,：/w,指定/v,了/u,数据/n,集中/v,特征/n,向量/n,的/u,数据/n,类型/n,，/w,其/r,为/p,numpy/en, ,datatype/en,类型/n,。/w,如/v,表/n, ,11/m,所示/nz,，/w,iris/en,数据/n,中/f,的/u,目标值/n,为/p,：/w,0/m,~/w,2/m,，/w,所以/c,可以/v,定义/n,为/p,整型/nw,数据/n,就/d,可以/v,了/u,，/w,即/v,np/en,./w,int/en,，/w,如下/v,所示/nz,：/w,#, ,load/en, ,datasets/en,./w,training/en,_,set/en, ,=/w, ,tf/en,./w,contrib/en,./w,learn/en,./w,datasets/en,./w,base/en,./w,load/en,_,csv/en,_,with/en,_,header/en,(/w,filename/en,=/w,iris/en,_,training/en,,/w,target/en,_,dtype/en,=/w,np/en,./w,int/en,,/w,features/en,_,dtype/en,=/w,np/en,./w,float/en,32/m,)/w,test/en,_,set/en, ,=/w, ,tf/en,./w,contrib/en,./w,learn/en,./w,datasets/en,./w,base/en,./w,load/en,_,csv/en,_,with/en,_,header/en,(/w,filename/en,=/w,iris/en,_,test/en,,/w,target/en,_,dtype/en,=/w,np/en,./w,int/en,,/w,features/en,_,dtype/en,=/w,np/en,./w,float/en,32/m,)/w,由于/c,tf/en,./w,contrib/en,./w,learn/en,中/f,的/u,数据/n,类型/n,（/w,datasets/en,）/w,是/v,以/p,元祖/nr,类型/n,定义/n,的/u,，/w,所以/c,用户/n,可以/v,通过/p,data/en, ,和/c, ,target/en,两个/m,域/ng,属性/n,访问/v,特征/n,向/p,量/n,数据/n,和/c,目标/n,数据/n,。/w,即/v,training/en,_,set/en,./w,data/en, ,和/c, ,training/en,_,set/en,./w,target/en,为/p,训练/vn,数据/n,集中/v,的/u,特征/n,向量/n,和/c,目标/n,数据/n,。/w,3.2/m, ,construct/en, ,estimatortf/en,./w,contrib/en,./w,learn/en,预定义/nw,了/u,许多/m,模型/n,，/w,称为/v,：/w,estimators/en,。/w,用户/n,以/p,黑箱/n,模型/n,使用/v,estimator/en,来/v,训练/vn,和/c,评估/vn,数据/n,。/w,本节/t,使用/v,tf/en,./w,contrib/en,./w,learn/en,./w,dnnclassifier/en,来/v,训练/vn,数据/n,，/w,如下/v,所示/nz,：/w,#, ,specify/en, ,that/en, ,all/en, ,features/en, ,have/en, ,real/en,-/w,value/en, ,datafeature/en,_,columns/en, ,=/w, ,[/w,tf/en,./w,contrib/en,./w,layers/en,./w,real/en,_,valued/en,_,column/en,(/w,"/w,"/w,,/w, ,dimension/en,=/w,4/m,)/w,]/w,#, ,build/en, ,3/m, ,layer/en, ,dnn/en, ,with/en, ,10/m,,/w, ,20/m,,/w, ,10/m, ,units/en, ,respectively/en,./w,classifier/en, ,=/w, ,tf/en,./w,contrib/en,./w,learn/en,./w,dnnclassifier/en,(/w,feature/en,_,columns/en,=/w,feature/en,_,columns/en,,/w,hidden/en,_,units/en,=/w,[/w,10/m,,/w, ,20/m,,/w, ,10/m,]/w,,/w,n/en,_,classes/en,=/w,3/m,,/w,model/en,_,dir/en,=/w,"/w,//w,tmp/en,//w,iris/en,_,model/en,"/w,)/w,首先/d,程序/n,定义/n,了/u,模型/n,的/u,feature/en, ,columns/en,，/w,其/r,指定/v,了/u,数据/n,集中/v,特征/n,向量/n,的/u,数据/n,类型/n,。/w,每/r,种/q,类型/n,都/d,有/v,一个/m,名字/n,，/w,由于/c,本节/t,的/u,数据/n,是/v,实数/n,型/k,，/w,所以/c,这里/r,使用/v,./w,real/en,_,valued/en,_,column/en,类型/n,。/w,该/r,类型/n,第一/m,个/q,参数/n,指定/v,了/u,列/v,名字/n,，/w,第二/m,个/q,参数/n,指定/v,了/u,列/v,的/u,数量/n,。/w,其中/r,所有/b,的/u,特征/n,类型/n,都/d,定义/n,在/p,：/w,tensorflow/en,//w,contrib/en,//w,layers/en,//w,python/en,//w,layers/en,//w,feature/en,_,column/en,./w,py/en,./w,然后/c,程序/n,创建/v,了/u,dnnclassifier/en,模型/n,，/w,feature/en,_,columns/en,=/w,feature/en,_,columns/en,：/w,指定/v,所/u,创建/v,的/u,特征/n,向/p,量/n,类型/n,；/w,hidden/en,_,units/en,=/w,[/w,10/m,,/w, ,20/m,,/w, ,10/m,]/w,：/w,设置/v,隐藏层/nw,的/u,层数/n,，/w,并/c,指定/v,每/r,层/q,神经元/n,的/u,数据量/n,；/w,n/en,_,classes/en,=/w,3/m,：/w,指定/v,目标/n,类型/n,的/u,数量/n,，/w,iris/en,数据/n,有/v,三类/b,，/w,所以/c,这里/r,为/p,3/m,；/w,model/en,_,dir/en,=/w,//w,tmp/en,//w,iris/en,_,model/en,：/w,指定/v,模型/n,在/p,训练/vn,期间/f,保存/v,的/u,路径/n,。/w,3.3/m, ,describe/en, ,pipelinetensorflow/en,框架/n,的/u,数据/n,都/d,是/v,以/p,tensor/en,对象/n,存在/v,，/w,即/v,要么/c,是/v,constant/en,、/w,placeholder/en,或/c,variable/en,类型/n,。/w,通常/d,训练/vn,数据/n,是/v,以/p,placeholder/en,类型/n,定义/n,，/w,然后/c,用户/n,训练/vn,时/ng,，/w,传递/v,所有/b,的/u,数据/n,。/w,本节/t,则/d,将/d,训练/vn,数据/n,存储/vn,在/p,constant/en,类型/n,中/f,。/w,如下/v,所示/nz,：/w,#, ,define/en, ,the/en, ,training/en, ,inputsdef/en, ,get/en,_,train/en,_,inputs/en,(/w,)/w,:/w,x/en, ,=/w, ,tf/en,./w,constant/en,(/w,training/en,_,set/en,./w,data/en,)/w,y/en, ,=/w, ,tf/en,./w,constant/en,(/w,training/en,_,set/en,./w,target/en,)/w,return/en, ,x/en,,/w, ,y/en,3.4/m, ,fit/en, ,dnnclassifier/en,创建/v,分类器/nw,后/f,，/w,就/d,可以/v,调用/v,神经/n,网络/n,中/f,dnnclassifier/en,模型/n,的/u,fit/en,(/w,)/w,函数/n,来/v,训练/vn,模型/n,了/u,，/w,如下/v,所示/nz,：/w,#, ,fit/en, ,model/en,./w,classifier/en,./w,fit/en,(/w,input/en,_,fn/en,=/w,get/en,_,train/en,_,inputs/en,,/w, ,steps/en,=/w,2000/m,)/w,通过/p,向/p,fit/en,传递/v,get/en,_,train/en,_,inputs/en,函数/n,返回/v,的/u,训练/vn,数据/n,，/w,并/c,指定/v,训练/vn,的/u,步数/n,为/p,2000步/mq,。/w,3.5/m, ,evaluate/en, ,model/en,训练/vn,模型/n,后/f,，/w,就/d,可以/v,通过/p,evaluate/en,(/w,)/w,函数/n,来/v,评估/vn,模型/n,的/u,泛化/nw,能力/n,了/u,。/w,与/p,fit/en,函数/n,类似/v,，/w,evaluate/en,函数/n,的/u,输入/v,数据/n,也/d,需/v,为/p,tensor/en,类型/n,，/w,所以/c,定义/n,了/u,get/en,_,test/en,_,inputs/en,(/w,)/w,函数/n,来/v,转换/v,数据/n,。/w,#, ,define/en, ,the/en, ,test/en, ,inputsdef/en, ,get/en,_,test/en,_,inputs/en,(/w,)/w,:/w,x/en, ,=/w, ,tf/en,./w,constant/en,(/w,test/en,_,set/en,./w,data/en,)/w,y/en, ,=/w, ,tf/en,./w,constant/en,(/w,test/en,_,set/en,./w,target/en,)/w,return/en, ,x/en,,/w, ,y/en,#, ,evaluate/en, ,accuracy/en,./w,accuracy/en,_,score/en, ,=/w, ,classifier/en,./w,evaluate/en,(/w,input/en,_,fn/en,=/w,get/en,_,test/en,_,inputs/en,,/w, ,steps/en,=/w,1/m,)/w,[/w,"/w,accuracy/en,"/w,]/w,print/en,(/w,"/w,\/w,ntest/en, ,accuracy/en,:/w, ,{/w,0/m,:/w,f/en,}/w,\/w,n/en,"/w,./w,format/en,(/w,accuracy/en,_,score/en,)/w,)/w,注意/v,：/w,由于/c,evaluate/en,函数/n,的/u,返回/v,值/n,是/v,一个/m,map/en,类型/n,（/w,即/v,dict/en,类型/n,）/w,，/w,所以/c,直接/ad,根据/p,"/w,accuracy/en,"/w,键/nr,获取/v,值/n,：/w,accuracy/en,_,score/en,。/w,3.6/m, ,classify/en, ,samples/en,在/p,训练/vn,模型/n,后/f,，/w,就/d,可以/v,使用/v,estimator/en,模型/n,的/u,predict/en,(/w,)/w,函数/n,来/v,预测/v,样例/nw,。/w,如/v,表/n, ,31/m,有/v,所示/nz,的/u,两个/m,样例/nw,，/w,希望/v,预测/v,其/r,为什么/r,类型/n,。/w,表/n, ,31/m,sepal/en, ,lengthsepal/en, ,widthpetal/en, ,lengthpetal/en, ,width/en,6/m,./w,43/m,./w,24/m,./w,51/m,./w,55/m,./w,83/m,./w,151/m,./w,7/m,如下/v,所示/nz,的/u,程序/n,：/w,#, ,classify/en, ,two/en, ,new/en, ,flower/en, ,samples/en,./w,def/en, ,new/en,_,samples/en,(/w,)/w,:/w,return/en, ,np/en,./w,array/en,(/w,[/w,[/w,6.4/m,,/w, ,3.2/m,,/w, ,4.5/m,,/w, ,1.5/m,]/w,,/w,[/w,5.8/m,,/w, ,3.1/m,,/w, ,5.0/m,,/w, ,1.7/m,]/w,]/w,,/w, ,dtype/en,=/w,np/en,./w,float/en,32/m,)/w,predictions/en, ,=/w, ,list/en,(/w,classifier/en,./w,predict/en,(/w,input/en,_,fn/en,=/w,new/en,_,samples/en,)/w,)/w,print/en,(/w,"/w,new/en, ,samples/en,,/w, ,class/en, ,predictions/en,:/w, ,{/w,}/w,\/w,n/en,"/w,./w,format/en,(/w,predictions/en,)/w,)/w,输出/v,：/w,new/en, ,samples/en,,/w, ,class/en, ,predictions/en,:/w, ,[/w,1/m, ,2/m,]/w,注意/v,：/w,由于/c,predict/en,(/w,)/w,函数/n,执行/v,的/u,返回/v,结果/n,类型/n,是/v,generator/en,。/w,所以/c,上述/b,程序/n,将/d,其/r,转换/v,为/p,一个/m,list/en,对象/n,。/w,4/m,./w, ,logging/en, ,and/en, ,monitoring/en,由于/c,tensorflow/en,的/u,机器/n,学习/v,estimator/en,是/v,黑箱/n,学习/v,，/w,用户/n,无法/v,了解/v,模型/n,执行/v,发生/v,了/u,什么/r,，/w,以及/c,模型/n,什么/r,时候/n,收敛/vn,。/w,所以/c,tf/en,./w,contrib/en,./w,learn/en,提供/v,的/u,一个/m,monitor/en, ,api/en,，/w,可以/v,帮助/v,用户/n,记录/v,和/c,评估/vn,模型/n,。/w,4.1/m, ,default/en, ,validationmonitor/en,默认/v,使用/v,fit/en,(/w,)/w,函数/n,训练/vn,estimator/en,模型/n,时/ng,，/w,tensorflow/en,会/v,产生/v,一些/m,summary/en,数据/n,到/v,fit/en,(/w,)/w,函数/n,指定/v,的/u,路径/n,中/f,。/w,用户/n,可以/v,使用/v,tensorborad/en,来/v,展示/v,更/d,详细/ad,的/u,信息/n,。/w,如/v,图/n, ,1/m,所示/nz,，/w,执行/v,上述/b,程序/n,dnnclassifier/en,的/u,fit/en,(/w,)/w,和/c,evaluate/en,(/w,)/w,函数/n,后/f,，/w,默认/v,在/p,tensorboard/en,页面/n,显示/v,的/u,常量/n,信息/n,。/w,图/n, ,14.2/m, ,monitors/en,为了/p,让/v,用户/n,更/d,直观/a,地/u,了解/v,模型/n,训练/vn,过程/n,的/u,细节/n,，/w,tf/en,./w,contrib/en,./w,learn/en,提供/v,了/u,一些/m,高级/a,monitors/en,，/w,使得/v,用户/n,在/p,调用/v,fit/en,(/w,)/w,函数/n,时/ng,，/w,可以/v,使用/v,monitors/en,来/v,记录/v,和/c,跟踪/v,模