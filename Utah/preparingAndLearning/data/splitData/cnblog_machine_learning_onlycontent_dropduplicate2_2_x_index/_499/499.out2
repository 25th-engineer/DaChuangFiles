强化/v,学习/v,概况/n,正如/v,在/p,前面/f,所/u,提到/v,的/u,，/w,强化/v,学习/v,是/v,指/v,一种/mq,计算机/n,以/p,“/w,试错/nz,”/w,的/u,方式/n,进行/v,学习/v,，/w,通过/p,与/p,环境/n,进行/v,交互/v,获得/v,的/u,奖赏/n,指导/vn,行为/n,，/w,目标/n,是/v,使/v,程序/n,获得/v,最/d,大/a,的/u,奖赏/n,，/w,强化/v,学习/v,不/d,同于/c,连督/nw,学习/v,，/w,区别/n,主要/b,表现/v,在/p,强化/v,信号/n,上/f,，/w,强化/v,学习/v,中/f,由/p,环境/n,提供/v,的/u,强化/v,信号/n,是/v,对/p,产生/v,动作/n,的/u,好坏/n,作/v,一种/mq,评价/v,(/w,通常/d,为/p,标量/n,信号/n,)/w,，/w,而/c,不/d,是/v,告诉/v,强化/v,学习/v,系统/n,如何/r,去/v,产生/v,正确/a,的/u,动作/n,。/w,唯一/b,的/u,目的/n,是/v,最大化/v,效率/n,和/c,//w,或/c,性能/n,。/w,算法/n,对/p,正确/a,的/u,决策/n,给予/v,奖励/vn,，/w,对/p,错误/n,的/u,决策/n,给予/v,惩罚/vn,，/w,如/v,下/f,图/n,所/u,示/vg,：/w,持续/vd,的/u,训练/vn,是/v,为了/p,不断/d,提高/v,效率/n,。/w,这里/r,的/u,重点/n,是/v,性能/n,，/w,这/r,意味/n,着/u,我们/r,需要/v,，/w,在/p,看/v,不/d,见/v,的/u,数据/n,和/c,算法/n,已经/d,学/v,过/u,的/u,东西/n,，/w,之间/f,找到/v,一种/mq,平衡/a,。/w,该/r,算法/n,将/d,一个/m,操作/v,应用/vn,到/v,它/r,的/u,环境/n,中/f,，/w,根据/p,它/r,所/u,做/v,的/u,行为/n,接受/v,奖励/vn,或/c,惩罚/vn,，/w,不断/d,的/u,重复/v,这个/r,过程/n,，/w,等等/u,。/w,接下来/l,让/v,我们/r,看/v,一个/m,程序/n,，/w,概念/n,是/v,相似/a,的/u,，/w,尽管/c,它/r,的/u,规模/n,和/c,复杂性/n,很/d,低/a,。/w,想象/v,一下/m,，/w,是/v,什么/r,让/v,自动/d,驾驶/v,的/u,车辆/n,从/p,一个/m,地点/n,移动/vn,到/v,了/u,另/r,一个/m,点/q,。/w,让/v,我们/r,看看/v,我们/r,的/u,应用/vn,程序/n,：/w,在/p,这里/r,，/w,可以/v,看到/v,我们/r,有/v,一个/m,非常/d,基本/a,的/u,地图/n,，/w,一个/m,没有/v,障碍/n,，/w,但/c,有/v,外部/f,限制/v,的/u,墙/n,。/w,黑色/n,块/q,(/w,start/en,)/w,是/v,我们/r,的/u,对象/n,，/w,红色/n,块/q,(/w,stop/en,)/w,是/v,我们/r,的/u,目标/n,。/w,在/p,这个/r,应用/vn,程序/n,中/f,，/w,我们/r,的/u,目标/n,是/v,让/v,我们/r,的/u,对象/n,在/p,墙壁/n,以内/f,到达/v,目标/n,位置/n,。/w,如果/c,我们/r,的/u,下/f,一步/mq,把/p,我们/r,的/u,对象/n,放/v,在/p,一个/m,白色/n,的/u,方块/n,上/f,，/w,我们/r,的/u,算法/n,将/d,得到/v,奖励/vn,。/w,如果/c,我们/r,的/u,下/f,一步/mq,行动/vn,超出/v,墙壁/n,的/u,围地/nw,范围/n,，/w,我们/r,将/d,受到/v,惩罚/vn,。/w,在/p,这个/r,例子/n,中/f,，/w,它/r,的/u,路径/n,上/f,绝对/d,没有/v,障碍/n,，/w,所以/c,我们/r,的/u,对象/n,应该/v,能够/v,到达/v,它/r,的/u,目的地/n,。/w,问题/n,是/v,:/w,它/r,能/v,多快学会/nt,?/w,下面/f,是/v,另/r,一个/m,比较/d,复杂/a,的/u,地图/n,示例/n,：/w,学习/v,类型/n,在/p,应用/vn,程序/n,的/u,右边/f,是/v,我们/r,的/u,设置/v,，/w,如/v,下面/f,的/u,屏幕/n,截图/vn,所/u,示/vg,。/w,我们/r,首先/d,看到/v,的/u,是/v,学习/v,算法/n,。/w,在/p,这个/r,应用/vn,中/f,，/w,我们/r,将/d,处理/v,两种/mq,不同/a,的/u,学习/v,算法/n,，/w,q/en,-/w,learning/en,和/c,state/en,-/w,action/en,-/w,reward/en,-/w,state/en,-/w,action/en, ,(/w,sarsa/en,)/w,。/w,让/v,我们/r,简要/ad,讨论/v,一下/m,这/r,两种/mq,算法/n,。/w,q/en,-/w,learningq/en,-/w,learning/en,可以/v,在/p,没有/v,完全/ad,定义/n,的/u,环境/n,模型/n,的/u,情况/n,下/f,，/w,识别/v,给/p,定/v,状态/n,下/f,的/u,最/d,优/ag,行为/n,(/w,在/p,每个/r,状态/n,中值/n,最/d,高/a,的/u,行为/n,)/w,。/w,它/r,还/d,擅长/v,处理/v,随机/d,转换/v,和/c,奖励/vn,的/u,问题/n,，/w,而/c,不/d,需要/v,调整/vn,或/c,适应/v,。/w,以下/f,是/v,q/en,-/w,learning/en,的/u,数学/n,表达/v,式/k,：/w,如果/c,我们/r,提供/v,一个/m,非常/d,高级/a,的/u,抽象/a,示例/n,，/w,可能/v,更/d,容易/a,理解/v,。/w,程序/n,从/p,状态/n,1/m,开始/v,。/w,然后/c,它/r,执行/v,动作/n,1/m,并/c,获得/v,奖励/vn,1/m,。/w,接下来/l,，/w,它/r,四处/d,寻找/v,状态/n,2/m,中/f,某个/r,行为/n,的/u,最/d,大/a,可能/v,奖励/vn,是/v,多少/r,;/w,然后/c,使用/v,它/r,来/v,更新/v,动作/n,1/m,的/u,值/n,等等/u,。/w,sarsasarsa/en,的/u,工作/vn,原理/n,是/v,这样/r,的/u,:/w,1/m,./w, ,程序/n,从/p,状态/n,1/m,开始/v,。/w,2/m,./w, ,然后/c,它/r,执行/v,动作/n,1/m,并/c,获得/v,奖励/vn,1/m,。/w,3/m,./w, ,接下来/l,，/w,它/r,进入/v,状态/n,2/m,，/w,执行/v,动作/n,2/m,，/w,并/c,获得/v,奖励/vn,2/m,。/w,4/m,./w, ,然后/c,，/w,程序/n,返回/v,并/c,更新/v,动作/n,1/m,的/u,值/n,。/w,这/r,q/en,-/w,learning/en,算法/n,的/u,不同/a,之/u,处/n,在于/v,找到/v,未来/t,奖励/vn,的/u,方式/n,。/w,q/en,-/w,learning/en,使用/v,状态/n,2/m,中/f,奖励/vn,最高/a,的/u,动作/n,的/u,值/n,，/w,而/c,sarsa/en,使用/v,实际/n,动作/n,的/u,值/n,。/w,这/r,是/v,sarsa/en,的/u,数学/n,表达/v,式/k,：/w,运行/vn,我们/r,的/u,应用/vn,程序/n,现在/t,，/w,让/v,我们/r,开始/v,使用/v,带有/v,默认/v,参数/n,的/u,应用/vn,程序/n,。/w,只/d,需/v,点击/v,开始/v,按钮/n,，/w,学习/v,就/d,开始/v,了/u,。/w,完成/v,后/f,，/w,您/r,将/d,能够/v,单击/v,show/en, ,solution/en,按钮/n,，/w,学习/v,路径/n,将/d,从头到尾/i,播放/v,。/w,点击/v,start/en,开始/v,学习/v,阶段/n,，/w,一直/d,到/v,黑色/n,物体/n,达到/v,目标/n,:/w,对于/p,每个/r,迭代/vn,，/w,将/d,评估/vn,不同/a,的/u,对象/n,位置/n,，/w,以及/c,它们/r,的/u,操作/v,和/c,奖励/vn,。/w,一旦/d,学习/v,完成/v,，/w,我们/r,可以/v,单击/v,show/en, ,solution/en,按钮/n,来/v,重播/vn,最终/d,的/u,解决/v,方案/n,。/w,完成/v,后/f,，/w,黑色/n,对象/n,将/d,位于/v,红色/n,对象/n,之上/f,:/w,现在/t,让/v,我们/r,看看/v,应用/vn,程序/n,中/f,的/u,代码/n,。/w,有/v,两种/mq,我们/r,之前/f,强调/v,过/u,的/u,学习/v,方法/n,。/w,q/en,-/w,learning/en,是/v,这样/r,的/u,：/w,//w,//w,//w, ,</w,summary/en,>, ,//w,//w,//w, ,q/en,-/w,learning/en, ,线程/n, ,//w,//w,//w, ,</w,//w,summary/en,>, ,private/en, ,void/en, ,qlearningthread/en,(/w,)/w, ,{/w, ,//w,//w,迭代/vn,次数/n, ,int/en, ,iteration/en, ,=/w, ,0/m,;/w, ,tabusearchexploration/en, ,tabupolicy/en, ,=/w, ,(/w,tabusearchexploration/en,)/w,qlearning/en,./w,explorationpolicy/en,;/w, ,epsilongreedyexploration/en, ,explorationpolicy/en, ,=/w, ,(/w,epsilongreedyexploration/en,)/w,tabupolicy/en,./w,basepolicy/en,;/w, ,while/en, ,(/w,(/w,!/w,needtostop/en,)/w,&/w,&/w,(/w,iteration/en,</w,learningiterations/en,)/w,)/w, ,{/w, ,explorationpolicy/en,./w,epsilon/en, ,=/w, ,explorationrate/en, ,-/w, ,(/w,(/w,double/en,)/w,iteration/en, ,//w, ,learningiterations/en,)/w, ,*/w, ,explorationrate/en,;/w, ,qlearning/en,./w,learningrate/en, ,=/w, ,learningrate/en, ,-/w, ,(/w,(/w,double/en,)/w,iteration/en, ,//w, ,learningiterations/en,)/w, ,*/w, ,learningrate/en,;/w, ,tabupolicy/en,./w,resettabulist/en,(/w,)/w,;/w, ,var/en, ,agentcurrentx/en, ,=/w, ,agentstartx/en,;/w, ,var/en, ,agentcurrenty/en, ,=/w, ,agentstarty/en,;/w, ,int/en, ,steps/en, ,=/w, ,0/m,;/w, ,while/en, ,(/w,(/w,!/w,needtostop/en,)/w,&/w,&/w, ,(/w,(/w,agentcurrentx/en, ,!/w,=/w, ,agentstopx/en,)/w, ,|/w,|/w, ,(/w,agentcurrenty/en, ,!/w,=/w, ,agentstopy/en,)/w,)/w,)/w, ,{/w, ,steps/en,+/w,+/w,;/w, ,int/en, ,currentstate/en,=/w, ,getstatenumber/en,(/w,agentcurrentx/en,,/w, ,agentcurrenty/en,)/w,;/w, ,int/en, ,action/en, ,=/w, ,qlearning/en,./w,getaction/en,(/w,currentstate/en,)/w,;/w, ,double/en, ,reward/en, ,=/w, ,updateagentposition/en,(/w,ref/en, ,agentcurrentx/en,,/w, ,ref/en, ,agentcurrenty/en,,/w, ,action/en,)/w,;/w, ,int/en, ,nextstate/en, ,=/w, ,getstatenumber/en,(/w,agentcurrentx/en,,/w, ,agentcurrenty/en,)/w,;/w, ,//w,//w, ,更新/v,对象/n,的/u,qlearning/en,以/p,设置/v,禁忌/n,行为/n, ,qlearning/en,./w,updatestate/en,(/w,currentstate/en,,/w, ,action/en,,/w, ,reward/en,,/w, ,nextstate/en,)/w,;/w, ,tabupolicy/en,./w,settabuaction/en,(/w,(/w,action/en, ,+/w, ,2/m,)/w, ,%/w, ,4/m,,/w, ,1/m,)/w,;/w, ,}/w, ,system/en,./w,diagnostics/en,./w,debug/en,./w,writeline/en,(/w,steps/en,)/w,;/w, ,iteration/en,+/w,+/w,;/w, ,settext/en,(/w,iterationbox/en,,/w, ,iteration/en,./w,tostring/en,(/w,)/w,)/w,;/w, ,}/w, ,enablecontrols/en,(/w,true/en,)/w,;/w, ,}/w,sarsa/en,学习/v,有/v,何/r,不同/a,?/w,让/v,我们/r,来/v,看看/v,sarsa/en,学习/v,的/u,while/en,循环/vn,，/w,并/c,理解/v,它/r,:/w,//w,//w,//w, ,</w,summary/en,>, ,//w,//w,//w, ,sarsa/en, ,学习/v,线程/n, ,//w,//w,//w, ,</w,//w,summary/en,>, ,private/en, ,void/en, ,sarsathread/en,(/w,)/w, ,{/w, ,int/en, ,iteration/en, ,=/w, ,0/m,;/w, ,tabusearchexploration/en, ,tabupolicy/en, ,=/w, ,(/w,tabusearchexploration/en,)/w,sarsa/en,./w,explorationpolicy/en,;/w, ,epsilongreedyexploration/en, ,explorationpolicy/en, ,=/w, ,(/w,epsilongreedyexploration/en,)/w,tabupolicy/en,./w,basepolicy/en,;/w, ,while/en, ,(/w,(/w,!/w,needtostop/en,)/w, ,&/w,&/w, ,(/w,iteration/en, ,</w, ,learningiterations/en,)/w,)/w, ,{/w, ,explorationpolicy/en,./w,epsilon/en, ,=/w, ,explorationrate/en, ,-/w, ,(/w,(/w,double/en,)/w,iteration/en, ,//w, ,learningiterations/en,)/w, ,*/w, ,explorationrate/en,;/w, ,sarsa/en,./w,learningrate/en, ,=/w, ,learningrate/en, ,-/w, ,(/w,(/w,double/en,)/w,iteration/en, ,//w, ,learningiterations/en,)/w, ,*/w, ,learningrate/en,;/w, ,tabupolicy/en,./w,resettabulist/en,(/w,)/w,;/w, ,var/en, ,agentcurrentx/en, ,=/w, ,agentstartx/en,;/w, ,var/en, ,agentcurrenty/en, ,=/w, ,agentstarty/en,;/w, ,int/en, ,steps/en, ,=/w, ,1/m,;/w, ,int/en, ,previousstate/en, ,=/w, ,getstatenumber/en,(/w,agentcurrentx/en,,/w, ,agentcurrenty/en,)/w,;/w, ,int/en, ,previousaction/en, ,=/w, ,sarsa/en,./w,getaction/en,(/w,previousstate/en,)/w,;/w, ,double/en, ,reward/en, ,=/w, ,updateagentposition/en,(/w,ref/en, ,agentcurrentx/en,,/w, ,ref/en, ,agentcurrenty/en,,/w, ,previousaction/en,)/w,;/w, ,while/en, ,(/w,(/w,!/w,needtostop/en,)/w, ,&/w,&/w, ,(/w,(/w,agentcurrentx/en, ,!/w,=/w, ,agentstopx/en,)/w, ,|/w,|/w, ,(/w,agentcurrenty/en, ,!/w,=/w, ,agentstopy/en,)/w,)/w,)/w, ,{/w, ,steps/en,+/w,+/w,;/w, ,tabupolicy/en,./w,settabuaction/en,(/w,(/w,previousaction/en, ,+/w, ,2/m,)/w, ,%/w, ,4/m,,/w, ,1/m,)/w,;/w, ,int/en, ,nextstate/en, ,=/w, ,getstatenumber/en,(/w,agentcurrentx/en,,/w, ,agentcurrenty/en,)/w,;/w, ,int/en, ,nextaction/en, ,=/w, ,sarsa/en,./w,getaction/en,(/w,nextstate/en,)/w,;/w, ,sarsa/en,./w,updatestate/en,(/w,previousstate/en,,/w, ,previousaction/en,,/w, ,reward/en,,/w, ,nextstate/en,,/w, ,nextaction/en,)/w,;/w, ,reward/en, ,=/w, ,updateagentposition/en,(/w,ref/en, ,agentcurrentx/en,,/w, ,ref/en, ,agentcurrenty/en,,/w, ,nextaction/en,)/w,;/w, ,previousstate/en, ,=/w, ,nextstate/en,;/w, ,previousaction/en, ,=/w, ,nextaction/en,;/w, ,}/w, ,if/en, ,(/w,!/w,needtostop/en,)/w, ,{/w, ,sarsa/en,./w,updatestate/en,(/w,previousstate/en,,/w, ,previousaction/en,,/w, ,reward/en,)/w,;/w, ,}/w, ,system/en,./w,diagnostics/en,./w,debug/en,./w,writeline/en,(/w,steps/en,)/w,;/w, ,iteration/en,+/w,+/w,;/w, ,settext/en,(/w,iterationbox/en,,/w, ,iteration/en,./w,tostring/en,(/w,)/w,)/w,;/w, ,}/w, ,//w,//w, ,启用/v,设置/v,控/v,件/q, ,enablecontrols/en,(/w,true/en,)/w,;/w, ,}/w,最后/f,一步/mq,，/w,看看/v,如何/r,使/v,解决/v,方案/n,具有/v,动画/b,效果/n,。/w,我们/r,需要/v,这样/r,才能/v,看到/v,我们/r,的/u,算法/n,是否/v,实现/v,了/u,它/r,的/u,目标/n,。/w,代码/n,如下/v,:/w,tabusearchexploration/en, ,tabupolicy/en,;/w, ,if/en, ,(/w,qlearning/en, ,!/w,=/w, ,null/en,)/w, ,tabupolicy/en, ,=/w, ,(/w,tabusearchexploration/en,)/w,qlearning/en,./w,explorationpolicy/en,;/w, ,else/en, ,if/en, ,(/w,sarsa/en, ,!/w,=/w, ,null/en,)/w, ,tabupolicy/en, ,=/w, ,(/w,tabusearchexploration/en,)/w,sarsa/en,./w,explorationpolicy/en,;/w, ,else/en, ,throw/en, ,new/en, ,exception/en,(/w,)/w,;/w, ,var/en, ,explorationpolicy/en, ,=/w, ,(/w,epsilongreedyexploration/en,)/w,tabupolicy/en,?/w,./w,basepolicy/en,;/w, ,explorationpolicy/en,./w,epsilon/en, ,=/w, ,0/m,;/w, ,tabupolicy/en,?/w,./w,resettabulist/en,(/w,)/w,;/w, ,int/en, ,agentcurrentx/en, ,=/w, ,agentstartx/en,,/w, ,agentcurrenty/en, ,=/w, ,agentstarty/en,;/w, ,array/en,./w,copy/en,(/w,map/en,,/w, ,maptodisplay/en,,/w, ,mapwidth/en, ,*/w, ,mapheight/en,)/w,;/w, ,maptodisplay/en,[/w,agentstarty/en,,/w, ,agentstartx/en,]/w, ,=/w, ,2/m,;/w, ,maptodisplay/en,[/w,agentstopy/en,,/w, ,agentstopx/en,]/w, ,=/w, ,3/m,;/w,这/r,是/v,我们/r,的/u,while/en,循环/vn,，/w,所有/b,神奇/a,的/u,事情/n,都/d,发生/v,在/p,这里/r,!/w,while/en, ,(/w,!/w,needtostop/en,)/w, ,{/w, ,cellworld/en,./w,map/en, ,=/w, ,maptodisplay/en,;/w, ,thread/en,./w,sleep/en,(/w,200/m,)/w,;/w, ,if/en, ,(/w,(/w,agentcurrentx/en, ,=/w,=/w, ,agentstopx/en,)/w, ,&/w,&/w, ,(/w,agentcurrenty/en, ,=/w,=/w, ,agentstopy/en,)/w,)/w, ,{/w, ,maptodisplay/en,[/w,agentstarty/en,,/w, ,agentstartx/en,]/w, ,=/w, ,2/m,;/w, ,maptodisplay/en,[/w,agentstopy/en,,/w, ,agentstopx/en,]/w, ,=/w, ,3/m,;/w, ,agentcurrentx/en, ,=/w, ,agentstartx/en,;/w, ,agentcurrenty/en, ,=/w, ,agentstarty/en,;/w, ,cellworld/en,./w,map/en, ,=/w, ,maptodisplay/en,;/w, ,thread/en,./w,sleep/en,(/w,200/m,)/w,;/w, ,}/w, ,maptodisplay/en,[/w,agentcurrenty/en,,/w, ,agentcurrentx/en,]/w, ,=/w, ,0/m,;/w, ,int/en, ,currentstate/en, ,=/w, ,getstatenumber/en,(/w,agentcurrentx/en,,/w, ,agentcurrenty/en,)/w,;/w, ,int/en, ,action/en, ,=/w, ,qlearning/en,?/w,./w,getaction/en,(/w,currentstate/en,)/w, ,?/w,?/w, ,sarsa/en,./w,getaction/en,(/w,currentstate/en,)/w,;/w, ,updateagentposition/en,(/w,ref/en, ,agentcurrentx/en,,/w, ,ref/en, ,agentcurrenty/en,,/w, ,action/en,)/w,;/w, ,maptodisplay/en,[/w,agentcurrenty/en,,/w, ,agentcurrentx/en,]/w, ,=/w, ,2/m,;/w, ,}/w,让/v,我们/r,把/p,它/r,分成/v,更/d,容易/a,消化/v,的/u,部分/n,。/w,我们/r,要/v,做/v,的/u,第一/m,件/q,事/n,就/d,是/v,建立/v,禁忌/n,政策/n,。/w,如果/c,您/r,不/d,熟悉/v,tabu/en,搜索/vn,，/w,请/v,注意/v,，/w,它/r,的/u,目的/n,是/v,通过/p,放松/v,其/r,规则/n,来/v,提高/v,本地/r,搜索/vn,的/u,性能/n,。/w,在/p,每/r,一步/mq,中/f,，/w,如果/c,没有/v,其他/r,选择/v,(/w,有/v,回报/vn,的/u,行动/vn,)/w,，/w,有时/d,恶化/v,行动/vn,是/v,可以/v,接受/v,的/u,。/w,此外/c,，/w,还/d,设置/v,了/u,prohibition/en, ,(/w,tabu/en,)/w,，/w,以/p,确保/v,算法/n,不/d,会/v,返回/v,到/v,以前/f,访问/v,的/u,解决/v,方案/n,。/w,tabusearchexploration/en, ,tabupolicy/en,;/w, ,if/en, ,(/w,qlearning/en, ,!/w,=/w, ,null/en,)/w, ,tabupolicy/en, ,=/w, ,(/w,tabusearchexploration/en,)/w,qlearning/en,./w,explorationpolicy/en,;/w, ,else/en, ,if/en, ,(/w,sarsa/en, ,!/w,=/w, ,null/en,)/w, ,tabupolicy/en, ,=/w, ,(/w,tabusearchexploration/en,)/w,sarsa/en,./w,explorationpolicy/en,;/w, ,else/en, ,throw/en, ,new/en, ,exception/en,(/w,)/w,;/w, ,var/en, ,explorationpolicy/en, ,=/w, ,(/w,epsilongreedyexploration/en,)/w,tabupolicy/en,?/w,./w,basepolicy/en,;/w, ,explorationpolicy/en,./w,epsilon/en, ,=/w, ,0/m,;/w, ,tabupolicy/en,?/w,./w,resettabulist/en,(/w,)/w,;/w,接下来/l,，/w,我们/r,要/v,定位/vn,我们/r,的/u,对象/n,并/c,准备/v,地图/n,。/w,int/en, ,agentcurrentx/en, ,=/w, ,agentstartx/en,,/w, ,agentcurrenty/en, ,=/w, ,agentstarty/en,;/w, ,array/en,./w,copy/en,(/w,map/en,,/w, ,maptodisplay/en,,/w, ,mapwidth/en, ,*/w, ,mapheight/en,)/w,;/w, ,maptodisplay/en,[/w,agentstarty/en,,/w, ,agentstartx/en,]/w, ,=/w, ,2/m,;/w, ,maptodisplay/en,[/w,agentstopy/en,,/w, ,agentstopx/en,]/w, ,=/w, ,3/m,;/w,下面/f,是/v,我们/r,的/u,主/n,执行/v,循环/vn,，/w,它/r,将/d,以/p,动画/b,的/u,方式/n,显示/v,解决/v,方案/n,:/w,while/en, ,(/w,!/w,needtostop/en,)/w, ,{/w, ,cellworld/en,./w,map/en, ,=/w, ,maptodisplay/en,;/w, ,thread/en,./w,sleep/en,(/w,200/m,)/w,;/w, ,if/en, ,(/w,(/w,agentcurrentx/en, ,=/w,=/w, ,agentstopx/en,)/w, ,&/w,&/w, ,(/w,agentcurrenty/en, ,=/w,=/w, ,agentstopy/en,)/w,)/w, ,{/w, ,maptodisplay/en,[/w,agentstarty/en,,/w, ,agentstartx/en,]/w, ,=/w, ,2/m,;/w, ,maptodisplay/en,[/w,agentstopy/en,,/w, ,agentstopx/en,]/w, ,=/w, ,3/m,;/w, ,agentcurrentx/en, ,=/w, ,agentstartx/en,;/w, ,agentcurrenty/en, ,=/w, ,agentstarty/en,;/w, ,cellworld/en,./w,map/en, ,=/w, ,maptodisplay/en,;/w, ,thread/en,./w,sleep/en,(/w,200/m,)/w,;/w, ,}/w, ,maptodisplay/en,[/w,agentcurrenty/en,,/w, ,agentcurrentx/en,]/w, ,=/w, ,0/m,;/w, ,int/en, ,currentstate/en, ,=/w, ,getstatenumber/en,(/w,agentcurrentx/en,,/w, ,agentcurrenty/en,)/w,;/w, ,int/en, ,action/en, ,=/w, ,qlearning/en,?/w,./w,getaction/en,(/w,currentstate/en,)/w, ,?/w,?/w, ,sarsa/en,./w,getaction/en,(/w,currentstate/en,)/w,;/w, ,updateagentposition/en,(/w,ref/en, ,agentcurrentx/en,,/w, ,ref/en, ,agentcurrenty/en,,/w, ,action/en,)/w,;/w, ,maptodisplay/en,[/w,agentcurrenty/en,,/w, ,agentcurrentx/en,]/w, ,=/w, ,2/m,;/w, ,}/w,汉诺塔/nr,游戏/n,河内/ns,塔/j,由/p,三根/mq,杆子/n,和/c,最/d,左边/f,的/u,几/m,个/q,按/p,顺序/n,大小/n,排列/v,的/u,圆盘/n,组成/v,。/w,目标/n,是/v,用/p,最/d,少/a,的/u,移动/vn,次数/n,将/d,所有/b,磁盘/n,从/p,最/d,左边/f,的/u,棒子/n,移动/vn,到/v,最/d,右边/f,的/u,棒子/n,。/w,你/r,必须/d,遵守/v,的/u,两条/mq,重要/a,规则/n,是/v,，/w,一次/mq,只能/v,移动/vn,一个/m,磁盘/n,，/w,不能/v,把/p,大/a,磁盘/n,放/v,在/p,小/a,磁盘/n,上/f,;/w,也就是说/l,，/w,在/p,任何/r,棒/a,中/f,，/w,磁盘/n,的/u,顺序/n,必须/d,始终/d,是/v,从/p,底部/f,最/d,大/a,的/u,磁盘/n,到/v,顶部/f,最/d,小/a,的/u,磁盘/n,，/w,如下/v,所/u,示/vg,：/w,假设/v,我们/r,使用/v,三个/m,磁盘/n,，/w,如/v,图/n,所/u,示/vg,。/w,在/p,这种/r,情况/n,下/f,，/w,有/v,33种/mq,可能/v,的/u,状态/n,，/w,如/v,下/f,图/n,所/u,示/vg,:/w,河内/ns,塔/j,谜/n,题/n,中/f,所有/b,可能/v,状态/n,的/u,总数/n,是/v,3/m,的/u,磁盘/n,数/m,次/q,幂/n,。/w,其中/r,|/w,|/w,s/en,|/w,|/w,是/v,集合/v,状态/n,中/f,的/u,元素/n,个/q,数/m,，/w,n/en,是/v,磁盘/n,的/u,个数/n,。/w,在/p,我们/r,的/u,例子/n,中/f,，/w,我们/r,有/v,3/m,×/w,3/m,×/w,3/m, ,=/w, ,27个/m,圆盘/n,在/p,这/r,三根/mq,棒/a,上/f,分布/v,的/u,唯一/b,可能/v,状态/n,，/w,包括/v,空/a,棒/a,;/w,但是/c,两个/m,空/a,棒/a,可以/v,处于/v,最/d,大/a,状态/n,。/w,定义/n,了/u,状态/n,总数/n,之后/f,，/w,下面/f,是/v,我们/r,的/u,算法/n,从/p,一种/mq,状态/n,移动/vn,到/v,另/r,一种/mq,状态/n,的/u,所有/b,可能/v,操作/v,：/w,这个/r,谜题/n,的/u,最/d,小/a,可能/v,步数/n,是/v,:/w,磁盘/n,的/u,数量/n,是/v,n/en,。/w,q/en,-/w,learning/en,算法/n,的/u,正式/ad,定义/n,如下/v,:/w,在/p,这个/r,q/en,-/w,learning/en,算法/n,中/f,，/w,我们/r,使用/v,了/u,以下/f,变量/n,:/w,q/en,矩阵/n,:/w,一个/m,二维/nr,数组/n,，/w,首先/d,对/p,所有/b,元素/n,填充/v,一个/m,固定/a,值/n,(/w,通常/d,为/p,0/m,)/w,，/w,用于/v,保存/v,所有/b,状态/n,下/f,的/u,计算/v,策略/n,;/w,也就是说/l,，/w,对于/p,每/r,一个/m,状态/n,，/w,它/r,持有/v,对/p,各自/r,可能/v,的/u,行动/vn,的/u,奖励/vn,。/w,折扣/n,因子/n,:/w,决定/v,了/u,对象/n,如何/r,处理/v,奖励/vn,的/u,政策/n,。/w,当/p,贴现率/n,接近/v,0时/t,，/w,只/d,考虑/v,当前/t,的/u,报酬/n,会/v,使/v,对象/n,变/v,得/u,贪婪/an,，/w,而/c,当/p,贴现率/n,接近/v,1时/t,，/w,会/v,使/v,对象/n,变/v,得/u,更具/v,策略性/nw,和/c,前瞻性/n,，/w,从而/c,在/p,长期/d,内/f,获得/v,更/d,好/a,的/u,报酬/n,。/w,r/en,矩阵/n,:/w,包含/v,初始/b,奖励/vn,的/u,二维/nr,数组/n,，/w,允许/v,程序/n,确定/v,特定/b,状态/n,的/u,可能/v,操作/v,列表/v,。/w,我们/r,应该/v,简要/ad,介绍/v,一下/m,q/en,-/w,learning/en, ,class/en,的/u,一些/m,方法/n,：/w,init/en,:/w,生成/vn,所有/b,可能/v,的/u,状态/n,以及/c,开始/v,学习/v,过程/n,。/w,learn/en,:/w,在/p,学习/v,过程/n,中/f,有/v,顺序/n,的/u,步骤/n,initrmatrix/en,:/w, ,这个/r,初始化/v,奖励/vn,矩阵/n,的/u,值如/nw,下/f,:/w,1/m,./w, ,0/m,:/w,在/p,这种/r,状态/n,下/f,，/w,我们/r,没有/v,奖励/vn,。/w,2/m,./w, ,100/m,:/w,这/r,是/v,我们/r,在/p,最终/d,状态/n,下/f,的/u,最/d,大/a,