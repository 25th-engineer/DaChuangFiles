决策/n,树/v,是/v,机器/n,学习/v,的/u,常见/a,算法/n,，/w,分为/v,分类/vn,树/v,和/c,回归/v,树/v,。/w,当/p,对/p,一个/m,样本/n,的/u,分类/vn,进行/v,预测/v,时/ng,使用/v,分类/vn,树/v,，/w,当/p,对/p,样本/n,的/u,某/r,一个/m,值/n,进行/v,预测/v,时/ng,使用/v,回归/v,树/v,。/w,本文/r,是/v,有关/vn,决策/n,树/v,的/u,第一/m,部分/n,，/w,主要/b,介绍/v,分类/vn,树/v,的/u,几/m,种/q,构建/v,方法/n,，/w,以及/c,如何/r,使用/v,分类/vn,树/v,测试/vn,分类/vn,。/w,目录/n,如下/v,：/w,1/m,、/w,分类/vn,树/v,的/u,基本/a,概念/n,2/m,、/w,采用/v,数据集/nw,说明/v,3/m,、/w,划分/v,数据集/nw,的/u,几/m,种/q,方式/n,4/m,、/w,构造/v,分类/vn,树/v,5/m,、/w,使用/v,分类/vn,树/v,测试/vn,分类/vn,6/m,、/w,写/v,在/p,后面/f,的话/u,一/m, ,分类/vn,树/v,的/u,基本/a,概念/n,分类/vn,树/v,（/w,classification/en, ,tree/en,）/w,简单/a,地/u,说/v,，/w,就/d,是/v,根据/p,训练/vn,数据集/nw,构造/v,一个/m,类似/v,树形/n,的/u,分类/vn,决策/n,模型/n,，/w,然后/c,用/p,这个/r,模型/n,来/v,辅助/vn,决策/n,。/w,例如/v,下/f,图/n,是/v,一个/m,简单/a,的/u,是否/v,举行/v,某个/r,活动/vn,的/u,决策/n,树/v,（/w,分类/vn,树/v,）/w,：/w,我们/r,可以/v,通过/p,上面/f,的/u,决策/n,树/v,进行/v,预测/v,，/w,当/p,天气/n,晴朗/a,，/w,交通/n,畅通/a,时/ng,，/w,我们/r,预测/v,该/r,活动/vn,很/d,可能/v,要/v,举办/v,；/w,当天/t,下/f,小雨/n,交通/n,拥挤/a,时/ng,，/w,我们/r,预测/v,活动/vn,很/d,可能/v,被/p,取消/v,。/w,这/r,只是/d,一个/m,简单/a,的/u,小/a,例子/n,，/w,真实/a,中/f,的/u,决策/n,树/v,方法/n,包括/v,以下/f,几/m,个/q,步骤/n,：/w,(/w,1/m,）/w, ,收集/v,数据/n,：/w,可以/v,使用/v,任何/r,方法/n,。/w,（/w,2/m,）/w,准备/v,数据/n,：/w,树/v,构造/v,算法/n,只/d,适用/v,于/p,标/v,称型/nw,数据/n,，/w,因此/c,数/m,值型/nw,数据/n,必须/d,离/v,散化/nw,。/w,（/w,3/m,）/w,选取/v,划分/v,算法/n,：/w,根据/p,数据/n,的/u,特点/n,，/w,选取/v,合适/a,的/u,划分/v,算法/n,（/w,4/m,）/w,构造/v,决策/n,树/v,：/w,使用/v,选取/v,的/u,划分/v,算法/n,构造/v,树形/n,的/u,决策/n,模型/n,（/w,5/m,）/w,测试/vn,算法/n,：/w,使用/v,经验/n,树/v,计算/v,错误/n,率/v,（/w,6/m,）/w,使用/v,算法/n,：/w,使用/v,决策/n,树/v,模型/n,预测/v,决策/n,二/m, ,采用/v,数据集/nw,说明/v,uci/en,数据集/nw, ,是/v,机器/n,学习/v,不错/a,的/u,数据集/nw,网站/n,，/w,本文/r,选取/v,其中/r,的/u, ,balloons/en, ,数据集/nw,，/w,将/d,其/r,内容/n,用/p,中文/nz,表示/v,如下/v,。/w,该/r,数据/n,主要/b,是/v,根据/p,几/m,个/q,因素/n,预测/v,气球/n,是否/v,会/v,破/v,。/w,三/m, ,划分/v,数据集/nw,的/u,几/m,种/q,方式/n,决策/n,树/v,的/u,几/m,种/q,经典/n,实现/v,方式/n,是/v,id/en,3/m,，/w,c/en,4.5/m, ,和/c, ,cart/en,其中/r,c/en,4.5/m,是/v,对/p,id/en,3/m,的/u,改进/v,，/w,c/en,4.5/m,和/c,id/en,3/m,都/d,是/v,分类/vn,树/v,，/w,cart/en, ,即/v,可/v,用作/v,分类/vn,树/v,，/w,又/d,可/v,用于/v,回归/v,树/v,，/w,当/p,cart/en,用作/v,分类/vn,时/ng,使用/v,基尼/nr,指数/n,作为/v,划分/v,依据/n,，/w,当/p,cart/en,用作/v,回归/v,时/ng,使用/v,最/d,小/a,方差/nr,作为/v,划分/v,依据/n,。/w,信息/n,熵熵/nw,（/w,entropy/en,）/w,，/w,也/d,即/v,信息/n,熵/g,，/w,是/v,度量/v,样本/n,集合/v,纯度/n,的/u,一种/mq,指标/n,。/w,一个/m,数据集/nw,的/u,熵/g,越/d,大/a,，/w,则/d,说明/v,该/r,数据/n,分类/vn,的/u,纯度/n,越/d,纯/a,。/w,d/en,表示/v,数据集/nw,，/w,假设/v,d/en,共有/v,m/en,个/q,类别/n,，/w,pk/en, ,表示/v,第/m,k/en,个/q,类别/n,占/v,样本/n,总数/n,的/u,比例/n,，/w,数据集/nw,熵/g,的/u,公式/n,如下/v,:/w,如/v,上面/f,给/p,出/v,的/u,关于/p,气球/n,的/u,数据集/nw,，/w,只有/c, ,“/w,会/v,”/w, ,和/c, ,“/w,不会/v,”/w,两种/mq,分类/vn,，/w,“/w,会/v,”/w,有/v,7个/m,，/w,“/w,不会/v,”/w,有/v,9个/m,，/w,占/v,比/p,分别/d,是/v, ,p/en,1/m, ,=/w,7/m,//w,16/m, ,,/w, , ,p/en,2/m,=/w,9/m,//w,16/m,按照/p,熵/g,的/u,公式/n, ,可得/v, ,ent/en,(/w,d/en,)/w, ,=/w, ,-/w,p/en,1/m, ,*/w, ,log/en,2/m,p/en,1/m, ,-/w, ,p/en,2/m,*/w,log/en,2/m,p/en,2/m, ,=/w, ,0.989/m,代码/n,实现/v,：/w,1/m, ,from/en, ,math/en, ,import/en, ,log/en, ,2/m, ,import/en, ,operator/en, ,3/m, ,4/m, ,def/en, ,calc/en,_,entropy/en,(/w,data/en,_,set/en,)/w,:/w, ,5/m, ,"/w,"/w,"/w,计算/v,数据集/nw,的/u,熵/g,"/w,"/w,"/w, ,6/m, ,count/en, ,=/w, ,len/en,(/w,data/en,_,set/en,)/w, ,7/m, ,label/en,_,counts/en, ,=/w, ,{/w,}/w, ,8/m, ,9/m, ,#, ,统计/v,数据/n,集中/v,每/r,种/q,分类/vn,的/u,个数/n, ,10/m, ,for/en, ,row/en, ,in/en, ,data/en,_,set/en,:/w, ,11/m, ,label/en, ,=/w, ,row/en,[/w,-/w,1/m,]/w, ,12/m, ,if/en, ,label/en, ,not/en, ,in/en, ,label/en,_,counts/en,./w,keys/en,(/w,)/w,:/w, ,13/m, ,label/en,_,counts/en,[/w,label/en,]/w, ,=/w, ,1/m, ,14/m, ,else/en,:/w, ,15/m, ,label/en,_,counts/en,[/w,label/en,]/w, ,+/w,=/w, ,1/m, ,16/m, ,17/m, ,#, ,计算/v,熵/g, ,18/m, ,entropy/en, ,=/w, ,0.0/m, ,19/m, ,for/en, ,key/en, ,in/en, ,label/en,_,counts/en,:/w, ,20/m, ,prob/en, ,=/w, ,float/en,(/w,label/en,_,counts/en,[/w,key/en,]/w,)/w, ,//w, ,count/en, ,21/m, ,entropy/en, ,-/w,=/w, ,prob/en, ,*/w, ,log/en,(/w,prob/en,,/w, ,2/m,)/w, ,22/m, ,return/en, ,entropy/en,信息/n,增益法/nw,id/en,3/m,算法/n,使用/v,信息/n,增益/v,作为/v,划分/v,数据集/nw,的/u,依据/n,。/w,整个/b,数据集/nw,的/u,熵称/nw,作/v, ,原始/a,熵/g,，/w,数据集/nw,d/en,根据/p,某个/r,特征/n,划分/v,之后/f,的/u,熵/g,为/p,条件/n,熵/g,，/w,信息/n,增益/v, ,=/w, ,原始/a,熵/g, ,-/w, ,条件/n,熵/g, , , ,。/w,用/p,信息/n,增益/v,划分/v,的/u,具体/a,做法/n,是/v,：/w,计算/v,每/r,一类/mq,特征/n,v/en,对应/v,的/u,信息/n,增益/v,，/w,然后/c,挑选/v,信息/n,增益/v,最/d,小/a,的/u,特征/n,进行/v,划分/v,。/w,信息/n,增益/v,公式/n,为/p,:/w,其中/r,v/en, ,为/p,特征/n,a/en,的/u,一个/m,分类/vn,，/w,pv/en, ,为/p, ,v/en,分类/vn,占/v,特征/n,a/en,总/b,个数/n,的/u,比例/n,，/w,dv/en, ,根据/p,特征/n,a/en, ,的/u,v/en,分类/vn,进行/v,划分/v,之后/f,的/u,数据集/nw,。/w,代码/n,实现/v,：/w,1/m, ,def/en, ,choose/en,_,best/en,_,feature/en,_,1/m,(/w,data/en,_,set/en,)/w,:/w, ,2/m, ,"/w,"/w,"/w,选取/v,信息/n,增益/v,最/d,高/a,的/u,特征/n,"/w,"/w,"/w, ,3/m, ,feature/en,_,count/en, ,=/w, ,len/en,(/w,data/en,_,set/en,[/w,0/m,]/w,)/w, ,-/w, ,1/m, ,4/m, ,#, ,数据集/nw,的/u,原始/a,熵/g, ,5/m, ,base/en,_,entropy/en, ,=/w, ,calc/en,_,entropy/en,(/w,data/en,_,set/en,)/w, ,6/m, ,#, ,最/d,大/a,的/u,信息/n,增益/v, ,7/m, ,best/en,_,gain/en, ,=/w, ,0.0/m, ,8/m, ,#, ,信息/n,增益/v,最/d,大/a,的/u,特征/n, ,9/m, ,best/en,_,feature/en, ,=/w, ,-/w,1/m, ,10/m, ,11/m, ,#, ,遍历/nw,计算/v,每个/r,特征/n, ,12/m, ,for/en, ,i/en, ,in/en, ,range/en,(/w,feature/en,_,count/en,)/w,:/w, ,13/m, ,feature/en, ,=/w, ,[/w,example/en,[/w,i/en,]/w, ,for/en, ,example/en, ,in/en, ,data/en,_,set/en,]/w, ,14/m, ,feature/en,_,value/en,_,set/en, ,=/w, ,set/en,(/w,feature/en,)/w, ,15/m, ,new/en,_,entropy/en, ,=/w, ,0.0/m, ,16/m, ,17/m, ,#, ,计算/v,信息/n,增益/v, ,18/m, ,for/en, ,value/en, ,in/en, ,feature/en,_,value/en,_,set/en,:/w, ,19/m, ,sub/en,_,data/en,_,set/en, ,=/w, ,split/en,_,data/en,_,set/en,(/w,data/en,_,set/en,,/w, ,i/en,,/w, ,value/en,)/w, ,20/m, ,prob/en, ,=/w, ,len/en,(/w,sub/en,_,data/en,_,set/en,)/w, ,//w, ,float/en,(/w,len/en,(/w,data/en,_,set/en,)/w,)/w, ,21/m, ,new/en,_,entropy/en, ,+/w,=/w, ,prob/en, ,*/w, ,calc/en,_,entropy/en,(/w,sub/en,_,data/en,_,set/en,)/w, ,22/m, ,gain/en, ,=/w, ,base/en,_,entropy/en, ,-/w, ,new/en,_,entropy/en, ,23/m, ,24/m, ,#, ,比较/d,得出/v,最/d,大/a,的/u,信息/n,增益/v, ,25/m, ,if/en, ,gain/en, ,>, ,best/en,_,gain/en,:/w, ,26/m, ,best/en,_,gain/en, ,=/w, ,gain/en, ,27/m, ,best/en,_,feature/en, ,=/w, ,i/en, ,28/m, ,29/m, ,return/en, ,best/en,_,feature/en,增益率/nw,法/j,id/en,3所/mq,采用/v,的/u,信息/n,增益/v,划分/v,数据集/nw,是/v,可能/v,对/p,数目/n,较/d,多/a,的/u,属性/n,有/v,偏/d,好/a,，/w,c/en,4.5/m, ,算法/n,避免/v,了/u,这个/r,问题/n,，/w,使用/v,“/w,增益率/nw,”/w,来/v,选择/v,最/d,优化/v,分属性/nw,。/w,信息/n,增益率/nw,公式/n,：/w,其中/r,gain/en,_,ratio/en,(/w,d/en,,/w,a/en,)/w, ,表示/v, ,根据/p,特征/n, ,a/en, ,划分/v,之后/f,的/u,信息/n,增益率/nw,，/w, ,iv/en,(/w,a/en,)/w,为/p, ,特征/n,a/en, ,的/u,固有/b,值/n,代码/n,实现/v,：/w,1/m, ,def/en, ,choose/en,_,best/en,_,feature/en,_,2/m,(/w,data/en,_,set/en,)/w,:/w, ,2/m, ,"/w,"/w,"/w,根据/p,增益率/nw,选取/v,划分/v,特征/n,"/w,"/w,"/w, ,3/m, ,feature/en,_,count/en, ,=/w, ,len/en,(/w,data/en,_,set/en,[/w,0/m,]/w,)/w, ,-/w, ,1/m, ,4/m, ,#, ,数据集/nw,的/u,原始/a,熵/g, ,5/m, ,base/en,_,entropy/en, ,=/w, ,calc/en,_,entropy/en,(/w,data/en,_,set/en,)/w, ,6/m, ,#, ,最/d,大/a,的/u,信息/n,增益率/nw, ,7/m, ,best/en,_,gain/en,_,ratio/en, ,=/w, ,0.0/m, ,8/m, ,#, ,信息/n,增益率/nw,最/d,大/a,的/u,特征/n, ,9/m, ,best/en,_,feature/en, ,=/w, ,-/w,1/m, ,10/m, ,11/m, ,#, ,遍历/nw,计算/v,每个/r,特征/n, ,12/m, ,for/en, ,i/en, ,in/en, ,range/en,(/w,feature/en,_,count/en,)/w,:/w, ,13/m, ,feature/en, ,=/w, ,[/w,example/en,[/w,i/en,]/w, ,for/en, ,example/en, ,in/en, ,data/en,_,set/en,]/w, ,14/m, ,feature/en,_,value/en,_,set/en, ,=/w, ,set/en,(/w,feature/en,)/w, ,15/m, ,new/en,_,entropy/en, ,=/w, ,0.0/m, ,16/m, ,#, ,固有/b,值/n, ,17/m, ,intrinsic/en,_,value/en, ,=/w, ,0.0/m, ,18/m, ,19/m, ,#, ,计算/v,信息/n,增益/v, ,20/m, ,for/en, ,value/en, ,in/en, ,feature/en,_,value/en,_,set/en,:/w, ,21/m, ,sub/en,_,data/en,_,set/en, ,=/w, ,split/en,_,data/en,_,set/en,(/w,data/en,_,set/en,,/w, ,i/en,,/w, ,value/en,)/w, ,22/m, ,prob/en, ,=/w, ,len/en,(/w,sub/en,_,data/en,_,set/en,)/w, ,//w, ,float/en,(/w,len/en,(/w,data/en,_,set/en,)/w,)/w, ,23/m, ,new/en,_,entropy/en, ,+/w,=/w, ,prob/en, ,*/w, ,calc/en,_,entropy/en,(/w,sub/en,_,data/en,_,set/en,)/w, ,24/m, ,intrinsic/en,_,value/en, ,-/w,=/w, ,prob/en, ,*/w, ,log/en,(/w,prob/en,,/w, ,2/m,)/w, ,25/m, ,gain/en, ,=/w, ,base/en,_,entropy/en, ,-/w, ,new/en,_,entropy/en, ,26/m, ,gain/en,_,ratio/en, ,=/w, ,gain/en, ,//w, ,intrinsic/en,_,value/en, ,27/m, ,28/m, ,#, ,比较/d,得出/v,最/d,大/a,的/u,信息/n,增益