[/w,本文/r,链接/n,：/w,http/en,:/w,//w,//w,www/en,./w,cnblogs/en,./w,com/en,//w,breezedeus/en,//w,p/en,//w,3496819/m,./w,html/en,，/w,转载/v,请/v,注明/v,出处/n,]/w,从/p,等/u,式/k,约束/vn,的/u,最小化/nw,问题/n,说/v,起/v,：/w,上面/f,问题/n,的/u,拉格朗日/nrf,表达/v,式/k,为/p,：/w,也/d,就/d,是/v,前面/f,的/u,最小化/nw,问题/n,可以/v,写/v,为/p,：/w,\/w,(/w,\/w,min/en,\/w,limits/en,_,{/w,x/en,}/w, ,\/w,max/en,\/w,limits/en,_,{/w,y/en,}/w, ,l/en,(/w,x/en,,/w, ,y/en,)/w,\/w,)/w, ,。/w,它/r,对应/v,的/u,对偶/n,问题/n,为/p,：/w,\/w,(/w,\/w,max/en,\/w,limits/en,_,{/w,y/en,}/w, , ,\/w,min/en,\/w,limits/en,_,{/w,x/en,}/w, ,l/en,(/w,x/en,,/w, ,y/en,)/w,\/w,)/w, ,。/w,下面/f,是/v,用/p,来/v,求/v,解/v,此/r,对偶/n,问题/n,的/u,对偶/n,上升/v,迭代/vn,方法/n,：/w,这个/r,方法/n,在/p,满足/v,一些/m,比较/d,强/a,的/u,假设/v,下/f,可以/v,证明/v,收敛/vn,。/w,为了/p,弱化/v,对/p,偶/d,上升/v,方法/n,的/u,强假设性/nw,，/w,一些/m,研究者/n,在/p,上/f,世纪/n,60/m,年代/n,提出/v,使用/v,扩展/v,拉格朗日/nrf,表达式/n,（/w,augmented/en, ,lagrangian/en,）/w,代替/v,原来/d,的/u,拉格朗日/nrf,表达式/n,：/w,其中/r,\/w,(/w,\/w,rho/en, ,>, ,0/m,\/w,)/w,。/w,对应/v,上面/f,的/u,对偶/n,上升/v,方法/n,，/w,得到/v,下面/f,的/u,乘子法/nw,（/w,method/en, ,of/en, ,multipliers/en,）/w,：/w,注意/v,，/w,乘子/nw,法里/nrf,把/p,第二/m,个/q,式子/n,里/f,的/u,\/w,(/w,\/w,alpha/en,^,k/en,\/w,)/w,改/v,成/v,了/u,扩展/v,拉格朗日/nrf,表达/v,式/k,中/f,引入/v,的/u,\/w,(/w,\/w,rho/en,\/w,)/w,。/w,这/r,不/d,是/v,一个/m,随意/ad,行为/n,，/w,而是/c,有/v,理论/n,依据/n,的/u,。/w,利用/v,\/w,(/w,l/en,(/w,x/en,,/w, ,y/en,)/w,\/w,)/w,可以/v,导出/v,上面/f,最小化/nw,问题/n,对应/v,的/u,原始/a,和/c,对偶/n,可行性/n,条件/n,分别/d,为/p,（/w,\/w,(/w, ,\/w,frac/en,{/w,\/w,partial/en, ,l/en,}/w, ,{/w,\/w,partial/en, ,y/en,}/w, ,=/w, ,0/m,\/w,)/w,，/w,\/w,(/w, ,\/w,frac/en,{/w,\/w,partial/en, ,l/en,}/w, ,{/w,\/w,partial/en, ,x/en,}/w, ,=/w, ,0/m,\/w,)/w,）/w,：/w,既然/c,\/w,(/w,x/en,^,{/w,k/en,+/w,1/m,}/w,\/w,)/w, ,最小化/nw, ,\/w,(/w, ,l/en,_,{/w,\/w,rho/en,}/w,(/w,x/en,,/w, ,y/en,^,{/w,k/en,}/w,)/w,\/w,)/w,，/w,有/v,：/w,上面/f,最后/f,一个/m,等/u,式/k,就/d,是/v,利用/v,了/u,\/w,(/w, ,y/en,^,{/w,k/en,+/w,1/m,}/w, ,=/w, ,y/en,^,{/w,k/en,}/w, ,+/w, ,\/w,rho/en,(/w,a/en, ,x/en,^,{/w,k/en,+/w,1/m,}/w,-/w,b/en,)/w, ,\/w,)/w,。/w,从/p,上面/f,可知/v,，/w,这种/r,\/w,(/w,y/en,^,{/w,k/en,+/w,1/m,}/w,\/w,)/w,的/u,取法/v,使得/v,\/w,(/w, ,(/w,x/en,^,{/w,k/en,+/w,1/m,}/w,,/w, ,y/en,^,{/w,k/en,+/w,1/m,}/w,)/w, ,\/w,)/w,满足/v,对偶/n,可行/a,条件/n,\/w,(/w, ,\/w,frac/en,{/w,\/w,partial/en, ,l/en,}/w, ,{/w,\/w,partial/en, ,x/en,}/w, ,=/w, ,0/m, ,\/w,)/w,。/w,而/c,原始/a,可行/a,条件/n,在/p,迭代/vn,过程/n,中/f,逐渐/d,成立/v,。/w,乘子法/nw,弱化/v,了/u,对偶/n,上升法/nw,的/u,收敛/vn,条件/n,，/w,但/c,由于/c,在/p,x/en,-/w,minimization/en,步/q,引入/v,了/u,二次/mq,项/q,而/c,导致/v,无法/v,把/p,x/en,分开/v,进行/v,求解/v,（/w,详见/nz,[/w,1/m,]/w,)/w,。/w,而/c,接/v,下来/v,要/v,讲/v,的/u,alternating/en, ,direction/en, ,method/en, ,of/en, ,multipliers/en, ,(/w,admm/en,)/w,就/d,是/v,期望/v,结合/v,乘子法/nw,的/u,弱/a,条件/n,的/u,收敛性/nw,以及/c,对偶/n,上升法/nw,的/u,可/v,分解/v,求解性/nw,。/w,admm/en,求解/v,以下/f,形式/n,的/u,最小化/nw,问题/n,：/w,其/r,对应/v,的/u,扩展/v,拉格朗日/nrf,表达/v,式/k,为/p,：/w,admm/en,包括/v,以下/f,迭/d,代/q,步骤/n,：/w,admm/en,其实/d,和/c,乘子法/nw,很/d,像/v,，/w,只是/d,乘子/nw,法里/nrf,把/p,\/w,(/w,x/en,\/w,)/w,和/c,\/w,(/w,z/en,\/w,)/w,放/v,一块/mq,求解/v,，/w,而/c,admm/en,是/v,分开/v,求解/v,，/w,类似/v,迭代/vn,一步/mq,的/u,gauss/en,-/w,seidel/en,方法/n,。/w,其中/r,(/w,3.4/m,)/w,中/f,的/u,推导/vn,类似/v,于/p,乘子法/nw,，/w,只是/d,使用/v,了/u,\/w,(/w,z/en,^,{/w,k/en,+/w,1/m,}/w,\/w,)/w,最小化/nw,\/w,(/w, ,l/en,_,{/w,\/w,rho/en,}/w,(/w,x/en,^,{/w,k/en,+/w,1/m,}/w,,/w, ,z/en,,/w, ,y/en,^,k/en,)/w, ,\/w,)/w,：/w,其中/r,用到/v,了/u,\/w,(/w,z/en,\/w,)/w,对应/v,的/u,对偶/n,可行性/n,式子/n,：/w,\/w,(/w,\/w,frac/en,{/w,\/w,partial/en, ,l/en,}/w, ,{/w,\/w,partial/en, ,z/en,}/w, ,=/w, ,\/w,nabla/en, ,g/en,(/w,z/en,)/w, ,+/w, ,b/en,^,ty/en, ,=/w, ,0/m,\/w,)/w,定义/n,新/a,变量/n,\/w,(/w, ,u/en,=/w,\/w,frac/en,{/w,1/m,}/w,{/w,\/w,rho/en,}/w,y/en, ,\/w,)/w,，/w,那么/r,(/w,3.2/m,-/w,3.4/m,)/w,中/f,的/u,迭代/vn,可以/v,变为/v,以下/f,形式/n,：/w,在/p,真正/d,求解/v,时/ng,通常/d,会/v,使用/v,所谓/v,的/u,over/en,-/w,relaxation/en,方法/n,，/w,也/d,即/v,在/p,\/w,(/w,z/en,\/w,)/w,和/c,\/w,(/w,u/en,\/w,)/w,中/f,使用/v,下面/f,的/u,表达式/n,代替/v,其中/r,的/u,\/w,(/w, ,ax/en,^,{/w,k/en,+/w,1/m,}/w, ,\/w,)/w,：/w,\/w,(/w,\/w,alpha/en,^,k/en, ,a/en, ,x/en,^,{/w,k/en,+/w,1/m,}/w, ,-/w, ,(/w,1/m,-/w,\/w,alpha/en,^,k/en,)/w,(/w,b/en, ,z/en,^,k/en, ,-/w, ,c/en,)/w,\/w,)/w,，/w,其中/r,\/w,(/w,\/w,alpha/en,^,k/en,\/w,)/w,为/p,relaxation/en,因子/n,。/w,有/v,实验/vn,表明/v,\/w,(/w,\/w,alpha/en,^,k/en, ,\/w,in/en, ,[/w,1.5/m,,/w, ,1.8/m,]/w,\/w,)/w,可以/v,改进/v,收敛性/nw,(/w,[/w,2/m,]/w,)/w,。/w,下面/f,让/v,我们/r,看看/v,admm/en,怎么/r,被/p,用/p,来/v,求解/v,大型/b,的/u,机器/n,学习/v,模型/n,。/w,所谓/v,的/u,大型/b,，/w,要不/c,就是/d,样本/n,数/m,太/d,多/a,，/w,或者/c,样本/n,的/u,维数/nr,太/d,高/a,。/w,下面/f,我们/r,只/d,考虑/v,第一/m,种/q,情况/n,，/w,关于/p,第二/m,种/q,情况/n,感/vg,兴趣/n,的/u,读者/n,可以/v,参见/v,最后/f,的/u,参考/v,文献/n,[/w,1/m,,/w, ,2/m,]/w,。/w,样本/n,数/m,太/d,多/a,无法/v,一次/mq,全部/m,导入/v,内存/n,，/w,常见/a,的/u,处理/v,方式/n,是/v,使用/v,分布式/b,系统/n,，/w,把/p,样本/n,分块/v,，/w,使得/v,每块/r,样本/n,能/v,导入/v,到/v,一台/mq,机器/n,的/u,内存/n,中/f,。/w,当然/d,，/w,我们/r,要/v,的/u,是/v,一个/m,最终/d,模型/n,，/w,它/r,的/u,训练/vn,过程/n,利用/v,了/u,所有/b,的/u,样本/n,数据/n,。/w,常见/a,的/u,机器/n,学习/v,模型/n,如下/v,：/w,\/w,(/w,\/w,text/en,{/w,minimize/en, ,}/w,_,{/w,x/en,}/w, ,\/w,sum/en,_,{/w,j/en,=/w,1/m,}/w,^,{/w,j/en,}/w, ,f/en,_,j/en,(/w,x/en,)/w, ,+/w, ,g/en,(/w,x/en,)/w,\/w,)/w,，/w,其中/r,\/w,(/w,x/en,\/w,)/w,为/p,模型/n,参数/n,，/w,\/w,(/w,f/en,_,j/en,(/w,x/en,)/w,\/w,)/w,对应/v,第/m,\/w,(/w,j/en,\/w,)/w,个/q,样本/n,的/u,损失/n,函数/n,，/w,而/c,\/w,(/w,g/en,(/w,x/en,)/w,\/w,)/w,为/p,惩罚/vn,系数/n,，/w,如/v,\/w,(/w,g/en,(/w,x/en,)/w, ,=/w, ,|/w,|/w,x/en,|/w,|/w,_,1/m,\/w,)/w,。/w,假设/v,把/p,\/w,(/w,j/en,\/w,)/w,个/q,样本/n,分成/v,\/w,(/w,n/en,\/w,)/w,份/q,，/w,每份/r,可以/v,导入/v,内存/n,。/w,此时/r,我们/r,把/p,上面/f,的/u,问题/n,重写/v,为/p,下面/f,的/u,形式/n,：/w,除了/p,把/p,目标/n,函数/n,分成/v,\/w,(/w,n/en,\/w,)/w,块/q,，/w,还/d,额外/b,加/v,了/u,\/w,(/w,n/en,\/w,)/w,个/q,等/u,式/k,约束/vn,，/w,使得/v,利用/v,每块/r,样本/n,计算/v,出来/v,的/u,模型/n,参数/n,\/w,(/w,x/en,_,i/en,\/w,)/w,都/d,相等/v,。/w,那么/r,，/w,admm/en,中/f,的/u,求解/v,步骤/n,(/w,3.2/m,)/w,-/w,(/w,3.4/m,)/w,变为/v,：/w,例如/v,求解/v,l/en,1/m,惩罚/vn,的/u,lr/en,模型/n,，/w,其/r,迭代/vn,步骤/n,如下/v,（/w,\/w,(/w, ,u/en,=/w,\/w,frac/en,{/w,1/m,}/w,{/w,\/w,rho/en,}/w,y/en, ,\/w,)/w,，/w,\/w,(/w,g/en,(/w,z/en,)/w,=/w,\/w,lambda/en, ,|/w,|/w,z/en,|/w,|/w,_,1/m,\/w,)/w,）/w,：/w,其中/r,\/w,(/w,\/w,bar/en,{/w,x/en,}/w, ,\/w,doteq/en, ,\/w,frac/en,1/m,n/en, ,\/w,sum/en,_,{/w,i/en,}/w,^,n/en, ,x/en,_,i/en,\/w,)/w,，/w,\/w,(/w,\/w,bar/en,{/w,y/en,}/w,\/w,)/w,的/u,定义/n,类似/v,。/w,在/p,分布式/b,情况/n,下/f,，/w,为了/p,计算/v,方便/a,通常/d,会/v,把/p,\/w,(/w,u/en,\/w,)/w,的/u,更新/v,步骤/n,挪/v,在/p,最/d,前面/f,，/w,这样/r,\/w,(/w,u/en,\/w,)/w,和/c,\/w,(/w,x/en,\/w,)/w,的/u,更新/v,可以/v,放/v,在/p,一块/s,：/w,admm/en,的/u,框架/n,确实/ad,很/d,牛逼/nw,，/w,把/p,一个/m,大/a,问题/n,分成/v,可/v,分布式/b,同时/c,求解/v,的/u,多/a,个/q,小/a,问题/n,。/w,理论/n,上/f,，/w,admm/en,的/u,框架/n,可以/v,解决/v,大部分/m,实际/n,中/f,的/u,大/a,尺度/n,问题/n,。/w,我/r,自己/r,全部/m,实现/v,了/u,一遍/mq,这个/r,框架/n,，/w,主要/b,用于/v,求解/v,lr/en,问题/n,，/w,下面/f,说说/v,我/r,碰到/v,的/u,一些/m,问题/n,：/w,1/m,./w, ,收敛/vn,不/d,够/v,快/a,，/w,往往/d,需要/v,迭代/vn,几十/nw,步/q,。/w,整体/n,速度/n,主要/b,依赖/v,于/p,\/w,(/w,x/en,_,i/en,\/w,)/w,更/d,新/a,时/ng,所/u,使用/v,的/u,优化/v,方法/n,，/w,个人/n,建议/n,使用/v,liblinear/en,里/f,算法/n,，/w,但是/c,不/d,能/v,直接/ad,拿/v,来/v,就/d,用/p,，/w,需要/v,做/v,一些/m,调整/vn,。/w,2/m,./w, ,停止/v,准则/n,和/c,\/w,(/w,\/w,rho/en,\/w,)/w,的/u,选取/v,：/w,停止/v,准则/n,主要/b,考量/v,的/u,是/v,\/w,(/w,x/en,_,i/en,\/w,)/w,和/c,\/w,(/w,z/en,\/w,)/w,之间/f,的/u,差异/n,和/c,它们/r,本身/r,的/u,变动/vn,情况/n,，/w,但/c,这些/r,值/n,又/d,受/v,\/w,(/w,\/w,rho/en,\/w,)/w,的/u,取值/v,的/u,影响/vn,。/w,它们/r,之间/f,如何/r,权衡/v,并/c,无/v,定法/nw,。/w,个人/n,建议/n,使用/v,模型/n,在/p,测试/vn,集/vg,上/f,的/u,效果/n,来/v,确定/v,是否/v,停止/v,迭代/vn,。/w,3/m,./w, ,不/d,适合/v,mapreduce/en,框架/n,实现/v,：/w,需要/v,保证/v,对/p,数据/n,的/u,分割/v,自始至终/i,都/d,一致/a,；/w,用/p,mpi/en,实现/v,的/u,话/n,相对于/nw,其他/r,算法/n,又/d,未必/d,有/v,什么/r,优势/n,（/w,如/v,l/en,-/w,bfgs/en,、/w,owlqn/en,等/u,）/w,。/w,4/m,./w, ,relaxation/en,步骤/n,要/v,谨慎/a,：/w,\/w,(/w,\/w,alpha/en,\/w,)/w,的/u,取值/v,依赖/v,于/p,具体/a,的/u,问题/n,，/w,很多/m,时候/n,的确/d,可以/v,加快/v,收敛/vn,速度/n,，/w,但/c,对/p,有些/r,问题/n,甚至/d,可能/v,带来/v,不/d,收敛/vn,的/u,后果/n,。/w,用/p,的/u,时候/n,不论/c,是/v,用/p,x/en, ,-/w,>, ,z/en, ,-/w,>, ,u/en,的/u,更新/v,步骤/n,，/w,还是/c,用/p,u/en, ,-/w,>, ,x/en, ,-/w,>, ,z/en,的/u,更新/v,步骤/n,，/w,在/p,u/en,步/q,使用/v,的/u,x/en,_,hat/en,要/v,和/c,在/p,z/en,步/q,使用/v,的/u,相同/a,（/w,使用/v,旧/a,的/u,z/en,）/w,，/w,而/c,不/d,是/v,使用/v,z/en,步/q,刚/d,更新/v,的/u,z/en,重算/nw,。/w,5/m,./w, ,warm/en, ,start/en, ,和/c,子/ng,问题/n,求解/v,逐渐/d,精确/a,的/u,策略/n,可以/v,降低/v,\/w,(/w,x/en,_,i/en,\/w,)/w,更/d,新/a,时/ng,的/u,耗时/v,，/w,但/c,也/d,使得/v,算法/n,更加/d,复杂/a,，/w,需要/v,设定/v,的/u,参数/n,也/d,增加/v,了/u,。/w,[/w,references/en,]/w,[/w,1/m,]/w, ,s/en,./w, ,boyd