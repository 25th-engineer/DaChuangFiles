一/m,、/w,决策树/nz,模型/n,组合单/nw,决策树/nz,c/en,4.5/m,由于/c,功能/n,太/d,简单/a,，/w,并且/c,非常/d,容易/a,出现/v,过/u,拟合/nz,的/u,现象/n,，/w,于是/c,引申/v,出/v,了/u,许多/m,变种/n,决策树/nz,，/w,就是/d,将/d,单/d,决策树/nz,进行/v,模型/n,组合/v,，/w,形成/v,多/a,决策树/nz,，/w,比较/d,典型/n,的/u,就/d,是/v,迭代/vn,决策树/nz,gbrt/en,和/c,随机/d,森林/n,rf/en,。/w,在/p,最近/t,几/m,年/q,的/u,paper/en,上/f,，/w,如/v,iccv/en,这种/r,重量级/b,会议/n,，/w,iccv/en, ,09年/t,的/u,里面/f,有/v,不少/m,文章/n,都/d,是/v,与/p,boosting/en,和/c,随机/d,森林/n,相关/v,的/u,。/w,模型/n,组合/v,+/w,决策树/nz,相关/v,算法/n,有/v,两种/mq,比较/d,基本/a,的/u,形式/n,：/w,随机/d,森林/n,rf/en,与/p,gbdt/en,，/w,其他/r,比较/d,新/a,的/u,模型/n,组合/v,+/w,决策树/nz,算法/n,都/d,是/v,来自/v,这/r,两种/mq,算法/n,的/u,延伸/v,。/w,核心/n,思想/n,：/w,其实/d,很多/m,“/w,渐进/v,梯度/n,”/w,gradient/en, ,boost/en,都/d,只是/d,一个/m,框架/n,，/w,里面/f,可以/v,套用/v,很多/m,不同/a,的/u,算法/n,。/w,首先/d,说明/v,一下/m,，/w,gbrt/en,这个/r,算法/n,有/v,很多/m,名字/n,，/w,但/c,都/d,是/v,同一个/r,算法/n,：/w,gbrt/en, ,(/w,gradient/en, ,boostregression/en, ,tree/en,)/w, ,渐进/v,梯度/n,回归/v,树/v,gbdt/en, ,(/w,gradient/en, ,boostdecision/en, ,tree/en,)/w, ,渐进/v,梯度/n,决策树/nz,mart/en, ,(/w,multipleadditive/en, ,regression/en, ,tree/en,)/w, ,多/a,决策/n,回归/v,树/v,tree/en, ,net/en,决策树/nz,网络/n,二/m,、/w,gbrt/en,迭代/vn,决策树/nz,算法/n,，/w,在/p,阿里/nt,内部/f,用/p,得/u,比较/d,多/a,（/w,所以/c,阿里算法/nw,岗位/n,面试/v,时/ng,可能/v,会/v,问/v,到/v,）/w,，/w,由/p,多/a,棵/q,决策树/nz,组成/v,，/w,所有/b,树/v,的/u,输出/v,结果/n,累/a,加/v,起来/v,就/d,是/v,最终/d,答案/n,。/w,它/r,在/p,被/p,提/v,出/v,之/u,初/f,就/d,和/c,svm/en,一起/s,被/p,认为/v,是/v,泛化/nw,能力/n,（/w,generalization/en,)/w,较/d,强/a,的/u,算法/n,。/w,近些年/t,更/d,因为/c,被/p,用于/v,搜索/vn,排序/vn,的/u,机器/n,学习/v,模型/n,而/c,引起/v,大家/r,关注/v,。/w,gbrt/en,是/v,回归/v,树/v,，/w,不/d,是/v,分类/vn,树/v,。/w,其/r,核心/n,就/d,在于/v,，/w,每/r,一棵/mq,树/v,是/v,从/p,之前/f,所有/b,树/v,的/u,残差/nw,中/f,来/v,学习/v,的/u,。/w,为了/p,防止/v,过/u,拟合/nz,，/w,和/c,adaboosting/en,一样/u,，/w,也/d,加入/v,了/u,boosting/en,这/r,一项/mq,。/w,关于/p,gbrt/en,的/u,介绍/v,可以/v,可以/v,参考/v,：/w,gbdt/en,（/w,mart/en,）/w, ,迭代/vn,决策树/nz,入门/v,教程/n, ,|/w, ,简介/n,。/w,提起/v,决策树/nz,（/w,dt/en,,/w, ,decisiontree/en,）/w,不要/d,只/d,想到/v,c/en,4.5/m,单/d,分类/vn,决策树/nz,，/w,gbrt/en,不/d,是/v,分类/vn,树/v,而是/c,回归/v,树/v,！/w,决策树/nz,分为/v,回归/v,树/v,和/c,分类/vn,树/v,：/w,回归/v,树/v,用于/v,预测/v,实数/n,值/n,，/w,如/v,明天/t,温度/n,、/w,用户/n,年龄/n,分类/vn,树/v,用于/v,分类/vn,标签/n,值/n,，/w,如/v,晴天/n,//w,阴天/n,//w,雾/n,//w,雨/n,、/w,用户/n,性别/n,注意/v,前者/r,结果/n,加减/v,是/v,有/v,意义/n,的/u,，/w,如/v,10岁/mq,+/w,5岁/mq,-/w,3岁/mq,=/w,12岁/mq,，/w,后者/r,结果/n,加/v,减/v,无/v,意义/n,，/w,如/v,男/b,+/w,女/b,=/w,到底/d,是/v,男/b,还是/c,女/b,？/w,gbrt/en,的/u,核心/n,在于/v,累加/v,所有/b,树/v,的/u,结果/n,作为/v,最终/d,结果/n,，/w,而/c,分类/vn,树/v,是/v,没有/v,办法/n,累加/v,的/u,。/w,所以/c,gbdt/en,中/f,的/u,树/v,都/d,是/v,回归/v,树/v,而/c,非/h,分类/vn,树/v,。/w,第一/m,棵/q,树/v,是/v,正常/a,的/u,，/w,之后/f,所有/b,的/u,树/v,的/u,决策/n,全/a,是/v,由/p,残差/nw,（/w,此次/r,的/u,值/n,与/p,上次/t,的/u,值/n,之/u,差/a,）/w,来/v,作/v,决策/n,。/w,三/m,、/w,算法/n,原理/n,0/m,./w,给/p,定/v,一个/m,初始值/n,1/m,./w,建立/v,m/en,棵/q,决策树/nz,（/w,迭代/vn,m/en,次/q,）/w,2/m,./w,对/p,函数/n,估计/v,值/n,f/en,(/w,x/en,)/w,进行/v,logistic/en,变换/v,3/m,./w,对于/p,k/en,各/r,分类/vn,进行/v,下面/f,的/u,操作/v,（/w,其实/d,这个/r,for/en,循环/vn,也/d,可以/v,理解/v,为/p,向量/n,的/u,操作/v,，/w,每个/r,样本点/nw,xi/en,都/d,对应/v,了/u,k/en,种/q,可能/v,的/u,分类/vn,yi/en,，/w,所以/c,yi/en,，/w,f/en,(/w,xi/en,)/w,，/w,p/en,(/w,xi/en,)/w,都/d,是/v,一个/m,k/en,维/q,向量/n,）/w,4/m,./w,求得/v,残差/nw,减少/v,的/u,梯度/n,方向/n,5/m,./w,根据/p,每个/r,样本点/nw,x/en,，/w,与其/c,残差/nw,减少/v,的/u,梯度/n,方向/n,，/w,得到/v,一棵/mq,由/p,j/en,个/q,叶子/n,节点/n,组成/v,的/u,决策树/nz,6/m,./w,当/p,决策树/nz,建立/v,完成/v,后/f,，/w,通过/p,这个/r,公式/n,，/w,可以/v,得到/v,每个/r,叶子/n,节点/n,的/u,增益/v,（/w,这个/r,增益/v,在/p,预测/v,时候/n,用/p,的/u,）/w,每个/r,增益/v,的/u,组成/v,其实/d,也/d,是/v,一个/m,k/en,维/q,向量/n,，/w,表示/v,如果/c,在/p,决策树/nz,预测/v,的/u,过程/n,中/f,，/w,如果/c,某个/r,样本点/nw,掉/v,入/v,了/u,这个/r,叶子/n,节点/n,，/w,则/d,其/r,对应/v,的/u,k/en,个/q,分类/vn,的/u,值/n,是/v,多少/r,。/w,比如/v,gbdt/en,得到/v,了/u,三棵/mq,决策树/nz,，/w,一个/m,样本点/nw,在/p,预测/v,的/u,时候/n,，/w,也/d,会/v,掉/v,入/v,3个/m,叶子/n,节点/n,上/f,，/w,其/r,增益/v,分别/d,为/p,（/w,假设/v,为/p,3/m,分类/vn,问题/n,）/w,：/w,(/w,0.5/m,,/w, ,0.8/m,,/w, ,0.1/m,)/w,,/w, ,(/w,0.2/m,,/w, ,0.6/m,,/w, ,0.3/m,)/w,,/w, ,(/w,0.4/m,,/w, ,./w,0/m,./w,3/m,,/w, ,0.3/m,)/w,，/w,那么/r,这样/r,最终/d,得到/v,的/u,分类/vn,为/p,第二/m,个/q,，/w,因为/c,选择/v,分类/vn,2/m,的/u,决策树/nz,是/v,最/d,多/a,的/u,。/w,7/m,./w,将/d,当前/t,得到/v,的/u,决策树/nz,与/p,之前/f,的/u,那些/r,决策树/nz,合并/v,起来/v,，/w,作为/v,一个/m,新/a,的/u,模型/n,（/w,跟/p,6/m,中/f,的/u,例子/n,差不多/l,）/w,--------------------------------------------------------------------------------------------------------------/nrf,还是/c,年龄/n,预测/v,，/w,简单/a,起/v,见/v,训练/vn,集/vg,只/d,有/v,4/m,个人/n,，/w,a/en,,/w,b/en,,/w,c/en,,/w,d/en,，/w,他们/r,的/u,年龄/n,分别/d,是/v,14/m,,/w,16/m,,/w,24/m,,/w,26/m,。/w,其中/r,a/en,、/w,b/en,分别/d,是/v,高一/n,和/c,高三/n,学生/n,；/w,c/en,,/w,d/en,分别/d,是/v,应届/b,毕业生/n,和/c,工作/vn,两年/t,的/u,员工/n,。/w,如果/c,是/v,用/p,一棵/mq,传统/n,的/u,回归/v,决策树/nz,来/v,训练/vn,，/w,会/v,得到/v,如下/v,所/u,示/vg,结果/n,：/w,现在/t,我们/r,使用/v,gbdt/en,来/v,做/v,这/r,件/q,事/n,，/w,由于/c,数据/n,太/d,少/a,，/w,我们/r,限定/v,叶子/n,节点/n,做/v,多/a,有/v,两个/m,，/w,即/v,每/r,棵/q,树/v,只/d,有/v,一个/m,分枝/n,，/w,并且/c,限定/v,只/d,学/v,两棵/mq,树/v,。/w,我们/r,会/v,得到/v,如下/v,所/u,示/vg,结果/n,：/w,在/p,第一/m,棵/q,树/v,分枝/n,和/c,一样/u,，/w,由于/c,a/en,,/w,b/en,年龄/n,较为/d,相近/a,，/w,c/en,,/w,d/en,年龄/n,较为/d,相近/a,，/w,他们/r,被/p,分为/v,两拨/mq,，/w,每/r,拨/v,用/p,平均/a,年龄/n,作为/v,预测/v,值/n,。/w,此时/r,计算/v,残差/nw,（/w,残差/nw,的/u,意思/n,就/d,是/v,：/w, ,a/en,的/u,预测值/n, ,+/w, ,a/en,的/u,残差/nw, ,=/w, ,a/en,的/u,实际值/nw,）/w,，/w,所以/c,a/en,的/u,残差/nw,就/d,是/v,16/m,-/w,15/m,=/w,1/m,（/w,注意/v,，/w,a/en,的/u,预测值/n,是/v,指/v,前面/f,所有/b,树/v,累加/v,的/u,和/c,，/w,这里/r,前面/f,只/d,有/v,一棵/mq,树/v,所以/c,直接/ad,是/v,15/m,，/w,如果/c,还有/v,树/v,则/d,需要/v,都/d,累/a,加/v,起来/v,作为/v,a/en,的/u,预测值/n,）/w,。/w,进而/c,得到/v,a/en,,/w,b/en,,/w,c/en,,/w,d/en,的/u,残差/nw,分别/d,为/p,-/w,1/m,,/w,1/m,，/w,-/w,1/m,,/w,1/m,。/w,然后/c,我们/r,拿/v,残差/nw,替代/v,a/en,,/w,b/en,,/w,c/en,,/w,d/en,的/u,原值/nz,，/w,到/v,第二/m,棵/q,树/v,去/v,学习/v,，/w,如果/c,我们/r,的/u,预测值/n,和/c,它们/r,的/u,残差/nw,相等/v,，/w,则/d,只/d,需/v,把/p,第二/m,棵/q,树/v,的/u,结论/n,累加/v,到/v,第一/m,棵/q,树上/s,就/d,能/v,得到/v,真实/a,年龄/n,了/u,。/w,这里/r,的/u,数据/n,显然/ad,是/v,我/r,可以/v,做/v,的/u,，/w,第二/m,棵/q,树/v,只/d,有/v,两个/m,值/n,1/m,和/c,-/w,1/m,，/w,直接/ad,分/q,成/v,两个/m,节点/n,。/w,此时/r,所有/b,人/n,的/u,残差/nw,都/d,是/v,0/m,，/w,即/v,每个/r,人/n,都/d,得到/v,了/u,真实/a,的/u,预测值/n,。/w,换句话说/c,，/w,现在/t,a/en,,/w,b/en,,/w,c/en,,/w,d/en,的/u,预测值/n,都/d,和/c,真实/a,年龄/n,一致/a,了/u,。/w,a/en,:/w, ,14岁/mq,高一/n,学生/n,，/w,购物/v,较/d,少/a,，/w,经常/d,问/v,学长/n,问题/n,；/w,预测/v,年龄/n,a/en, ,=/w, ,15/m, ,–, ,1/m, ,=/w, ,14/m,b/en,:/w, ,16岁/mq,高三/n,学生/n,；/w,购物/v,较/d,少/a,，/w,经常/d,被/p,学弟/nw,问/v,问题/n,；/w,预测/v,年龄/n,b/en, ,=/w, ,15/m, ,+/w, ,1/m, ,=/w, ,16/m,c/en,:/w, ,24岁/mq,应届/b,毕业生/n,；/w,购物/v,较/d,多/a,，/w,经常/d,问/v,师兄/n,问题/n,；/w,预测/v,年龄/n,c/en, ,=/w, ,25/m, ,–, ,1/m, ,=/w, ,24/m,d/en,:/w, ,26岁/mq,工作/vn,两年/t,员工/n,；/w,购物/v,较/d,多/a,，/w,经常/d,被/p,师弟/n,问/v,问题/n,；/w,预测/v,年龄/n,d/en, ,=/w, ,25/m, ,+/w, ,1/m, ,=/w, ,26/m,那么/r,哪里/r,体现/v,了/u,gradient/en,呢/y,？/w,其实/d,回到/v,第一/m,棵/q,树/v,结束/v,时/ng,想/v,一/m,想/v,，/w,无论/c,此时/r,的/u,cost/en, ,function/en,是/v,什么/r,，/w,是/v,均/d,方差/nr,还是/c,均差/nw,，/w,只要/c,它/r,以/p,误差/n,作为/v,衡量/v,标准/n,，/w,残差/nw,向/p,量/n,(/w,-/w,1/m,,/w, ,1/m,,/w, ,-/w,1/m,,/w, ,1/m,)/w,都/d,是/v,它/r,的/u,全局/n,最/d,优/ag,方向/n,，/w,这/r,就/d,是/v,gradient/en,。/w,四/m,、/w,gbrt/en,适用/v,范围/n,该/r,版本/n,的/u,gbrt/en,几乎/d,可/v,用于/v,所有/b,的/u,回归/v,问题/n,（/w,线性/n,//w,非线性/b,）/w,，/w,相对/d,logistic/en, ,regression/en,仅/d,能/v,用于/v,线性/n,回归/v,，/w,gbrt/en,的/u,适用/v,面/q,非常/d,广/a,。/w,亦可/v,用于/v,二/m,分类/vn,问题/n,（/w,设定/v,阈值/n,，/w,大于/v,阈值/n,为/p,正例/nw,，/w,反之为/nw,负例/nw,）/w,。/w,五/m,、/w,搜索引擎/n,排序/vn,应用/vn,ranknet/en,搜索/vn,排序/vn,关注/v,各个/r,doc/en,的/u,顺序/n,而/c,不/d,是/v,绝对值/n,，/w,所以/c,需要/v,一个/m,新/a,的/u,cost/en, ,function/en,，/w,而/c,ranknet/en,基本/a,就是/d,在/p,定义/n,这个/r,cost/en, ,function/en,，/w,它/r,可以/v,兼容/v,不同/a,的/u,算法/n,（/w,gbdt/en,、/w,神经/n,网络/n,./w,./w,./w,）/w,。/w,实际/n,的/u,搜索/vn,排序/vn,使用/v,的/u,是/v,lambda/en, ,mart/en,算法/n,，/w,必须/d,指出/v,的/u,是/v,由于/c,这里/r,要/v,使用/v,排序/vn,需要/v,的/u,cost/en, ,function/en,，/w,lambdamart/en,迭/d,代用/vn,的/u,并/c,不/d,是/v,残差/nw,。/w,lambda/en,在/p,这里/r,充当/v,替代/v,残差/nw,的/u,计算/v,方法/n,，/w,它/r,使用/v,了/u,一种/mq,类似/v,gradient/en,*/w,步长/nz,模拟/b,残差/nw,的/u,方法/n,。/w,这里/r,的/u,mart/en,在/p,求解/v,方法/n,上/f,和/c,之前/f,说/v,的/u,残差/nw,略/d,有/v,不同/a,，/w,其/r,区别/n,描述/v,见/v,这里/r,。/w,搜索/vn,排序/vn,也/d,需要/v,训练/vn,集/vg,，/w,但/c,多数/m,用/p,人工/n,标注/v,实现/v,，/w,即/v,对/p,每个/r,(/w,query/en,,/w, ,doc/en,)/w,pair/en,给/p,定/v,一个/m,分值/n,（/w,如/v,1/m,,/w, ,2/m,,/w, ,3/m,,/w, ,4/m,）/w,，/w,分值/n,越/d,高/a,越/d,相关/v,，/w,越/d,应该/v,排/v,到/v,前面/f,。/w,ranknet/en,就/d,是/v,基于/p,此/r,制定/v,了/u,一个/m,学习/v,误差/n,衡量/v,方法/n,，/w,即/v,cost/en, ,function/en,。/w,ranknet/en,对/p,任意/d,两个/m,文档/n,a/en,,/w,b/en,，/w,通过/p,它们/r,的/u,人工/n,标注/v,分差/nw,，/w,用/p,si