在/p,机器/n,学习/v,的/u,实践/v,中/f,，/w,我们/r,通常/d,会/v,遇到/v,实际/n,数据/n,中/f,正负/n,样本/n,比例/n,不/d,平衡/a,的/u,情况/n,，/w,也/d,叫/v,数据/n,倾斜/v,。/w,对于/p,数据/n,倾斜/v,的/u,情况/n,，/w,如果/c,选取/v,的/u,算法/n,不/d,合适/a,，/w,或者/c,评价/v,指标/n,不/d,合适/a,，/w,那么/r,对于/p,实际/n,应用线/nw,上/f,时/ng,效果/n,往往/d,会/v,不尽人意/l,，/w,所以/c,如何/r,解决/v,数据/n,不/d,平衡/a,问题/n,是/v,实际/n,生产/vn,中/f,非/h,常常/d,见/v,且/c,重要/a,的/u,问题/n,。/w,什么/r,是/v,类别/n,不/d,平衡/a,问题/n,我们/r,拿/v,到/v,一份/mq,数据/n,时/ng,，/w,如果/c,是/v,二/m,分类/vn,问题/n,，/w,通常/d,会/v,判断/v,一下/m,正负/n,样本/n,的/u,比例/n,，/w,在/p,机器/n,学习/v,中/f,，/w,通常/d,会/v,遇到/v,正负/n,样本/n,极/d,不/d,均衡/a,的/u,情况/n,，/w,如/v,垃圾/n,邮件/n,的/u,分类/vn,等/u,；/w,在/p,目标/n,检测/vn,ssd/en,中/f,，/w,也/d,经常/d,遇到/v,数据/n,不/d,平衡/a,的/u,情况/n,，/w,检测器/n,需要/v,在/p,每张/r,图像/n,中/f,评价/v,一万个/m,到/v,十万个/m,候选/b,位置/n,，/w,然而/c,其中/r,只/d,有/v,很/d,少/a,的/u,点/q,真的/d,含有/v,目标/n,物体/n,。/w,这/r,就/d,导致/v,了/u,训练/vn,效率/n,低下/a,和/c,简单/a,的/u,负面/b,样本/n,引发/v,整个/b,模型/n,表现/v,下降/v,的/u,问题/n,。/w,如何/r,解决/v,不/d,平衡/a,问题/n,1/m,./w, ,从/p,数据/n,角度/n,主动/ad,获取/v,：/w,获取/v,更/d,多/a,的/u,少量/m,样本/n,数据/n,针对/p,少量/m,样本/n,数据/n,，/w,可以/v,尽可能/d,去/v,扩大/v,这些/r,少量/m,样本/n,的/u,数据集/nw,，/w,或者/c,尽可能/d,去/v,增加/v,他们/r,特有/b,的/u,特征/n,来/v,丰富/a,数据/n,的/u,多样性/n,。/w,譬如/v,，/w,如果/c,是/v,一个/m,情感/n,分析/vn,项目/n,，/w,在/p,分析/vn,数据/n,比例/n,时/ng,发现/v,负/v,样本/n,（/w,消极/a,情感/n,）/w,的/u,样本/n,数量/n,较/d,少/a,，/w,那么/r,我们/r,可以/v,尽可能/d,在/p,网站/n,中/f,搜集/v,更/d,多/a,的/u,负/v,样本/n,数量/n,。/w,算法/n,采样/v,：/w,上/f,采样/v,、/w,下/f,采样/v,、/w,生成/vn,合成/v,数据/n,adasyn/en,采样/v,方法/n,：/w,adasyn/en,为/p,样本/n,较/d,少/a,的/u,类/q,生成/vn,合成/v,数据/n,，/w,其/r,生成/vn,的/u,数据/n,与/p,更/d,容易/a,学习/v,的/u,样本/n,相比/v,，/w,更/d,难/a,学习/v,。/w,基本/a,思想/n,是/v,根据/p,学习/v,难度/n,的/u,不同/a,，/w,对/p,不同/a,的/u,少数/m,类/q,的/u,样本/n,使用/v,加权/v,分布/v,。/w,其中/r,，/w,更/d,难/a,学习/v,的/u,少数/m,类/q,的/u,样本/n,比/p,那些/r,更/d,容易/a,学习/v,的/u,少数/m,类/q,的/u,样本/n,要/v,产生/v,更/d,多/a,的/u,合成/v,数据/n,。/w,因此/c,，/w,adasyn/en,方法/n,通过/p,以下/f,两种/mq,方式/n,改善/v,了/u,数据/n,分布/v,的/u,学习/v,：/w,(/w,1/m,)/w,减少/v,由于/c,类别/n,不/d,平衡/a,带来/v,的/u,偏差/n,；/w,(/w,2/m,)/w,自/p,适应/v,地/u,将/d,分类/vn,决策/n,边界/n,转移/v,到/v,困难/an,的/u,例子/n,。/w,smote/en,采样/v,方法/n,:/w,从/p,少数/m,类/q,创建/v,新/a,的/u,合成点/nw,，/w,以/p,增加/v,其/r,基数/n,。/w,但是/c,smote/en,算法/n,也/d,有/v,一定/d,的/u,局限性/n,。/w,具体/a,有/v,两项/mq,，/w,一/m,是/v,在/p,近邻/n,选择/v,时/ng,，/w,存在/v,一定/d,的/u,盲目性/n,。/w,在/p,算法/n,执行/v,过程/n,中/f,，/w,需要/v,确定/v,k/en,值/n,，/w,即/v,选择/v,几/m,个/q,近邻/n,样本/n,，/w,这个/r,需要/v,根据/p,具体/a,的/u,实验/vn,数据/n,和/c,实验/vn,人/n,自己/r,解决/v,。/w,二/m,是/v,该/r,算法/n,无法/v,克服/v,非/h,平衡/a,数据集/nw,的/u,数据/n,分布/v,问题/n,，/w,容易/a,产生/v,分布/v,边缘化/v,的/u,问题/n,。/w,由于/c,负类/nw,样本/n,的/u,分布/v,决定/v,了/u,其/r,可/v,选择/v,的/u,近邻/n,，/w,如果/c,一个/m,负类/nw,样本/n,处在/v,负类/nw,样本/n,的/u,边缘/n,，/w,则/d,由此/d,负类/nw,样本/n,和/c,近邻/n,样本/n,产生/v,的/u,样本/n,也/d,会/v,处在/v,边缘/n,，/w,从而/c,无法/v,确定/v,正负/n,类/q,的/u,分类/vn,边界/n,。/w,下/f,图/n,是/v,以前/f,做/v,的/u,一个/m,项目/n,应用/vn,个/q,各种/r,采样/v,方法/n,做/v,数据/n,增强/v,的/u,情况/n,。/w,（/w,效果/n,不/d,明显/a,，/w,因为/c,原始/a,数据/n,的/u,分布/v,重合/vn,太/d,明显/a,，/w,可视化/nz,不/d,容易/a,显示/v,出/v,效果/n,）/w,数据/n,增强/v,：/w,加/v,噪音/n,增强/v,模型/n,鲁棒性/nz,、/w,对/p,不同/a,性质/n,的/u,数据/n,也/d,可以/v,做/v,不同/a,的/u,augmentation/en,改变/v,权/n,重/a,：/w,设定/v,惩罚/vn,因子/n,，/w,如/v,libsvm/en,等/u,算法/n,里/f,设置/v,的/u,正负/n,样本/n,的/u,权重/nz,项/q,等/u,。/w,惩罚/vn,多/a,样本/n,类别/n,，/w,其实/d,还/d,可以/v,加权/v,少/a,样本/n,类别/n,注意/v,：/w,在/p,选择/v,采样/v,法事/n,需要/v,注意/v,一个/m,问题/n,，/w,如果/c,你/r,的/u,实际/n,数据/n,是/v,数据/n,不/d,平衡/a,的/u,，/w,在/p,训练/vn,模型/n,时/ng,发现/v,效果/n,不好/a,，/w,于是/c,采取/v,了/u,采样/v,法/j,平衡/a,的/u,数据/n,的/u,比例/n,再/d,来/v,进行/v,训练/vn,，/w,然后/c,去/v,测试/vn,数据/n,上/f,预测/v,，/w,这个/r,时候/n,算法/n,的/u,效果/n,是否/v,会/v,有/v,偏差/n,呢/y,？/w,此时/r,你/r,的/u,训练/vn,样本/n,的/u,分布/v,与/p,测试/vn,样本/n,的/u,分布/v,已经/d,发生/v,了/u,改变/v,，/w,这样/r,做/v,反而/d,会/v,产生/v,不好/a,的/u,效果/n,。/w,在/p,实际/n,情况/n,中/f,，/w,我们/r,尽可能/d,的/u,需要/v,保持/v,训练/vn,和/c,测试/vn,的/u,样本/n,的/u,概率/n,分布/v,是/v,一致/a,的/u,，/w,如果/c,测试/vn,样本/n,的/u,分布/v,是/v,不/d,平衡/a,的/u,，/w,那么/r,训练/vn,样本/n,尽可能/d,与/p,测试/vn,样本/n,的/u,分布/v,保持/v,一致/a,，/w,哪怕/c,拿/v,到/v,手/n,的/u,是/v,已经/d,清洗/vn,和/c,做/v,过/u,预/d,处理/v,后/f,的/u,平衡/a,的/u,数据/n,。/w,具体/a,原因/n,感/vg,兴趣/n,的/u,可以/v,仔细/ad,思考/v,一下/m,。/w,2/m,./w,从/p,评价/v,指标/n,角度/n,谨慎/a,选择/v,auc/en,作为/v,评价/v,指标/n,：/w,对于/p,数据/n,极端/n,不/d,平衡/a,时/ng,，/w,可以/v,观察/v,观察/v,不同/a,算法/n,在/p,同一/b,份/q,数据/n,下/f,的/u,训练/vn,结果/n,的/u,precision/en,和/c,recall/en,，/w,这样/r,做/v,有/v,两个/m,好处/n,，/w,一/m,是/v,可以/v,了解/v,不同/a,算法/n,对于/p,数据/n,的/u,敏感/a,程度/n,，/w,二/m,是/v,可以/v,明确/ad,采取/v,哪/r,种/q,评价/v,指标/n,更/d,合适/a,。/w,针对/p,机器/n,学习/v,中/f,的/u,数据/n,不/d,平衡/a,问题/n,，/w,建议/n,更/d,多/a,pr/en,(/w,precision/en,-/w,recall/en,曲线/n,)/w,，/w,而非/c,roc/en,曲线/n,，/w,具体/a,原因/n,画图/v,即可/v,得知/v,，/w,如果/c,采用/v,roc/en,曲线/n,来/v,作为/v,评价/v,指标/n,，/w,很/d,容易/a,因为/c,auc/en,值/n,高/a,而/c,忽略/v,实际/n,对/p,少/a,两/m,样本/n,的/u,效果/n,其实/d,并/c,不/d,理想/n,的/u,情况/n,。/w,不要/d,只/d,看/v,accuracy/en,：/w,accuracy/en,可以/v,说/v,是/v,最/d,模糊/a,的/u,一个/m,指标/n,了/u,，/w,因为/c,这个/r,指标/n,高/a,可能/v,压根/nz,就/d,不能/v,代表/n,业务/n,的/u,效果/n,好/a,，/w,在/p,实际/n,生产/vn,中/f,，/w,我们/r,可能/v,更/d,关注/v,precision/en,//w,recall/en,//w,map/en,等/u,具体/a,的/u,指标/n,，/w,具体/a,侧重/v,那个/r,指标/n,，/w,得/u,结合/v,实际/n,情况/n,看/v,。/w,3/m,./w,从/p,算法/n,角度/n,选择/v,对/p,数据/n,倾斜/v,相对/d,不/d,敏感/a,的/u,算法/n,。/w,如/v,树/v,模型/n,等/u,。/w,集成/vn,学习/v,（/w,ensemble/en,集成/vn,算法/n,）/w,。/w,首先/d,从/p,多数/m,类/q,中/f,独立/v,随机/d,抽取/vn,出/v,若干/m,子集/n,，/w,将/d,每个/r,子集/n,与/p,少数/m,类/q,数据/n,联合/v,起来/v,训练/vn,生成/vn,多/a,个/q,基分类器/nw,，/w,再/d,加权/v,组成/v,新/a,的/u,分类器/nw,，/w,如/v,加法/n,模型/n,、/w,adaboost/en,、/w,随机/d,森林/n,等/u,。/w,将/d,任务/n,转换/v,成/v,异常/a,检测/vn,问题/n,。/w,譬如/v,有/v,这样/r,一个/m,项目/n,，/w,需要/v,从/p,高压线/n,的/u,航拍/nz,图片/n,中/f,，/w,将/d,松动/v,的/u,螺丝/n,//w,零件/n,判断/v,为/p,待/v,检测/vn,站点/n,，/w,即/v,负/v,样本/n,，/w,其他/r,作为/v,正/d,样本/n,，/w,这样/r,来看/v,，/w,数据/n,倾斜/v,是/v,非常/d,严重/a,的/u,，/w,而且/c,在/p,图像/n,质量/n,一般/a,的/u,情况/n,下/f,小/a,物体/n,检测/vn,的/u,难度/n,较/d,大/a,，/w,所以/c,不如/v,将/d,其/r,转换/v,为/p,无/v,监督/vn,的/u,异常/a,检测/vn,算法/n,，/w,不/d,用/p,过/u,多/a,的/u,去/v,考虑/v,将/d,数据/n,转换/v,为/p,平衡/a,问题/n,来/v,解决/v,。/w,目标/n,检测/vn,中/f,的/u,不/d,平衡/a,问题/n,的/u,进展/vn,1/m,./w,ghm/en,_,detection/en,论文/n,：/w,https/en,:/w,//w,//w,arvix/en,./w,org/en,//w,pdf/en,//w,1811/m,./w,05181/m,./w,pdfgithub/en,：/w,https/en,:/w,//w,//w,github/en,./w,com/en,//w,libuyu/en,//w,ghm/en,_,detection/en,本文/r,是/v,香港中文大学/nt,发表/v,于/p, ,aaai/en, ,2019/m, ,的/u,工作/vn,，/w,文章/n,从/p,梯度/n,的/u,角度/n,解决/v,样本/n,中/f,常见/a,的/u,正负/n,样本/n,不/d,均衡/a,的/u,问题/n,。/w,从/p,梯度/n,的/u,角度/n,给/p,计算/v, ,loss/en, ,的/u,样本加权/nw,，/w,相比/v,与/p, ,ohem/en, ,的/u,硬截/nw,断/v,，/w,这种/r,思路/n,和/c, ,focal/en, ,loss/en, ,一样/u,属于/v,软截/nw,断/v,。/w,文章/n,设计/vn,的/u,思路/n,不仅/c,可以/v,用于/v,分类/vn, ,loss/en, ,改进/v,，/w,对/p,回归/v, ,loss/en, ,也/d,很/d,容易/a,进行/v,嵌入/v,。/w,不/d,需要/v,考虑/v, ,focal/en, ,loss/en, ,的/u,超参/nw,设计/vn,问题/n,，/w,同时/c,文章/n,提/v,出/v,的/u,方法/n,效果/n,比/p, ,focal/en, ,loss/en, ,更好/d,。/w,创新/v,点/q,相当/d,于/p, ,fl/en, ,的/u,下/f,一步/mq,方案/n,，/w,给/p,出/v,了/u,解决/v, ,class/en,-/w,imbalance/en, ,的/u,另/r,一种/mq,思路/n,，/w,开/v,了/u,一条/mq,路/n,，/w,估计/v,下/f,一步/mq,会/v,有/v,很多/m,这/r,方面/n,的/u, ,paper/en, ,出现/v,。/w,2/m,./w,focal/en, ,loss/en, ,for/en, ,dense/en, ,object/en, ,detection/en,论文/n,：/w,focal/en, ,loss/en,：/w,https/en,:/w,//w,//w,arxiv/en,./w,org/en,//w,abs/en,//w,1708.02002/m,retinanet/en,：/w,https/en,:/w,//w,//w,github/en,./w,com/en,//w,unsky/en,//w,retinanetgithub/en,：/w,https/en,:/w,//w,//w,github/en,./w,com/en,//w,unsky/en,//w,focal/en,-/w,loss/en,本文/r,通过/p,重塑/v,标准/n,交叉/vn,熵/g,损失/n,来/v,解决/v,这/r,一类/mq,不/d,平衡/a,问题/n,。/w,他们/r,的/u,想法/n,是/v,降低/v,简单/a,的/u,负面/b,样本/n,所/u,占/v,的/u,权重/nz,，/w,所以/c,他们/r,提出/v,的/u,焦点/n,损失/n,（/w,focal/en, ,loss/en,）/w,方法/n,将/d,训练/vn,集中/v,在/p,一系列/mq,难点/n,上/f,，/w,并且/c,防止/v,了/u,大量/m,的/u,简单/a,负面/b,例子/n,在/p,训练/vn,过程/n,中/f,阻碍/v,探测器/n,学习/v,。/w,如/v,上图/n,，/w,参数/n, ,γ, ,的/u,值/n,选择/v,得/u,越/d,大/a,，/w,模型/n,就/d,会/v,对/p,已经/d,得到/v,了/u,很/d,好/a,的/u,分类/vn,的/u,样本/n,忽略/v,得/u,越/d,多/a,，/w,越/d,专注/v,于/p,难/a,的/u,样本/n,的/u,学习/v,。/w,这样/r,的/u,机制/n,就/d,让/v,他们/r,的/u,检测器/n,在/p,密集/a,对象/n,检测/vn,这样/r,的/u,真实/a,正面/d,样本/n,比例/n,很/d,低/a,的/u,情况/n,下/f,取得/v,了/u,很/d,高/a,的/u,准确率/n,。/w,对于/p,应对/v,样本/n,不/d,平衡/a,问题/n,的/u,关键/n,方法/n,“/w,焦距/n,损失/n,”/w,，/w,作者/n,们/k,在/p,论文/n,中/f,还/d,提出/v,了/u,两种/mq,不同/a,的/u,表现/v,形式/n,，/w,都/d,起/v,到/v,了/u,很/d,好/a,的/u,效果/n,./w,3/m,./w,在线/vn,困难/an,样例/nw,挖掘/v,(/w,online/en, ,hard/en, ,example/en, ,mining/en,,/w, ,ohem/en,)/w,目标/n,检测/vn,的/u,另/r,一个/m,问题/n,是/v,类别/n,不/d,平衡/a,，/w,图像/n,中/f,大部分/m,的/u,区域/n,是/v,不/d,包含/v,目标/n,的/u,，/w,而/c,只有/c,小部分/nw,区域/n,包含/v,目标/n,。/w,此外/c,，/w,不同/a,目标/n,的/u,检测/vn,难度/n,也/d,有/v,很/d,大/a,差异/n,，/w,绝大部分/m,的/u,目标/n,很/d,容易/a,被/p,检测/vn,到/v,，/w,而/c,有/v,一/m,小部分/nw,目标/n,却/d,十分/d,困难/an,。/w,ohem/en,和/c,boosting/en,的/u,思路/n,类似/v,，/w,其/r,根据/p,损失值/nw,将/d,所有/b,候选/b,区域/n,进行/v,排序/vn,，/w,并/c,选择/v,损失值/nw,最/d,高/a,的/u,