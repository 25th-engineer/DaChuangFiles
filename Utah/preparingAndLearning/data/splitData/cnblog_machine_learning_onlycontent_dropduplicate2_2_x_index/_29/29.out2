1/m,./w, ,简介/n,决策树/nz,(/w,decision/en, ,tree/en,）/w,是/v,在/p,已知/nz,各种/r,情况/n,发生/v,概率/n,的/u,基础/n,上/f,，/w,通过/p,构成/v,决策树/nz,来/v,求/v,取/v,净/a,现值/n,的/u,期望值/n,大于/v,等于/v,零/m,的/u,概率/n,，/w,评价/v,项目/n,风险/n,，/w,判断/v,其/r,可行性/n,的/u,决策/n,分析/vn,方法/n,，/w,是/v,直观/a,运用/v,概率/n,分析/vn,的/u,一种/mq,图解法/n,。/w,由于/c,这种/r,决策/n,分支/n,画/v,成/v,图形/n,很/d,像/v,一棵/mq,树/v,的/u,枝干/n,，/w,故/c,称/v,决策树/nz,。/w,在/p,机器/n,学习/v,中/f,，/w,决策树/nz,是/v,一个/m,预测/v,模型/n,，/w,他/r,代表/n,的/u,是/v,对象/n,属性/n,与/p,对象/n,值/n,之间/f,的/u,一种/mq,映射/v,关系/n,。/w,entropy/en, ,=/w, ,系统/n,的/u,凌乱/a,程度/n,，/w,使用/v,算法/n,id/en,3/m,,/w, ,c/en,4.5/m,和/c,c/en,5.0/m,生成/vn,树/v,算法/n,使用/v,熵/g,。/w,这/r,一/m,度量/v,是/v,基于/p,信息学/n,理论/n,中/f,熵/g,的/u,概念/n,。/w,决策树/nz,是/v,一种/mq,树形/n,结构/n,，/w,其中/r,每个/r,内部/f,节点/n,表示/v,一个/m,属性/n,上/f,的/u,测试/vn,，/w,每个/r,分支/n,代表/n,一个/m,测试/vn,输出/v,，/w,每个/r,叶节点/nr,代表/n,一种/mq,类别/n,。/w,决策树/nz,学习/v,通常/d,包括/v, ,3/m, ,个/q,步骤/n,：/w,特征/n,选择/v,决策树/nz,的/u,生成/vn,决策树/nz,的/u,修剪/vn,1.1/m, ,决策树/nz,场景/n,场景/n,一/m,：/w,二十个/m,问题/n,有/v,一个/m,叫/v, ,“/w,二十个/m,问题/n,”/w, ,的/u,游戏/n,，/w,游戏/n,规则/n,很/d,简单/a,：/w,参与/v,游戏/n,的/u,一方/mq,在/p,脑海/n,中/f,想/v,某个/r,事物/n,，/w,其他/r,参与者/n,向/p,他/r,提问/vn,，/w,只/d,允许/v,提/v, ,20/m, ,个/q,问题/n,，/w,问题/n,的/u,答案/n,也/d,只能/v,用/p,对/p,或/c,错/n,回答/v,。/w,问/v,问题/n,的/u,人/n,通过/p,推断/vn,分解/v,，/w,逐步/d,缩小/v,待/v,猜测/vn,事物/n,的/u,范围/n,，/w,最后/f,得到/v,游戏/n,的/u,答案/n,。/w,场景/n,二/m,：/w,邮件/n,分类/vn,一个/m,邮件/n,分类/vn,系统/n,，/w,大致/d,工作/vn,流程/n,如下/v,：/w,首先/d,检测/vn,发送/v,邮件/n,域名/n,地址/n,。/w,如果/c,地址/n,为/p, ,myemployer/en,./w,com/en,,/w, ,则/d,将/d,其/r,放在/v,分类/vn, ,"/w,无聊/a,时/ng,需要/v,阅读/v,的/u,邮件/n,"/w,中/f,。/w,如果/c,邮件/n,不/d,是/v,来自/v,这个/r,域名/n,，/w,则/d,检测/vn,邮件/n,内容/n,里/f,是否/v,包含/v,单词/n, ,"/w,曲棍球/n,"/w, ,,/w, ,如果/c,包含/v,则/d,将/d,邮件/n,归类/vn,到/v, ,"/w,需要/v,及时/ad,处理/v,的/u,朋友/n,邮件/n,"/w,,/w,如果/c,不/d,包含/v,则/d,将/d,邮件/n,归类/vn,到/v, ,"/w,无需/v,阅读/v,的/u,垃圾/n,邮件/n,"/w, ,。/w,1.2/m, ,定义/n,分类/vn,决策树/nz,模型/n,是/v,一种/mq,描述/v,对/p,实例/n,进行/v,分类/vn,的/u,树形/n,结构/n,。/w,决策树/nz,由/p,结点/nw,（/w,node/en,）/w,和/c,有/v,向/p,边/d,（/w,directed/en, ,edge/en,）/w,组成/v,。/w,结点/nw,有/v,两种/mq,类型/n,：/w,内部/f,结点/nw,（/w,internal/en, ,node/en,）/w,：/w,表示/v,一个/m,特征/n,或/c,属性/n,。/w,叶结点/nr,（/w,leaf/en,：/w, ,node/en,）/w,：/w,表示/v,一个/m,类/q,。/w,用/p,决策树/nz,分类/vn,，/w,从/p,根/q,节点/n,开始/v,，/w,对/p,实例/n,的/u,某/r,一/m,特征/n,进行/v,测试/vn,，/w,根据/p,测试/vn,结果/n,，/w,将/d,实例/n,分配/vn,到/v,其子/r,结点/nw,；/w,这时/r,，/w,每/r,一个/m,子结点/nw,对应/v,着/u,该/r,特征/n,的/u,一个/m,取值/v,。/w,如此/r,递归/nw,地/u,对/p,实例/n,进行/v,测试/vn,并/c,分配/vn,，/w,直至/v,达到/v,叶结点/nr,。/w,最后/f,将/d,实例/n,分配/vn,到/v,叶结点/nr,的/u,类/q,中/f,。/w,2/m,./w, ,决策树/nz,原理/n,熵/g,：/w,熵/g,（/w,entropy/en,）/w,指/v,的/u,是/v,体系/n,的/u,混乱/a,的/u,程度/n,，/w,在/p,不同/a,的/u,学科/n,中/f,也/d,有/v,引申/v,出/v,的/u,更为/d,具体/a,的/u,定义/n,，/w,是/v,各/r,领域/n,十分/d,重要/a,的/u,参量/n,。/w,信息熵/nz,（/w,香农/nr,熵/g,）/w,：/w,是/v,一种/mq,信息/n,的/u,度量/v,方式/n,，/w,表示/v,信息/n,的/u,混乱/a,程度/n,，/w,也就是说/l,：/w,信息/n,越/d,有序/a,，/w,信息/n,熵/g,越/d,低/a,。/w,例如/v,：/w,火柴/n,有序/a,放/v,在/p,火柴盒/nw,里/f,，/w,熵值/nw,很/d,低/a,，/w,相反/v,，/w,熵值/nw,很/d,高/a,。/w,信息/n,增益/v,：/w,在/p,划分/v,数据集/nw,前后/f,信息/n,发生/v,的/u,变化/vn,称为/v,信息/n,增益/v,。/w,2.1/m, ,工作/vn,原理/n,我们/r,使用/v, ,createbranch/en,(/w,)/w, ,方法/n,构造/v,一个/m,决策树/nz,，/w,如下/v,所/u,示/vg,：/w,检测/vn,数据/n,集中/v,的/u,所有/b,数据/n,的/u,分类/vn,标签/n,是否/v,相同/a,:/w, ,if/en, ,so/en, ,return/en, ,类/q,标签/n, ,else/en,:/w, ,寻找/v,划分/v,数据集/nw,的/u,最/d,好/a,特征/n,（/w,划分/v,之后/f,信息/n,熵/g,最/d,小/a,，/w,也/d,就/d,是/v,信息/n,增益/v,最/d,大/a,的/u,特征/n,）/w, ,划分/v,数据集/nw, ,创建/v,分支/n,节点/n, ,for/en, ,每个/r,划分/v,的/u,子集/n, ,调用/v,函数/n, ,createbranch/en, ,（/w,创建/v,分支/n,的/u,函数/n,）/w,并/c,增加/v,返回/v,结果/n,到/v,分支/n,节点/n,中/f, ,return/en, ,分支/n,节点/n,2.2/m, ,决策树/nz,开发/v,流程/n,1/m,./w, ,收集/v,数据/n,：/w,可以/v,使用/v,任何/r,方法/n,。/w, ,2/m,./w, ,准备/v,数据/n,：/w,树/v,构造/v,算法/n,只/d,适用/v,于/p,标称型/nw,数据/n,，/w,因此/c,数/m,值型/nw,数据/n,必须/d,离/v,散化/nw,。/w, ,3/m,./w, ,分析/vn,数据/n,：/w,可以/v,使用/v,任何/r,方法/n,，/w,构造/v,树/v,完成/v,之后/f,，/w,我们/r,应该/v,检查/vn,图形/n,是否/v,符合/v,预期/vn,。/w, ,4/m,./w, ,训练/vn,算法/n,：/w,构造/v,树/v,的/u,数据/n,结构/n,。/w, ,5/m,./w, ,测试/vn,算法/n,：/w,使用/v,经验/n,树/v,计算/v,错误率/n,。/w,（/w,经验/n,树/v,没有/v,搜索/vn,到/v,较/d,好/a,的/u,资料/n,，/w,有/v,兴趣/n,的/u,同学/n,可以/v,来/v,补充/v,）/w, ,6/m,./w, ,使用/v,算法/n,：/w,此/r,步骤/n,可以/v,适用/v,于/p,任何/r,监督/vn,学习/v,算法/n,，/w,而/c,使用/v,决策树/nz,可以/v,更/d,好/a,地/u,理解/v,数据/n,的/u,内在/b,含义/n,。/w,2.3/m, ,决策树/nz,算法/n,特点/n,优点/n,：/w,计算/v,复杂/a,度/q,不/d,高/a,，/w,输出/v,结果/n,易于/v,理解/v,，/w,对/p,中间值/nw,的/u,缺失/n,不/d,敏感/a,，/w,可以/v,处理/v,不/d,相关/v,特征/n,数据/n,。/w,缺点/n,：/w,可能/v,会/v,产生/v,过度/d,匹配/vn,问题/n,。/w,适用/v,数据/n,类型/n,：/w,数值/n,型/k,和/c,标称型/nw,。/w,3/m,./w, ,实战/n,案例/n,3.1/m, ,项目/n,概述/v,根据/p,以下/f, ,2/m, ,个/q,特征/n,，/w,将/d,动物/n,分成/v,两类/mq,：/w,鱼类/n,和/c,非/h,鱼类/n,。/w,特征/n,：/w,不/d,浮/v,出/v,水面/n,是否/v,可以/v,生存/v,是否/v,有/v,脚蹼/n,3.2/m, ,开发/v,流程/n,(/w,1/m,)/w, ,收集/v,数据/n,可以/v,使用/v,任何/r,方法/n,我们/r,利用/v, ,createdataset/en,(/w,)/w, ,函数/n,输入/v,数据/n,：/w,def/en, ,createdataset/en,(/w,)/w,:/w, ,dataset/en, ,=/w, ,[/w,[/w,1/m,,/w, ,1/m,,/w, ,'/w,yes/en,'/w,]/w,,/w, ,[/w,1/m,,/w, ,1/m,,/w, ,'/w,yes/en,'/w,]/w,,/w, ,[/w,1/m,,/w, ,0/m,,/w, ,'/w,no/en,'/w,]/w,,/w, ,[/w,0/m,,/w, ,1/m,,/w, ,'/w,no/en,'/w,]/w,,/w, ,[/w,0/m,,/w, ,1/m,,/w, ,'/w,no/en,'/w,]/w,]/w, ,labels/en, ,=/w, ,[/w,'/w,no/en, ,surfacing/en,'/w,,/w, ,'/w,flippers/en,'/w,]/w, ,return/en, ,dataset/en,,/w, ,labels/en,(/w,2/m,)/w, ,准备/v,数据/n,树/v,构造/v,算法/n,只/d,适用/v,于/p,标称型/nw,数据/n,，/w,因此/c,数/m,值型/nw,数据/n,必须/d,离/v,散化/nw,此处/s,，/w,由于/c,我们/r,输入/v,的/u,数据/n,本身/r,就/d,是/v,离/v,散化/nw,数据/n,，/w,所以/c,这/r,一步/mq,就/d,省略/v,了/u,。/w,（/w,3/m,）/w, ,分析/vn,数据/n,可以/v,使用/v,任何/r,方法/n,，/w,构造/v,树/v,完成/v,之后/f,，/w,我们/r,应该/v,检查/vn,图形/n,是否/v,符合/v,预期/vn,计算/v,给/p,定/v,数据集/nw,的/u,香/a,农熵/nr,的/u,函数/n,def/en, ,calcshannonent/en,(/w,dataset/en,)/w,:/w, ,#, ,求/v,list/en,的/u,长度/n,，/w,表示/v,计算/v,参与/v,训练/vn,的/u,数据量/n, ,numentries/en, ,=/w, ,len/en,(/w,dataset/en,)/w, ,#, ,计算/v,分类/vn,标签/n,label/en,出现/v,的/u,次数/n, ,labelcounts/en, ,=/w, ,{/w,}/w, ,#, ,the/en, ,the/en, ,number/en, ,of/en, ,unique/en, ,elements/en, ,and/en, ,their/en, ,occurance/en, ,for/en, ,featvec/en, ,in/en, ,dataset/en,:/w, ,#, ,将/d,当前/t,实例/n,的/u,标签/n,存储/vn,，/w,即/v,每/r,一行/n,数据/n,的/u,最后/f,一个/m,数据/n,代表/n,的/u,是/v,标签/n, ,currentlabel/en, ,=/w, ,featvec/en,[/w,-/w,1/m,]/w, ,#, ,为/p,所有/b,可能/v,的/u,分类/vn,创建/v,字典/n,，/w,如果/c,当前/t,的/u,键值/nr,不/d,存在/v,，/w,则/d,扩展/v,字典/n,并/c,将/d,当前/t,键值/nr,加入/v,字典/n,。/w,每个/r,键值/nr,都/d,记录/v,了/u,当前/t,类别/n,出现/v,的/u,次数/n,。/w, ,if/en, ,currentlabel/en, ,not/en, ,in/en, ,labelcounts/en,./w,keys/en,(/w,)/w,:/w, ,labelcounts/en,[/w,currentlabel/en,]/w, ,=/w, ,0/m, ,labelcounts/en,[/w,currentlabel/en,]/w, ,+/w,=/w, ,1/m, ,#, ,对于/p, ,label/en, ,标签/n,的/u,占/v,比/p,，/w,求/v,出/v, ,label/en, ,标签/n,的/u,香农/nr,熵/g, ,shannonent/en, ,=/w, ,0.0/m, ,for/en, ,key/en, ,in/en, ,labelcounts/en,:/w, ,#, ,使用/v,所有/b,类/q,标签/n,的/u,发生/v,频率/n,计算/v,类别/n,出现/v,的/u,概率/n,。/w, ,prob/en, ,=/w, ,float/en,(/w,labelcounts/en,[/w,key/en,]/w,)/w,//w,numentries/en, ,#, ,计算/v,香/a,农熵/nr,，/w,以/p, ,2/m, ,为/p,底求/nw,对数/n, ,shannonent/en, ,-/w,=/w, ,prob/en, ,*/w, ,log/en,(/w,prob/en,,/w, ,2/m,)/w, ,return/en, ,shannonent/en,按照/p,给/p,定/v,特征/n,划分/v,数据集/nw,将/d,指定/v,特征/n,的/u,特征值/n,等于/v, ,value/en, ,的/u,行剩/nw,下列/b,作为/v,子数据集/nw,。/w,def/en, ,splitdataset/en,(/w,dataset/en,,/w, ,index/en,,/w, ,value/en,)/w,:/w, ,"/w,"/w,"/w,splitdataset/en,(/w,通过/p,遍历/nw,dataset/en,数据集/nw,，/w,求/v,出/v,index/en,对应/v,的/u,colnum/en,列/v,的/u,值/n,为/p,value/en,的/u,行/v,)/w, ,就/d,是/v,依据/n,index/en,列/v,进行/v,分类/vn,，/w,如果/c,index/en,列/v,的/u,数据/n,等于/v, ,value/en,的/u,时候/n,，/w,就要/d,将/d, ,index/en, ,划分/v,到/v,我们/r,创建/v,的/u,新/a,的/u,数据/n,集中/v, ,args/en,:/w, ,dataset/en, ,数据集/nw, ,待/v,划分/v,的/u,数据集/nw, ,index/en, ,表示/v,每/r,一行/n,的/u,index/en,列/v, ,划分/v,数据集/nw,的/u,特征/n, ,value/en, ,表示/v,index/en,列/v,对应/v,的/u,value/en,值/n, ,需要/v,返回/v,的/u,特征/n,的/u,值/n,。/w, ,returns/en,:/w, ,index/en,列为/v,value/en,的/u,数据/n,集【/nw,该/r,数据集/nw,需要/v,排除/v,index/en,列/v,】/w, ,"/w,"/w,"/w, ,retdataset/en, ,=/w, ,[/w,]/w, ,for/en, ,featvec/en, ,in/en, ,dataset/en,:/w, ,#, ,index/en,列为/v,value/en,的/u,数据/n,集【/nw,该/r,数据集/nw,需要/v,排除/v,index/en,列/v,】/w, ,#, ,判断/v,index/en,列/v,的/u,值/n,是否/v,为/p,value/en, ,if/en, ,featvec/en,[/w,index/en,]/w, ,=/w,=/w, ,value/en,:/w, ,#, ,chop/en, ,out/en, ,index/en, ,used/en, ,for/en, ,splitting/en, ,#, ,[/w,:/w,index/en,]/w,表示/v,前/f,index/en,行/v,，/w,即若/c, ,index/en, ,为/p,2/m,，/w,就/d,是/v,取/v, ,featvec/en, ,的/u,前/f, ,index/en, ,行/v, ,reducedfeatvec/en, ,=/w, ,featvec/en,[/w,:/w,index/en,]/w, ,'/w,'/w,'/w, ,请/v,百度/nt,查询/v,一下/m,：/w, ,extend/en,和/c,append/en,的/u,区别/n, ,list/en,./w,append/en,(/w,object/en,)/w, ,向/p,列表/v,中/f,添加/vn,一个/m,对象/n,object/en, ,list/en,./w,extend/en,(/w,sequence/en,)/w, ,把/p,一个/m,序列/n,seq/en,的/u,内容/n,添加/vn,到/v,列表/v,中/f, ,1/m,、/w,使用/v,append/en,的/u,时候/n,，/w,是/v,将/d,new/en,_,media/en,看作/v,一个/m,对象/n,，/w,整体/n,打包/vn,添加/vn,到/v,music/en,_,media/en,对象/n,中/f,。/w, ,2/m,、/w,使用/v,extend/en,的/u,时候/n,，/w,是/v,将/d,new/en,_,media/en,看作/v,一个/m,序列/n,，/w,将/d,这个/r,序列/n,和/c,music/en,_,media/en,序列/n,合并/v,，/w,并/c,放/v,在/p,其/r,后面/f,。/w, ,result/en, ,=/w, ,[/w,]/w, ,result/en,./w,extend/en,(/w,[/w,1/m,,/w,2/m,,/w,3/m,]/w,)/w, ,print/en, ,result/en, ,result/en,./w,append/en,(/w,[/w,4/m,,/w,5/m,,/w,6/m,]/w,)/w, ,print/en, ,result/en, ,result/en,./w,extend/en,(/w,[/w,7/m,,/w,8/m,,/w,9/m,]/w,)/w, ,print/en, ,result/en, ,结果/n,：/w, ,[/w,1/m,,/w, ,2/m,,/w, ,3/m,]/w, ,[/w,1/m,,/w, ,2/m,,/w, ,3/m,,/w, ,[/w,4/m,,/w, ,5/m,,/w, ,6/m,]/w,]/w, ,[/w,1/m,,/w, ,2/m,,/w, ,3/m,,/w, ,[/w,4/m,,/w, ,5/m,,/w, ,6/m,]/w,,/w, ,7/m,,/w, ,8/m,,/w, ,9/m,]/w, ,'/w,'/w,'/w, ,reducedfeatvec/en,./w,extend/en,(/w,featvec/en,[/w,index/en,+/w,1/m,:/w,]/w,)/w, ,#, ,[/w,index/en,+/w,1/m,:/w,]/w,表示/v,从/p,跳/v,过/u, ,index/en, ,的/u, ,index/en,+/w,1行/mq,，/w,取/v,接/v,下来/v,的/u,数据/n, ,#, ,收集/v,结果/n,值/n, ,index/en,列为/v,value/en,的/u,行【/nw,该行/r,需要/v,排除/v,index/en,列/v,】/w, ,retdataset/en,./w,append/en,(/w,reducedfeatvec/en,)/w, ,return/en, ,retdataset/en,选择/v,最/d,好/a,的/u,数据集/nw,划分/v,方式/n,def/en, ,choosebestfeaturetosplit/en,(/w,dataset/en,)/w,:/w, ,"/w,"/w,"/w,choosebestfeaturetosplit/en,(/w,选择/v,最/d,好/a,的/u,特征/n,)/w, ,args/en,:/w, ,dataset/en, ,数据集/nw, ,returns/en,:/w, ,bestfeature/en, ,最/d,优/ag,的/u,特征/n,列/v, ,"/w,"/w,"/w, ,#, ,求/v,第一/m,行/v,有/v,多少/r,列/v,的/u, ,feature/en,,/w, ,最后/f,一列/mq,是/v,label/en,列/v,嘛/y, ,numfeatures/en, ,=/w, ,len/en,(/w,dataset/en,[/w,0/m,]/w,)/w, ,-/w, ,1/m, ,#, ,数据集/nw,的/u,原始/a,信息/n,熵/g, ,baseentropy/en, ,=/w, ,calcshannonent/en,(/w,dataset/en,)/w, ,#, ,最/d,优/ag,的/u,信息/n,增益值/nw,,/w, ,和/c,最/d,优/ag,的/u,featurn/en,编号/v, ,bestinfogain/en,,/w, ,bestfeature/en, ,=/w, ,0.0/m,,/w, ,-/w,1/m, ,#, ,iterate/en, ,over/en, ,all/en, ,the/en, ,features/en, ,for/en, ,i/en, ,in/en, ,range/en,(/w,numfeatures/en,)/w,:/w, ,#, ,create/en, ,a/en, ,list/en, ,of/en, ,all/en, ,the/en, ,examples/en, ,of/en, ,this/en, ,feature/en, ,#, ,获取/v,对应/v,的/u,feature/en,下/f,的/u,所有/b,数据/n, ,featlist/en, ,=/w, ,[/w,example/en,[/w,i/en,]/w, ,for/en, ,example/en, ,in/en, ,dataset/en,]/w, ,#, ,get/en, ,a/en, ,set/en, ,of/en, ,unique/en, ,values/en, ,#, ,获取/v,剔重/nw,后/f,的/u,集合/v,，/w,使用/v,set/en,对/p,list/en,数据/n,进行/v,去/v,重/a, ,uniquevals/en, ,=/w, ,set/en,(/w,featlist/en,)/w, ,#, ,创建/v,一个/m,临时/b,的/u,信息熵/nz, ,newentropy/en, ,=/w, ,0.0/m, ,#, ,遍/q,历某/nw,一列/mq,的/u,value/en,集合/v,，/w,计算/v,该/r,列/v,的/u,信息熵/nz, ,#, ,遍历/nw,当前/t,特征/n,中/f,的/u,所有/b,唯一/b,属/v,性值/nw,，/w,对/p,每个/r,唯一/b,属/v,性值/nw,划分/v,一次/mq,数据集/nw,，/w,计算/v,数据集/nw,的/u,新/a,熵值/nw,，/w,并/c,对/p,所有/b,唯一/b,特征/n,值得/v,到/v,的/u,熵求/nw,和/c,。/w, ,for/en, ,value/en, ,in/en, ,uniquevals/en,:/w, ,subdataset/en, ,=/w, ,splitdataset/en,(/w,dataset/en,,/w, ,i/en,,/w, ,value/en,)/w, ,#, ,计算/v,概率/n, ,prob/en, ,=/w, ,len/en,(/w,subdataset/en,)/w,//w,float/en,(/w,len/en,(/w,dataset/en,)/w,)/w, ,#, ,计算/v,信息/n,熵/g, ,newentropy/en, ,+/w,=/w, ,prob/en, ,*/w, ,calcshannonent/en,(/w,subdataset/en,)/w, ,#, ,gain/en,[/w,信息/n,增益/v,]/w,:/w, ,划分/v,数据集/nw,前后/f,的/u,信息/n,变化/vn,，/w, ,获取/v,信息/n,熵/g,最/d,大/a,的/u,值/n, ,#, ,信息/n,增益/v,是/v,熵/g,的/u,减少/v,或者/c,是/v,数据/n,无序度/nw,的/u,减少/v,。/w,最后/f,，/w,比较/d,所有/b,特征/n,中/f,的/u,信息/n,增益/v,，/w,返回/v,最/d,好/a,特征/n,划分/v,的/u,索引值/nw,。/w, ,infogain/en, ,=/w, ,baseentropy/en, ,-/w, ,newentropy/en, ,print/en, ,'/w,infogain/en,=/w,'/w,,/w, ,infogain/en,,/w, ,'/w,bestfeature/en,=/w,'/w,,/w, ,i/en,,/w, ,baseentropy/en,,/w, ,newentropy/en, ,if/en, ,(/w,infogain/en, ,>, ,bestinfogain/en,)/w,:/w, ,bestinfogain/en, ,=/w, ,infogain/en, ,bestfeature/en, ,=/w, ,i/en, ,return/en, ,bestfeatureq/en,：/w,上面/f,的/u, ,newentropy/en, ,为什么/r,是/v,根据/p,子集/n,计算/v,的/u,呢/y,？/w,a/en, ,：/w,因为/c,我们/r,在/p,根据/p,一个/m,特征/n,计算/v,香/a,农熵/nr,的/u,时候/n,，/w,该/r,特征/n,的/u,分类/vn,值/n,是/v,相同/a,，/w,这个/r,特征/n,这个/r,分类/vn,的/u,香/a,农熵/nr,为/p, ,0/m,；/w,这/r,就/d,是/v,为什么/r,计算/v,新/a,的/u,香/a,农熵/nr,的/u,时候/n,使用/v,的/u,是/v,子集/n,。/w,（/w,4/m,）/w,训练/vn,算法/n,构造/v,树/v,的/u,数据/n,结构/n,创建/v,树/v,的/u,函数/n,代码/n,如下/v,：/w,def/en, ,createtree/en,(/w,dataset/en,,/w, ,labels/en,)/w,:/w, ,classlist/en, ,=/w, ,[/w,example/en,[/w,-/w,1/m,]/w, ,for/en, ,example/en, ,in/en, ,dataset/en,]/w, ,#, ,如果/c,数据集/nw,的/u,最后/f,一列/mq,的/u,第一/m,个/q,值/n,出现/v,的/u,次数/n,=/w,整个/b,集合/v,的/u,数量/n,，/w,也/d,就/d,说/v,只/d,有/v,一个/m,类别/n,，/w,就/d,只/d,直接/ad,返回/v,结果/n,就/d,行/v, ,#, ,第一/m,个/q,停止/v,条件/n,：/w,所有/b,的/u,类/q,标签/n,完全/ad,相同/a,，/w,则/d,直接/ad,返回/v,该类/r,标签/n,。/w, ,#, ,count/en,(/w,)/w, ,函数/n,是/v,统计/v,括号/n,中/f,的/u,值/n,在/p,list/en,中/f,出现/v,的/u,次数/n, ,if/en, ,classlist/en,./w,count/en,(/w,classlist/en,[/w,0/m,]/w,)/w, ,=/w,=/w, ,len/en,(/w,classlist/en,)/w,:/w, ,return/en, ,classlist/en,[/w,0/m,]/w, ,#, ,如果/c,数据集/nw,只有/c,1列/mq,，/w,那么/r,最初/d,出现/v,label/en,次数/n,最/d,多/a,的/u,一类/b,，/w,作为/v,结果/n, ,#, ,第二/m,个/q,停止/v,条件/n,：/w,使用/v,完/v,了/u,所有/b,特征/n,，/w,仍然/d,不/d,能/v,将/d,数据集/nw,划分/v,成/v,仅/d,包含/v,唯一/b,类别/n,的/u,分组/vn,。/w, ,if/en, ,len/en,(/w,dataset/en,[/w,0/m,]/w,)/w, ,=/w,=/w, ,1/m,:/w, ,return/en, ,majoritycnt/en,(/w,classlist/en,)/w, ,#, ,选择/v,最/d,优/ag,的/u,列/v,，/w,得到/v,最优/ad,列/v,对应/v,的/u,label/en,含义/n, ,bestfeat/en, ,=/w, ,choosebestfeaturetosplit/en,(/w,dataset/en,)/w, ,#, ,获取/v,label/en,的/u,名称/n, ,bestfeatlabel/en, ,=/w, ,labels/en,[/w,bestfeat/en,]/w, ,#, ,初始化/v,mytree/en, ,mytree/en, ,=/w, ,{/w,bestfeatlabel/en,:/w, ,{/w,}/w,}/w, ,#, ,注/v,：/w,labels/en,列表/v,是/v,可变/vn,对象/n,，/w,在/p,python/en,函数/n,中/f,作为/v,参数/n,时/ng,传址/nw,引用/v,，/w,能够/v,被/p,全局/n,修改/v, ,#, ,所以/c,这/r,行代码/nw,导致/v,函数/n,外/f,的/u,同名/vn,变量/n,被/p,删除/v,了/u,元素/n,，/w,造成/v,例句/n,无法/v,执行/v,，/w,提示/vn,'/w,no/en, ,surfacing/en,'/w, ,is/en, ,not/en, ,in/en, ,list/en, ,del/en,(/w,labels/en,[/w,bestfeat/en,]/w,)/w, ,#, ,取出/v,最/d,优列/nw,，/w,然后/c,它/r,的/u,branch/en,做/v,分类/vn, ,featvalues/en, ,=/w, ,[/w,example/en,[/w,bestfeat/en,]/w, ,for/en, ,example/en, ,in/en, ,dataset/en,]/w, ,uniquevals/en, ,=/w, ,set/en,(/w,featvalues/en,)/w, ,for/en, ,value/en, ,in/en, ,uniquevals/en,:/w, ,#, ,求/v,出/v,剩余/vn,的/u,标签/n,label/en, ,sublabels/en, ,=/w, ,labels/en,[/w,:/w,]/w, ,#, ,遍历/nw,当前/t,选择/v,特征/n,包含/v,的/u,所有/b,属性/n,值/n,，/w,在/p,每个/r,数据集/nw,划分/v,上/f,递归/nw,调用/v,函数/n,createtree/en,(/w,)/w, ,mytree/en,[/w,bestfeatlabel/en,]/w,[/w,value/en,]/w, ,=/w, ,createtree/en,(/w,splitdataset/en,(/w,dataset/en,,/w, ,bestfeat/en,,/w, ,value/en,)/w,,/w, ,sublabels/en,)/w, ,#, ,print/en, ,'/w,mytree/en,'/w,,/w, ,value/en,,/w, ,mytree/en, ,return/en, ,mytree/en,（/w,5/m,）/w,测试/vn,算法/n,使用/v,决策树/nz,执行/v,分类/vn,代码/n,如下/v,：/w,def/en, ,classify/en,(/w,inputtree/en,,/w, ,featlabels/en,,/w, ,testvec/en,)/w,:/w, ,"/w,"/w,"/w,classify/en,(/w,给/p,输入/v,的/u,节点/n,，/w,进行/v,分类/vn,)/w, ,args/en,:/w, ,inputtree/en, ,决策树/nz,模型/n, ,featlabels/en, ,feature/en,标签/n,对应/v,的/u,名称/n, ,testvec/en, ,测试/vn,输入/v,的/u,数据/n, ,returns/en,:/w, ,classlabel/en, ,分类/vn,的/u,结果/n,值/n,，/w,需要/v,映射/v,label/en,才/d,能/v,知道/v,名称/n, ,"/w,"/w,"/w, ,#, ,获取/v,tree/en,的/u,根/q,节点/n,对于/p,的/u,key/en,值/n, ,firststr/en, ,=/w, ,inputtree/en,./w,keys/en,(/w,)/w,[/w,0/m,]/w, ,#, ,通过/p,key/en,得到/v,根/q,节点/n,对应/v,的/u,value/en, ,seconddict/en, ,=/w, ,inputtree/en,[/w,firststr/en,]/w, ,#, ,判断/v,根/q,节点/n,名称/n,获取/v,根/q,节点/n,在/p,label/en,中/f,的/u,先后/d,顺序/n,，/w,这样/r,就/d,知道/v,输入/v,的/u,testvec/en,怎么/r,开始/v,对照/v,树/v,来/v,做/v,分类/vn, ,featindex/en, ,=/w, ,featlabels/en,./w,index/en,(/w,firststr/en,)/w, ,#, ,测试/vn,数据/n,，/w,找到/v,根/q,节点/n,对应/v,的/u,label/en,位置/n,，/w,也/d,就/d,知道/v,从/p,输入/v,的/u,数据/n,的/u,第几/nw,位/q,来/v,开始/v,分类/vn, ,key/en, ,=/w, ,testvec/en,[/w,featindex/en,]/w, ,valueoffeat/en, ,=/w, ,seconddict/en,[/w,key/en,]/w, ,print/en, ,'/w,+/w,+/w,+/w,'/w,,/w, ,firststr/en,,/w, ,'/w,xxx/en,'/w,,/w, ,seconddict/en,,/w, ,'/w,---/nrf,'/w,,/w, ,key/en,,/w, ,'/w,>,>,>,'/w,,/w, ,valueoffeat/en, ,#, ,判断/v,分枝/n,是否/v,结束/v,:/w, ,判断/v,valueoffeat/en,是否/v,是/v,dict/en,类型/n, ,if/en, ,isinstance/en,(/w,valueoffeat/en,,/w, ,dict/en,)/w,:/w, ,classlabel/en, ,=/w, ,classify/en,(/w,valueoffeat/en,,/w, ,featlabels/en,,/w, ,testvec/en,)/w, ,else/en,:/w, ,classlabel/en, ,=/w, ,valueoffeat/en, ,return/en, ,classlabel/en,（/w,6/m,）/w,使用/v,算法/n,此/r,步骤/n,可以/v,适用/v,于/p,任何/r,监督/vn,学习/v,算法/n,，/w,而/c,使用/v,决策树/nz,可以/v,