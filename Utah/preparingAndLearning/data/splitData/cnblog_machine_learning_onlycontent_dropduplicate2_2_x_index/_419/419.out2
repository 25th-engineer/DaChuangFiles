在/p,之前/f,写/v,的/u,上百/j,篇/q,机器/n,学习/v,博客/n,中/f,，/w,不时/d,会/v,使用/v,矩阵/n,向/p,量/n,求导/nw,的/u,方法/n,来/v,简化/v,公式/n,推演/v,，/w,但是/c,并/c,没有/v,系统性/n,的/u,进行/v,过/u,讲解/v,，/w,因此/c,让/v,很多/m,朋友/n,迷惑/v,矩阵/n,向/p,量/n,求导/nw,的/u,具体/a,过程/n,为什么/r,会/v,是/v,这样/r,的/u,。/w,这里/r,准备/v,用/p,几/m,篇/q,博文/nz,来/v,讨论/v,下/f,机器/n,学习/v,中/f,的/u,矩阵/n,向/p,量/n,求导/nw,，/w,今天/t,是/v,第一/m,篇/q,。/w,本/r,系列/q,主要/b,参考/v,文献/n,为/p,维基/nr,百科/n,的/u,matrix/en, ,caculas/en,和/c,张贤达/nr,的/u,《/w,矩阵/n,分析/vn,与/p,应用/vn,》/w,。/w,1/m,./w, ,矩阵/n,向/p,量/n,求导/nw,引入/v,在/p,高等/b,数学/n,里面/f,，/w,我们/r,已经/d,学/v,过/u,了/u,标量/n,对/p,标量/n,的/u,求导/nw,，/w,比如/v,标量/n,$/w,y/en,$/w,对/p,标量/n,$/w,x/en,$/w,的/u,求导/nw,，/w,可以/v,表示/v,为/p,$/w,\/w,frac/en,{/w,\/w,partial/en, ,y/en,}/w,{/w,\/w,partial/en, ,x/en,}/w,$/w,。/w,有些/r,时候/n,，/w,我们/r,会/v,有/v,一组/mq,标量/n,$/w,y/en,_,i/en,,/w,i/en,=/w,1/m,,/w,2/m,,/w,./w,./w,./w,,/w,m/en,$/w,来/v,对/p,一个/m,标量/n,$/w,x/en,$/w,的/u,求导/nw,,/w,那么/r,我们/r,会/v,得到/v,一组/mq,标量/n,求导/nw,的/u,结果/n,：/w,$/w,$/w,\/w,frac/en,{/w,\/w,partial/en, ,y/en,_,i/en,}/w,{/w,\/w,partial/en, ,x/en,}/w,,/w, ,i/en,=/w,1/m,,/w,2/m,./w,,/w,,/w,,/w,m/en,$/w,$/w,如果/c,我们/r,把/p,这/r,组/q,标量/n,写/v,成/v,向/p,量/n,的/u,形式/n,，/w,即/v,得到/v,维度/n,为/p,m/en,的/u,一个/m,向/p,量/n,$/w,\/w,mathbf/en,{/w,y/en,}/w,$/w,对/p,一个/m,标量/n,$/w,x/en,$/w,的/u,求导/nw,，/w,那么/r,结果/n,也/d,是/v,一个/m,m/en,维/q,的/u,向量/n,：/w,$/w,\/w,frac/en,{/w,\/w,partial/en, ,\/w,mathbf/en,{/w,y/en,}/w,}/w,{/w,\/w,partial/en, ,x/en,}/w,$/w,可见/v,，/w,所谓/v,向量/n,对/p,标量/n,的/u,求导/nw,，/w,其实/d,就/d,是/v,向/p,量/n,里/f,的/u,每个/r,分量/n,分别/d,对/p,标量/n,求导/nw,，/w,最后/f,把/p,求导/nw,的/u,结果/n,排列/v,在/p,一起/s,，/w,按/p,一个/m,向/p,量/n,表示/v,而已/y,。/w,类似/v,的/u,结论/n,也/d,存在/v,于/p,标量/n,对/p,向量/n,的/u,求导/nw,，/w,向量/n,对/p,向量/n,的/u,求导/nw,，/w,向量/n,对/p,矩阵/n,的/u,求导/nw,，/w,矩阵/n,对/p,向量/n,的/u,求导/nw,，/w,以及/c,矩阵/n,对/p,矩阵/n,的/u,求导/nw,等/u,。/w,总而言之/c,，/w,所谓/v,的/u,向量/n,矩阵/n,求导/nw,本质/n,上/f,就/d,是/v,多元/b,函数/n,求导/nw,，/w,仅仅/d,是/v,把/p,把/p,函数/n,的/u,自变量/n,，/w,因/p,变量/n,以及/c,标量/n,求导/nw,的/u,结果/n,排列/v,成/v,了/u,向量/n,矩阵/n,的/u,形式/n,，/w,方便/a,表达/v,与/p,计算/v,，/w,更加/d,简洁/a,而已/y,。/w,为了/p,便于/v,描述/v,，/w,后面/f,如果/c,没有/v,指明/v,，/w,则/d,求导/nw,的/u,自/p,变量/n,用/p,$/w,x/en,$/w,表示/v,标量/n,，/w,$/w,\/w,mathbf/en,{/w,x/en,}/w,$/w,表示/v,n/en,维/q,向量/n,，/w,$/w,\/w,mathbf/en,{/w,x/en,}/w,$/w,表示/v,$/w,m/en, ,\/w,times/en, ,n/en,$/w,维度/n,的/u,矩阵/n,，/w,求导/nw,的/u,因/p,变量/n,用/p,$/w,y/en,$/w,表示/v,标量/n,，/w,$/w,\/w,mathbf/en,{/w,y/en,}/w,$/w,表示/v,m/en,维/q,向量/n,，/w,$/w,\/w,mathbf/en,{/w,y/en,}/w,$/w,表示/v,$/w,p/en, ,\/w,times/en, ,q/en,$/w,维度/n,的/u,矩阵/n,。/w,2/m,./w, ,矩阵/n,向/p,量/n,求导/nw,定义/n,根据/p,求导/nw,的/u,自/p,变量/n,和/c,因/p,变量/n,是/v,标量/n,，/w,向量/n,还是/c,矩阵/n,，/w,我们/r,有/v,9种/mq,可能/v,的/u,矩阵/n,求导/nw,定义/n,，/w,如下/v,：/w,自变量/n,\/w,因/p,变量/n,标量/n,$/w,y/en,$/w,向量/n,$/w,\/w,mathbf/en,{/w,y/en,}/w,$/w,矩阵/n,$/w,\/w,mathbf/en,{/w,y/en,}/w,$/w,标量/n,$/w,x/en,$/w,$/w,\/w,frac/en,{/w,\/w,partial/en, ,y/en,}/w,{/w,\/w,partial/en, ,x/en,}/w,$/w,$/w,\/w,frac/en,{/w,\/w,partial/en, , ,\/w,mathbf/en,{/w,y/en,}/w,}/w,{/w,\/w,partial/en, ,x/en,}/w,$/w,$/w,\/w,frac/en,{/w,\/w,partial/en, , ,\/w,mathbf/en,{/w,y/en,}/w,}/w,{/w,\/w,partial/en, ,x/en,}/w,$/w,向量/n,$/w,\/w,mathbf/en,{/w,x/en,}/w,$/w,$/w,\/w,frac/en,{/w,\/w,partial/en, ,y/en,}/w,{/w,\/w,partial/en, ,\/w,mathbf/en,{/w,x/en,}/w,}/w,$/w,$/w,\/w,frac/en,{/w,\/w,partial/en, , ,\/w,mathbf/en,{/w,y/en,}/w,}/w,{/w,\/w,partial/en, ,\/w,mathbf/en,{/w,x/en,}/w,}/w,$/w,$/w,\/w,frac/en,{/w,\/w,partial/en, , ,\/w,mathbf/en,{/w,y/en,}/w,}/w,{/w,\/w,partial/en, ,\/w,mathbf/en,{/w,x/en,}/w,}/w,$/w,矩阵/n,$/w,\/w,mathbf/en,{/w,x/en,}/w,$/w,$/w,\/w,frac/en,{/w,\/w,partial/en, ,y/en,}/w,{/w,\/w,partial/en, ,\/w,mathbf/en,{/w,x/en,}/w,}/w,$/w,$/w,\/w,frac/en,{/w,\/w,partial/en, , ,\/w,mathbf/en,{/w,y/en,}/w,}/w,{/w,\/w,partial/en, ,\/w,mathbf/en,{/w,x/en,}/w,}/w,$/w,$/w,\/w,frac/en,{/w,\/w,partial/en, , ,\/w,mathbf/en,{/w,y/en,}/w,}/w,{/w,\/w,partial/en, ,\/w,mathbf/en,{/w,x/en,}/w,}/w,$/w,这/r,9种/mq,里面/f,，/w,标量/n,对/p,标量/n,的/u,求导/nw,高数/nw,里面/f,就/d,有/v,，/w,不/d,需要/v,我们/r,单独/d,讨论/v,，/w,在/p,剩下/v,的/u,8种/mq,情况/n,里面/f,，/w,我们/r,先/d,讨论/v,上/f,图/n,中/f,标量/n,对/p,向量/n,或/c,矩阵/n,求导/nw,，/w,向量/n,或/c,矩阵/n,对/p,标量/n,求导/nw,，/w,以及/c,向量/n,对/p,向量/n,求导/nw,这/r,5种/mq,情况/n,。/w,另外/c,三种/mq,向量/n,对/p,矩阵/n,的/u,求导/nw,，/w,矩阵/n,对/p,向量/n,的/u,求导/nw,，/w,以及/c,矩阵/n,对/p,矩阵/n,的/u,求导/nw,我们/r,在/p,后面/f,再/d,讲/v,。/w,现在/t,我们/r,回/v,看/v,第一/m,节/n,讲/v,到/v,的/u,例子/n,，/w,维度/n,为/p,m/en,的/u,一个/m,向/p,量/n,$/w,\/w,mathbf/en,{/w,y/en,}/w,$/w,对/p,一个/m,标量/n,$/w,x/en,$/w,的/u,求导/nw,，/w,那么/r,结果/n,也/d,是/v,一个/m,m/en,维/q,的/u,向量/n,：/w,$/w,\/w,frac/en,{/w,\/w,partial/en, ,\/w,mathbf/en,{/w,y/en,}/w,}/w,{/w,\/w,partial/en, ,x/en,}/w,$/w,。/w,这/r,是/v,我们/r,表格/n,里面/f,向量/n,对/p,标量/n,求导/nw,的/u,情况/n,。/w,这里/r,有/v,一个/m,问题/n,没有/v,讲/v,到/v,，/w,就/d,是/v,这个/r,m/en,维/q,的/u,求导/nw,结果/n,排列/v,成/v,的/u,m/en,维/q,向量/n,到底/d,应该/v,是/v,列向量/nw,还是/c,行向量/nw,？/w,这个/r,问题/n,的/u,答案/n,是/v,：/w,行向量/nw,或者/c,列向量/nw,皆/d,可/v,！/w,毕竟/d,我们/r,求导/nw,的/u,本质/n,只是/d,把/p,标量/n,求导/nw,的/u,结果/n,排列/v,起来/v,，/w,至于/p,是/v,按/p,行/v,排列/v,还是/c,按/p,列/v,排列/v,都/d,是/v,可以/v,的/u,。/w,但是/c,这样/r,也/d,有/v,问题/n,，/w,在/p,我们/r,机器/n,学习/v,算法/n,法/j,优化/v,过程/n,中/f,，/w,如果/c,行向量/nw,或者/c,列向量/nw,随便/ad,写/v,，/w,那么/r,结果/n,就/d,不/d,唯一/b,，/w,乱套/v,了/u,。/w,为了/p,解决/v,这个/r,问题/n,，/w,我们/r,引入/v,求导/nw,布局/n,的/u,概念/n,。/w,3/m,./w, ,矩阵/n,向/p,量/n,求导/nw,布局/n,为了/p,解决/v,矩阵/n,向/p,量/n,求导/nw,的/u,结果/n,不/d,唯一/b,，/w,我们/r,引入/v,求导/nw,布局/n,。/w,最/d,基本/a,的/u,求导/nw,布局/n,有/v,两个/m,：/w,分子/n,布局/n,(/w,numerator/en, ,layout/en,)/w,和/c,分母/n,布局/n,(/w,denominator/en, ,layout/en, ,)/w,。/w,对于/p,分子/n,布局/n,来说/u,，/w,我们/r,求导/nw,结果/n,的/u,维度/n,以/p,分子/n,为主/v,，/w,比如/v,对于/p,我们/r,上面/f,对/p,标量/n,求导/nw,的/u,例子/n,，/w,结果/n,的/u,维度/n,和/c,分子/n,的/u,维度/n,是/v,一致/a,的/u,。/w,也就是说/l,，/w,如果/c,向/p,量/n,$/w,\/w,mathbf/en,{/w,y/en,}/w,$/w,是/v,一个/m,m/en,维/q,的/u,列向量/nw,，/w,那么/r,求导/nw,结果/n,$/w,\/w,frac/en,{/w,\/w,partial/en, ,\/w,mathbf/en,{/w,y/en,}/w,}/w,{/w,\/w,partial/en, ,x/en,}/w,$/w,也/d,是/v,一个/m,m/en,维列/nr,向量/n,。/w,如果/c,如果/c,向/p,量/n,$/w,\/w,mathbf/en,{/w,y/en,}/w,$/w,是/v,一个/m,m/en,维/q,的/u,行向量/nw,，/w,那么/r,求导/nw,结果/n,$/w,\/w,frac/en,{/w,\/w,partial/en, ,\/w,mathbf/en,{/w,y/en,}/w,}/w,{/w,\/w,partial/en, ,x/en,}/w,$/w,也/d,是/v,一个/m,m/en,维行/nr,向量/n,。/w,对于/p,分母/n,布局/n,来说/u,，/w,我们/r,求导/nw,结果/n,的/u,维度/n,以/p,分母/n,为主/v,，/w,比如/v,对于/p,我们/r,上面/f,对/p,标量/n,求导/nw,的/u,例子/n,，/w,如果/c,向/p,量/n,$/w,\/w,mathbf/en,{/w,y/en,}/w,$/w,是/v,一个/m,m/en,维/q,的/u,列向量/nw,，/w,那么/r,求导/nw,结果/n,$/w,\/w,frac/en,{/w,\/w,partial/en, ,\/w,mathbf/en,{/w,y/en,}/w,}/w,{/w,\/w,partial/en, ,x/en,}/w,$/w,是/v,一个/m,m/en,维行/nr,向量/n,。/w,如果/c,如果/c,向/p,量/n,$/w,\/w,mathbf/en,{/w,y/en,}/w,$/w,是/v,一个/m,m/en,维/q,的/u,行向量/nw,，/w,那么/r,求导/nw,结果/n,$/w,\/w,frac/en,{/w,\/w,partial/en, ,\/w,mathbf/en,{/w,y/en,}/w,}/w,{/w,\/w,partial/en, ,x/en,}/w,$/w,是/v,一个/m,m/en,维/q,的/u,列向量/nw,向量/n,。/w,可见/v,，/w,对于/p,分子/n,布局/n,和/c,分母/n,布局/n,的/u,结果/n,来说/u,，/w,两者/r,相差/v,一个/m,转置/nw,。/w,再/d,举/v,一个/m,例子/n,，/w,标量/n,$/w,y/en,$/w,对/p,矩阵/n,$/w, ,\/w,mathbf/en,{/w,x/en,}/w,$/w,求导/nw,，/w,那么/r,如果/c,按/p,分母/n,布局/n,，/w,则/d,求导/nw,结果/n,的/u,维度/n,和/c,矩阵/n,$/w,x/en,$/w,的/u,维度/n,$/w,m/en, ,\/w,times/en, ,n/en,$/w,是/v,一致/a,的/u,。/w,如果/c,是/v,分子/n,布局/n,，/w,则/d,求导/nw,结果/n,的/u,维度/n,为/p,$/w,n/en, ,\/w,times/en, ,m/en,$/w,。/w,这样/r,，/w,对于/p,标量/n,对/p,向量/n,或者/c,矩阵/n,求导/nw,，/w,向量/n,或者/c,矩阵/n,对/p,标量/n,求导/nw,这/r,4种/mq,情况/n,，/w,对应/v,的/u,分子/n,布局/n,和/c,分母/n,布局/n,的/u,排列/v,方式/n,已经/d,确定/v,了/u,。/w,稍微麻烦点/nt,的/u,是/v,向量/n,对/p,向量/n,的/u,求导/nw,，/w,本文/r,只/d,讨论/v,列向量/nw,对/p,列向量/nw,的/u,求导/nw,，/w,其他/r,的/u,行向量/nw,求导/nw,只是/d,差/a,一个/m,转置/nw,而已/y,。/w,比如/v,m/en,维列/nr,向量/n,$/w,\/w,mathbf/en,{/w,y/en,}/w,$/w,对/p,n/en,维列/nr,向量/n,$/w,\/w,mathbf/en,{/w,x/en,}/w,$/w,求导/nw,。/w,它/r,的/u,求导/nw,结果/n,在/p,分子/n,布局/n,和/c,分母/n,布局/n,各/r,是/v,什么/r,呢/y,？/w,对于/p,这/r,2个/m,向/p,量/n,求导/nw,，/w,那么/r,一共/d,有/v,$/w,mn/en,$/w,个/q,标量/n,对/p,标量/n,的/u,求导/nw,。/w,求导/nw,的/u,结果/n,一般/a,是/v,排列/v,为/p,一个/m,矩阵/n,。/w,如果/c,是/v,分子/n,布局/n,，/w,则/d,矩阵/n,的/u,第一/m,个/q,维度/n,以/p,分子/n,为/p,准/a,，/w,即/v,结果/n,是/v,一个/m,$/w,m/en, ,\/w,times/en, ,n/en,$/w,的/u,矩阵/n,，/w,如下/v,：/w,$/w,$/w, ,\/w,frac/en,{/w,\/w,partial/en, , ,\/w,mathbf/en,{/w,y/en,}/w,}/w,{/w,\/w,partial/en, ,\/w,mathbf/en,{/w,x/en,}/w,}/w, ,=/w, ,\/w,left/en,(/w, ,\/w,begin/en,{/w,array/en,}/w,{/w,ccc/en,}/w, ,\/w,frac/en,{/w,\/w,partial/en, ,y/en,_,1/m,}/w,{/w,\/w,partial/en, ,x/en,_,1/m,}/w,&/w, ,\/w,frac/en,{/w,\/w,partial/en, ,y/en,_,1/m,}/w,{/w,\/w,partial/en, ,x/en,_,2/m,}/w,&/w, ,\/w,ldots/en, ,&/w, ,\/w,frac/en,{/w,\/w,partial/en, ,y/en,_,1/m,}/w,{/w,\/w,partial/en, ,x/en,_,n/e