将/d,mahout/en, ,on/en, ,spark/en, ,中/f,的/u,机器/n,学习/v,算法/n,和/c,mllib/en,中/f,支持/v,的/u,算法/n,统计/v,如下/v,：/w,主要/b,针对/p,mllib/en,进行/v,总结/v,分类/vn,与/p,回归/v,分类/vn,和/c,回归/v,是/v,监督式/nw,学习/v,;/w,监督式/nw,学习/v,是/v,指/v,使用/v,有/v,标签/n,的/u,数据/n,（/w,labeledpoint/en,）/w,进行/v,训练/vn,，/w,得到/v,模型/n,后/f,，/w,使用/v,测试/vn,数据/n,预测/v,结果/n,。/w,其中/r,标签/n,数据/n,是/v,指/v,已知/nz,结果/n,的/u,特征/n,数据/n,。/w,分类/vn,和/c,回归/v,的/u,区别/n,：/w,预测/v,结果/n,的/u,变量/n,类型/n,分类/vn,预测/v,出来/v,的/u,变量/n,是/v,离散/vn,的/u,（/w,比如/v,对/p,邮件/n,的/u,分类/vn,，/w,垃圾/n,邮件/n,和/c,非/h,垃圾/n,邮件/n,）/w,，/w,对于/p,二元/mq,分类/vn,的/u,标签/n,是/v,0/m,和/c,1/m,，/w,对于/p,多元/b,分类/vn,标签/n,范围/n,是/v,0/m,~/w,c/en,-/w,1/m,,/w,c/en,表示/v,类别/n,数目/n,；/w,回归/v,预测/v,出来/v,的/u,变量/n,是/v,连续/a,的/u,（/w,比如/v,根据/p,年龄/n,和/c,体重/n,预测/v,身高/n,）/w,线性/n,回归线性/nw,回归/v,是/v,回归/v,中/f,最/d,常用/a,的/u,方法/n,之一/r,，/w,是/v,指/v,用/p,特征/n,的/u,线性/n,组合/v,来/v,预测/v,输出值/nw,。/w,线性/n,回归/v,算法/n,可以/v,使用/v,的/u,类/q,有/v,:/w,linearregressionwithsgdridgeregressionwithsgdlassowithsgdridge/en, ,regression/en, ,使用/v, ,l/en,2/m, ,正规化/vn,;/w,lasso/en, ,使用/v, ,l/en,1/m, ,正规化/vn,;/w,参数/n,：/w,stepsize/en,:/w,梯度/n,下降/v,的/u,步数/n,numiterations/en,:/w,迭/d,代/q,次数/n,设置/v,intercept/en,:/w,是否/v,给/p,数据/n,加上/v,一个/m,干扰/v,特征/n,或者/c,偏差/n,特征/n,，/w,一个/m,始终/d,值/n,为/p,1/m,的/u,特征/n,，/w,默认/v,不/d,增加/v,false/en,{/w,stepsize/en,:/w, ,1.0/m,,/w, ,numiterations/en,:/w, ,100/m,,/w, ,minibatchfraction/en,:/w, ,1.0/m,}/w,模型/n,的/u,使用/v,：/w,1/m,、/w,对/p,数据/n,进行/v,预测/v,,/w,使用/v,model/en,./w,predict/en,(/w,)/w,2/m,、/w,获取/v,数据/n,特征/n,的/u,权重/nz,model/en,./w,weights/en,(/w,)/w,模型/n,的/u,评估/vn,：/w,均方/nw,误差/n,例子/n,：/w,import/en, ,org/en,./w,apache/en,./w,spark/en,./w,{/w,sparkcontext/en,,/w, ,sparkconf/en,}/w, ,import/en, ,org/en,./w,apache/en,./w,spark/en,./w,mllib/en,./w,regression/en,./w,labeledpoint/en, ,import/en, ,org/en,./w,apache/en,./w,spark/en,./w,mllib/en,./w,regression/en,./w,linearregressionmodel/en, ,import/en, ,org/en,./w,apache/en,./w,spark/en,./w,mllib/en,./w,regression/en,./w,linearregressionwithsgd/en, ,import/en, ,org/en,./w,apache/en,./w,spark/en,./w,mllib/en,./w,linalg/en,./w,vectors/en, ,//w,*/w,*/w, ,*/w, ,created/en, ,by/en, ,edward/en, ,on/en, ,2016/m,//w,9/m,//w,21/m,./w, ,*/w,//w, ,object/en, ,linearregression/en, ,{/w, ,def/en, ,main/en,(/w,args/en,:/w, ,array/en,[/w,string/en,]/w,)/w, ,{/w, ,val/en, ,conf/en,:/w, ,sparkconf/en, ,=/w, ,new/en, ,sparkconf/en,(/w,)/w,./w,setappname/en,(/w,"/w,linearregression/en,"/w,)/w,./w,setmaster/en,(/w,"/w,local/en,"/w,)/w, ,val/en, ,sc/en, ,=/w, ,new/en, ,sparkcontext/en,(/w,conf/en,)/w, ,//w,//w, ,load/en, ,and/en, ,parse/en, ,the/en, ,data/en, ,val/en, ,data/en, ,=/w, ,sc/en,./w,textfile/en,(/w,"/w,data/en,//w,mllib/en,//w,ridge/en,-/w,data/en,//w,lpsa/en,./w,data/en,"/w,)/w, ,val/en, ,parseddata/en, ,=/w, ,data/en,./w,map/en, ,{/w, ,line/en, ,=/w,>, ,val/en, ,parts/en, ,=/w, ,line/en,./w,split/en,(/w,'/w,,/w,'/w,)/w, ,labeledpoint/en,(/w,parts/en,(/w,0/m,)/w,./w,todouble/en,,/w, ,vectors/en,./w,dense/en,(/w,parts/en,(/w,1/m,)/w,./w,split/en,(/w,'/w, ,'/w,)/w,./w,map/en,(/w,_,./w,todouble/en,)/w,)/w,)/w, ,}/w,./w,cache/en,(/w,)/w, ,//w,//w, ,building/en, ,the/en, ,model/en, ,val/en, ,numiterations/en, ,=/w, ,100/m, ,val/en, ,model/en, ,=/w, ,linearregressionwithsgd/en,./w,train/en,(/w,parseddata/en,,/w, ,numiterations/en,)/w, ,//w,//w, ,var/en, ,lr/en, ,=/w, ,new/en, ,linearregressionwithsgd/en,(/w,)/w,./w,setintercept/en,(/w,true/en,)/w, ,//w,//w, ,val/en, ,model/en, ,=/w, ,lr/en,./w,run/en,(/w,parseddata/en,)/w, ,//w,//w,获取/v,特征/n,权重/nz,，/w,及/c,干扰/v,特征/n, ,println/en,(/w,"/w,weights/en,:/w,%/w,s/en,,/w, ,intercept/en,:/w,%/w,s/en,"/w,./w,format/en,(/w,model/en,./w,weights/en,,/w,model/en,./w,intercept/en,)/w,)/w, ,//w,//w, ,evaluate/en, ,model/en, ,on/en, ,training/en, ,examples/en, ,and/en, ,compute/en, ,training/en, ,error/en, ,val/en, ,valuesandpreds/en, ,=/w, ,parseddata/en,./w,map/en, ,{/w, ,point/en, ,=/w,>, ,val/en, ,prediction/en, ,=/w, ,model/en,./w,predict/en,(/w,point/en,./w,features/en,)/w, ,(/w,point/en,./w,label/en,,/w, ,prediction/en,)/w, ,}/w, ,//w,//w,计算/v, ,均方/nw,误差/n, ,val/en, ,mse/en, ,=/w, ,valuesandpreds/en,./w,map/en,{/w,case/en,(/w,v/en,,/w, ,p/en,)/w, ,=/w,>, ,math/en,./w,pow/en,(/w,(/w,v/en, ,-/w, ,p/en,)/w,,/w, ,2/m,)/w,}/w,./w,mean/en,(/w,)/w, ,println/en,(/w,"/w,training/en, ,mean/en, ,squared/en, ,error/en, ,=/w, ,"/w, ,+/w, ,mse/en,)/w, ,//w,//w, ,save/en, ,and/en, ,load/en, ,model/en, ,model/en,./w,save/en,(/w,sc/en,,/w, ,"/w,mymodelpath/en,"/w,)/w, ,val/en, ,samemodel/en, ,=/w, ,linearregressionmodel/en,./w,load/en,(/w,sc/en,,/w, ,"/w,mymodelpath/en,"/w,)/w, ,}/w, ,}/w,数据/n,：/w,-/w,0.4307829/m,,/w,-/w,1.63735562648104/m, ,-/w,2.00621178480549/m, ,-/w,1.86242597251066/m, ,-/w,1.02470580167082/m, ,-/w,0.522940888712441/m, ,-/w,0.863171185425945/m, ,-/w,1.04215728919298/m, ,-/w,0.864466507337306/m, ,-/w,0.1625189/m,,/w,-/w,1.98898046126935/m, ,-/w,0.722008756122123/m, ,-/w,0.787896192088153/m, ,-/w,1.02470580167082/m, ,-/w,0.522940888712441/m, ,-/w,0.863171185425945/m, ,-/w,1.04215728919298/m, ,-/w,0.864466507337306/m, ,-/w,0.1625189/m,,/w,-/w,1.57881887548545/m, ,-/w,2.1887840293994/m, ,1.36116336875686/m, ,-/w,1.02470580167082/m, ,-/w,0.522940888712441/m, ,-/w,0.863171185425945/m, ,0.342627053981254/m, ,-/w,0.155348103855541/m, ,-/w,0.1625189/m,,/w,-/w,2.16691708463163/m, ,-/w,0.807993896938655/m, ,-/w,0.787896192088153/m, ,-/w,1.02470580167082/m, ,-/w,0.522940888712441/m, ,-/w,0.863171185425945/m, ,-/w,1.04215728919298/m, ,-/w,0.864466507337306/m, ,0.3715636/m,,/w,-/w,0.507874475300631/m, ,-/w,0.458834049396776/m, ,-/w,0.250631301876899/m, ,-/w,1.02470580167082/m, ,-/w,0.522940888712441/m, ,-/w,0.863171185425945/m, ,-/w,1.04215728919298/m, ,-/w,0.864466507337306/m, ,0.7654678/m,,/w,-/w,2.03612849966376/m, ,-/w,0.933954647105133/m, ,-/w,1.86242597251066/m, ,-/w,1.02470580167082/m, ,-/w,0.522940888712441/m, ,-/w,0.863171185425945/m, ,-/w,1.04215728919298/m, ,-/w,0/m,./w,864466507337306/m,./w,./w,./w,数据/n,第一/m,列/v,表示/v,标签/n,数据/n,，/w,也/d,就/d,是/v,结果/n,数据/n,，/w,其他/r,列/v,表示/v,特征/n,数据/n,；/w,预测/v,就/d,是/v,再/d,给/p,一组/mq,特征/n,数据/n,，/w,预测/v,结果/n,；/w,结果/n,：/w,weights/en,:/w,[/w,0.5808575763272221/m,,/w,0.18930001482946976/m,,/w,0.2803086929991066/m,,/w,0.1110834181777876/m,,/w,0.4010473965597895/m,,/w,-/w,0.5603061626684255/m,,/w,-/w,0.5804740464000981/m,,/w,0.8742741176970946/m,]/w,,/w, ,intercept/en,:/w,0.0/m,training/en, ,mean/en, ,squared/en, ,error/en, ,=/w, ,6.207597210613579/m,逻辑/n,回归/v,是/v,一种/mq,二元/mq,分类/vn,方法/n,，/w,也/d,是/v,多/a,类/q,分类/vn,方法/n,；/w,逻辑/n,回归/v,可以/v,使用/v,的/u,方法/n,：/w,logisticregressionwithlbfgs/en, ,(/w,建议/n,使用/v,这个/r,)/w,logisticregressionwithsgd/en,参数/n,：/w,与/p,线性/n,回归/v,类似/v,模型/n,的/u,使用/v,：/w,1/m,、/w,对/p,数据/n,进行/v,预测/v,,/w,使用/v,model/en,./w,predict/en,(/w,)/w,2/m,、/w,获取/v,数据/n,特征/n,的/u,权重/nz,model/en,./w,weights/en,(/w,)/w,模型/n,的/u,评估/vn,：/w,二元/mq,分类/vn,：/w,auc/en,(/w,area/en, ,under/en, ,roc/en, ,curve/en,)/w,import/en, ,org/en,./w,apache/en,./w,spark/en,./w,{/w,sparkcontext/en,,/w, ,sparkconf/en,}/w, ,import/en, ,org/en,./w,apache/en,./w,spark/en,./w,sparkcontext/en, ,import/en, ,org/en,./w,apache/en,./w,spark/en,./w,mllib/en,./w,classification/en,./w,{/w,logisticregressionwithlbfgs/en,,/w, ,logisticregressionmodel/en,}/w, ,import/en, ,org/en,./w,apache/en,./w,spark/en,./w,mllib/en,./w,evaluation/en,./w,{/w,binaryclassificationmetrics/en,,/w, ,multiclassmetrics/en,}/w, ,import/en, ,org/en,./w,apache/en,./w,spark/en,./w,mllib/en,./w,regression/en,./w,labeledpoint/en, ,import/en, ,org/en,./w,apache/en,./w,spark/en,./w,mllib/en,./w,util/en,./w,mlutils/en, ,//w,*/w,*/w, ,*/w, ,created/en, ,by/en, ,edward/en, ,on/en, ,2016/m,//w,9/m,//w,21/m,./w, ,*/w,//w, ,object/en, ,logisticregression/en, ,{/w, ,def/en, ,main/en,(/w,args/en,:/w, ,array/en,[/w,string/en,]/w,)/w, ,{/w, ,val/en, ,conf/en,:/w, ,sparkconf/en, ,=/w, ,new/en, ,sparkconf/en,(/w,)/w,./w,setappname/en,(/w,"/w,logisticregression/en,"/w,)/w,./w,setmaster/en,(/w,"/w,local/en,"/w,)/w, ,val/en, ,sc/en,:/w, ,sparkcontext/en, ,=/w, ,new/en, ,sparkcontext/en,(/w,conf/en,)/w, ,//w,//w, ,load/en, ,training/en, ,data/en, ,in/en, ,libsvm/en, ,format/en,./w, ,val/en, ,data/en, ,=/w, ,mlutils/en,./w,loadlibsvmfile/en,(/w,sc/en,,/w, ,"/w,data/en,//w,mllib/en,//w,sample/en,_,libsvm/en,_,data/en,./w,txt/en,"/w,)/w, ,//w,//w, ,split/en, ,data/en, ,into/en, ,training/en, ,(/w,60%/mq,)/w, ,and/en, ,test/en, ,(/w,40%/mq,)/w,./w, ,val/en, ,splits/en, ,=/w, ,data/en,./w,randomsplit/en,(/w,array/en,(/w,0.6/m,,/w, ,0.4/m,)/w,,/w, ,seed/en, ,=/w, ,11/m,l/en,)/w, ,val/en, ,training/en, ,=/w, ,splits/en,(/w,0/m,)/w,./w,cache/en,(/w,)/w, ,val/en, ,test/en, ,=/w, ,splits/en,(/w,1/m,)/w, ,//w,//w, ,run/en, ,training/en, ,algorithm/en, ,to/en, ,build/en, ,the/en, ,model/en, ,val/en, ,model/en, ,=/w, ,new/en, ,logisticregressionwithlbfgs/en,(/w,)/w, ,./w,setnumclasses/en,(/w,10/m,)/w, ,./w,run/en,(/w,training/en,)/w, ,model/en,./w,setthreshold/en,(/w,0.8/m,)/w, ,//w,//w, ,compute/en, ,raw/en, ,scores/en, ,on/en, ,the/en, ,test/en, ,set/en,./w, ,val/en, ,predictionandlabels/en, ,=/w, ,test/en,./w,map/en, ,{/w, ,case/en, ,labeledpoint/en,(/w,label/en,,/w, ,features/en,)/w, ,=/w,>, ,val/en, ,prediction/en, ,=/w, ,model/en,./w,predict/en,(/w,features/en,)/w, ,(/w,prediction/en,,/w, ,label/en,)/w, ,}/w, ,//w,//w,多元/b,矩阵/n, ,//w,//w, ,get/en, ,evaluation/en, ,metrics/en,./w, ,//w,//w,val/en, ,metrics/en, ,=/w, ,new/en, ,multiclassmetrics/en,(/w,predictionandlabels/en,)/w, ,//w,//w,val/en, ,precision/en, ,=/w, ,metrics/en,./w,precision/en, ,//w,//w,println/en,(/w,"/w,precision/en, ,=/w, ,"/w, ,+/w, ,precision/en,)/w, ,//w,//w,二元/b,矩阵/n, ,val/en, ,metrics/en, ,=/w, ,new/en, ,binaryclassificationmetrics/en,(/w,predictionandlabels/en,)/w, ,//w,//w,通过/p,roc/en,对/p,模型/n,进行/v,评估/vn,,/w,值/n,趋/v,近/a,于/p,1/m, ,receiver/en, ,operating/en, ,characteristic/en, ,(/w,roc/en,)/w,,/w, ,接受/v,者/k,操作/v,特征/n, ,曲线/n,下/f,面积/n, ,val/en, ,auroc/en,:/w, ,double/en, ,=/w, ,metrics/en,./w,areaunderroc/en,(/w,)/w, ,println/en,(/w,"/w,area/en, ,under/en, ,roc/en, ,=/w, ,"/w, ,+/w, ,auroc/en,)/w, ,//w,//w,通过/p,pr/en,对/p,模型/n,进行/v,评估/vn,，/w,值/n,趋/v,近/a,于/p,1/m, ,precision/en,-/w,recall/en, ,(/w,pr/en,)/w,,/w, ,精确率/nw, ,val/en, ,underpr/en,:/w, ,double/en, ,=/w, ,metrics/en,./w,areaunderpr/en,(/w,)/w, ,println/en,(/w,"/w,area/en, ,under/en, ,pr/en, ,=/w, ,"/w, ,+/w, ,underpr/en,)/w, ,//w,//w, ,save/en, ,and/en, ,load/en, ,model/en, ,model/en,./w,save/en,(/w,sc/en,,/w, ,"/w,mymodelpath/en,"/w,)/w, ,val/en, ,samemodel/en, ,=/w, ,logisticregressionmodel/en,./w,load/en,(/w,sc/en,,/w, ,"/w,mymodelpath/en,"/w,)/w, ,}/w, ,}/w,支持/v,向/p,量机/nw, ,support/en, ,vector/en, ,machines/en, ,(/w,svms/en,)/w,分类/vn,算法/n,，/w,二元/mq,分类/vn,算法/n,和/c,逻辑/n,回归/v,二元/mq,分类/vn,相似/a,import/en, ,org/en,./w,apache/en,./w,spark/en,./w,{/w,sparkcontext/en,,/w, ,sparkconf/en,}/w, ,import/en, ,org/en,./w,apache/en,./w,spark/en,./w,mllib/en,./w,classification/en,./w,{/w,svmmodel/en,,/w, ,svmwithsgd/en,}/w, ,import/en, ,org/en,./w,apache/en,./w,spark/en,./w,mllib/en,./w,evaluation/en,./w,binaryclassificationmetrics/en, ,import/en, ,org/en,./w,apache/en,./w,spark/en,./w,mllib/en,./w,util/en,./w,mlutils/en, ,//w,*/w,*/w, ,*/w, ,created/en, ,by/en, ,edward/en, ,on/en, ,2016/m,//w,9/m,//w,21/m,./w, ,*/w,//w, ,object/en, ,svms/en, ,{/w, ,def/en, ,main/en,(/w,args/en,:/w, ,array/en,[/w,string/en,]/w,)/w, ,{/w, ,val/en, ,conf/en,:/w, ,sparkconf/en, ,=/w, ,new/en, ,sparkconf/en,(/w,)/w,./w,setappname/en,(/w,"/w,svm/en,"/w,)/w,./w,setmaster/en,(/w,"/w,local/en,"/w,)/w, ,val/en, ,sc/en,:/w, ,sparkcontext/en, ,=/w, ,new/en, ,sparkcontext/en,(/w,conf/en,)/w, ,//w,//w, ,load/en, ,training/en, ,data/en, ,in/en, ,libsvm/en, ,format/en,./w, ,val/en, ,data/en, ,=/w, ,mlutils/en,./w,loadlibsvmfile/en,(/w,sc/en,,/w, ,"/w,data/en,//w,mllib/en,//w,sample/en,_,libsvm/en,_,data/en,./w,txt/en,"/w,)/w, ,//w,//w, ,split/en, ,data/en, ,into/en, ,training/en, ,(/w,60%/mq,)/w, ,and/en, ,test/en, ,(/w,40%/mq,)/w,./w, ,val/en, ,splits/en, ,=/w, ,data/en,./w,randomsplit/en,(/w,array/en,(/w,0.6/m,,/w, ,0.4/m,)/w,,/w, ,seed/en, ,=/w, ,11/m,l/en,)/w, ,val/en, ,training/en, ,=/w, ,splits/en,(/w,0/m,)/w,./w,cache/en,(/w,)/w, ,val/en, ,test/en, ,=/w, ,splits/en,(/w,1/m,)/w, ,//w,//w, ,run/en, ,training/en, ,algorithm/en, ,to/en, ,build/en, ,the/en, ,model/en, ,val/en, ,numiterations/en, ,=/w, ,100/m, ,val/en, ,model/en, ,=/w, ,svmwithsgd/en,./w,train/en,(/w,training/en,,/w, ,numiterations/en,)/w, ,//w,//w, ,clear/en, ,the/en, ,default/en, ,threshold/en,./w, ,model/en,./w,clearthreshold/en,(/w,)/w, ,//w,//w, ,compute/en, ,raw/en, ,scores/en, ,on/en, ,the/en, ,test/en, ,set/en,./w, ,val/en, ,scoreandlabels/en, ,=/w, ,test/en,./w,map/en, ,{/w, ,point/en, ,=/w,>, ,println/en,(/w,"/w,feature/en,=/w,"/w,+/w,point/en,./w,features/en,)/w, ,val/en, ,score/en, ,=/w, ,model/en,./w,predict/en,(/w,point/en,./w,features/en,)/w, ,(/w,score/en,,/w, ,point/en,./w,label/en,)/w, ,}/w, ,scoreandlabels/en,./w,foreach/en,(/w,println/en,(/w,_,)/w,)/w, ,//w,//w, ,get/en, ,evaluation/en, ,metrics/en,./w, ,val/en, ,metrics/en, ,=/w, ,new/en, ,binaryclassificationmetrics/en,(/w,scoreandlabels/en,)/w, ,println/en,(/w,"/w,metrics/en,=/w,"/w,+/w,metrics/en,)/w, ,val/en, ,auroc/en, ,=/w, ,metrics/en,./w,areaunderroc/en,(/w,)/w, ,println/en,(/w,"/w,area/en, ,under/en, ,roc/en, ,=/w, ,"/w, ,+/w, ,auroc/en,)/w, ,//w,//w, ,save/en, ,and/en, ,load/en, ,model/en, ,model/en,./w,save/en,(/w,sc/en,,/w, ,"/w,mymodelpath/en,"/w,)/w, ,val/en, ,samemodel/en, ,=/w, ,svmmodel/en,./w,load/en,(/w,sc/en,,/w, ,"/w,mymodelpath/en,"/w,)/w, ,sc/en,./w,stop/en,(/w,)/w, ,}/w, ,}/w,数据/n,：/w,0/m, ,128/m,:/w,51/m, ,129/m,:/w,159/m, ,130/m,:/w,253/m, ,131/m,:/w,159/m, ,132/m,:/w,50/m, ,155/m,:/w,48/m, ,156/m,:/w,238/m, ,157/m,:/w,252/m, ,158/m,:/w,252/m, ,159/m,:/w,252/m, ,160/m,:/w,237/m, ,182/m,:/w,54/m, ,183/m,:/w,227/m, ,184/m,:/w,253/m, ,185/m,:/w,252/m, ,186/m,:/w,239/m, ,187/m,:/w,233/m, ,188/m,:/w,252/m, ,189/m,:/w,57/m, ,190/m,:/w,6/m, ,208/m,:/w,10/m, ,209/m,:/w,60/m, ,210/m,:/w,224/m, ,1/m, ,159/m,:/w,124/m, ,160/m,:/w,253/m, ,161/m,:/w,255/m, ,162/m,:/w,63/m, ,186/m,:/w,96/m, ,187/m,:/w,244/m, ,188/m,:/w,251/m, ,189/m,:/w,253/m, ,190/m,:/w,62/m, ,214/m,:/w,127/m, ,215/m,:/w,251/m, ,216/m,:/w,251/m, ,217/m,:/w,253/m, ,218/m,:/w,62/m,./w,./w,./w,协同/v,过滤/v, ,collaborative/en, ,filteringspark/en,中/f,协同/v,过滤算法/nw,主要/b,由/p,交替/v,最小/a,二/m,乘/v,法/j,来/v,实现/v, ,alternating/en, ,least/en, ,squares/en, ,(/w,als/en,)/w,参数/n,：/w,numblocks/en, ,block/en,块/q,的/u,数量/n,，/w,用/p,来/v,控制/v,并行度/nz,rank/en, ,特征/n,向量/n,的/u,大小/n,iterations/en, ,迭代/vn,数量/n,lambda/en, ,正规化/vn,参数/n,alpha/en, ,用/p,来/v,在/p,隐式/nw,als/en,中/f,计算置信度/nw,的/u,常量/n,方法/n,：/w,als/en,./w,train/en,模型/n,的/u,评估/vn,：/w,均方/nw,误差/n,例子/n,：/w,import/en, ,org/en,./w,apache/en,./w,spark/en,./w,{/w,sparkcontext/en,,/w, ,sparkconf/en,}/w, ,import/en, ,org/en,./w,apache/en,./w,spark/en,./w,mllib/en,./w,recommendation/en,./w,als/en, ,import/en, ,org/en,./w,apache/en,./w,spark/en,./w,mllib/en,./w,recommendation/en,./w,matrixfactorizationmodel/en, ,import/en, ,org/en,./w,apache/en,./w,spark/en,./w,mllib/en,./w,recommendation/en,./w,rating/en, ,//w,*/w,*/w, ,*/w, ,created/en, ,by/en, ,edward/en, ,on/en, ,2016/m,//w,9/m,//w,22/m,./w, ,*/w,//w, ,object/en, ,collaborativeals/en, ,{/w, ,def/en, ,main/en,(/w,args/en,:/w, ,array/en,[/w,string/en,]/w,)/w, ,{/w, ,val/en, ,conf/en,:/w, ,sparkconf/en, ,=/w, ,new/en, ,sparkconf/en,(/w,)/w,./w,setappname/en,(/w,"/w,collaborativeals/en,"/w,)/w,./w,setmaster/en,(/w,"/w,local/en,"/w,)/w, ,val/en, ,sc/en,:/w, ,sparkcontext/en, ,=/w, ,new/en, ,sparkcontext/en,(/w,conf/en,)/w, ,//w,//w, ,load/en, ,and/en, ,parse/en, ,the/en, ,data/en, ,val/en, ,data/en, ,=/w, ,sc/en,./w,textfile/en,(/w,"/w,data/en,//w,mllib/en,//w,als/en,//w,test/en,./w,data/en,"/w,)/w, ,val/en, ,ratings/en, ,=/w, ,data/en,./w,map/en,(/w,_,./w,split/en,(/w,'/w,,/w,'/w,)/w, ,match/en, ,{/w, ,case/en, ,array/en,(/w,user/en,,/w, ,item/en,,/w, ,rate/en,)/w, ,=/w,>, ,rating/en,(/w,user/en,./w,toint/en,,/w, ,item/en,./w,toint/en,,/w, ,rate/en,./w,todouble/en,)/w, ,}/w,)/w, ,//w,//w, ,build/en, ,the/en, ,recommendation/en, ,model/en, ,using/en, ,als/en, ,val/en, ,rank/en, ,=/w, ,10/m, ,val/en, ,numiterations/en, ,=/w, ,10/m, ,val/en, ,model/en, ,=/w, ,als/en,./w,train/en,(/w,ratings/en,,/w, ,rank/en,,/w, ,numiterations/en,,/w, ,0.01/m,)/w, ,//w,//w, ,evaluate/en, ,the/en, ,model/en, ,on/en, ,rating/en, ,data/en, ,val/en, ,usersproducts/en, ,=/w, ,ratings/en,./w,map/en, ,{/w, ,case/en,