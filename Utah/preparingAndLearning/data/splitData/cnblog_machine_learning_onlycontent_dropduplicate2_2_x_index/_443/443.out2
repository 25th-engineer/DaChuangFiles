在/p,看/v,机器/n,学习/v,实战/n,时候/n,，/w,到/v,第三/nw,章/q,的/u,对/p,决策/n,树/v,画/v,图/n,的/u,时候/n,，/w,有/v,一段/mq,递归/nw,函数/n,怎么/r,都/d,看/v,不/d,懂/v,，/w,因为/c,以后/f,想/v,选/v,这个/r,方向/n,为/p,自己/r,的/u,职业/n,导向/n,，/w,抱/v,着/u,精看/nw,的/u,态度/n,，/w,对/p,这/r,本/r,树/v,进行/v,地毯式/nw,扫描/v,，/w,所以/c,就/d,没/d,跳/v,过/u,，/w,一直/d,卡/n,了/u,一天/mq,多/a,，/w,才/d,差不多/l,搞/v,懂/v,，/w,才/d,对/p,那个/r,函数/n,中/f,的/u,plottree/en,./w,xoff/en,的/u,取值/v,，/w,以及/c,计算/v,cntrpt/en,的/u,方法/n,搞/v,懂/v,，/w,相信/v,也/d,有人/r,和/c,我/r,一样/u,，/w,希望/v,能够/v,相互/d,交流/vn,。/w,先/d,把/p,代码/n,贴/v,在/p,这里/r,：/w,import/en, ,matplotlib/en,./w,pyplot/en, ,as/en, ,plt/en, ,#,这里/r,是/v,对/p,绘制/v,是/v,图形/n,属性/n,的/u,一些/m,定义/n,，/w,可以/v,不用/d,管/v,，/w,主要/b,是/v,后面/f,的/u,算法/n, ,decisionnode/en, ,=/w, ,dict/en,(/w,boxstyle/en,=/w,"/w,sawtooth/en,"/w,,/w, ,fc/en,=/w,"/w,0.8/m,"/w,)/w, ,leafnode/en, ,=/w, ,dict/en,(/w,boxstyle/en,=/w,"/w,round/en,4/m,"/w,,/w, ,fc/en,=/w,"/w,0.8/m,"/w,)/w, ,arrow/en,_,args/en, ,=/w, ,dict/en,(/w,arrowstyle/en,=/w,"/w,</w,-/w,"/w,)/w, ,#,这/r,是/v,递归/nw,计算/v,树/v,的/u,叶子/n,节点/n,个/q,数/m,，/w,比较/d,简单/a, ,def/en, ,getnumleafs/en,(/w,mytree/en,)/w,:/w, ,numleafs/en, ,=/w, ,0/m, ,firststr/en, ,=/w, ,mytree/en,./w,keys/en,(/w,)/w,[/w,0/m,]/w, ,seconddict/en, ,=/w, ,mytree/en,[/w,firststr/en,]/w, ,for/en, ,key/en, ,in/en, ,seconddict/en,./w,keys/en,(/w,)/w,:/w, ,if/en, ,type/en,(/w,seconddict/en,[/w,key/en,]/w,)/w,./w,_,_,name/en,_,_,=/w,=/w,'/w,dict/en,'/w,:/w,#,test/en, ,to/en, ,see/en, ,if/en, ,the/en, ,nodes/en, ,are/en, ,dictonaires/en,,/w, ,if/en, ,not/en, ,they/en, ,are/en, ,leaf/en, ,nodes/en, ,numleafs/en, ,+/w,=/w, ,getnumleafs/en,(/w,seconddict/en,[/w,key/en,]/w,)/w, ,else/en,:/w, ,numleafs/en, ,+/w,=/w,1/m, ,return/en, ,numleafs/en, ,#,这/r,是/v,递归/nw,计算/v,树/v,的/u,深度/n,，/w,比较/d,简单/a, ,def/en, ,gettreedepth/en,(/w,mytree/en,)/w,:/w, ,maxdepth/en, ,=/w, ,0/m, ,firststr/en, ,=/w, ,mytree/en,./w,keys/en,(/w,)/w,[/w,0/m,]/w, ,seconddict/en, ,=/w, ,mytree/en,[/w,firststr/en,]/w, ,for/en, ,key/en, ,in/en, ,seconddict/en,./w,keys/en,(/w,)/w,:/w, ,if/en, ,type/en,(/w,seconddict/en,[/w,key/en,]/w,)/w,./w,_,_,name/en,_,_,=/w,=/w,'/w,dict/en,'/w,:/w,#,test/en, ,to/en, ,see/en, ,if/en, ,the/en, ,nodes/en, ,are/en, ,dictonaires/en,,/w, ,if/en, ,not/en, ,they/en, ,are/en, ,leaf/en, ,nodes/en, ,thisdepth/en, ,=/w, ,1/m, ,+/w, ,gettreedepth/en,(/w,seconddict/en,[/w,key/en,]/w,)/w, ,else/en,:/w, ,thisdepth/en, ,=/w, ,1/m, ,if/en, ,thisdepth/en, ,>, ,maxdepth/en,:/w, ,maxdepth/en, ,=/w, ,thisdepth/en, ,return/en, ,maxdepth/en, ,#,这个/r,是/v,用/p,来/v,一/m,注释/vn,形式/n,绘制/v,节点/n,和/c,箭头线/nw,，/w,可以/v,不用/d,管/v, ,def/en, ,plotnode/en,(/w,nodetxt/en,,/w, ,centerpt/en,,/w, ,parentpt/en,,/w, ,nodetype/en,)/w,:/w, ,createplot/en,./w,ax/en,1/m,./w,annotate/en,(/w,nodetxt/en,,/w, ,xy/en,=/w,parentpt/en,,/w, ,xycoords/en,=/w,'/w,axes/en, ,fraction/en,'/w,,/w, ,xytext/en,=/w,centerpt/en,,/w, ,textcoords/en,=/w,'/w,axes/en, ,fraction/en,'/w,,/w, ,va/en,=/w,"/w,center/en,"/w,,/w, ,ha/en,=/w,"/w,center/en,"/w,,/w, ,bbox/en,=/w,nodetype/en,,/w, ,arrowprops/en,=/w,arrow/en,_,args/en, ,)/w, ,#,这个/r,是/v,用/p,来/v,绘制线/nw,上/f,的/u,标注/v,，/w,简单/a, ,def/en, ,plotmidtext/en,(/w,cntrpt/en,,/w, ,parentpt/en,,/w, ,txtstring/en,)/w,:/w, ,xmid/en, ,=/w, ,(/w,parentpt/en,[/w,0/m,]/w,-/w,cntrpt/en,[/w,0/m,]/w,)/w,//w,2.0/m, ,+/w, ,cntrpt/en,[/w,0/m,]/w, ,ymid/en, ,=/w, ,(/w,parentpt/en,[/w,1/m,]/w,-/w,cntrpt/en,[/w,1/m,]/w,)/w,//w,2.0/m, ,+/w, ,cntrpt/en,[/w,1/m,]/w, ,createplot/en,./w,ax/en,1/m,./w,text/en,(/w,xmid/en,,/w, ,ymid/en,,/w, ,txtstring/en,,/w, ,va/en,=/w,"/w,center/en,"/w,,/w, ,ha/en,=/w,"/w,center/en,"/w,,/w, ,rotation/en,=/w,30/m,)/w, ,#,重点/n,，/w,递归/nw,，/w,决定/v,整个/b,树图/nr,的/u,绘制/v,，/w,难/a,（/w,自己/r,认为/v,）/w, ,def/en, ,plottree/en,(/w,mytree/en,,/w, ,parentpt/en,,/w, ,nodetxt/en,)/w,:/w,#,if/en, ,the/en, ,first/en, ,key/en, ,tells/en, ,you/en, ,what/en, ,feat/en, ,was/en, ,split/en, ,on/en, ,numleafs/en, ,=/w, ,getnumleafs/en,(/w,mytree/en,)/w, ,#,this/en, ,determines/en, ,the/en, ,x/en, ,width/en, ,of/en, ,this/en, ,tree/en, ,depth/en, ,=/w, ,gettreedepth/en,(/w,mytree/en,)/w, ,firststr/en, ,=/w, ,mytree/en,./w,keys/en,(/w,)/w,[/w,0/m,]/w, ,#,the/en, ,text/en, ,label/en, ,for/en, ,this/en, ,node/en, ,should/en, ,be/en, ,this/en, ,cntrpt/en, ,=/w, ,(/w,plottree/en,./w,xoff/en, ,+/w, ,(/w,1.0/m, ,+/w, ,float/en,(/w,numleafs/en,)/w,)/w,//w,2.0/m,//w,plottree/en,./w,totalw/en,,/w, ,plottree/en,./w,yoff/en,)/w, ,plotmidtext/en,(/w,cntrpt/en,,/w, ,parentpt/en,,/w, ,nodetxt/en,)/w, ,plotnode/en,(/w,firststr/en,,/w, ,cntrpt/en,,/w, ,parentpt/en,,/w, ,decisionnode/en,)/w, ,seconddict/en, ,=/w, ,mytree/en,[/w,firststr/en,]/w, ,plottree/en,./w,yoff/en, ,=/w, ,plottree/en,./w,yoff/en, ,-/w, ,1.0/m,//w,plottree/en,./w,totald/en, ,for/en, ,key/en, ,in/en, ,seconddict/en,./w,keys/en,(/w,)/w,:/w, ,if/en, ,type/en,(/w,seconddict/en,[/w,key/en,]/w,)/w,./w,_,_,name/en,_,_,=/w,=/w,'/w,dict/en,'/w,:/w,#,test/en, ,to/en, ,see/en, ,if/en, ,the/en, ,nodes/en, ,are/en, ,dictonaires/en,,/w, ,if/en, ,not/en, ,they/en, ,are/en, ,leaf/en, ,nodes/en, ,plottree/en,(/w,seconddict/en,[/w,key/en,]/w,,/w,cntrpt/en,,/w,str/en,(/w,key/en,)/w,)/w, ,#,recursion/en, ,else/en,:/w, ,#,it/en,'/w,s/en, ,a/en, ,leaf/en, ,node/en, ,print/en, ,the/en, ,leaf/en, ,node/en, ,plottree/en,./w,xoff/en, ,=/w, ,plottree/en,./w,xoff/en, ,+/w, ,1.0/m,//w,plottree/en,./w,totalw/en, ,plotnode/en,(/w,seconddict/en,[/w,key/en,]/w,,/w, ,(/w,plottree/en,./w,xoff/en,,/w, ,plottree/en,./w,yoff/en,)/w,,/w, ,cntrpt/en,,/w, ,leafnode/en,)/w, ,plotmidtext/en,(/w,(/w,plottree/en,./w,xoff/en,,/w, ,plottree/en,./w,yoff/en,)/w,,/w, ,cntrpt/en,,/w, ,str/en,(/w,key/en,)/w,)/w, ,plottree/en,./w,yoff/en, ,=/w, ,plottree/en,./w,yoff/en, ,+/w, ,1.0/m,//w,plottree/en,./w,totald/en, ,#,if/en, ,you/en, ,do/en, ,get/en, ,a/en, ,dictonary/en, ,you/en, ,know/en, ,it/en,'/w,s/en, ,a/en, ,tree/en,,/w, ,and/en, ,the/en, ,first/en, ,element/en, ,will/en, ,be/en, ,another/en, ,dict/en, ,#,这个/r,是/v,真正/d,的/u,绘制/v,，/w,上边/f,是/v,逻辑/n,的/u,绘制/v, ,def/en, ,createplot/en,(/w,intree/en,)/w,:/w, ,fig/en, ,=/w, ,plt/en,./w,figure/en,(/w,1/m,,/w, ,facecolor/en,=/w,'/w,white/en,'/w,)/w, ,fig/en,./w,clf/en,(/w,)/w, ,axprops/en, ,=/w, ,dict/en,(/w,xticks/en,=/w,[/w,]/w,,/w, ,yticks/en,=/w,[/w,]/w,)/w, ,createplot/en,./w,ax/en,1/m, ,=/w, ,plt/en,./w,subplot/en,(/w,111/m,,/w, ,frameon/en,=/w,false/en,)/w, ,#,no/en, ,ticks/en, ,plottree/en,./w,totalw/en, ,=/w, ,float/en,(/w,getnumleafs/en,(/w,intree/en,)/w,)/w, ,plottree/en,./w,totald/en, ,=/w, ,float/en,(/w,gettreedepth/en,(/w,intree/en,)/w,)/w, ,plottree/en,./w,xoff/en, ,=/w, ,-/w,0.5/m,//w,plottree/en,./w,totalw/en,;/w, ,plottree/en,./w,yoff/en, ,=/w, ,1.0/m,;/w, ,plottree/en,(/w,intree/en,,/w, ,(/w,0.5/m,,/w,1.0/m,)/w,,/w, ,'/w,'/w,)/w, ,plt/en,./w,show/en,(/w,)/w, ,#,这个/r,是/v,用/p,来/v,创建/v,数据集/nw,即/v,决策/n,树/v, ,def/en, ,retrievetree/en,(/w,i/en,)/w,:/w, ,listoftrees/en, ,=/w,[/w,{/w,'/w,no/en, ,surfacing/en,'/w,:/w, ,{/w,0/m,:/w,{/w,'/w,flippers/en,'/w,:/w, ,{/w,0/m,:/w, ,'/w,no/en,'/w,,/w, ,1/m,:/w, ,'/w,yes/en,'/w,}/w,}/w,,/w, ,1/m,:/w, ,{/w,'/w,flippers/en,'/w,:/w, ,{/w,0/m,:/w, ,'/w,no/en,'/w,,/w, ,1/m,:/w, ,'/w,yes/en,'/w,}/w,}/w,,/w, ,2/m,:/w,{/w,'/w,flippers/en,'/w,:/w, ,{/w,0/m,:/w, ,'/w,no/en,'/w,,/w, ,1/m,:/w, ,'/w,yes/en,'/w,}/w,}/w,}/w,}/w,,/w, ,{/w,'/w,no/en, ,surfacing/en,'/w,:/w, ,{/w,0/m,:/w, ,'/w,no/en,'/w,,/w, ,1/m,:/w, ,{/w,'/w,flippers/en,'/w,:/w, ,{/w,0/m,:/w, ,{/w,'/w,head/en,'/w,:/w, ,{/w,0/m,:/w, ,'/w,no/en,'/w,,/w, ,1/m,:/w, ,'/w,yes/en,'/w,}/w,}/w,,/w, ,1/m,:/w, ,'/w,no/en,'/w,}/w,}/w,}/w,}/w, ,]/w, ,return/en, ,listoftrees/en,[/w,i/en,]/w, ,createplot/en,(/w,retrievetree/en,(/w,0/m,)/w,)/w,绘制/v,出来/v,的/u,图形/n,如下/v,：/w,先导/n,：/w,这里/r,说/v,一下/m,为什么/r,说/v,一个/m,递归/nw,树/v,的/u,绘制/v,为什么/r,会/v,是/v,很/d,难懂/a,，/w,这里/r,不/d,就是/d,利用/v,递归/nw,函数/n,来/v,绘/v,图么/nr,，/w,就/d,如/v,递归/nw,计算/v,树/v,的/u,深度/n,、/w,叶子/n,节点/n,一样/u,，/w,问题/n,不/d,是/v,递归/nw,的/u,思路/n,，/w,而是/c,这/r,本/r,书/n,中/f,一些/m,坐标/n,的/u,起始/vn,取值/v,、/w,以及/c,在/p,计算/v,节点/n,坐标/n,所/u,作/v,的/u,处理/v,，/w,而且/c,在/p,树/v,中/f,对/p,这/r,部分/n,并/c,没有/v,取/v,讲述/v,，/w,所以/c,在/p,看/v,这/r,段/q,代码/n,的/u,时候/n,可能/v,大体/d,思路/n,明白/v,但是/c,具体/a,的/u,细节/n,却/d,知之甚少/l,，/w,所以/c,本篇/r,主要/b,是/v,对/p,其中/r,书/n,中/f,提及/v,甚/dg,少/a,的/u,作/v,详细/ad,的/u,讲述/v,，/w,当然/d,代码/n,的/u,整体/n,思路/n,也/d,不/d,会/v,放过/v,的/u,准备/v,：/w,这里/r,说/v,一下