1/m,、/w,介绍/v,决策/n,树/v,（/w,decision/en, ,tree/en,）/w,是/v,一种/mq,有/v,监督/vn,的/u,机器/n,学习/v,算法/n,，/w,是/v,一个/m,分类/vn,算法/n,。/w,在/p,给定/vn,训练/vn,集/vg,的/u,条件/n,下/f,，/w,生成/vn,一个/m,自顶/nw,而/c,下/f,的/u,决策/n,树/v,，/w,树/v,的/u,根/q,为/p,起点/n,，/w,树/v,的/u,叶子/n,为/p,样本/n,的/u,分类/vn,，/w,从/p,根/q,到/v,叶子/n,的/u,路径/n,就/d,是/v,一个/m,样本/n,进行/v,分类/vn,的/u,过程/n,。/w,下/f,图/n,为/p,一个/m,决策/n,树/v,的/u,例子/n,，/w,见/v,http/en,:/w,//w,//w,zh/en,./w,wikipedia/en,./w,org/en,//w,wiki/en,//w,%/w,e/en,5%/mq,86%/mq,b/en,3%/mq,e/en,7%/mq,ad/en,%/w,96%/mq,e/en,6%/mq,a/en,0%/mq,91/m,可见/v,，/w,决策/n,树上/s,的/u,判断/v,节点/n,是/v,对/p,某/r,一个/m,属性/n,进行/v,判断/v,，/w,生成/vn,的/u,路径/n,数量/n,为/p,该/r,属性/n,可能/v,的/u,取值/v,，/w,最终/d,到/v,叶子/n,节点/n,时/ng,，/w,就/d,完成/v,一个/m,分类/vn,（/w,或/c,预测/v,）/w,。/w,决策/n,树/v,具有/v,直观/a,、/w,易于/v,解释/v,的/u,特性/n,。/w,2/m,、/w,决策/n,树/v,生成/vn,算法/n,本文/r,主要/b,讨论/v,如何/r,由/p,一个/m,给/p,定/v,的/u,训练/vn,集/vg,生成/vn,一个/m,决策/n,树/v,。/w,如果/c,都/d,一个/m,数据/n,集合/v,$/w,d/en,$/w,，/w,其/r,特征/n,集合/v,为/p,$/w,a/en,$/w,，/w,那么/r,以/p,何种/r,顺序/n,对/p,a/en,中/f,的/u,特征/n,进行/v,判断/v,就/d,成为/v,决策/n,树/v,生成/vn,过程/n,中/f,的/u,关键/n,。/w,首先/d,给/p,出/v,一个/m,决策/n,树/v,生成/vn,算法/n,-/w,id/en,3/m,算法/n,（/w,参考/v,《/w,统计/v,学习/v,方法/n,》/w,李航/nr,著/v,）/w,--------------------/nrf,我/r,是/v,算法/n,开始/v,分割线/nw,-------------------------------------------/nrf,id/en,3/m,算法/n,：/w,输入/v,：/w,训练/vn,数据集/nw,d/en,，/w,特征/n,集/vg,a/en,，/w,阈值/n,e/en,输出/v,：/w,决策/n,树/v,t/en,（/w,1/m,）/w,若/c,d/en,中/f,所有/b,样本/n,属于/v,同一/b,类/q,ck/en,，/w,则/d,t/en,为/p,单/d,节点/n,树/v,，/w,并/c,将/d,类/q,ck/en,作为/v,该/r,节点/n,的/u,类/q,标记/n,，/w,返回/v,t/en,；/w,（/w,2/m,）/w,a/en,为/p,空集/nw,，/w,t/en,为/p,单/d,节点/n,树/v,，/w,将/d,d/en,中/f,实例/n,数/m,最/d,大/a,的/u,类/q,ck/en,作为/v,该/r,节点/n,的/u,类/q,标记/n,，/w,返回/v,t/en,；/w,（/w,3/m,）/w,否则/c,，/w,计算/v,a/en,中/f,各/r,特征/n,对/p,d/en,的/u,信息/n,增益/v,，/w,选择/v,信息/n,增益/v,最/d,大/a,的/u,特征/n,值/n,ag/en,；/w,（/w,4/m,）/w,如果/c,ag/en,</w,e/en,，/w,则/d,置/v,t/en,为/p,单/d,节点/n,树/v,，/w,将/d,d/en,中/f,实例/n,数/m,最/d,大/a,的/u,类/q,ck/en,作为/v,该/r,节点/n,的/u,类/q,标记/n,，/w,返回/v,t/en,；/w,（/w,5/m,）/w,否则/c,，/w,对/p,ag/en,的/u,每/r,一个/m,可能/v,的/u,取值/v,ai/en,，/w,依/v,ag/en,=/w,ai/en,将/d,d/en,分割/v,为/p,若干/m,非空子集/nw,di/en,，/w,将/d,di/en,中/f,实例/n,数/m,最/d,大/a,的/u,类/q,作为/v,标记/n,，/w,构建子节点/nt,，/w,由/p,节点/n,及其/c,子/ng,节点/n,构成/v,树/v,t/en,，/w,返回/v,t/en,；/w,（/w,6/m,）/w,对/p,第/m,i/en,个子/n,节点/n,，/w,以/p,di/en,为/p,训练/vn,集/vg,，/w,以/p, ,a/en,-/w,{/w,ag/en,}/w,为/p,特征/n,集/vg,，/w,递归/nw,调用/v,（/w,1/m,）/w,~/w,（/w,5/m,）/w,步/q,，/w,得到/v,子树/nr,ti/en,，/w,返回/v,ti/en,。/w,--------------------/nrf,我/r,是/v,算法/n,结束/v,分割线/nw,-------------------------------------------/nrf,算法/n,第/m,（/w,3/m,）/w,步/q,中/f,，/w,信息/n,增益/v,是/v,评估/vn,每/r,一个/m,特征/n,值/n,对/p,d/en,的/u,划分/v,效果/n,，/w,划分/v,的/u,原则/n,为/p,将/d,无序/b,的/u,数据/n,变/v,得/u,尽量/d,有序/a,。/w,评价/v,随机/d,变量/n,不确定性/nw,的/u,一个/m,概念/n,是/v,熵/g,，/w,熵/g,越/d,大/a,，/w,不确定性/nw,越/d,大/a,。/w,如果/c,确定/v,一个/m,特征/n,ag/en,，/w,在/p,确定/v,该/r,特征/n,前后/f,，/w,d/en,的/u,熵/g,的/u,变化值/nw,就是/d,特征/n,ag/en,的/u,信息/n,增益/v,。/w,3/m,、/w,熵/g,及/c,信息/n,增益/v,熵/g,：/w,设/v,x/en,是/v,一个/m,取有限/nt,个/q,值/n,（/w,n/en,）/w,的/u,离散/vn,随机/d,变量/n,，/w,其/r,概率/n,分布/v,为/p,\/w,[/w,p/en,(/w,x/en,=/w,x/en,_,{/w,i/en,}/w,)/w,=/w,p/en,_,{/w,i/en,}/w,,/w, ,i/en,=/w,1/m,,/w,2/m,,/w,./w,./w,./w,,/w,n/en,\/w,]/w,则/d,随机/d,变量/n,x/en,的/u,熵定义/nw,为/p,\/w,[/w,h/en,(/w,x/en,)/w, ,=/w, , ,-/w, ,\/w,sum/en,\/w,limits/en,_,{/w,i/en, ,=/w, ,1/m,}/w,^,n/en, ,{/w,{/w,p/en,_,i/en,}/w,\/w,log/en, ,{/w,p/en,_,i/en,}/w,}/w, ,\/w,]/w,信息/n,增益/v,：/w,训练/vn,集/vg,为/p,\/w,(/w,d/en,\/w,)/w,，/w,\/w,(/w,|/w,d/en,|/w,\/w,)/w,为/p,样本/n,容量/n,，/w,设有/v,k/en,个/q,类/q,\/w,(/w,{/w,c/en,_,k/en,}/w,\/w,)/w,,/w,k/en,=/w,1/m,,/w,./w,./w,./w,k/en,,/w, ,\/w,(/w,{/w,|/w,c/en,_,k/en,|/w,}/w,\/w,)/w,为/p,类/q,\/w,(/w,{/w,c/en,_,k/en,}/w,\/w,)/w,的/u,样本/n,个数/n,，/w,且/c,有/v,\/w,(/w,\/w,sum/en,\/w,limits/en,_,{/w,i/en, ,=/w, ,1/m,}/w,^,k/en, ,{/w,|/w,{/w,c/en,_,k/en,}/w,|/w,}/w, , ,=/w, ,|/w,d/en,|/w,\/w,)/w,设/v,特征/n,a/en,有/v,n/en,个/q,不同/a,取值/v,\/w,(/w,\/w,{/w, ,{/w,a/en,_,{/w,1/m,,/w,}/w,}/w,{/w,a/en,_,2/m,}/w,,/w, ,\/w,cdots/en, ,,/w,{/w,a/en,_,n/en,}/w,\/w,}/w, ,\/w,)/w, , ,，/w,根据/p,a/en,的/u,值/n,，/w,将/d,d/en,划分/v,为/p,n/en,个/q,子集/n,\/w,(/w,{/w,d/en,_,1/m,}/w,,/w,{/w,d/en,_,2/m,}/w,,/w, ,\/w,cdots/en, ,,/w,{/w,d/en,_,n/en,}/w,\/w,)/w,，/w, ,\/w,(/w,{/w,|/w,d/en,_,i/en,|/w,}/w,\/w,)/w,为/p,\/w,(/w,{/w,d/en,_,i/en,}/w,\/w,)/w, ,的/u,样本数/n,，/w,\/w,(/w,\/w,sum/en,\/w,limits/en,_,{/w,i/en, ,=/w, ,1/m,}/w,^,n/en, ,{/w,|/w,{/w,d/en,_,i/en,}/w,|/w,}/w, , ,=/w, ,|/w,d/en,|/w,\/w,)/w,。/w,记子集/nw,\/w,(/w,{/w,d/en,_,i/en,}/w,\/w,)/w,中/f,属于/v,类/q,\/w,(/w,{/w,c/en,_,k/en,}/w,\/w,)/w,的/u,样本/n,集合/v,为/p,\/w,(/w,{/w,d/en,_,{/w,ik/en,}/w,}/w,\/w,)/w,，/w,即/v,\/w,(/w,{/w,d/en,_,{/w,ik/en,}/w,}/w, ,=/w, ,{/w,d/en,_,i/en,}/w, ,\/w,cap/en, ,{/w,c/en,_,k/en,}/w,\/w,)/w,。/w,\/w,(/w,{/w,|/w,d/en,_,{/w,ik/en,}/w,|/w,}/w,\/w,)/w,为/p,\/w,(/w,{/w,d/en,_,{/w,ik/en,}/w,}/w,\/w,)/w,的/u,样本/n,个数/n,。/w,（/w,1/m,）/w,数据集/nw,d/en,的/u,经验/n,熵/g,h/en,(/w,d/en,)/w,\/w,[/w,h/en,(/w,d/en,)/w, ,=/w, , ,-/w, ,\/w,sum/en,\/w,limits/en,_,{/w,k/en, ,=/w, ,1/m,}/w,^,k/en, ,{/w,\/w,frac/en,{/w,{/w,|/w,{/w,c/en,_,k/en,}/w,|/w,}/w,}/w,{/w,{/w,|/w,d/en,|/w,}/w,}/w,{/w,{/w,\/w,log/en, ,}/w,_,2/m,}/w,}/w, ,\/w,frac/en,{/w,{/w,|/w,{/w,c/en,_,k/en,}/w,|/w,}/w,}/w,{/w,{/w,|/w,d/en,|/w,}/w,}/w,\/w,]/w,（/w,2/m,）/w,特征/n,a/en,对/p,数据集/nw,d/en,的/u,经验/n,条件/n,熵/g,h/en,(/w,d/en,|/w,a/en,)/w,\/w,[/w,h/en,(/w,d/en,|/w,a/en,)/w, ,=/w, ,\/w,sum/en,\/w,limits/en,_,{/w,i/en, ,=/w, ,1/m,}/w,^,n/en, ,{/w,\/w,frac/en,{/w,{/w,|/w,{/w,d/en,_,i/en,}/w,|/w,}/w,}/w,{/w,{/w,|/w,d/en,|/w,}/w,}/w,h/en,(/w,{/w,d/en,_,i/en,}/w,)/w, ,=/w, , ,-/w, ,}/w, ,\/w,sum/en,\/w,limits/en,_,{/w,i/en, ,=/w, ,1/m,}/w,^,n/en, ,{/w,\/w,frac/en,{/w,{/w,|/w,{/w,d/en,_,i/en,}/w,|/w,}/w,}/w,{/w,{/w,|/w,d/en,|/w,}/w,}/w,\/w,sum/en,\/w,limits/en,_,{/w,k/en, ,=/w, ,1/m,}/w,^,k/en, ,{/w,\/w,frac/en,{/w,{/w,|/w,{/w,d/en,_,{/w,ik/en,}/w,}/w,|/w,}/w,}/w,{/w,{/w,|/w,{/w,d/en,_,i/en,}/w,|/w,}/w,}/w,}/w, ,}/w, ,{/w,\/w,log/en, ,_,2/m,}/w,\/w,frac/en,{/w,{/w,|/w,{/w,d/en,_,{/w,ik/en,}/w,}/w,|/w,}/w,}/w,{/w,{/w,|/w,{/w,d/en,_,i/en,}/w,|/w,}/w,}/w,\/w,]/w,（/w,3/m,）/w,计算/v,信息/n,增益/v,\/w,[/w,g/en,(/w,d/en,,/w,a/en,)/w, ,=/w, ,h/en,(/w,d/en,)/w, ,-/w, ,h/en,(/w,d/en,|/w,a/en,)/w,\/w,]/w,信息/n,增益/v,越/d,大/a,，/w,表示/v,a/en,对/p,d/en,趋于/v,有序/a,的/u,贡献/n,越/d,大/a,。/w,-------------------------------/nrf,分割线/nw,------------------------------------------------/nrf,决策/n,树/v,的/u,r/en,语言/n,实现/v,如下/v,：/w,library/en,(/w,plyr/en,)/w,#, ,测试/vn,数据集/nw, ,http/en,:/w,//w,//w,archive/en,./w,ics/en,./w,uci/en,./w,edu/en,//w,ml/en,//w,datasets/en,//w,car/en,+/w,evaluation/en,#,#,计算/v,训练/vn,集合/v,d/en,的/u,熵/g,h/en,（/w,d/en,）/w,#,#,输入/v,：/w,traindata/en, ,训练/vn,集/vg,，/w,类型/n,为数据框/nw,#,#, , , , , , ,nclass/en, ,指明/v,训练/vn,集中/v,第/m,nclass/en,列为/v,分类/vn,结果/n,#,#,输出/v,：/w,训练/vn,集/vg,的/u,熵/g,cal/en,_,hd/en, ,</w,-/w, ,function/en,(/w,traindata/en,,/w, ,nclass/en,)/w,{/w,if/en, ,(/w, ,!/w,(/w,is/en,./w,data/en,./w,frame/en,(/w,traindata/en,)/w, ,&/w, ,is/en,./w,numeric/en,(/w,nclass/en,)/w,)/w, ,)/w,"/w,input/en, ,error/en,"/w,if/en, ,(/w,length/en,(/w,traindata/en,)/w, ,</w, ,nclass/en,)/w,"/w,nclass/en, ,is/en, ,larger/en, ,than/en, ,the/en, ,length/en, ,of/en, ,traindata/en,"/w,rownum/en, ,</w,-/w, ,nrow/en,(/w,traindata/en,)/w,#,对/p,第/m,nclass/en,列/v,的/u,值/n,统计/v,频数/nw,calss/en,./w,freq/en, ,</w,-/w, ,count/en,(/w,traindata/en,,/w,nclass/en,)/w,#,计算/v,每个/r,取值/v,的/u, , ,概率/n,*/w,log/en,2/m,(/w,概率/n,)/w,calss/en,./w,freq/en, ,</w,-/w, ,mutate/en,(/w,calss/en,./w,freq/en,,/w, ,freq/en,2/m, ,=/w, ,(/w,freq/en, ,//w, ,rownum/en,)/w,*/w,log/en,2/m,(/w,freq/en, ,//w, ,rownum/en,)/w,)/w,-/w,sum/en,(/w,calss/en,./w,freq/en,[/w,,/w,"/w,freq/en,2/m,"/w,]/w,)/w,#,使用/v,arrange/en,代替/v,order/en,，/w,方便/a,的/u,按照/p,多/a,列/v,对/p,数据框/nw,进行/v,排序/vn,#,mtcars/en,./w,new/en,2/m, ,</w,-/w, ,arrange/en,(/w,mtcars/en,,/w, ,cyl/en,,/w, ,vs/en,,/w, ,gear/en,)/w,}/w,#,cal/en,_,hd/en,(/w,mtcars/en,,/w,11/m,)/w,#,#,计算/v,训练/vn,集合/v,d/en,对/p,特征/n,值/n,a/en,的/u,条件/n,熵/g,h/en,（/w,d/en,|/w,a/en,）/w,#,#,输入/v,：/w,traindata/en, ,训练/vn,集/vg,，/w,类型/n,为数据框/nw,#,#, , , , , , ,nclass/en, ,指明/v,训练/vn,集中/v,第/m,nclass/en,列为/v,分类/vn,结果/n,#,#, , , , , , ,na/en, ,指明/v,traindata/en,中/f,条件/n,a/en,的/u,列号/nr,#,#,输出/v,：/w,训练/vn,集/vg,traindata/en,对/p,特征/n,a/en,的/u,条件/n,熵/g,cal/en,_,hda/en, ,</w,-/w, ,function/en,(/w,traindata/en,,/w, ,nclass/en,,/w, ,na/en,)/w,{/w,rownum/en, ,</w,-/w, ,nrow/en