本文/r,结构/n,：/w,是/v,什么/r,？/w,有/v,什么/r,算法/n,？/w,数学/n,原理/n,？/w,编码/n,实现/v,算法/n,？/w,1/m,./w, ,是/v,什么/r,？/w,简单/a,地/u,理解/v,，/w,就是/d,根据/p,一些/m, ,feature/en, ,进行/v,分类/vn,，/w,每个/r,节点/n,提/v,一个/m,问题/n,，/w,通过/p,判断/v,，/w,将/d,数据/n,分为/v,几/m,类/q,，/w,再/d,继续/v,提问/vn,。/w,这些/r,问题/n,是/v,根据/p,已/d,有/v,数据/n,学习/v,出来/v,的/u,，/w,再/d,投入/v,新/a,数据/n,的/u,时候/n,，/w,就/d,可以/v,根据/p,这/r,棵/q,树上/s,的/u,问题/n,，/w,将/d,数据/n,划分/v,到/v,合适/a,的/u,叶子/n,上/f,。/w,2/m,./w, ,有/v,什么/r,算法/n,？/w,常用/a,的/u,几/m,种/q,决策/n,树/v,算法/n,有/v,id/en,3/m,、/w,c/en,4.5/m,、/w,cart/en,：/w,id/en,3/m,：/w,选择/v,信息/n,熵/g,增益/v,最/d,大/a,的/u,feature/en,作为/v,node/en,，/w,实现/v,对/p,数据/n,的/u,归纳/v,分类/vn,。/w,c/en,4.5/m,：/w,是/v,id/en,3/m,的/u,一个/m,改进/v,，/w,比/p,id/en,3/m,准确率/n,高/a,且/c,快/a,，/w,可以/v,处理/v,连续/a,值/n,和/c,有/v,缺失/n,值/n,的/u,feature/en,。/w,cart/en,：/w,使用/v,基尼/nr,指数/n,的/u,划分/v,准则/n,，/w,通过/p,在/p,每个/r,步骤/n,最/d,大/a,限度/n,降低/v,不/d,纯洁/a,度/q,，/w,cart/en,能够/v,处理/v,孤立点/nw,以及/c,能够/v,对/p,空缺/v,值/n,进行/v,处理/v,。/w,3/m,./w, ,数学/n,原理/n,？/w,id/en,3/m,:/w, ,iterative/en, ,dichotomiser/en, ,3/m,参考/v,下面/f,这个/r,数据集/nw,，/w,可以/v,同时/c,被/p,上面/f,两颗/mq,树/v,表示/v,，/w,结果/n,是/v,一样/u,的/u,，/w,而/c,我们/r,更/d,倾向/n,于/p,选择/v,简单/a,的/u,树/v,。/w,那么/r,怎样/r,做/v,才/d,能/v,使得/v,学习/v,到/v,的/u,树/v,是/v,最/d,简单/a,的/u,呢/y,？/w,下面/f,是/v, ,id/en,3/m,（/w, ,iterative/en, ,dichotomiser/en, ,3/m, ,）/w,的/u,算法/n,：/w,例如/v,下面/f,数据集/nw,，/w,哪个/r,是/v,最/d,好/a,的/u, ,attribute/en,？/w,用/p,熵/g,entropy/en,来/v,衡量/v,：/w,e/en,(/w,s/en,)/w, ,是/v,数据集/nw,s/en,的/u,熵/g,i/en, ,指/v,每个/r,结果/n,，/w,即/v, ,no/en,，/w,yes/en,的/u,概率/n,e/en,越/d,大/a,意味/n,着/u,信息/n,越/d,混乱/a,，/w,我们/r,的/u,目标/n,是/v,要/v,让/v,e/en,最小/a,。/w,e/en,在/p,0/m,-/w,1/m,之间/f,，/w,如果/c,p/en,＋/w,的/u,概率/n,在/p,0.5/m,，/w, ,此时/r,e/en,最大/a,，/w,这时候/r,说明/v,信息/n,对/p,我们/r,没有/v,明确/ad,的/u,意义/n,，/w,对/p,分类/vn,没有/v,帮助/v,。/w,但是/c,我们/r,不仅仅/d,想/v,要/v,变量/n,的/u,e/en,最小/a,，/w,还/d,想/v,要/v,这/r,棵/q,树/v,是/v, ,well/en, ,organized/en,。/w,所以/c,用/p,到/v, ,gain/en,：/w,信息/n,增益/v,意思/n,是/v,如果/c,我/r,后面/f,要/v,用/p,这个/r,变量/n,的话/u,，/w,它/r,的/u,e/en,会/v,减少/v,多少/r,。/w,例如/v,下面/f,的/u,数据集/nw,：/w,先/d,计算/v,四个/m,feature/en,的/u,熵/g,e/en,，/w,及其/c,分支/n,的/u,熵/g,，/w,然后/c,用/p,gain/en,的/u,公式/n,计算/v,信息/n,增益/v,。/w,再/d,选择/v,gain/en,最/d,大/a,的/u,特征/n,是/v, ,outlook/en,。/w,第一/m,层/q,选择/v,出来/v,后/f,，/w,各个/r,分支/n,再/d,继续/v,选择/v,下/f,一层/mq,，/w,计算/v,gain/en,最/d,大/a,的/u,，/w,例如/v,分支/n, ,sunny/en, ,的/u,下/f,一层/mq,节点/n,是/v, ,humidity/en,。/w,详细/ad,的/u,计算/v,步骤/n,可以/v,参考/v,这/r,篇/q,博文/nz,。/w,c/en,4.5/m,参考/v,id/en,3/m,有/v,个/q,局限/v,是/v,对于/p,有/v,大量/m,数据/n,的/u,feature/en,过于/d,敏感/a,，/w,c/en,4.5/m,是/v,它/r,的/u,一个/m,改进/v,，/w,通过/p,选择/v,最/d,大/a,的/u,信息/n,增益率/nw, ,gain/en, ,ratio/en, ,来/v,选择/v,节点/n,。/w,而且/c,它/r,可以/v,处理/v,连续/a,的/u,和/c,有/v,缺失/n,值/n,的/u,数据/n,。/w,p/en,’/w, ,(/w,j/en,//w,p/en,)/w, ,is/en, ,the/en, ,proportion/en, ,of/en, ,elements/en, ,present/en, ,at/en, ,the/en, ,position/en, ,p/en,,/w, ,taking/en, ,the/en, ,value/en, ,of/en, ,j/en,-/w,th/en, ,test/en,./w,例如/v, ,outlook/en, ,作为/v,第一/m,层/q,节点/n,后/f,，/w,它/r,有/v, ,3/m, ,个/q,分支/n,，/w,分别/d,有/v, ,5/m,，/w,4/m,，/w,5/m, ,条/q,数据/n,，/w,则/d, ,splitinfo/en,(/w,5/m,,/w,4/m,,/w,5/m,)/w, ,=/w, ,-/w,5/m,//w,14/m,log/en,(/w,5/m,,/w,14/m,)/w,-/w,4/m,//w,14/m,log/en,(/w,4/m,,/w,14/m,)/w,-/w,5/m,//w,14/m,(/w,5/m,,/w,14/m,)/w, ,，/w,其中/r, ,log/en,(/w,5/m,,/w,14/m,)/w, ,即/v,为/p, ,log/en,2/m,(/w,5/m,//w,14/m,)/w,。/w,下面/f,是/v,一个/m,有/v,连续/a,值/n,和/c,缺失/n,值/n,的/u,例子/n,：/w,连续/a,值/n,第一/m,步/q,计算/v, ,gain/en,，/w,除了/p,连续/a,值/n,的/u, ,humudity/en,，/w,其他/r,步骤/n,和/c,前文/n,一样/u,。/w,要/v,计算/v, ,humudity/en, ,的/u, ,gain/en, ,的话/u,，/w,先/d,把/p,所有/b,值/n,升序/n,排列/v,：/w,{/w,65/m,,/w, ,70/m,,/w, ,70/m,,/w, ,70/m,,/w, ,75/m,,/w, ,78/m,,/w, ,80/m,,/w, ,80/m,,/w, ,80/m,,/w, ,85/m,,/w, ,90/m,,/w, ,90/m,,/w, ,95/m,,/w, ,96/m,}/w,然后/c,把/p,重复/v,的/u,去掉/v,：/w,{/w,65/m,,/w, ,70/m,,/w, ,75/m,,/w, ,78/m,,/w, ,80/m,,/w, ,85/m,,/w, ,90/m,,/w, ,95/m,,/w, ,96/m,}/w,如/v,下/f,图/n,所/u,示/vg,，/w,按/p,区间/n,计算/v, ,gain/en,，/w,然后/c,选择/v,最/d,大/a,的/u, ,gain/en, ,(/w,s/en,,/w, ,humidity/en,)/w, ,=/w, ,0.102/m,因为/c, ,gain/en,(/w,s/en,,/w, ,outlook/en,)/w, ,=/w, ,0/m, ,./w,246/m,，/w,所以/c,root/en,还是/c,outlook/en,：/w,缺失/n,值/n,处理/v,有/v,缺失/n,值/n,的/u,数据/n,时候/n,，/w,用/p,下/f,图/n,的/u,公式/n,：/w,例如/v, ,d/en,12/m, ,是/v,不/d,知道/v,的/u,。/w,计算/v,全集/n,和/c, ,outlook/en, ,的/u, ,info/en,，/w,其中/r,几/m,个/q,分支/n,的/u,熵/g,如下/v,，/w,再/d,计算/v,出/v, ,outlook/en, ,的/u, ,gain/en,：/w,比较/d,一下/m, ,id/en,3/m, ,和/c, ,c/en,4.5/m, ,的/u,准确率/n,和/c,时间/n,：/w,accuracy/en, ,：/w,execution/en, ,time/en,：/w,4/m,./w, ,编码/n,实现/v,算法/n,？/w,代码/n,可以/v,看/v,《/w,机器/n,学习/v,实战/n,》/w,这/r,本/r,书/n,和/c,这/r,篇/q,博客/n,。/w,完整/a,代码/n,可以/v,在/p, ,github/en, ,上/f,查看/v,。/w,接下来/l,以/p, ,c/en,4.5/m, ,的/u,代码/n,为/p,例/n,：/w,1/m,./w, ,定义/n,数据/n,：/w,1/m, ,def/en, ,createdataset/en,(/w,)/w,:/w, ,2/m, ,dataset/en, ,=/w, ,[/w,[/w,0/m,,/w, ,0/m,,/w, ,0/m,,/w, ,0/m,,/w, ,'/w,n/en,'/w,]/w,,/w, ,3/m, ,[/w,0/m,,/w, ,0/m,,/w, ,0/m,,/w, ,1/m,,/w, ,'/w,n/en,'/w,]/w,,/w, ,4/m, ,[/w,1/m,,/w, ,0/m,,/w, ,0/m,,/w, ,0/m,,/w, ,'/w,y/en,'/w,]/w,,/w, ,5/m, ,[/w,2/m,,/w, ,1/m,,/w, ,0/m,,/w, ,0/m,,/w, ,'/w,y/en,'/w,]/w,,/w, ,6/m, ,[/w,2/m,,/w, ,2/m,,/w, ,1/m,,/w, ,0/m,,/w, ,'/w,y/en,'/w,]/w,,/w, ,7/m, ,[/w,2/m,,/w, ,2/m,,/w, ,1/m,,/w, ,1/m,,/w, ,'/w,n/en,'/w,]/w,,/w, ,8/m, ,[/w,1/m,,/w, ,2/m,,/w, ,1/m,,/w, ,1/m,,/w, ,'/w,y/en,'/w,]/w,]/w, ,9/m, ,labels/en, ,=/w, ,[/w,'/w,outlook/en,'/w,,/w, ,'/w,temperature/en,'/w,,/w, ,'/w,humidity/en,'/w,,/w, ,'/w,windy/en,'/w,]/w, ,10/m, ,return/en, ,dataset/en,,/w, ,labels/en,2/m,./w, ,计算熵/nw,：/w,1/m, ,def/en, ,calcshannonent/en,(/w,dataset/en,)/w,:/w, ,2/m, ,numentries/en, ,=/w, ,len/en,(/w,dataset/en,)/w, ,3/m, ,labelcounts/en, ,=/w, ,{/w,}/w, ,4/m, ,for/en, ,featvec/en, ,in/en, ,dataset/en,:/w, ,5/m, ,currentlabel/en, ,=/w, ,featvec/en,[/w,-/w,1/m,]/w, ,6/m, ,if/en, ,currentlabel/en, ,not/en, ,in/en, ,labelcounts/en,./w,keys/en,(/w,)/w,:/w, ,7/m, ,labelcounts/en,[/w,currentlabel/en,]/w, ,=/w, ,0/m, ,8/m, ,labelcounts/en,[/w,currentlabel/en,]/w, ,+/w,=/w, ,1/m, ,#, ,数/m,每/r,一类/mq,各/r,多少/r,个/q,，/w, ,{/w,'/w,y/en,'/w,:/w, ,4/m,,/w, ,'/w,n/en,'/w,:/w, ,3/m,}/w, ,9/m, ,shannonent/en, ,=/w, ,0.0/m, ,10/m, ,for/en, ,key/en, ,in/en, ,labelcounts/en,:/w, ,11/m, ,prob/en, ,=/w, ,float/en,(/w,labelcounts/en,[/w,key/en,]/w,)/w,//w,numentries/en, ,12/m, ,shannonent/en, ,-/w,=/w, ,prob/en, ,*/w, ,log/en,(/w,prob/en,,/w, ,2/m,)/w, ,13/m, ,return/en, ,shannonent/en,3/m,./w, ,选择/v,最/d,大/a,的/u,gain/en, ,ratio/en,对应/v,的/u,feature/en,：/w,1/m, ,def/en, ,choosebestfeaturetosplit/en,(/w,dataset/en,)/w,:/w, ,2/m, ,numfeatures/en, ,=/w, ,len/en,(/w,dataset/en,[/w,0/m,]/w,)/w, ,-/w, ,1/m, ,#,feature/en,个数/n, ,3/m, ,baseentropy/en, ,=/w, ,calcshannonent/en,(/w,dataset/en,)/w, ,#,整个/b,dataset/en,的/u,熵/g, ,4/m, ,bestinfogainratio/en, ,=/w, ,0.0/m, ,5/m, ,bestfeature/en, ,=/w, ,-/w,1/m, ,6/m, ,for/en, ,i/en, ,in/en, ,range/en,(/w,numfeatures/en,)/w,:/w, ,7/m, ,featlist/en, ,=/w, ,[/w,example/en,[/w,i/en,]/w, ,for/en, ,example/en, ,in/en, ,dataset/en,]/w, ,#,每个/r,feature/en,的/u,list/en, ,8/m, ,uniquevals/en, ,=/w, ,set/en,(/w,featlist/en,)/w, ,#,每个/r,list/en,的/u,唯一/b,值/n,集合/v, ,9/m, ,newentropy/en, ,=/w, ,0.0/m, ,10/m, ,splitinfo/en, ,=/w, ,0.0/m, ,11/m, ,for/en, ,value/en, ,in/en, ,uniquevals/en,:/w, ,12/m, ,subdataset/en, ,=/w, ,splitdataset/en,(/w,dataset/en,,/w, ,i/en,,/w, ,value/en,)/w, ,#,每个/r,唯一/b,值/n,对应/v,的/u,剩余/vn,feature/en,的/u,组成/v,子集/n, ,13/m, ,prob/en, ,=/w, ,len/en,(/w,subdataset/en,)/w,//w,float/en,(/w,len/en,(/w,dataset/en,)/w,)/w, ,14/m, ,newentropy/en, ,+/w,=/w, ,prob/en, ,*/w, ,calcshannonent/en,(/w,subdataset/en,)/w, ,15/m, ,splitinfo/en, ,+/w,=/w, ,-/w,prob/en, ,*/w, ,log/en,(/w,prob/en,,/w, ,2/m,)/w, ,16/m, ,infogain/en, ,=/w, ,baseentropy/en, ,-/w, ,newentropy/en, ,#,这个/r,feature/en,的/u,infogain/en, ,17/m, ,if/en, ,(/w,splitinfo/en, ,=/w,=/w, ,0/m,)/w,:/w, ,#, ,fix/en, ,the/en, ,overflow/en, ,bug/en, ,18/m, ,continue/en, ,19/m, ,infogainratio/en, ,=/w, ,infogain/en, ,//w, ,splitinfo/en, ,#,这个/r,feature/en,的/u,infogainratio/en, ,20/m, ,if/en, ,(/w,infogainratio/en, ,>, ,bestinfogainratio/en,)/w,:/w, ,#,选择/v,最/d,大/a,的/u,gain/en, ,ratio/en, ,21/m, ,bestinfogainratio/en, ,=/w, ,infogainratio/en, ,22/m, ,bestfeature/en, ,=/w, ,i/en, ,#,选择/v,最/d,大/a,的/u,gain/en, ,ratio/en,对应/v,的/u,feature/en, ,23/m, ,return/en, ,bestfeature/en,4/m,./w, ,划分/v,数据/n,，/w,为/p,下/f,一层/mq,计算/v,准备/v,:/w,1/m, ,def/en, ,splitdataset/en,(/w,dataset/en,,/w, ,axis/en,,/w