AForge . NET 是 基于 C # 设计 的 在 
计算机 视觉 和 人工智能 方向 拥有 很 强大 功能 的 
框架 btw . . . it s an open source 
framework . 附上 官网 地址   http / / www 
. aforgenet . com / aforge / framework /   
今天 要 介绍 的 是 AForge 中的 视频采集 功能 这里/r 
的/uj 视频/n 包括/v 从/p 摄像头/n 等/u 设备/vn 的/uj 输入/v 和从/nr 
视频/n 文件/n 的/uj 输入/v 首先 来 认识 一下 视频 源 
播放器 V i d e o o u r c 
e P l a y e r 从/p 摄像头/n 和/c 
文件/n 输入/v 的/uj 视频/n 都会 通过 它 来 播放 并按 
帧 Frame 来 输出 Bitmap 数据 V i d e 
o o u r c e P l a y 
e r 使用 有 这么 几个 重要 的 步骤 初始化 
它 设置 VideoSource 属性 VideoSource 接受 IVideoSource 类型 的 参数 
对应 到 摄像头 输入 和 文件 输入 我们 分别 会把 
它 设置 为   V i d e o C 
a p t u r e D e v i 
c e 和 /nr FileVideoSource 注册 NewFrame 事件 开始 播放 在 
NewFrame 注册 的 事件 中 处理 每 一帧 的 Bitmap 
处理 完成 后 取消 NewFrame 事件 注册 停止 它 使用 
  SignalToStop and   WaitForStop 整个 使用 过程 是 非常 
简单 的 下面 分别 来 看看 摄像头 输入 和 文件 
输入 的 代码 吧 1 . 摄像头 输入 首先是 初始化 
和 开始 / / 获取 视频 输入设备 列表 F i 
l t e r I n f o C o 
l l e c t i o n devices = 
new F i l t e r I n f 
o C o l l e c t i o 
n FilterCategory . VideoInputDevice / / 获取 第一 个 视频 
设备 示例代码 未 对 devices 个数 为 0 的 情况 
做 处理 V i d e o C a p 
t u r e D e v i c e 
source = new V i d e o C a 
p t u r e D e v i c 
e devices 0 . MonikerString / / 设置 Frame 的 
size 和 rate source . DesiredFrameSize = new Size 640 
360 source . DesiredFrameRate = 1 / / 设置 V 
i d e o o u r c e P 
l a y e r 的 VideoSource V i d 
e o o u r c e P l a 
y e r videoPlayer = new V i d e 
o o u r c e P l a y 
e r videoPlayer . VideoSource = source videoPlayer . NewFrame 
+ = videoPlayer _ NewFrame videoPlayer . Start 这里 是 
NewFrame 事件 代码 private void videoPlayer _ NewFrame object sender 
ref Bitmap image { / / do sth with image 
. . . } 在 使用 完成后 停止 的 代码 
videoPlayer . NewFrame = videoPlayer _ NewFrame videoPlayer . SignalToStop 
videoPlayer . WaitForStop 2 . 文件 输入 首先 是 初始化 
和 开始 / / 活体 对应 视频 路径 的 文件 
作为 视频 源 FileVideoSource videoSource = new FileVideoSource videoFilePath videoPlayer 
. VideoSource = videoSource videoPlayer . NewFrame + = videoPlayer 
_ NewFrame videoPlayer . Start 其余 两 部分 代码 和 
摄像头 输入 是 一样 的 这里 就 不 重复 了 
对于 文件 输入 还 有一点 需要 注意 的 有些 机器 
的 codec 并 不完整 导致 FileVideoSource 读取 某些 格式 比如 
mp4 的 时候 会 出现 读取 错误 这时 需要 安装 
一个 codec 的 pack 就 可以 了 好了 AForge . 
NET 的 视频 采集 功能 就 介绍 完了 接下来 会 
再 挑 一些 AForge 中 有趣 的 功能 来做 介绍 
AForge . NET 是 基于 C # 设计 的 在 
计算机 视觉 和 人工智能 方向 拥有 很 强大 功能 的 
框架 btw . . . it s an open source 
framework . 附上 官网 地址   http / / www 
. aforgenet . com / aforge / framework /   
今天 要 介绍 的 是 AForge 中的 视频采集 功能 这里/r 
的/uj 视频/n 包括/v 从/p 摄像头/n 等/u 设备/vn 的/uj 输入/v 和从/nr 
视频/n 文件/n 的/uj 输入/v 首先 来 认识 一下 视频 源 
播放器 V i d e o o u r c 
e P l a y e r 从/p 摄像头/n 和/c 
文件/n 输入/v 的/uj 视频/n 都会 通过 它 来 播放 并按 
帧 Frame 来 输出 Bitmap 数据 V i d e 
o o u r c e P l a y 
e r 使用 有 这么 几个 重要 的 步骤 初始化 
它 设置 VideoSource 属性 VideoSource 接受 IVideoSource 类型 的 参数 
对应 到 摄像头 输入 和 文件 输入 我们 分别 会把 
它 设置 为   V i d e o C 
a p t u r e D e v i 
c e 和 /nr FileVideoSource 注册 NewFrame 事件 开始 播放 在 
NewFrame 注册 的 事件 中 处理 每 一帧 的 Bitmap 
处理 完成 后 取消 NewFrame 事件 注册 停止 它 使用 
  SignalToStop and   WaitForStop 整个 使用 过程 是 非常 
简单 的 下面 分别 来 看看 摄像头 输入 和 文件 
输入 的 代码 吧 1 . 摄像头 输入 首先是 初始化 
和 开始 / / 获取 视频 输入设备 列表 F i 
l t e r I n f o C o 
l l e c t i o n devices = 
new F i l t e r I n f 
o C o l l e c t i o 
n FilterCategory . VideoInputDevice / / 获取 第一 个 视频 
设备 示例代码 未 对 devices 个数 为 0 的 情况 
做 处理 V i d e o C a p 
t u r e D e v i c e 
source = new V i d e o C a 
p t u r e D e v i c 
e devices 0 . MonikerString / / 设置 Frame 的 
size 和 rate source . DesiredFrameSize = new Size 640 
360 source . DesiredFrameRate = 1 / / 设置 V 
i d e o o u r c e P 
l a y e r 的 VideoSource V i d 
e o o u r c e P l a 
y e r videoPlayer = new V i d e 
o o u r c e P l a y 
e r videoPlayer . VideoSource = source videoPlayer . NewFrame 
+ = videoPlayer _ NewFrame videoPlayer . Start 这里 是 
NewFrame 事件 代码 private void videoPlayer _ NewFrame object sender 
ref Bitmap image { / / do sth with image 
. . . } 在 使用 完成后 停止 的 代码 
videoPlayer . NewFrame = videoPlayer _ NewFrame videoPlayer . SignalToStop 
videoPlayer . WaitForStop 2 . 文件 输入 首先 是 初始化 
和 开始 / / 活体 对应 视频 路径 的 文件 
作为 视频 源 FileVideoSource videoSource = new FileVideoSource videoFilePath videoPlayer 
. VideoSource = videoSource videoPlayer . NewFrame + = videoPlayer 
_ NewFrame videoPlayer . Start 其余 两 部分 代码 和 
摄像头 输入 是 一样 的 这里 就 不 重复 了 
对于 文件 输入 还 有一点 需要 注意 的 有些 机器 
的 codec 并 不完整 导致 FileVideoSource 读取 某些 格式 比如 
mp4 的 时候 会 出现 读取 错误 这时 需要 安装 
一个 codec 的 pack 就 可以 了 好了 AForge . 
NET 的 视频 采集 功能 就 介绍 完了 接下来 会 
再 挑 一些 AForge 中 有趣 的 功能 来做 介绍 
AForge . NET 是 基于 C # 设计 的 在 
计算机 视觉 和 人工智能 方向 拥有 很 强大 功能 的 
框架 btw . . . it s an open source 
framework . 附上 官网 地址   http / / www 
. aforgenet . com / aforge / framework /   
今天 要 介绍 的 是 AForge 中的 视频采集 功能 这里/r 
的/uj 视频/n 包括/v 从/p 摄像头/n 等/u 设备/vn 的/uj 输入/v 和从/nr 
视频/n 文件/n 的/uj 输入/v 首先 来 认识 一下 视频 源 
播放器 V i d e o o u r c 
e P l a y e r 从/p 摄像头/n 和/c 
文件/n 输入/v 的/uj 视频/n 都会 通过 它 来 播放 并按 
帧 Frame 来 输出 Bitmap 数据 V i d e 
o o u r c e P l a y 
e r 使用 有 这么 几个 重要 的 步骤 初始化 
它 设置 VideoSource 属性 VideoSource 接受 IVideoSource 类型 的 参数 
对应 到 摄像头 输入 和 文件 输入 我们 分别 会把 
它 设置 为   V i d e o C 
a p t u r e D e v i 
c e 和 /nr FileVideoSource 注册 NewFrame 事件 开始 播放 在 
NewFrame 注册 的 事件 中 处理 每 一帧 的 Bitmap 
处理 完成 后 取消 NewFrame 事件 注册 停止 它 使用 
  SignalToStop and   WaitForStop 整个 使用 过程 是 非常 
简单 的 下面 分别 来 看看 摄像头 输入 和 文件 
输入 的 代码 吧 1 . 摄像头 输入 首先是 初始化 
和 开始 / / 获取 视频 输入设备 列表 F i 
l t e r I n f o C o 
l l e c t i o n devices = 
new F i l t e r I n f 
o C o l l e c t i o 
n FilterCategory . VideoInputDevice / / 获取 第一 个 视频 
设备 示例代码 未 对 devices 个数 为 0 的 情况 
做 处理 V i d e o C a p 
t u r e D e v i c e 
source = new V i d e o C a 
p t u r e D e v i c 
e devices 0 . MonikerString / / 设置 Frame 的 
size 和 rate source . DesiredFrameSize = new Size 640 
360 source . DesiredFrameRate = 1 / / 设置 V 
i d e o o u r c e P 
l a y e r 的 VideoSource V i d 
e o o u r c e P l a 
y e r videoPlayer = new V i d e 
o o u r c e P l a y 
e r videoPlayer . VideoSource = source videoPlayer . NewFrame 
+ = videoPlayer _ NewFrame videoPlayer . Start 这里 是 
NewFrame 事件 代码 private void videoPlayer _ NewFrame object sender 
ref Bitmap image { / / do sth with image 
. . . } 在 使用 完成后 停止 的 代码 
videoPlayer . NewFrame = videoPlayer _ NewFrame videoPlayer . SignalToStop 
videoPlayer . WaitForStop 2 . 文件 输入 首先 是 初始化 
和 开始 / / 活体 对应 视频 路径 的 文件 
作为 视频 源 FileVideoSource videoSource = new FileVideoSource videoFilePath videoPlayer 
. VideoSource = videoSource videoPlayer . NewFrame + = videoPlayer 
_ NewFrame videoPlayer . Start 其余 两 部分 代码 和 
摄像头 输入 是 一样 的 这里 就 不 重复 了 
对于 文件 输入 还 有一点 需要 注意 的 有些 机器 
的 codec 并 不完整 导致 FileVideoSource 读取 某些 格式 比如 
mp4 的 时候 会 出现 读取 错误 这时 需要 安装 
一个 codec 的 pack 就 可以 了 好了 AForge . 
NET 的 视频 采集 功能 就 介绍 完了 接下来 会 
再 挑 一些 AForge 中 有趣 的 功能 来做 介绍 
