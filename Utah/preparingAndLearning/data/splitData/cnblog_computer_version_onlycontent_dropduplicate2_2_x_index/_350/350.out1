作者 朱建平 腾讯 云 技术 总监 腾讯 TEG 架构 平台 
部 专家 工程师 1 . 关于 人工智能 的 若干 个 
错误 认知 人工智能 是 AI 工程师 的 事情 跟 我 
没有 什么 关系 大 数据 和 机器学习 AI 是 解决 
问题 的 一种 途径 和 手段 具有 通用性 是 一个 
基础 的 技能 当前 我们 工作 中 还有 很多 决策 
是 基于 经验 和 预定 的 规则 未来 这 部分 
决策 可以 通过 AI 让 我们 做得 更 合理 更好 
一些 人工智能 太 厉害 了 未来 会 取代 人类 随着 
人工智能 的 发展 特别 去年 谷歌 的 AlphaGo 围棋 战胜 
代表 人类 的 顶级 棋手 李世石 更是 引爆 了 整个 
互联网 于是 网上 不少 人 开始 了 很多 担忧 机器人 
取代 人类 有些 人 甚至 在 孩子 高考 填志愿 时 
要求 孩子 填报 艺术 创作 类似 的 方向 以 避开 
未来 与 机器人 或 人工智能 的 竞争 实际上 虽然 目前 
人工智能 在 语音 识别 图片 识别 近年来 取得 了 突破 
但 人工智能 还 远未 完善 数学 理论 尚 不完备 智能 
的 取得 建立 在 大量 的 人工 前期 工作 基础 
上 缺乏 无 监督 学习 2 . 传统 开发 转行 
AI 工程师 的 障碍 2.1 急于求成 的 心态 LR SVM 
决策树 DNN CNN AlexNet GoogleNet Caffee TensorFlow 智能 驾驶 AlphaGo 
个性化 推荐 智能 语音 GPU FPGA . . . . 
晕了 没 没 晕 再来 一 波 这 里面 的 
水 很深 不要 太 急躁 很快 能 搞懂 事实上 由于 
数学 理论 不完备 有些 东西 还真 解释 不 清楚 比如 
在 图像 识别 上 ResNet 比 GoogleNet 识别率 更高 ResNet 
是 怎么 推导 出来 的 梳理 好 这些 概念 结合 
实际 应用 化整为零 逐步 理解 和 吸收 有的放矢 不可 操之过急 
2.2 自 底 往上 的 学习 方法 想要 从 基本 
概念学习 建议 结合 应用 场景 先 动手 实践 再 逐步 
细化 推荐 机器学习 周志华 清华大学出版社 3 . AI 工程师 的 
知识 结构 机器 学习 的 基础 知识 3.1 人工智能 机器学习 
深度 学习 的 关系 这 是 现在 大家 经常 混淆 
的 概念 什么 叫做 人工智能 什么 叫做 机器学习 什么 叫做 
深度 学习 人工智能 是 最大 的 范畴 只要 你 用 
计算机 做了 一点 智能 的 事情 都 可以 称为 做了 
人工智能 的 工作 真正 的 人工智能 应该 是 让 机器 
拥有人 的 智能 让 机器 跟人 一样 能看 能听 能说 
能用 自然语言 跟人 进行 交流 这个 涉及 到 计算机 视觉 
语音识别 自然语言 处理 人机交互 语音合成 等等 是 常规 的 我们 
研究 讨论 的 人工智能 的 主要 发力点 在 互联网 公司 
有着 广阔 应用 场景 的 机器学习 可能 是 人工智能 目前 
最 火 的 领域 深度 学习 可能 又是 机器学习 最 
火 的 子 领域 什么 时候 需要 用 人工智能 直觉 
上 来讲 数据 越 复杂 深度 学习 越 可能 起作用 
数据 很 简单 很 明确 深度 学习 可能 就 不怎么 
起 作用 了 比如 搜索 领域 目前 只有 Google 宣称 
他们 用 深度 学习 double 了 用户 点击率 是 指 
他们 将 深度 学习 运用 在 用户 浏览 过 搜索 
过 的 信息 上 那是/nr 非常 庞大 非常 复杂 的 
数据 3.2 机器学习 解决 问题 的 基本 步骤 一般 应用 
机器学习 解决 实际 问题 分为 4个 步骤 1 定义 目标 
问题 目前 还 没 看到 有一个 机器学习 模型 适用 于 
解决 所有 问题 不同 问题 有 各自 适用 的 模型 
如 图像 相关 问题 有 深度 学习 推荐 相关 问题 
有 专门 的 推荐算法 安全 相关 问题 有 异常 检测 
模型 等 脱离 具体问题 去 讨论 模型 是 没有 意义 
的 2 收集 数据 和 特征 工程 机器学习 是 面向 
数据 编程 数据 是 机器 学习 的 基础 训练 模型 
时 一般 会把 样本数据 拆成 两部分 其中 大部分 约 7成 
数据 用于 训练 模型 称 其为 训练 集 另外 少 
部分 数据 用于 测试 模型 的 好坏 也称 泛化 能力 
称 其为 测试 集 同一个 机器学习 算法 好 的 数据 
能 让其 表现 更好 差 的 数据 会 让 模型 
毫无用处 什么 是 好 的 数据 并 没有 统一 定义 
从 结果 看 能让 模型 表现 良好 的 数据 就是 
好 的 数据 一个 可行 的 办法 是 想象 人 
在 解决 该 问题 时 会 依据 哪些 数据 和 
特征 做 决策 然后 挑选 这些 数据 和 特征 作为 
机器学习 模型 的 输入 数据 这个 过程 就是 特征 工程 
在 应用 机器学习 时 可能 需要 反复 做 多次 特征 
工程 特征 工程 是个 试错 的 过程 3 训练 模型 
和 评估 模型 效果 利用 标注 数据 训练 模型 数据 
而 一般 的 步骤 是 a . 从 底层 存储 
读取数据 b . 对 训练 数据 进行 前 向 计算 
c . 计算 训练 误差 d . 反向 计算 梯度 
更新 网络 参数 e . 重复 a d 步 直到 
模型 收敛 测试 模型 效果 一般 测试 数据集 远 小于 
训练 集 这里 主要 是 快速 前 向 计算 一般 
合并 在 第一 步中/nr 4 线上 应用 和 持续 优化 
模型 在 训练 集上 性能 达标 但在 线上 环境 性能 
不 达标 这一 现象 被 称为 过拟合 通常 的 原因 
是 用于 训练 模型 的 数据 中 特征 的 分布 
与 线上 数据 偏差 太大 此时 需 提取 更具 代表性 
的 数据 重新 训练 模型 模型 在线 上 应用 后 
需 持续 跟踪 模型 的 性能 表现 机器学习 是 面向 
数据 编程 如果 线上 系统 上 的 数据 出现 了 
不 包含 在 训练 集中 的 新 特征 需要 补充 
新 样本 重新 训练 迭代模型 以 保证 预测 效果 3.3 
机器 学习 的 相关 概念模型 用途 分类 回归 聚 类 
主要 区分 在于 output 的 描述 是 什么 性质 分类 
是 指 output 是 整数 即 多个 类别 标签 回归 
是 指 output 是 一个 实数 例如 预测 股票 的 
走势 input 是 时间 output 就是 股票价格 聚/v 类/q 一般/a 
都是/nr 应用/v 于非/nr 监督/vn 的/uj 状态/n 下/f 对 output 完全 
不 知道 只能 对 input 数据 本身 进行 统计分析 比如 
用户 画像 通过 数据 之间 的 关系 如 关联 程度 
将 数据 分成 好几 簇 训练 过程 监督 半 监督 
和非/nr 监督 机器学习 是 一个 用 数据 训练 的 过程 
监督 是 指 input 的 每个 数据 样本 我们 明确 
知道 它 的 output 如 类别 标签 是 什么 半 
监督 是 指 我们 只 知道 input 数据 样本 中 
一小部分 的 output 另外 大 部分 不 知道 非 监督 
是 指 所有 input 的 数据 样本 我们 完全 不 
知道 它们 的 output 是 什么 学习 模型 LR / 
SVM / 决策树 传统 的 分类 和聚类/nr DNN 深度 神经网络 
CNN 卷积 神经网络 常用 CNN 模型 AlexNet GoogleNet ResNet 浅层 
和 深层 以前 的 机器 学习 方法 大都 是 浅层 
浅层 学习 模型 是 从 六十 年代 发展 到 现在 
深层 学习 模型 过去 不怎么 work 自 2010年 迄今 有了 
非常大 的 突破 深层 模型 在 大量 至少 百万 级别 
的 有 标签 的 数据 驱动 下 将 input 端 
到 output 端 之间 的 映射 做 的 更深 更 
完善 开源 框架 & 平台 Caffee TensorFlow Google Torch Facebook 
为什么 有 这么 多 深度 学习 框架 参考 Deep Learning 
System Design Concepts http / / mxnet . io / 
architecture / index . html # deep learning system design 
concepts4/i ./i 入门/ns 成为/v AI/w 工程师/n 的/uj 可行/v 路径/n 虽然/c 
从/p 垂直/v 领域/n 讲/v 有/v 语音/n 识别/v 图像 视觉 个性化 
推荐 等 业务 领域 的 AI 工程师 但从 其所 从事 
的 研发 内容 来看 从事 AI 研发 的 工程师 主要 
分为 3类 1 AI 算法 研究 这 类人 大都 有 
博士 学历 在 学校 中 积累 了 较好 的 理论 
和 数学 基础 积累 对/p 最新/d 的/uj 学术/n 成果/n 能/v 
较快/d 理解/v 和/c 吸收/v 这里 的 理论 是 指 比如 
语音 处理 计算机 视觉 等 专业 知识 AI 算法 研究 
的 人 主要 研究 内容 有 样本 特征 模型 设计 
和 优化 模型 训练 样本 特征 是 指 如何 从 
给定 的 数据 中 构建 样本 定义 样本 的 特征 
这在 个性化 推荐 领域 中 就 非常 重要 模型 设计 
和 优化 是 设计 新 的 网络 模型 或 基于 
已有 的 模型 机型 迭代 优化 比如 CNN 网络 模型 
中 AlexNet GoogleNet v1 / v2 / v3 ResNet 等 
新 模型 的 不断 出现 另外 就是 比如 模型 剪枝 
在 损失 5% 计算精度 情况下 减少 80% 计算 量 以 
实现 移动 终端 的 边缘 计算 等等 模型 训练 是 
指 训练 网络 如何 防止 过拟合 以及 快速 收敛 2 
AI 工程 实现 这 类人 主要 提供 将 计算 逻辑 
硬件 封装 打 包起来 方便 模型 的 训练 和 预测 
比如 精通 Caffee / TensorFlow 等 训练 框架 源码 能 
熟练 使用 并 做 针对性 优化 构建 机器学习 平台 降低 
使用 门槛 通过/p 页面/n 操作/v 提供/v 样本/n 和/c 模型/n 就/d 
能/v 启动/vn 训练/vn 通过 FPGA 实行 硬件加速 实现 更低 延时 
和 成本 的 模型 预测 在 新 模型 验证 完成后 
实现 在线 平滑 的 模型 切换 3 AI 应用 侧重 
验证 好 的 模型 在 业务 上 的 应用 常见 
语音识别 图像 视觉 个性化 推荐 当然 这 也 包括 更多 
结合 业务 场景 的 应用 比如 终端 网络 传输 带宽 
的 预测 图片 转码 中 参数 的 预测 等等 5 
. DNN 和 CNN 网络 5.1 DNN 原理 DNN 深度 
神经 网络 是 模拟 人脑 的 神经元 工作 机制 构建 
的 计算 处理 模型 激活 函数 常用 的 有 sigmoid 
ReLU 等 比如 典型 的 sigmoid 函数 多个 神经元 分层 
组织起来 构成 了 一个 网络 早期 神经元网络 仅能 做到 浅层 
在 训练 方法 和 计算 能力 获得 突破 后 深层 
神经网络 DNN 得到 了 更 广泛 研究 和 应用 5.2 
CNN 原理 简化 的 计算 过程 上图 展示 了 一次 
卷积 计算 一个 66 的 图片 I 使用 卷积 核 
F 进行 卷积 得到 输出 图片 O 输入 图片 中 
在 patch 范围内 的 元素 和 卷积 核 中 对应 
的 元素 相乘 最后 乘积 结果 相加 真实 的 计算 
过程 上图 是 三维 卷积 的 展示 对于 第一层 来说 
卷积 核 是 11x11x3 在 输入 立方体 227x227x3 上 进行 
滑动 对应 图表 2 中的 k = 11 N = 
227 D = 3 . 卷积 算法 就是 卷积 核 
11x11x3 和 立方体 227x227x3 的 重叠 的 每个 值 做 
乘 运算 再把 乘 的 结果 做 累加 最后 得到 
一个 值 数学公式 为 y = x 0 k 0 
+ x 1 k 1 + + x 362 k 
362 因为 卷积 核 11x11x3 共有 363个 值 所以 我们 
可以 看成 一个 1x363 的 矩阵 乘以 363x1 矩阵 6 
. AI 开发 的 典型 场景 训练 采用 caffee 单机 
框架 单机 2 卡 K80 GPU 为 充分 发挥 GPU 
采用 了 数据 并行 一 次一个 batch 256张 图片 输入 
alexnet 网络 分为 前 5层 卷积 层 后/f 3层/mq 为/p 
全/a 连接/v 层/q 主要 的 计算 在 卷积 计算 我们 
将 其 用 FPGA 实现 全 连接 层 采用 CPU 
实现 海量 准确 的 样本 也 是个 细致 活 需要 
不断 运营 腾讯/nz 云/ns GPU/w 云/ns 客户/n 案例/n 香港/ns 理工/n 
项目/n 该/r 实验/vn 项目/n 是/v 基于/p 美国/ns 气象/n 局/n 提供/v 
的/uj 10年/tdq 的/uj 气象/n 数据/n 包括 温度 湿度 风向 风速 
降雨量 云层 厚度 云图 空气 浑浊度 日照 等 数据 对 
未来 一段 时间 的 天气 进行 预测 在 该 项目 
中 我们 使用 Google 进行 基于 神经网络 深度 学习 的 
Tensorflow 框架 用 Python2 . 7 进行 开发 并且在 GPU 
上 对 深度 神经 网络 进行 训练 7 . CPU 
GPU FPGA 区别 大多数 人 可能 有个/nr 大致 的 认识 
训练 用 GPU 预测 用 CPU 或者 FPGACPU 开发 门槛 
低 未来 主要 承载 高性能 网络 计算 分拆 出来 的 
逻辑 复杂 不适合 并行计算 的 部分 GPGPU 最新 的 P40 
P100 系列 采用 16nm 工艺 因其 Cuda 开发 环境 比较 
成熟 学习 成本低 灵活性 高 将 继续 在 AI 的 
模型 训练 阶段 发挥 关键 作用 FPGA 最新 的 YV9P 
16nm FPGA 之前 强调 节能 单 FPGA 在 数据 中心 
的 部署 也 是 一个 全新 的 课题 未来 可能 
会 加强 HBM2 片上 DDR 内存容量 和 带宽 的 增长 
未来 在 在线 模型 预测 方面 发挥 重要 作用 但 
IP 不足 开发 周期 长 是 一个 瓶颈 FPGA 卡 
驱动 开发 IP 实现 导致 使用 门槛 较高 未来 会在 
FPGA 云上/nr 消除 这些 应用 障碍 8 . 腾讯 云的/nr 
GPU 云 FPGA 云 进展 8.1 腾讯 云 Skylake CPU2017 
年 2月 腾讯 云 宣布 在 国内 率先 使用 英特尔 
下一代 至强 ® 处理器 代号 Skylake 推出 国内 最新 一代 
云 服务器 新一代 云 服务器 在 计算 性能 内存带宽 网络 
时延 等 方面 拥有 显著 优势 最高 可 提供 96 
vCPU 可/v 满足/v 企业/n 对/p 云/ns 服务器/n 高/a 规格/n 高/a 
配置/v 的/uj 广泛/a 需求/v 尤其 在 人工 智能 等 高性能 
计算 领域 将 发挥 更大 价值 据介绍 目前/t 腾讯/nz 云/ns 
官网/i 已/d 开放/v 新一代/t 云/ns 服务器/n 的/uj 试用/vn 申请/v 客户 
将 花费 更低 的 购买 价格 享受 到 更高 性能 
计算 服务 与 过往 采用 至强 系列 处理器 的 云 
服务器 相比 内置 Skylake 至强 ® 处理器 的 新一代 云 
服务器 具有 更高 计算 性能 更大 内存带宽 更强 存储 I 
/ O 性能 更低 网络 时延 等 优势 能 满足 
游戏 行业 视频 行业 金融 行业 等 领域 的 更高 
计算 需求 具体 而言 Skylake 至强 ® 处理器 具备 的 
更优 特性 主要 包括 Skylake 至强 ® 处理器 支持 AVX 
512 指令 可 支持 更大 数据 宽度 处理 能 加速 
多媒体 编解码 加解密 数值 运算 在 机器学习 科学计算 和 金融 
分析 等 需要 顶尖 的 浮点运算 功能 的 场景 提供 
更 优质 的 处理 性能 Skylake 至强 ® 处理器 支持 
Omni Path 互联 架构 有助于 提供 更快 的 数据 访问 
效率 更低 的 延时 服务 8.2 腾讯/nz 云/ns GPU/w 腾讯/nz 
云/ns 推出/v 基于/p NVIDIA/w 最新/d 企业级/n 产品/n M40 和 P40 
的/uj 云/ns 产品/n GPU/w 云/ns 服务器/n 和/c GPU/w 黑石/nr 服务器/n 
其中 基于 M40 的 GPU 云 服务器 已于 2016 年底 
正式 上线 今年 上半年 腾讯/nz 云/ns 还将/i 推出/v 1/m 机/n 
8/m 卡/n 的/uj GPU/w 云/ns 服务器/n 单机 多 卡 整机 
性能 更高 可以满足 超大 数据量 超大规模 机器学习 算法 需求 最大化 
提升 计算 效率 G2 实例 最多 可 提供 2 个 
NVIDIA M40 GPU 56 个 vCPU 和 120GB 主机 内存 
以及 双卡/nr 48GB 的 GDDR5 显存 GPU 云 服务器 拥有 
高达 6144个 加速 核心 单机 峰值 计算能力 突破 14T Flops 
单精度 浮点运算 0.4 T Flops 双 精度 浮点运算 在 视频 
渲染 虚拟化 桌面 深度 学习 等 对 计算 能力 要求 
极高 的 场景 中 腾讯/nz 云/ns GPU/w 云/ns 服务器/n 以及/c 
GPU/w 黑石/nr 服务器/n 都有/nr 广泛/a 的/uj 应用/v 前景/n 同时 还 
能 满足 图形 数据库 高性能 数据库 计算 流体 动力学 计算 
金融 地震 分析 分子 建模 基因组学 渲染 等 领域 对 
基础 设施 的 高要求 且 极具 性价比 目前 GPU 云 
服务器 已 开放 官网 申请 腾讯 GPU 云 申请 8.3 
腾讯/nz 云/ns FPGA/w 腾讯/nz 云在/nr 年前/t 宣布/v 推出/v 国内/s 首款/n 
高性能/n 异构计算/n 基础/n 设施/n FPGA 云 服务器 已于 2017年 1月 
内测 上线 以 云 服务 方式 将 大型 公司 才能 
长期 支付 使用 的 FPGA 推广 到 更多 企业 腾讯 
云和 业界 厂商 有 良好 的 关系 提供 了 基于 
Intel 和 Xilinx 两家 的 硬件 平台 和 软件 开发工具 
方便 开发 者 选择 自己 熟悉 的 开发 模式 避免 
切换 平台 1 硬件平台 腾讯 云 即将 发布 基于 Intel/w 
和/c Xilinx/w 的/uj 单机/n 4/m 卡/n FPGA/w 云/ns 服务器/n 推出 
多种 规格 的 FPGA 实例 供 您 选择 单机 多 
卡 整机 性能 更高 可以满足 超大 数据量 超大规模 机器学习 算法 
需求 也 可选择 单卡 可 节省 计算 效率 轻资产 开发 
降低 项目 研发 期间 的 投入 成本 2 腾讯 云 
官方 FPGA IPAlexnet 网络 模型 预测 加速 已 上线 用于 
图片 鉴 黄的/nr 粗筛 Googlenetv1 网络 模型 预测 加速 今年 
上半年 用于 图片 鉴 黄的/nr 精选 同步 开放 的 还有 
内部 使用 的 图片 压缩 IP 3 FPGA 生态建设 我们 
通过 IP 市场 以 开放 合作 的 心态 引入 更多 
第三 方 成熟 的 AI IP 进来 为 FPGA 生态 
的 发展 注入 新的 生机 Q & A 机器学习 对于 
模 仿人 的 思考 是 怎么 做到 的 现在 机器学习 
模 仿人 的 思考 做 的 比较 原始 目前 主要 
还是 提取 人做 某项 决策 时 考虑 的 主要 因素 
在 机器 学习 中 我们 叫 样本 特征 来 告诉 
模型 当 遇到 类似 特征 时 应该 输出 什么 相关 
阅读 腾讯/nz GPU/w 云/ns 申请/v 人人/n 都/d 可以/c 做/v 深度/ns 
学习/v 应用/v 入门篇 此文 已由 作者 授权 腾讯 云 技术 
社区 发布 转载 请 注明 文章 出处 获取 更 多云 
计算技术 干货 可/v 请/v 前往/t 腾讯/nz 云/ns 技术/n 社区/n 欢迎/v 
大家/n 关注/v 腾讯/nz 云/ns 技术/n 社区/n 博客园 官方主页 我们 将 
持续 在 博客园 为 大家 推荐 技术 精品 文章 哦 
~ 作者 朱建平 腾讯 云 技术 总监 腾讯 TEG 架构 平台 
部 专家 工程师 1 . 关于 人工智能 的 若干 个 
错误 认知 人工智能 是 AI 工程师 的 事情 跟 我 
没有 什么 关系 大 数据 和 机器学习 AI 是 解决 
问题 的 一种 途径 和 手段 具有 通用性 是 一个 
基础 的 技能 当前 我们 工作 中 还有 很多 决策 
是 基于 经验 和 预定 的 规则 未来 这 部分 
决策 可以 通过 AI 让 我们 做得 更 合理 更好 
一些 人工智能 太 厉害 了 未来 会 取代 人类 随着 
人工智能 的 发展 特别 去年 谷歌 的 AlphaGo 围棋 战胜 
代表 人类 的 顶级 棋手 李世石 更是 引爆 了 整个 
互联网 于是 网上 不少 人 开始 了 很多 担忧 机器人 
取代 人类 有些 人 甚至 在 孩子 高考 填志愿 时 
要求 孩子 填报 艺术 创作 类似 的 方向 以 避开 
未来 与 机器人 或 人工智能 的 竞争 实际上 虽然 目前 
人工智能 在 语音 识别 图片 识别 近年来 取得 了 突破 
但 人工智能 还 远未 完善 数学 理论 尚 不完备 智能 
的 取得 建立 在 大量 的 人工 前期 工作 基础 
上 缺乏 无 监督 学习 2 . 传统 开发 转行 
AI 工程师 的 障碍 2.1 急于求成 的 心态 LR SVM 
决策树 DNN CNN AlexNet GoogleNet Caffee TensorFlow 智能 驾驶 AlphaGo 
个性化 推荐 智能 语音 GPU FPGA . . . . 
晕了 没 没 晕 再来 一 波 这 里面 的 
水 很深 不要 太 急躁 很快 能 搞懂 事实上 由于 
数学 理论 不完备 有些 东西 还真 解释 不 清楚 比如 
在 图像 识别 上 ResNet 比 GoogleNet 识别率 更高 ResNet 
是 怎么 推导 出来 的 梳理 好 这些 概念 结合 
实际 应用 化整为零 逐步 理解 和 吸收 有的放矢 不可 操之过急 
2.2 自 底 往上 的 学习 方法 想要 从 基本 
概念学习 建议 结合 应用 场景 先 动手 实践 再 逐步 
细化 推荐 机器学习 周志华 清华大学出版社 3 . AI 工程师 的 
知识 结构 机器 学习 的 基础 知识 3.1 人工智能 机器学习 
深度 学习 的 关系 这 是 现在 大家 经常 混淆 
的 概念 什么 叫做 人工智能 什么 叫做 机器学习 什么 叫做 
深度 学习 人工智能 是 最大 的 范畴 只要 你 用 
计算机 做了 一点 智能 的 事情 都 可以 称为 做了 
人工智能 的 工作 真正 的 人工智能 应该 是 让 机器 
拥有人 的 智能 让 机器 跟人 一样 能看 能听 能说 
能用 自然语言 跟人 进行 交流 这个 涉及 到 计算机 视觉 
语音识别 自然语言 处理 人机交互 语音合成 等等 是 常规 的 我们 
研究 讨论 的 人工智能 的 主要 发力点 在 互联网 公司 
有着 广阔 应用 场景 的 机器学习 可能 是 人工智能 目前 
最 火 的 领域 深度 学习 可能 又是 机器学习 最 
火 的 子 领域 什么 时候 需要 用 人工智能 直觉 
上 来讲 数据 越 复杂 深度 学习 越 可能 起作用 
数据 很 简单 很 明确 深度 学习 可能 就 不怎么 
起 作用 了 比如 搜索 领域 目前 只有 Google 宣称 
他们 用 深度 学习 double 了 用户 点击率 是 指 
他们 将 深度 学习 运用 在 用户 浏览 过 搜索 
过 的 信息 上 那是/nr 非常 庞大 非常 复杂 的 
数据 3.2 机器学习 解决 问题 的 基本 步骤 一般 应用 
机器学习 解决 实际 问题 分为 4个 步骤 1 定义 目标 
问题 目前 还 没 看到 有一个 机器学习 模型 适用 于 
解决 所有 问题 不同 问题 有 各自 适用 的 模型 
如 图像 相关 问题 有 深度 学习 推荐 相关 问题 
有 专门 的 推荐算法 安全 相关 问题 有 异常 检测 
模型 等 脱离 具体问题 去 讨论 模型 是 没有 意义 
的 2 收集 数据 和 特征 工程 机器学习 是 面向 
数据 编程 数据 是 机器 学习 的 基础 训练 模型 
时 一般 会把 样本数据 拆成 两部分 其中 大部分 约 7成 
数据 用于 训练 模型 称 其为 训练 集 另外 少 
部分 数据 用于 测试 模型 的 好坏 也称 泛化 能力 
称 其为 测试 集 同一个 机器学习 算法 好 的 数据 
能 让其 表现 更好 差 的 数据 会 让 模型 
毫无用处 什么 是 好 的 数据 并 没有 统一 定义 
从 结果 看 能让 模型 表现 良好 的 数据 就是 
好 的 数据 一个 可行 的 办法 是 想象 人 
在 解决 该 问题 时 会 依据 哪些 数据 和 
特征 做 决策 然后 挑选 这些 数据 和 特征 作为 
机器学习 模型 的 输入 数据 这个 过程 就是 特征 工程 
在 应用 机器学习 时 可能 需要 反复 做 多次 特征 
工程 特征 工程 是个 试错 的 过程 3 训练 模型 
和 评估 模型 效果 利用 标注 数据 训练 模型 数据 
而 一般 的 步骤 是 a . 从 底层 存储 
读取数据 b . 对 训练 数据 进行 前 向 计算 
c . 计算 训练 误差 d . 反向 计算 梯度 
更新 网络 参数 e . 重复 a d 步 直到 
模型 收敛 测试 模型 效果 一般 测试 数据集 远 小于 
训练 集 这里 主要 是 快速 前 向 计算 一般 
合并 在 第一 步中/nr 4 线上 应用 和 持续 优化 
模型 在 训练 集上 性能 达标 但在 线上 环境 性能 
不 达标 这一 现象 被 称为 过拟合 通常 的 原因 
是 用于 训练 模型 的 数据 中 特征 的 分布 
与 线上 数据 偏差 太大 此时 需 提取 更具 代表性 
的 数据 重新 训练 模型 模型 在线 上 应用 后 
需 持续 跟踪 模型 的 性能 表现 机器学习 是 面向 
数据 编程 如果 线上 系统 上 的 数据 出现 了 
不 包含 在 训练 集中 的 新 特征 需要 补充 
新 样本 重新 训练 迭代模型 以 保证 预测 效果 3.3 
机器 学习 的 相关 概念模型 用途 分类 回归 聚 类 
主要 区分 在于 output 的 描述 是 什么 性质 分类 
是 指 output 是 整数 即 多个 类别 标签 回归 
是 指 output 是 一个 实数 例如 预测 股票 的 
走势 input 是 时间 output 就是 股票价格 聚/v 类/q 一般/a 
都是/nr 应用/v 于非/nr 监督/vn 的/uj 状态/n 下/f 对 output 完全 
不 知道 只能 对 input 数据 本身 进行 统计分析 比如 
用户 画像 通过 数据 之间 的 关系 如 关联 程度 
将 数据 分成 好几 簇 训练 过程 监督 半 监督 
和非/nr 监督 机器学习 是 一个 用 数据 训练 的 过程 
监督 是 指 input 的 每个 数据 样本 我们 明确 
知道 它 的 output 如 类别 标签 是 什么 半 
监督 是 指 我们 只 知道 input 数据 样本 中 
一小部分 的 output 另外 大 部分 不 知道 非 监督 
是 指 所有 input 的 数据 样本 我们 完全 不 
知道 它们 的 output 是 什么 学习 模型 LR / 
SVM / 决策树 传统 的 分类 和聚类/nr DNN 深度 神经网络 
CNN 卷积 神经网络 常用 CNN 模型 AlexNet GoogleNet ResNet 浅层 
和 深层 以前 的 机器 学习 方法 大都 是 浅层 
浅层 学习 模型 是 从 六十 年代 发展 到 现在 
深层 学习 模型 过去 不怎么 work 自 2010年 迄今 有了 
非常大 的 突破 深层 模型 在 大量 至少 百万 级别 
的 有 标签 的 数据 驱动 下 将 input 端 
到 output 端 之间 的 映射 做 的 更深 更 
完善 开源 框架 & 平台 Caffee TensorFlow Google Torch Facebook 
为什么 有 这么 多 深度 学习 框架 参考 Deep Learning 
System Design Concepts http / / mxnet . io / 
architecture / index . html # deep learning system design 
concepts4/i ./i 入门/ns 成为/v AI/w 工程师/n 的/uj 可行/v 路径/n 虽然/c 
从/p 垂直/v 领域/n 讲/v 有/v 语音/n 识别/v 图像 视觉 个性化 
推荐 等 业务 领域 的 AI 工程师 但从 其所 从事 
的 研发 内容 来看 从事 AI 研发 的 工程师 主要 
分为 3类 1 AI 算法 研究 这 类人 大都 有 
博士 学历 在 学校 中 积累 了 较好 的 理论 
和 数学 基础 积累 对/p 最新/d 的/uj 学术/n 成果/n 能/v 
较快/d 理解/v 和/c 吸收/v 这里 的 理论 是 指 比如 
语音 处理 计算机 视觉 等 专业 知识 AI 算法 研究 
的 人 主要 研究 内容 有 样本 特征 模型 设计 
和 优化 模型 训练 样本 特征 是 指 如何 从 
给定 的 数据 中 构建 样本 定义 样本 的 特征 
这在 个性化 推荐 领域 中 就 非常 重要 模型 设计 
和 优化 是 设计 新 的 网络 模型 或 基于 
已有 的 模型 机型 迭代 优化 比如 CNN 网络 模型 
中 AlexNet GoogleNet v1 / v2 / v3 ResNet 等 
新 模型 的 不断 出现 另外 就是 比如 模型 剪枝 
在 损失 5% 计算精度 情况下 减少 80% 计算 量 以 
实现 移动 终端 的 边缘 计算 等等 模型 训练 是 
指 训练 网络 如何 防止 过拟合 以及 快速 收敛 2 
AI 工程 实现 这 类人 主要 提供 将 计算 逻辑 
硬件 封装 打 包起来 方便 模型 的 训练 和 预测 
比如 精通 Caffee / TensorFlow 等 训练 框架 源码 能 
熟练 使用 并 做 针对性 优化 构建 机器学习 平台 降低 
使用 门槛 通过/p 页面/n 操作/v 提供/v 样本/n 和/c 模型/n 就/d 
能/v 启动/vn 训练/vn 通过 FPGA 实行 硬件加速 实现 更低 延时 
和 成本 的 模型 预测 在 新 模型 验证 完成后 
实现 在线 平滑 的 模型 切换 3 AI 应用 侧重 
验证 好 的 模型 在 业务 上 的 应用 常见 
语音识别 图像 视觉 个性化 推荐 当然 这 也 包括 更多 
结合 业务 场景 的 应用 比如 终端 网络 传输 带宽 
的 预测 图片 转码 中 参数 的 预测 等等 5 
. DNN 和 CNN 网络 5.1 DNN 原理 DNN 深度 
神经 网络 是 模拟 人脑 的 神经元 工作 机制 构建 
的 计算 处理 模型 激活 函数 常用 的 有 sigmoid 
ReLU 等 比如 典型 的 sigmoid 函数 多个 神经元 分层 
组织起来 构成 了 一个 网络 早期 神经元网络 仅能 做到 浅层 
在 训练 方法 和 计算 能力 获得 突破 后 深层 
神经网络 DNN 得到 了 更 广泛 研究 和 应用 5.2 
CNN 原理 简化 的 计算 过程 上图 展示 了 一次 
卷积 计算 一个 66 的 图片 I 使用 卷积 核 
F 进行 卷积 得到 输出 图片 O 输入 图片 中 
在 patch 范围内 的 元素 和 卷积 核 中 对应 
的 元素 相乘 最后 乘积 结果 相加 真实 的 计算 
过程 上图 是 三维 卷积 的 展示 对于 第一层 来说 
卷积 核 是 11x11x3 在 输入 立方体 227x227x3 上 进行 
滑动 对应 图表 2 中的 k = 11 N = 
227 D = 3 . 卷积 算法 就是 卷积 核 
11x11x3 和 立方体 227x227x3 的 重叠 的 每个 值 做 
乘 运算 再把 乘 的 结果 做 累加 最后 得到 
一个 值 数学公式 为 y = x 0 k 0 
+ x 1 k 1 + + x 362 k 
362 因为 卷积 核 11x11x3 共有 363个 值 所以 我们 
可以 看成 一个 1x363 的 矩阵 乘以 363x1 矩阵 6 
. AI 开发 的 典型 场景 训练 采用 caffee 单机 
框架 单机 2 卡 K80 GPU 为 充分 发挥 GPU 
采用 了 数据 并行 一 次一个 batch 256张 图片 输入 
alexnet 网络 分为 前 5层 卷积 层 后/f 3层/mq 为/p 
全/a 连接/v 层/q 主要 的 计算 在 卷积 计算 我们 
将 其 用 FPGA 实现 全 连接 层 采用 CPU 
实现 海量 准确 的 样本 也 是个 细致 活 需要 
不断 运营 腾讯/nz 云/ns GPU/w 云/ns 客户/n 案例/n 香港/ns 理工/n 
项目/n 该/r 实验/vn 项目/n 是/v 基于/p 美国/ns 气象/n 局/n 提供/v 
的/uj 10年/tdq 的/uj 气象/n 数据/n 包括 温度 湿度 风向 风速 
降雨量 云层 厚度 云图 空气 浑浊度 日照 等 数据 对 
未来 一段 时间 的 天气 进行 预测 在 该 项目 
中 我们 使用 Google 进行 基于 神经网络 深度 学习 的 
Tensorflow 框架 用 Python2 . 7 进行 开发 并且在 GPU 
上 对 深度 神经 网络 进行 训练 7 . CPU 
GPU FPGA 区别 大多数 人 可能 有个/nr 大致 的 认识 
训练 用 GPU 预测 用 CPU 或者 FPGACPU 开发 门槛 
低 未来 主要 承载 高性能 网络 计算 分拆 出来 的 
逻辑 复杂 不适合 并行计算 的 部分 GPGPU 最新 的 P40 
P100 系列 采用 16nm 工艺 因其 Cuda 开发 环境 比较 
成熟 学习 成本低 灵活性 高 将 继续 在 AI 的 
模型 训练 阶段 发挥 关键 作用 FPGA 最新 的 YV9P 
16nm FPGA 之前 强调 节能 单 FPGA 在 数据 中心 
的 部署 也 是 一个 全新 的 课题 未来 可能 
会 加强 HBM2 片上 DDR 内存容量 和 带宽 的 增长 
未来 在 在线 模型 预测 方面 发挥 重要 作用 但 
IP 不足 开发 周期 长 是 一个 瓶颈 FPGA 卡 
驱动 开发 IP 实现 导致 使用 门槛 较高 未来 会在 
FPGA 云上/nr 消除 这些 应用 障碍 8 . 腾讯 云的/nr 
GPU 云 FPGA 云 进展 8.1 腾讯 云 Skylake CPU2017 
年 2月 腾讯 云 宣布 在 国内 率先 使用 英特尔 
下一代 至强 ® 处理器 代号 Skylake 推出 国内 最新 一代 
云 服务器 新一代 云 服务器 在 计算 性能 内存带宽 网络 
时延 等 方面 拥有 显著 优势 最高 可 提供 96 
vCPU 可/v 满足/v 企业/n 对/p 云/ns 服务器/n 高/a 规格/n 高/a 
配置/v 的/uj 广泛/a 需求/v 尤其 在 人工 智能 等 高性能 
计算 领域 将 发挥 更大 价值 据介绍 目前/t 腾讯/nz 云/ns 
官网/i 已/d 开放/v 新一代/t 云/ns 服务器/n 的/uj 试用/vn 申请/v 客户 
将 花费 更低 的 购买 价格 享受 到 更高 性能 
计算 服务 与 过往 采用 至强 系列 处理器 的 云 
服务器 相比 内置 Skylake 至强 ® 处理器 的 新一代 云 
服务器 具有 更高 计算 性能 更大 内存带宽 更强 存储 I 
/ O 性能 更低 网络 时延 等 优势 能 满足 
游戏 行业 视频 行业 金融 行业 等 领域 的 更高 
计算 需求 具体 而言 Skylake 至强 ® 处理器 具备 的 
更优 特性 主要 包括 Skylake 至强 ® 处理器 支持 AVX 
512 指令 可 支持 更大 数据 宽度 处理 能 加速 
多媒体 编解码 加解密 数值 运算 在 机器学习 科学计算 和 金融 
分析 等 需要 顶尖 的 浮点运算 功能 的 场景 提供 
更 优质 的 处理 性能 Skylake 至强 ® 处理器 支持 
Omni Path 互联 架构 有助于 提供 更快 的 数据 访问 
效率 更低 的 延时 服务 8.2 腾讯/nz 云/ns GPU/w 腾讯/nz 
云/ns 推出/v 基于/p NVIDIA/w 最新/d 企业级/n 产品/n M40 和 P40 
的/uj 云/ns 产品/n GPU/w 云/ns 服务器/n 和/c GPU/w 黑石/nr 服务器/n 
其中 基于 M40 的 GPU 云 服务器 已于 2016 年底 
正式 上线 今年 上半年 腾讯/nz 云/ns 还将/i 推出/v 1/m 机/n 
8/m 卡/n 的/uj GPU/w 云/ns 服务器/n 单机 多 卡 整机 
性能 更高 可以满足 超大 数据量 超大规模 机器学习 算法 需求 最大化 
提升 计算 效率 G2 实例 最多 可 提供 2 个 
NVIDIA M40 GPU 56 个 vCPU 和 120GB 主机 内存 
以及 双卡/nr 48GB 的 GDDR5 显存 GPU 云 服务器 拥有 
高达 6144个 加速 核心 单机 峰值 计算能力 突破 14T Flops 
单精度 浮点运算 0.4 T Flops 双 精度 浮点运算 在 视频 
渲染 虚拟化 桌面 深度 学习 等 对 计算 能力 要求 
极高 的 场景 中 腾讯/nz 云/ns GPU/w 云/ns 服务器/n 以及/c 
GPU/w 黑石/nr 服务器/n 都有/nr 广泛/a 的/uj 应用/v 前景/n 同时 还 
能 满足 图形 数据库 高性能 数据库 计算 流体 动力学 计算 
金融 地震 分析 分子 建模 基因组学 渲染 等 领域 对 
基础 设施 的 高要求 且 极具 性价比 目前 GPU 云 
服务器 已 开放 官网 申请 腾讯 GPU 云 申请 8.3 
腾讯/nz 云/ns FPGA/w 腾讯/nz 云在/nr 年前/t 宣布/v 推出/v 国内/s 首款/n 
高性能/n 异构计算/n 基础/n 设施/n FPGA 云 服务器 已于 2017年 1月 
内测 上线 以 云 服务 方式 将 大型 公司 才能 
长期 支付 使用 的 FPGA 推广 到 更多 企业 腾讯 
云和 业界 厂商 有 良好 的 关系 提供 了 基于 
Intel 和 Xilinx 两家 的 硬件 平台 和 软件 开发工具 
方便 开发 者 选择 自己 熟悉 的 开发 模式 避免 
切换 平台 1 硬件平台 腾讯 云 即将 发布 基于 Intel/w 
和/c Xilinx/w 的/uj 单机/n 4/m 卡/n FPGA/w 云/ns 服务器/n 推出 
多种 规格 的 FPGA 实例 供 您 选择 单机 多 
卡 整机 性能 更高 可以满足 超大 数据量 超大规模 机器学习 算法 
需求 也 可选择 单卡 可 节省 计算 效率 轻资产 开发 
降低 项目 研发 期间 的 投入 成本 2 腾讯 云 
官方 FPGA IPAlexnet 网络 模型 预测 加速 已 上线 用于 
图片 鉴 黄的/nr 粗筛 Googlenetv1 网络 模型 预测 加速 今年 
上半年 用于 图片 鉴 黄的/nr 精选 同步 开放 的 还有 
内部 使用 的 图片 压缩 IP 3 FPGA 生态建设 我们 
通过 IP 市场 以 开放 合作 的 心态 引入 更多 
第三 方 成熟 的 AI IP 进来 为 FPGA 生态 
的 发展 注入 新的 生机 Q & A 机器学习 对于 
模 仿人 的 思考 是 怎么 做到 的 现在 机器学习 
模 仿人 的 思考 做 的 比较 原始 目前 主要 
还是 提取 人做 某项 决策 时 考虑 的 主要 因素 
在 机器 学习 中 我们 叫 样本 特征 来 告诉 
模型 当 遇到 类似 特征 时 应该 输出 什么 相关 
阅读 腾讯/nz GPU/w 云/ns 申请/v 人人/n 都/d 可以/c 做/v 深度/ns 
学习/v 应用/v 入门篇 此文 已由 作者 授权 腾讯 云 技术 
社区 发布 转载 请 注明 文章 出处 获取 更 多云 
计算技术 干货 可/v 请/v 前往/t 腾讯/nz 云/ns 技术/n 社区/n 欢迎/v 
大家/n 关注/v 腾讯/nz 云/ns 技术/n 社区/n 博客园 官方主页 我们 将 
持续 在 博客园 为 大家 推荐 技术 精品 文章 哦 
~ 作者 朱建平 腾讯 云 技术 总监 腾讯 TEG 架构 平台 
部 专家 工程师 1 . 关于 人工智能 的 若干 个 
错误 认知 人工智能 是 AI 工程师 的 事情 跟 我 
没有 什么 关系 大 数据 和 机器学习 AI 是 解决 
问题 的 一种 途径 和 手段 具有 通用性 是 一个 
基础 的 技能 当前 我们 工作 中 还有 很多 决策 
是 基于 经验 和 预定 的 规则 未来 这 部分 
决策 可以 通过 AI 让 我们 做得 更 合理 更好 
一些 人工智能 太 厉害 了 未来 会 取代 人类 随着 
人工智能 的 发展 特别 去年 谷歌 的 AlphaGo 围棋 战胜 
代表 人类 的 顶级 棋手 李世石 更是 引爆 了 整个 
互联网 于是 网上 不少 人 开始 了 很多 担忧 机器人 
取代 人类 有些 人 甚至 在 孩子 高考 填志愿 时 
要求 孩子 填报 艺术 创作 类似 的 方向 以 避开 
未来 与 机器人 或 人工智能 的 竞争 实际上 虽然 目前 
人工智能 在 语音 识别 图片 识别 近年来 取得 了 突破 
但 人工智能 还 远未 完善 数学 理论 尚 不完备 智能 
的 取得 建立 在 大量 的 人工 前期 工作 基础 
上 缺乏 无 监督 学习 2 . 传统 开发 转行 
AI 工程师 的 障碍 2.1 急于求成 的 心态 LR SVM 
决策树 DNN CNN AlexNet GoogleNet Caffee TensorFlow 智能 驾驶 AlphaGo 
个性化 推荐 智能 语音 GPU FPGA . . . . 
晕了 没 没 晕 再来 一 波 这 里面 的 
水 很深 不要 太 急躁 很快 能 搞懂 事实上 由于 
数学 理论 不完备 有些 东西 还真 解释 不 清楚 比如 
在 图像 识别 上 ResNet 比 GoogleNet 识别率 更高 ResNet 
是 怎么 推导 出来 的 梳理 好 这些 概念 结合 
实际 应用 化整为零 逐步 理解 和 吸收 有的放矢 不可 操之过急 
2.2 自 底 往上 的 学习 方法 想要 从 基本 
概念学习 建议 结合 应用 场景 先 动手 实践 再 逐步 
细化 推荐 机器学习 周志华 清华大学出版社 3 . AI 工程师 的 
知识 结构 机器 学习 的 基础 知识 3.1 人工智能 机器学习 
深度 学习 的 关系 这 是 现在 大家 经常 混淆 
的 概念 什么 叫做 人工智能 什么 叫做 机器学习 什么 叫做 
深度 学习 人工智能 是 最大 的 范畴 只要 你 用 
计算机 做了 一点 智能 的 事情 都 可以 称为 做了 
人工智能 的 工作 真正 的 人工智能 应该 是 让 机器 
拥有人 的 智能 让 机器 跟人 一样 能看 能听 能说 
能用 自然语言 跟人 进行 交流 这个 涉及 到 计算机 视觉 
语音识别 自然语言 处理 人机交互 语音合成 等等 是 常规 的 我们 
研究 讨论 的 人工智能 的 主要 发力点 在 互联网 公司 
有着 广阔 应用 场景 的 机器学习 可能 是 人工智能 目前 
最 火 的 领域 深度 学习 可能 又是 机器学习 最 
火 的 子 领域 什么 时候 需要 用 人工智能 直觉 
上 来讲 数据 越 复杂 深度 学习 越 可能 起作用 
数据 很 简单 很 明确 深度 学习 可能 就 不怎么 
起 作用 了 比如 搜索 领域 目前 只有 Google 宣称 
他们 用 深度 学习 double 了 用户 点击率 是 指 
他们 将 深度 学习 运用 在 用户 浏览 过 搜索 
过 的 信息 上 那是/nr 非常 庞大 非常 复杂 的 
数据 3.2 机器学习 解决 问题 的 基本 步骤 一般 应用 
机器学习 解决 实际 问题 分为 4个 步骤 1 定义 目标 
问题 目前 还 没 看到 有一个 机器学习 模型 适用 于 
解决 所有 问题 不同 问题 有 各自 适用 的 模型 
如 图像 相关 问题 有 深度 学习 推荐 相关 问题 
有 专门 的 推荐算法 安全 相关 问题 有 异常 检测 
模型 等 脱离 具体问题 去 讨论 模型 是 没有 意义 
的 2 收集 数据 和 特征 工程 机器学习 是 面向 
数据 编程 数据 是 机器 学习 的 基础 训练 模型 
时 一般 会把 样本数据 拆成 两部分 其中 大部分 约 7成 
数据 用于 训练 模型 称 其为 训练 集 另外 少 
部分 数据 用于 测试 模型 的 好坏 也称 泛化 能力 
称 其为 测试 集 同一个 机器学习 算法 好 的 数据 
能 让其 表现 更好 差 的 数据 会 让 模型 
毫无用处 什么 是 好 的 数据 并 没有 统一 定义 
从 结果 看 能让 模型 表现 良好 的 数据 就是 
好 的 数据 一个 可行 的 办法 是 想象 人 
在 解决 该 问题 时 会 依据 哪些 数据 和 
特征 做 决策 然后 挑选 这些 数据 和 特征 作为 
机器学习 模型 的 输入 数据 这个 过程 就是 特征 工程 
在 应用 机器学习 时 可能 需要 反复 做 多次 特征 
工程 特征 工程 是个 试错 的 过程 3 训练 模型 
和 评估 模型 效果 利用 标注 数据 训练 模型 数据 
而 一般 的 步骤 是 a . 从 底层 存储 
读取数据 b . 对 训练 数据 进行 前 向 计算 
c . 计算 训练 误差 d . 反向 计算 梯度 
更新 网络 参数 e . 重复 a d 步 直到 
模型 收敛 测试 模型 效果 一般 测试 数据集 远 小于 
训练 集 这里 主要 是 快速 前 向 计算 一般 
合并 在 第一 步中/nr 4 线上 应用 和 持续 优化 
模型 在 训练 集上 性能 达标 但在 线上 环境 性能 
不 达标 这一 现象 被 称为 过拟合 通常 的 原因 
是 用于 训练 模型 的 数据 中 特征 的 分布 
与 线上 数据 偏差 太大 此时 需 提取 更具 代表性 
的 数据 重新 训练 模型 模型 在线 上 应用 后 
需 持续 跟踪 模型 的 性能 表现 机器学习 是 面向 
数据 编程 如果 线上 系统 上 的 数据 出现 了 
不 包含 在 训练 集中 的 新 特征 需要 补充 
新 样本 重新 训练 迭代模型 以 保证 预测 效果 3.3 
机器 学习 的 相关 概念模型 用途 分类 回归 聚 类 
主要 区分 在于 output 的 描述 是 什么 性质 分类 
是 指 output 是 整数 即 多个 类别 标签 回归 
是 指 output 是 一个 实数 例如 预测 股票 的 
走势 input 是 时间 output 就是 股票价格 聚/v 类/q 一般/a 
都是/nr 应用/v 于非/nr 监督/vn 的/uj 状态/n 下/f 对 output 完全 
不 知道 只能 对 input 数据 本身 进行 统计分析 比如 
用户 画像 通过 数据 之间 的 关系 如 关联 程度 
将 数据 分成 好几 簇 训练 过程 监督 半 监督 
和非/nr 监督 机器学习 是 一个 用 数据 训练 的 过程 
监督 是 指 input 的 每个 数据 样本 我们 明确 
知道 它 的 output 如 类别 标签 是 什么 半 
监督 是 指 我们 只 知道 input 数据 样本 中 
一小部分 的 output 另外 大 部分 不 知道 非 监督 
是 指 所有 input 的 数据 样本 我们 完全 不 
知道 它们 的 output 是 什么 学习 模型 LR / 
SVM / 决策树 传统 的 分类 和聚类/nr DNN 深度 神经网络 
CNN 卷积 神经网络 常用 CNN 模型 AlexNet GoogleNet ResNet 浅层 
和 深层 以前 的 机器 学习 方法 大都 是 浅层 
浅层 学习 模型 是 从 六十 年代 发展 到 现在 
深层 学习 模型 过去 不怎么 work 自 2010年 迄今 有了 
非常大 的 突破 深层 模型 在 大量 至少 百万 级别 
的 有 标签 的 数据 驱动 下 将 input 端 
到 output 端 之间 的 映射 做 的 更深 更 
完善 开源 框架 & 平台 Caffee TensorFlow Google Torch Facebook 
为什么 有 这么 多 深度 学习 框架 参考 Deep Learning 
System Design Concepts http / / mxnet . io / 
architecture / index . html # deep learning system design 
concepts4/i ./i 入门/ns 成为/v AI/w 工程师/n 的/uj 可行/v 路径/n 虽然/c 
从/p 垂直/v 领域/n 讲/v 有/v 语音/n 识别/v 图像 视觉 个性化 
推荐 等 业务 领域 的 AI 工程师 但从 其所 从事 
的 研发 内容 来看 从事 AI 研发 的 工程师 主要 
分为 3类 1 AI 算法 研究 这 类人 大都 有 
博士 学历 在 学校 中 积累 了 较好 的 理论 
和 数学 基础 积累 对/p 最新/d 的/uj 学术/n 成果/n 能/v 
较快/d 理解/v 和/c 吸收/v 这里 的 理论 是 指 比如 
语音 处理 计算机 视觉 等 专业 知识 AI 算法 研究 
的 人 主要 研究 内容 有 样本 特征 模型 设计 
和 优化 模型 训练 样本 特征 是 指 如何 从 
给定 的 数据 中 构建 样本 定义 样本 的 特征 
这在 个性化 推荐 领域 中 就 非常 重要 模型 设计 
和 优化 是 设计 新 的 网络 模型 或 基于 
已有 的 模型 机型 迭代 优化 比如 CNN 网络 模型 
中 AlexNet GoogleNet v1 / v2 / v3 ResNet 等 
新 模型 的 不断 出现 另外 就是 比如 模型 剪枝 
在 损失 5% 计算精度 情况下 减少 80% 计算 量 以 
实现 移动 终端 的 边缘 计算 等等 模型 训练 是 
指 训练 网络 如何 防止 过拟合 以及 快速 收敛 2 
AI 工程 实现 这 类人 主要 提供 将 计算 逻辑 
硬件 封装 打 包起来 方便 模型 的 训练 和 预测 
比如 精通 Caffee / TensorFlow 等 训练 框架 源码 能 
熟练 使用 并 做 针对性 优化 构建 机器学习 平台 降低 
使用 门槛 通过/p 页面/n 操作/v 提供/v 样本/n 和/c 模型/n 就/d 
能/v 启动/vn 训练/vn 通过 FPGA 实行 硬件加速 实现 更低 延时 
和 成本 的 模型 预测 在 新 模型 验证 完成后 
实现 在线 平滑 的 模型 切换 3 AI 应用 侧重 
验证 好 的 模型 在 业务 上 的 应用 常见 
语音识别 图像 视觉 个性化 推荐 当然 这 也 包括 更多 
结合 业务 场景 的 应用 比如 终端 网络 传输 带宽 
的 预测 图片 转码 中 参数 的 预测 等等 5 
. DNN 和 CNN 网络 5.1 DNN 原理 DNN 深度 
神经 网络 是 模拟 人脑 的 神经元 工作 机制 构建 
的 计算 处理 模型 激活 函数 常用 的 有 sigmoid 
ReLU 等 比如 典型 的 sigmoid 函数 多个 神经元 分层 
组织起来 构成 了 一个 网络 早期 神经元网络 仅能 做到 浅层 
在 训练 方法 和 计算 能力 获得 突破 后 深层 
神经网络 DNN 得到 了 更 广泛 研究 和 应用 5.2 
CNN 原理 简化 的 计算 过程 上图 展示 了 一次 
卷积 计算 一个 66 的 图片 I 使用 卷积 核 
F 进行 卷积 得到 输出 图片 O 输入 图片 中 
在 patch 范围内 的 元素 和 卷积 核 中 对应 
的 元素 相乘 最后 乘积 结果 相加 真实 的 计算 
过程 上图 是 三维 卷积 的 展示 对于 第一层 来说 
卷积 核 是 11x11x3 在 输入 立方体 227x227x3 上 进行 
滑动 对应 图表 2 中的 k = 11 N = 
227 D = 3 . 卷积 算法 就是 卷积 核 
11x11x3 和 立方体 227x227x3 的 重叠 的 每个 值 做 
乘 运算 再把 乘 的 结果 做 累加 最后 得到 
一个 值 数学公式 为 y = x 0 k 0 
+ x 1 k 1 + + x 362 k 
362 因为 卷积 核 11x11x3 共有 363个 值 所以 我们 
可以 看成 一个 1x363 的 矩阵 乘以 363x1 矩阵 6 
. AI 开发 的 典型 场景 训练 采用 caffee 单机 
框架 单机 2 卡 K80 GPU 为 充分 发挥 GPU 
采用 了 数据 并行 一 次一个 batch 256张 图片 输入 
alexnet 网络 分为 前 5层 卷积 层 后/f 3层/mq 为/p 
全/a 连接/v 层/q 主要 的 计算 在 卷积 计算 我们 
将 其 用 FPGA 实现 全 连接 层 采用 CPU 
实现 海量 准确 的 样本 也 是个 细致 活 需要 
不断 运营 腾讯/nz 云/ns GPU/w 云/ns 客户/n 案例/n 香港/ns 理工/n 
项目/n 该/r 实验/vn 项目/n 是/v 基于/p 美国/ns 气象/n 局/n 提供/v 
的/uj 10年/tdq 的/uj 气象/n 数据/n 包括 温度 湿度 风向 风速 
降雨量 云层 厚度 云图 空气 浑浊度 日照 等 数据 对 
未来 一段 时间 的 天气 进行 预测 在 该 项目 
中 我们 使用 Google 进行 基于 神经网络 深度 学习 的 
Tensorflow 框架 用 Python2 . 7 进行 开发 并且在 GPU 
上 对 深度 神经 网络 进行 训练 7 . CPU 
GPU FPGA 区别 大多数 人 可能 有个/nr 大致 的 认识 
训练 用 GPU 预测 用 CPU 或者 FPGACPU 开发 门槛 
低 未来 主要 承载 高性能 网络 计算 分拆 出来 的 
逻辑 复杂 不适合 并行计算 的 部分 GPGPU 最新 的 P40 
P100 系列 采用 16nm 工艺 因其 Cuda 开发 环境 比较 
成熟 学习 成本低 灵活性 高 将 继续 在 AI 的 
模型 训练 阶段 发挥 关键 作用 FPGA 最新 的 YV9P 
16nm FPGA 之前 强调 节能 单 FPGA 在 数据 中心 
的 部署 也 是 一个 全新 的 课题 未来 可能 
会 加强 HBM2 片上 DDR 内存容量 和 带宽 的 增长 
未来 在 在线 模型 预测 方面 发挥 重要 作用 但 
IP 不足 开发 周期 长 是 一个 瓶颈 FPGA 卡 
驱动 开发 IP 实现 导致 使用 门槛 较高 未来 会在 
FPGA 云上/nr 消除 这些 应用 障碍 8 . 腾讯 云的/nr 
GPU 云 FPGA 云 进展 8.1 腾讯 云 Skylake CPU2017 
年 2月 腾讯 云 宣布 在 国内 率先 使用 英特尔 
下一代 至强 ® 处理器 代号 Skylake 推出 国内 最新 一代 
云 服务器 新一代 云 服务器 在 计算 性能 内存带宽 网络 
时延 等 方面 拥有 显著 优势 最高 可 提供 96 
vCPU 可/v 满足/v 企业/n 对/p 云/ns 服务器/n 高/a 规格/n 高/a 
配置/v 的/uj 广泛/a 需求/v 尤其 在 人工 智能 等 高性能 
计算 领域 将 发挥 更大 价值 据介绍 目前/t 腾讯/nz 云/ns 
官网/i 已/d 开放/v 新一代/t 云/ns 服务器/n 的/uj 试用/vn 申请/v 客户 
将 花费 更低 的 购买 价格 享受 到 更高 性能 
计算 服务 与 过往 采用 至强 系列 处理器 的 云 
服务器 相比 内置 Skylake 至强 ® 处理器 的 新一代 云 
服务器 具有 更高 计算 性能 更大 内存带宽 更强 存储 I 
/ O 性能 更低 网络 时延 等 优势 能 满足 
游戏 行业 视频 行业 金融 行业 等 领域 的 更高 
计算 需求 具体 而言 Skylake 至强 ® 处理器 具备 的 
更优 特性 主要 包括 Skylake 至强 ® 处理器 支持 AVX 
512 指令 可 支持 更大 数据 宽度 处理 能 加速 
多媒体 编解码 加解密 数值 运算 在 机器学习 科学计算 和 金融 
分析 等 需要 顶尖 的 浮点运算 功能 的 场景 提供 
更 优质 的 处理 性能 Skylake 至强 ® 处理器 支持 
Omni Path 互联 架构 有助于 提供 更快 的 数据 访问 
效率 更低 的 延时 服务 8.2 腾讯/nz 云/ns GPU/w 腾讯/nz 
云/ns 推出/v 基于/p NVIDIA/w 最新/d 企业级/n 产品/n M40 和 P40 
的/uj 云/ns 产品/n GPU/w 云/ns 服务器/n 和/c GPU/w 黑石/nr 服务器/n 
其中 基于 M40 的 GPU 云 服务器 已于 2016 年底 
正式 上线 今年 上半年 腾讯/nz 云/ns 还将/i 推出/v 1/m 机/n 
8/m 卡/n 的/uj GPU/w 云/ns 服务器/n 单机 多 卡 整机 
性能 更高 可以满足 超大 数据量 超大规模 机器学习 算法 需求 最大化 
提升 计算 效率 G2 实例 最多 可 提供 2 个 
NVIDIA M40 GPU 56 个 vCPU 和 120GB 主机 内存 
以及 双卡/nr 48GB 的 GDDR5 显存 GPU 云 服务器 拥有 
高达 6144个 加速 核心 单机 峰值 计算能力 突破 14T Flops 
单精度 浮点运算 0.4 T Flops 双 精度 浮点运算 在 视频 
渲染 虚拟化 桌面 深度 学习 等 对 计算 能力 要求 
极高 的 场景 中 腾讯/nz 云/ns GPU/w 云/ns 服务器/n 以及/c 
GPU/w 黑石/nr 服务器/n 都有/nr 广泛/a 的/uj 应用/v 前景/n 同时 还 
能 满足 图形 数据库 高性能 数据库 计算 流体 动力学 计算 
金融 地震 分析 分子 建模 基因组学 渲染 等 领域 对 
基础 设施 的 高要求 且 极具 性价比 目前 GPU 云 
服务器 已 开放 官网 申请 腾讯 GPU 云 申请 8.3 
腾讯/nz 云/ns FPGA/w 腾讯/nz 云在/nr 年前/t 宣布/v 推出/v 国内/s 首款/n 
高性能/n 异构计算/n 基础/n 设施/n FPGA 云 服务器 已于 2017年 1月 
内测 上线 以 云 服务 方式 将 大型 公司 才能 
长期 支付 使用 的 FPGA 推广 到 更多 企业 腾讯 
云和 业界 厂商 有 良好 的 关系 提供 了 基于 
Intel 和 Xilinx 两家 的 硬件 平台 和 软件 开发工具 
方便 开发 者 选择 自己 熟悉 的 开发 模式 避免 
切换 平台 1 硬件平台 腾讯 云 即将 发布 基于 Intel/w 
和/c Xilinx/w 的/uj 单机/n 4/m 卡/n FPGA/w 云/ns 服务器/n 推出 
多种 规格 的 FPGA 实例 供 您 选择 单机 多 
卡 整机 性能 更高 可以满足 超大 数据量 超大规模 机器学习 算法 
需求 也 可选择 单卡 可 节省 计算 效率 轻资产 开发 
降低 项目 研发 期间 的 投入 成本 2 腾讯 云 
官方 FPGA IPAlexnet 网络 模型 预测 加速 已 上线 用于 
图片 鉴 黄的/nr 粗筛 Googlenetv1 网络 模型 预测 加速 今年 
上半年 用于 图片 鉴 黄的/nr 精选 同步 开放 的 还有 
内部 使用 的 图片 压缩 IP 3 FPGA 生态建设 我们 
通过 IP 市场 以 开放 合作 的 心态 引入 更多 
第三 方 成熟 的 AI IP 进来 为 FPGA 生态 
的 发展 注入 新的 生机 Q & A 机器学习 对于 
模 仿人 的 思考 是 怎么 做到 的 现在 机器学习 
模 仿人 的 思考 做 的 比较 原始 目前 主要 
还是 提取 人做 某项 决策 时 考虑 的 主要 因素 
在 机器 学习 中 我们 叫 样本 特征 来 告诉 
模型 当 遇到 类似 特征 时 应该 输出 什么 相关 
阅读 腾讯/nz GPU/w 云/ns 申请/v 人人/n 都/d 可以/c 做/v 深度/ns 
学习/v 应用/v 入门篇 此文 已由 作者 授权 腾讯 云 技术 
社区 发布 转载 请 注明 文章 出处 获取 更 多云 
计算技术 干货 可/v 请/v 前往/t 腾讯/nz 云/ns 技术/n 社区/n 欢迎/v 
大家/n 关注/v 腾讯/nz 云/ns 技术/n 社区/n 博客园 官方主页 我们 将 
持续 在 博客园 为 大家 推荐 技术 精品 文章 哦 
~ 