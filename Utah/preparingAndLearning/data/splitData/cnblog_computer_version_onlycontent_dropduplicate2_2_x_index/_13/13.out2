1/m,./w, ,canny/en,边缘/n,检测/vn,opencv/en,提供/v,了/u,canny/en,函数/n,来/v,识别/v,边缘/n,。/w,canny/en,边缘/n,检测/vn,算法/n,有/v,5个/m,步骤/n,：/w,使用/v,高斯滤波器/nw,对/p,图像/n,进行/v,去/v,噪/vg,、/w,计算/v,梯度/n,、/w,在/p,边缘/n,上/f,使用/v,非/h,最/d,大/a,抑制/v,(/w,nms/en,)/w,、/w,在/p,检测/vn,到/v,的/u,边缘/n,上/f,使用/v,双/m,阈值/n,去/v,除/p,假/a,阳性/n,(/w,false/en, ,positive/en,)/w,，/w,最后/f,还/d,会/v,分析/vn,所有/b,的/u,边缘/n,及其/c,之间/f,的/u,连接/v,，/w,以/p,保留/v,真正/d,的/u,边缘/n,并/c,消除/v,不/d,明显/a,的/u,边缘/n,。/w,import/en, ,cv/en,2/m, ,import/en, ,numpy/en, ,as/en, ,np/en, ,img/en, ,=/w, ,cv/en,2/m,./w,imread/en,(/w,"/w,flower/en,./w,jpg/en,"/w,)/w, ,cv/en,2/m,./w,imwrite/en,(/w,"/w,canny/en,./w,jpg/en,"/w,,/w, ,cv/en,2/m,./w,canny/en,(/w,img/en,,/w, ,200/m,,/w, ,300/m,)/w,)/w, ,cv/en,2/m,./w,imshow/en,(/w,"/w,image/en,"/w,,/w, ,img/en,)/w, ,cv/en,2/m,./w,imshow/en,(/w,"/w,canny/en,"/w,,/w, ,cv/en,2/m,./w,imread/en,(/w,"/w,canny/en,./w,jpg/en,"/w,)/w,)/w, ,cv/en,2/m,./w,waitkey/en,(/w,)/w, ,cv/en,2/m,./w,destroyallwindows/en,(/w,)/w,运行/vn,结果/n,为/p,：/w,2/m,./w, ,轮廓/n,检测/vn,在/p,计算机/n,视觉/n,中/f,，/w,轮廓/n,检测/vn,不仅/c,用/p,来/v,检测/vn,图像/n,或者/c,视频/n,帧/q,中/f,物体/n,的/u,轮廓/n,，/w,而且/c,还有/v,其他/r,操作/v,与/p,轮廓/n,检测/vn,有关/vn,。/w,如/v,：/w,计算/v,多边/b,形/ng,边界/n,、/w,形状/n,逼近/v,和/c,计算/v,感/vg,兴趣/n,区域/n,。/w,这/r,是/v,与/p,图像/n,数据/n,交互/v,时/ng,的/u,简单/a,操作/v,，/w,因为/c,numpy/en,中/f,的/u,矩形/n,区域/n,可以/v,使用/v,数/m,组/q,切片/v,(/w,slice/en,)/w,来/v,定义/n,。/w,在/p,物体/n,检测/vn,（/w,包括/v,人脸/n,）/w,和/c,物体/n,跟踪/v,时/ng,会/v,大量/m,使用/v,。/w,import/en, ,cv/en,2/m,import/en, ,numpy/en, ,as/en, ,npimg/en, ,=/w, ,np/en,./w,zeros/en,(/w,(/w,200/m,,/w, ,200/m,)/w,,/w, ,dtype/en, ,=/w, ,np/en,./w,uint/en,8/m,)/w, ,#, ,创建/v,一个/m,200/m,x/en,200/m,大小/n,的/u,黑色/n,空白/n,图像/n,，/w,img/en,[/w,50/m,:/w,150/m,,/w, ,50/m,:/w,150/m,]/w, ,=/w, ,255/m, ,#, ,在/p,图像/n,的/u,中央/n,放置/v,一个/m,白色/n,方块/n,ret/en,,/w, ,thresh/en, ,=/w, ,cv/en,2/m,./w,threshold/en,(/w,img/en,,/w, ,127/m,,/w, ,255/m,,/w, ,0/m,)/w, ,#,对/p,图像/n,进行/v,二值化/nw,操作/v,image/en,,/w, ,contours/en,,/w, ,hierarchy/en, ,=/w, ,cv/en,2/m,./w,findcontours/en,(/w,thresh/en,,/w, ,cv/en,2/m,./w,retr/en,_,tree/en,,/w, ,cv/en,2/m,./w,chain/en,_,approx/en,_,simple/en,)/w, ,#, ,寻找/v,轮廓/n,color/en, ,=/w, ,cv/en,2/m,./w,cvtcolor/en,(/w,img/en,,/w, ,cv/en,2/m,./w,color/en,_,gray/en,2/m,bgr/en,)/w, ,#, ,颜色/n,空间/n,转换/v,img/en, ,=/w, ,cv/en,2/m,./w,drawcontours/en,(/w,color/en,,/w, ,contours/en,,/w, ,-/w,1/m,,/w, ,(/w,0/m,,/w, ,255/m,,/w, ,0/m,)/w,,/w, ,2/m,)/w, ,#, ,画/v,出/v,轮廓/n,，/w,-/w,1/m,,/w,表示/v,所有/b,轮廓/n,，/w,画笔/n,颜色/n,为/p,(/w,0/m,,/w, ,255/m,,/w, ,0/m,)/w,，/w,即/v,green/en,，/w,粗细/n,为/p,3/m,cv/en,2/m,./w,imshow/en,(/w,"/w,contours/en,"/w,,/w,color/en,)/w,cv/en,2/m,./w,waitkey/en,(/w,)/w,cv/en,2/m,./w,destroyallwindows/en,(/w,)/w,findcontours/en,(/w,)/w,函数/n,有/v,三个/m,参数/n,：/w,输入/v,图像/n,、/w,层次/n,类型/n,和/c,轮廓/n,逼近/v,方法/n,。/w,这个/r,函数/n,会/v,修改/v,输入/v,图像/n,，/w,因此/c,建议/n,使用/v,原始/a,图像/n,的/u,一份/mq,拷贝/n,（/w,如/v,：/w,通过/p,img/en,./w,copy/en,(/w,)/w,来/v,作为/v,输入/v,图像/n,）/w,。/w,由/p,函数/n,返回/v,的/u,层次/n,树/v,相当/d,重要/a,：/w,cv/en,2/m,./w,retr/en,_,tree/en,参数/n,会/v,得到/v,图像/n,中/f,轮廓/n,的/u,整体/n,层次/n,结构/n,，/w,以此/d,来/v,建立/v,轮廓/n,之间/f,的/u,“/w,关系/n,”/w,。/w,如果/c,只/d,想得到/l,最/d,外面/f,的/u,轮廓/n,，/w,可/v,使用/v,cv/en,2/m,./w,retr/en,_,external/en,。/w,这/r,对/p,消除/v,包含/v,在/p,其他/r,轮廓/n,中/f,的/u,轮廓/n,很/d,有用/a,（/w,如/v,在/p,大多数/m,情形/n,下/f,，/w,不/d,需要/v,检测/vn,一个/m,目标/n,包含/v,在/p,另/r,一个/m,与/p,之/u,相同/a,的/u,目标/n,里面/f,）/w,findcontours/en,(/w,)/w,函数/n,有/v,三个/m,返回/v,值/n,：/w,修改/v,后/f,的/u,图像/n,、/w,图像/n,的/u,轮廓/n,以及/c,它们/r,的/u,层次/n,。/w,使用/v,轮廓/n,来/v,画/v,出/v,图像/n,的/u,彩色/b,版本/n,（/w,即/v,把/p,轮廓/n,画/v,成/v,绿色/n,）/w,，/w,并/c,显示/v,出来/v,。/w,cv/en,2/m,./w,threshold/en,(/w,)/w,简单/a,阈值/n,这个/r,函数/n,有/v,四个/m,参数/n,，/w,第一/m,个/q,原/b,图像/n,，/w,第二/m,个/q,进行/v,分类/vn,的/u,阈值/n,，/w,第三/nw,个/q,是/v,高于/v,（/w,低于/v,）/w,阈值/n,时/ng,赋予/v,的/u,新值/nw,，/w,第四/nw,个/q,是/v,一个/m,方法/n,选择/v,参数/n,，/w,常用/a,的/u,有/v,：/w,cv/en,2/m,./w,thresh/en,_,binary/en,（/w,黑白/b,二值/nw,）/w,cv/en,2/m,./w,thresh/en,_,binary/en,_,inv/en,（/w,黑白/b,二值/nw,反转/v,）/w,cv/en,2/m,./w,thresh/en,_,trunc/en, ,（/w,得到/v,的/u,图像/n,为/p,多/a,像/v,素值/nr,）/w,cv/en,2/m,./w,thresh/en,_,tozerocv/en,2/m,./w,thresh/en,_,tozero/en,_,inv/en,该/r,函数/n,有/v,两个/m,返回/v,值/n,，/w,第一/m,个/q,retval/en,（/w,得到/v,的/u,阈值/n,（/w,在/p,后面/f,一个/m,方法/n,中/f,会/v,用/p,到/v,）/w,）/w,，/w,第二/m,个/q,就/d,是/v,阈值/n,化/v,后/f,的/u,图像/n,。/w,cvcvtcolor/en,(/w,./w,./w,./w,)/w,是/v,opencv/en,里/f,的/u,颜色/n,空间/n,转换/v,函数/n,，/w,可以/v,实现/v,rgb/en,颜色/n,向/p,hsv/en,，/w,hsi/en,等/u,颜色/n,空间/n,的/u,转换/v,，/w,也/d,可以/v,转换/v,为/p,灰度/n,图像/n,。/w,参数/n,cv/en,_,rgb/en,2/m,gray/en,是/v,rgb/en,到/v,gray/en,。/w,参数/n, ,cv/en,_,gray/en,2/m,rgb/en,是/v,gray/en,到/v,rgb/en,./w,处理/v,结果/n,是/v,彩色/b,的/u,，/w,则/d,转/v,灰色/n,就/d,是/v,了/u,运行/vn,结果/n,为/p,：/w,3/m,./w, ,边界/n,框/q,、/w,最小/a,矩形/n,区域/n,和/c,最/d,小/a,闭圆/nw,的/u,轮廓/n,可/v,用/p,opencv/en,的/u,cv/en,2/m,./w,findcontours/en,函数/n,找到/v,不规则/a,的/u,、/w,歪斜/v,的/u,以及/c,旋转/v,的/u,形状/n,。/w,现实/n,的/u,应用/vn,会/v,对/p,目标/n,的/u,边界/n,框/q,、/w,最小/a,矩形/n,面积/n,、/w,最/d,小/a,闭圆/nw,特别/d,感/vg,兴趣/n,。/w,3.1/m, ,绘制/v,矩形/n,函数/n,：/w,cv/en,2/m,./w,rectangle/en,(/w,img/en,,/w,(/w,380/m,,/w,0/m,)/w,,/w,(/w,511/m,,/w,111/m,)/w,,/w,(/w,255/m,,/w,0/m,,/w,0/m,)/w,,/w,3/m,)/w,，/w,需要/v,确定/v,的/u,就/d,是/v,矩形/n,的/u,两个点/mq,（/w,左上角/nw,与/p,右下角/f,）/w,，/w,颜色/n,，/w,线/n,的/u,类型/n,（/w,不/d,设置/v,就/d,默认/v,）/w,import/en, ,cv/en,2/m, ,import/en, ,numpy/en, ,as/en, ,np/en, ,from/en, ,matplotlib/en, ,import/en, ,pyplot/en, ,as/en, ,plt/en, ,img/en, ,=/w, ,np/en,./w,zeros/en,(/w,(/w,512/m,,/w,512/m,,/w,3/m,)/w,,/w,np/en,./w,uint/en,8/m,)/w, ,#,生成/vn,一个/m,空/a,彩色/b,图像/n, ,cv/en,2/m,./w,rectangle/en,(/w,img/en,,/w,(/w,20/m,,/w,20/m,)/w,,/w,(/w,411/m,,/w,411/m,)/w,,/w,(/w,55/m,,/w,255/m,,/w,155/m,)/w,,/w,5/m,)/w, ,plt/en,./w,imshow/en,(/w,img/en,,/w,'/w,brg/en,'/w,)/w, ,plt/en,./w,show/en,(/w,)/w,import/en, ,cv/en,2/m, ,import/en, ,numpy/en, ,as/en, ,np/en, ,img/en, ,=/w, ,cv/en,2/m,./w,pyrdown/en,(/w,cv/en,2/m,./w,imread/en,(/w,"/w,hammer/en,./w,jpg/en,"/w,,/w, ,cv/en,2/m,./w,imread/en,_,unchanged/en,)/w,)/w, ,ret/en,,/w, ,thresh/en, ,=/w, ,cv/en,2/m,./w,threshold/en,(/w,cv/en,2/m,./w,cvtcolor/en,(/w,img/en,./w,copy/en,(/w,)/w,,/w, ,cv/en,2/m,./w,color/en,_,bgr/en,2/m,gray/en,)/w,,/w, ,127/m,,/w, ,255/m,,/w, ,cv/en,2/m,./w,thresh/en,_,binary/en,)/w, ,image/en,,/w, ,contours/en,,/w, ,hier/en, ,=/w, ,cv/en,2/m,./w,findcontours/en,(/w,thresh/en,,/w, ,cv/en,2/m,./w,retr/en,_,external/en,,/w, ,cv/en,2/m,./w,chain/en,_,approx/en,_,simple/en,)/w, ,for/en, ,c/en, ,in/en, ,contours/en,:/w, ,#, ,find/en, ,bounding/en, ,box/en, ,coordinates/en, ,#, ,现/tg,计算/v,出/v,一个/m,简单/a,的/u,边界/n,框/q, ,x/en,,/w, ,y/en,,/w, ,w/en,,/w, ,h/en, ,=/w, ,cv/en,2/m,./w,boundingrect/en,(/w,c/en,)/w, ,#, ,将/d,轮廓/n,信息/n,转换/v,成/v,(/w,x/en,,/w, ,y/en,)/w,坐标/n,，/w,并/c,加上/v,矩形/n,的/u,高度/d,和/c,宽度/n, ,cv/en,2/m,./w,rectangle/en,(/w,img/en,,/w, ,(/w,x/en,,/w,y/en,)/w,,/w, ,(/w,x/en,+/w,w/en,,/w, ,y/en,+/w,h/en,)/w,,/w, ,(/w,0/m,,/w, ,255/m,,/w, ,0/m,)/w,,/w, ,2/m,)/w, ,#, ,画/v,出/v,矩形/n, ,#, ,find/en, ,minimum/en, ,area/en, ,#, ,计算/v,包围/v,目标/n,的/u,最小/a,矩形/n,区域/n, ,rect/en, ,=/w, ,cv/en,2/m,./w,minarearect/en,(/w,c/en,)/w, ,#, ,calculate/en, ,coordinate/en, ,of/en, ,the/en, ,minimum/en, ,area/en, ,rectangle/en, ,box/en, ,=/w, ,cv/en,2/m,./w,boxpoints/en,(/w,rect/en,)/w, ,#, ,normalize/en, ,coordinates/en, ,to/en, ,integers/en, ,box/en, ,=/w,np/en,./w,int/en,0/m,(/w,box/en,)/w, ,#, ,注/v,：/w,opencv/en,没有/v,函数/n,能/v,直接/ad,从/p,轮廓/n,信息/n,中/f,计算/v,出/v,最小/a,矩形/n,顶点/n,的/u,坐标/n,。/w,所以/c,需要/v,计算/v,出/v,最小/a,矩形/n,区域/n,，/w, ,#, ,然后/c,计算/v,这个/r,矩形/n,的/u,顶点/n,。/w,由于/c,计算/v,出来/v,的/u,顶点/n,坐标/n,是/v,浮点型/nw,，/w,但是/c,所得/n,像素/n,的/u,坐标值/nw,是/v,整数/n,（/w,不能/v,获取/v,像素/n,的/u,一部分/m,）/w,，/w, ,#, ,所以/c,需要/v,做/v,一个/m,转换/v, ,#, ,draw/en, ,contours/en, ,cv/en,2/m,./w,drawcontours/en,(/w,img/en,,/w, ,[/w,box/en,]/w,,/w, ,0/m,,/w, ,(/w,0/m,,/w, ,0/m,,/w, ,255/m,)/w,,/w, ,3/m,)/w, ,#, ,画/v,出/v,该/r,矩形/n, ,#, ,calculate/en, ,center/en, ,and/en, ,radius/en, ,of/en, ,minimum/en, ,enclosing/en, ,circle/en, ,(/w,x/en,,/w, ,y/en,)/w,,/w, ,radius/en, ,=/w, ,cv/en,2/m,./w,minenclosingcircle/en,(/w,c/en,)/w, ,#, ,会/v,返回/v,一个/m,二元组/nw,，/w,第一/m,个/q,元素/n,为/p,圆心/n,的/u,坐标/n,组成/v,的/u,元组/nw,，/w,第二/m,个/q,元素/n,为/p,圆/vg,的/u,半径/n,值/n,。/w, ,#, ,cast/en, ,to/en, ,integers/en, ,center/en, ,=/w, ,(/w,int/en,(/w,x/en,)/w,,/w, ,int/en,(/w,y/en,)/w,)/w, ,radius/en, ,=/w, ,int/en,(/w,radius/en,)/w, ,#, ,draw/en, ,the/en, ,circle/en, ,img/en, ,=/w, ,cv/en,2/m,./w,circle/en,(/w,img/en,,/w, ,center/en,,/w, ,radius/en,,/w, ,(/w,0/m,,/w, ,255/m,,/w, ,0/m,)/w,,/w, ,2/m,)/w, ,cv/en,2/m,./w,drawcontours/en,(/w,img/en,,/w, ,contours/en,,/w, ,-/w,1/m,,/w, ,(/w,255/m,,/w, ,0/m,,/w, ,0/m,)/w,,/w, ,1/m,)/w, ,cv/en,2/m,./w,imshow/en,(/w,"/w,contours/en,"/w,,/w, ,img/en,)/w, ,cv/en,2/m,./w,waitkey/en,(/w,)/w, ,cv/en,2/m,./w,destroyallwindows/en,(/w,)/w,运行/vn,结果/n,为/p,：/w,在/p,导入/v,模块/n,后/f,，/w,加载/v,图像/n,，/w,然后/c,在/p,源/ng,图像/n,的/u,灰度/n,图像/n,上/f,执行/v,一个/m,二值化/nw,操作/v,。/w,这样/r,做/v,之后/f,，/w,可/v,在/p,这个/r,灰度/n,图像/n,上/f,执行/v,所有/b,计算/v,轮廓/n,的/u,操作/v,，/w,但/c,在/p,源/ng,图像/n,上/f,可/v,利用/v,色彩/n,信息/n,来/v,画/v,这些/r,轮廓/n,。/w,cv/en,2/m,./w,drawcontours/en,(/w,img/en,,/w, ,[/w,box/en,]/w,,/w, ,0/m,,/w, ,(/w,0/m,,/w, ,0/m,,/w, ,255/m,)/w,,/w, ,3/m,)/w,：/w,首先/d,，/w,该/r,函数/n,与/p,所有/b,绘图/vn,函数/n,一样/u,，/w,它/r,会/v,修改/v,源/ng,图像/n,。/w,其次/c,，/w,该/r,函数/n,的/u,第二/m,个/q,参数/n,接收/v,一个/m,保存/v,着/u,轮廓/n,的/u,数/m,组/q,，/w,从而/c,可以/v,在/p,一次/mq,操作/v,中/f,绘制/v,一系列/mq,的/u,轮廓/n,。/w,因此/c,如果/c,只/d,有/v,一组/mq,点/q,来/v,表示/v,多边/b,形/ng,轮廓/n,，/w,就/d,需要/v,把/p,这/r,组/q,点/q,放/v,到/v,一个/m,数组/n,里/f,。/w,该/r,函数/n,的/u,第三/nw,个/q,参数/n,是/v,要/v,绘制/v,的/u,轮廓/n,数/m,组/q,的/u,索引/n,：/w,-/w,1/m,表示/v,绘制/v,所有/b,的/u,轮廓/n,，/w,否则/c,只/d,会/v,绘制/v,轮廓/n,数/m,组/q,里/f,指定/v,的/u,轮廓/n,。/w,大多数/m,绘图/vn,函数/n,把/p,绘图/vn,的/u,颜色/n,和/c,密度/n,(/w,thickness/en,)/w,放在/v,最后/f,两个/m,参数/n,里/f,。/w,函数/n,介绍/v,：/w,cv/en,2/m,./w,imread/en,(/w,)/w,：/w,读/v,入/v,图片/n,，/w,共/d,两个/m,参数/n,，/w,第一/m,个/q,参数/n,为/p,要/v,读/v,入/v,的/u,图片/n,文件/n,名/q,，/w,第二/m,个/q,参数/n,为/p,如何/r,读/v,取/v,图片/n,，/w,包括/v,cv/en,2/m,./w,imread/en,_,color/en,：/w,读/v,入/v,一副/mq,彩色/b,图片/n,；/w,cv/en,2/m,./w,imread/en,_,grayscale/en,：/w,以/p,灰度/n,模式/n,读/v,入/v,图片/n,；/w,cv/en,2/m,./w,imread/en,_,unchanged/en,：/w,读/v,入/v,一幅/mq,图片/n,，/w,并/c,包括/v,其/r,alpha/en,通道/n,。/w,cv/en,2/m,./w,imread/en,(/w,'/w,flower/en,./w,jpg/en,'/w,,/w,0/m,)/w,表示/v,已/d,灰度/n,模式/n,读/v,入/v,cv/en,2/m,./w,imshow/en,(/w,)/w,：/w,创建/v,一个/m,窗口/s,显示/v,图片/n,，/w,共/d,两个/m,参数/n,，/w,第一/m,个/q,参数/n,表示/v,窗口/s,名字/n,，/w,可以/v,创建/v,多/a,个/q,窗口/s,中/f,，/w,但是/c,每个/r,窗口/s,不/d,能/v,重名/nw,；/w,第二/m,个/q,参数/n,是/v,读/v,入/v,的/u,图片/n,。/w,cv/en,2/m,./w,waitkey/en,(/w,)/w,：/w,键盘/n,绑定函数/nw,，/w,共/d,一个/m,参数/n,，/w,表示/v,等待/v,毫秒/q,数/m,，/w,将/d,等待/v,特定/b,的/u,几/m,毫秒/q,，/w,看/v,键盘/n,是否/v,有/v,输入/v,，/w,返回/v,值/n,为/p,ascii/en,值/n,。/w,如果/c,其/r,参数/n,为/p,0/m,，/w,则/d,表示/v,无/v,限期/v,的/u,等待/v,键盘/n,输入/v,。/w,cv/en,2/m,./w,destroyallwindows/en,(/w,)/w,：/w,删除/v,建立/v,的/u,全部/m,窗口/s,cv/en,2/m,./w,destroywindows/en,(/w,)/w,：/w,删除/v,指定/v,的/u,窗口/s,。/w,cv/en,2/m,./w,imwrite/en,(/w,)/w,：/w,保存/v,图片/n,，/w,共/d,两个/m,参数/n,，/w,第一/m,个/q,为/p,保存/v,文件/n,名/q,，/w,第二/m,个/q,为/p,读/v,入/v,图片/n,opencv/en,中/f,可以/v,通过/p,函数/n,cv/en,2/m,./w,pyrdown/en,(/w,)/w,和/c,cv/en,2/m,./w,pyrup/en,(/w,)/w,来/v,构建/v,金字塔/n,。/w,函数/n,cv/en,2/m,./w,pyrdown/en,(/w,)/w,是从/v,一个/m,高/a,分辨率/n,图像/n,变成/v,低/a,分辨率/n,图像/n,的/u,。/w,cv/en,2/m,./w,pyrdown/en,(/w,)/w,函数/n,接受/v,3个/m,参数/n,：/w,tmp/en,:/w, ,当前/t,图像/n,，/w,初始化/v,为/p,原/b,图像/n, ,src/en, ,。/w,dst/en,:/w, ,目的/n,图像/n,(/w, ,显示/v,图像/n,，/w,为/p,输入/v,图像/n,的/u,一半/m,)/w,size/en,(/w, ,tmp/en,./w,cols/en,//w,2/m,,/w, ,tmp/en,./w,rows/en,//w,2/m, ,)/w, ,:/w,目的/n,图像/n,大小/n,，/w, ,既然/c,我们/r,是/v,向/p,下/f,采样/v,4/m,./w, ,凸/ag,轮廓/n,与/p,douglas/en,-/w,peucker/en,算法/n,大多数/m,处理/v,轮廓/n,的/u,时候/n,，/w,物体/n,的/u,形状/n,（/w,包括/v,凸形状/nw,）/w,都/d,是/v,变化/vn,多样/m,的/u,。/w,凸形状/nw,内部/f,的/u,任意/d,两点/mq,之间/f,的/u,连/u,线/n,都/d,在/p,该/r,形状/n,里面/f,。/w,cv/en,2/m,./w,approxploydp/en,是/v,一个/m,opencv/en,函数/n,，/w,它/r,用/p,来/v,计算/v,近似/a,的/u,多边形/n,框/q,。/w,该/r,函数/n,有/v,三个/m,参数/n,：/w,第一/m,个/q,参数/n,为/p,“/w,轮廓/n,”/w,；/w,第二/m,个/q,参数/n,为/p,“/w,ε值/nw,”/w,，/w,它/r,表示/v,源/ng,轮廓/n,与/p,近似/a,多边/b,形/ng,的/u,最/d,大/a,差值/n,（/w,这个/r,值越/nw,小/a,，/w,近似/a,多边/b,形/ng,与/p,源/ng,轮廓/n,越/d,接近/v,）/w,；/w,第三/nw,个/q,参数/n,为/p,“/w,布尔/n,标记/n,”/w,，/w,它/r,表示/v,这个/r,多边/b,形/ng,是否/v,闭合/vn,。/w,ε值/nw,对/p,获取/v,有用/a,的/u,轮廓/n,非常/d,重要/a,。/w,是/v,为/p,所/u,得到/v,的/u,近似/a,多边/b,形/ng,周长/nr,与/p,源/ng,轮廓/n,周长/nr,之间/f,的/u,最/d,大/a,差值/n,，/w,这个/r,差值/n,越/d,小/a,，/w,近似/a,多边/b,形/ng,与/p,源/ng,轮廓/n,就/d,越/d,相似/a,。/w,可/v,通过/p,opencv/en,的/u,cv/en,2/m,./w,arclength/en,函数/n,来/v,得到/v,轮廓/n,的/u,周长/nr,信息/n,。/w,epsilon/en, ,=/w, ,0.01/m, ,*/w, ,cv/en,2/m,./w,arclength/en,(/w,cnt/en,,/w, ,true/en,)/w, ,approx/en, ,=/w, ,cv/en,2/m,./w,approxpolydp/en,(/w,cnt/en,,/w, ,epsilon/en,,/w, ,true/en,)/w,可/v,通过/p,opencv/en,来/v,有效/a,地/u,计算/v,一个/m,近似/a,多边形/n,，/w,多边/b,形/ng,周长/nr,与/p,源/ng,轮廓/n,周长/nr,之/u,比/p,就/d,为/p,ε,。/w,为了/p,计算/v,凸形状/nw,，/w,需要/v,用/p,opencv/en,的/u,cv/en,2/m,./w,convexhull/en,函数/n,来/v,获取/v,处理/v,过/u,的/u,轮廓/n,信息/n,，/w,代码/n,为/p,：/w,hull/en, ,=/w, ,cv/en,2/m,./w,convexhull/en,(/w,cnt/en,)/w,5/m,./w, ,直线/n,和/c,圆/vg,检测/vn,hough/en,变换/v,是/v,直线/n,和/c,形状/n,检测/vn,背后/f,的/u,理论/n,基础/n,。/w,5.1/m, ,绘制/v,直线/n,函数/n,为/p,：/w,cv/en,2/m,./w,line/en,（/w,img/en,,/w,point/en, ,pt/en,1/m,,/w,point/en, ,pt/en,2/m,,/w,color/en,,/w,thickness/en,=/w,1/m,,/w,line/en,_,type/en,=/w,8/m, ,shift/en,=/w,0/m,）/w,有/v,值/n,的/u,代表/n,有/v,默认/v,值/n,，/w,不用/d,给/p,也/d,行/v,。/w,可以/v,看到/v,这个/r,函数/n,主要/b,接受/v,参数/n,为/p,两个点/mq,的/u,坐标/n,，/w,线/n,的/u,颜色/n,（/w,彩色/b,图像/n,的话/u,颜色/n,就/d,是/v,一个/m,1/m,*/w,3/m,的/u,数/m,组/q,）/w,import/en, ,cv/en,2/m, ,import/en, ,numpy/en, ,as/en, ,np/en, ,from/en, ,matplotlib/en, ,import/en, ,pyplot/en, ,as/en, ,plt/en, ,img/en, ,=/w, ,np/en,./w,zeros/en,(/w,(/w,512/m,,/w,512/m,)/w,,/w,np/en,./w,uint/en,8/m,)/w,#,生成/vn,一个/m,空/a,灰度/n,图像/n, ,cv/en,2/m,./w,line/en,(/w,img/en,,/w,(/w,0/m,,/w,0/m,)/w,,/w,(/w,511/m,,/w,511/m,)/w,,/w,255/m,,/w,5/m,)/w, ,plt/en,./w,imshow/en,(/w,img/en,,/w,'/w,gray/en,'/w,)/w, ,plt/en,./w,show/en,(/w,)/w,import/en, ,cv/en,2/m, ,import/en, ,numpy/en, ,as/en, ,np/en, ,from/en, ,matplotlib/en, ,import/en, ,pyplot/en, ,as/en, ,plt/en, ,img/en, ,=/w, ,np/en,./w,zeros/en,(/w,(/w,512/m,,/w,512/m,,/w,3/m,)/w,,/w,np/en,./w,uint/en,8/m,)/w,#,生成/vn,一个/m,空/a,彩色/b,图像/n, ,cv/en,2/m,./w,line/en,(/w,img/en,,/w,(/w,0/m,,/w,0/m,)/w,,/w,(/w,511/m,,/w,511/m,)/w,,/w,(/w,0/m,,/w,255/m,,/w,0/m,)/w,,/w,5/m,)/w, ,plt/en,./w,imshow/en,(/w,img/en,,/w,'/w,brg/en,'/w,)/w, ,plt/en,./w,show/en,(/w,)/w,5.2/m, ,直线/n,检测/vn,直线/n,检测/vn,可/v,通过/p,houghlines/en,和/c,houghlinesp/en,函数/n,来/v,完成/v,，/w,它们/r,仅/d,有的/r,差别/n,是/v,：/w,第一/m,个/q,函数/n,使用/v,标准/n,的/u,hough/en,变换/v,，/w,第二/m,个/q,函数/n,使用/v,概率/n,hough/en,变换/v,。/w,houghlinesp/en,函数/n,之所以/c,成为/v,概率/n,版本/n,的/u,hough/en,变换/v,是/v,因为/c,它/r,只/d,通过/p,分析点/nw,的/u,子集/n,并/c,估计/v,这些/r,点/q,都/d,属于/v,一条/mq,直线/n,的/u,概率/n,，/w,这/r,是/v,标准/n,hough/en,变换/v,的/u,优化/v,版本/n,，/w,该/r,函数/n,的/u,计算/v,代价/n,会/v,少/a,一些/m,，/w,执行/v,会/v,变/v,得/u,更/d,快/a,。/w,import/en, ,cv/en,2/m, ,import/en, ,numpy/en, ,as/en, ,np/en, ,img/en, ,=/w, ,cv/en,2/m,./w,imread/en,(/w,"/w,lines/en,./w,jpg/en,"/w,)/w, ,gray/en, ,=/w, ,cv/en,2/m,./w,cvtcolor/en,(/w,img/en,,/w,cv/en,2/m,./w,color/en,_,bgr/en,2/m,gray/en,)/w, ,edges/en, ,=/w, ,cv/en,2/m,./w,canny/en,(/w,gray/en,,/w, ,50/m,,/w, ,120/m,)/w, ,minlinelength/en, ,=/w, ,20/m, ,maxlinegap/en, ,=/w, ,5/m, ,lines/en, ,=/w, ,cv/en,2/m,./w,houghlinesp/en,(/w,edges/en,,/w, ,1/m,,/w, ,np/en,./w,pi/en,//w,180/m,,/w, ,100/m,,/w, ,minlinelength/en,,/w, ,maxlinegap/en,)/w, ,for/en, ,x/en,1/m,,/w, ,y/en,1/m,,/w, ,x/en,2/m,,/w, ,y/en,2/m, ,in/en, ,lines/en,[/w,0/m,]/w,:/w, ,cv/en,2/m,./w,line/en,(/w,img/en,,/w, ,(/w,x/en,1/m,,/w, ,y/en,1/m,)/w,,/w, ,(/w,x/en,2/m,,/w, ,y/en,2/m,)/w,,/w, ,(/w,0/m,,/w, ,255/m,,/w, ,0/m,)/w,,/w, ,2/m,)/w, ,cv/en,2/m,./w,imshow/en,(/w,"/w,edges/en,"/w,,/w, ,edges/en,)/w, ,cv/en,2/m,./w,imshow/en,(/w,"/w,lines/en,"/w,,/w, ,img/en,)/w, ,cv/en,2/m,./w,waitkey/en,(/w,)/w, ,cv/en,2/m,./w,destroyallwindows/en,(/w,)/w,houghlines/en,函数/n,会/v,接收/v,一个/m,由/p,canny/en,边缘/n,检测/vn,滤波器/n,处理/v,过/u,的/u,单通道/n,二值/nw,图像/n,，/w,不/d,一定/d,需要/v,canny/en,滤波器/n,，/w,但是/c,一个/m,经过/p,去/v,噪/vg,并/c,只有/c,边缘/n,的/u,图像/n,当作/v,hough/en,变换/v,的/u,输入/v,会/v,很/d,不错/a,。/w,houghlinesp/en,的/u,参数/n,：/w,需要/v,处理/v,的/u,参数/n,；/w,线/n,段/q,的/u,几何/n,表示/v,rho/en,和/c,theta/en,，/w,一般/a,分别/d,取/v,1/m,和/c,np/en,./w,pi/en,//w,180/m,；/w,阈值/n,，/w,低于/v,该/r,阈值/n,的/u,直线/n,会/v,被/p,忽略/v,，/w,hough/en,变换/v,可以/v,理解/v,为/p,投票箱/n,和/c,投票数/nw,之间/f,的/u,关系/n,，/w,每/r,一个/m,投票箱/n,代表/n,一个/m,直线/n,，/w,投票数/nw,达到/v,阈值/n,的/u,直线/n,会/v,被/p,保留/v,，/w,其他/r,的/u,会/v,被/p,删除/v,。/w,minlinelength/en,和/c,maxlinegap/en,5.3/m, ,绘制/v,圆/vg,绘制/v,圆形/n,只/d,需要/v,确定/v,圆心/n,与/p,半径/n,，/w,函数/n,：/w, ,cv/en,2/m,./w,circle/en, ,(/w,img/en,,/w,(/w,380/m,,/w,0/m,)/w,,/w,6