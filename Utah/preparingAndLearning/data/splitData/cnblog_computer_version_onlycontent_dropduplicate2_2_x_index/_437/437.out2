在/p,碎片/n,化/v,阅读/v,充斥/v,眼球/n,的/u,时代/n,，/w,越来越/d,少/a,的/u,人/n,会/v,去/v,关注/v,每篇/r,论文/n,背后/f,的/u,探索/v,和/c,思考/v,。/w,在/p,这个/r,栏目/n,里/f,，/w,你/r,会/v,快速/d, ,get/en, ,每篇/r,精选/v,论文/n,的/u,亮点/n,和/c,痛点/n,，/w,时刻/n,紧跟/v, ,ai/en, ,前沿/s,成果/n,。/w,点击/v,本文/r,底部/f,的/u,「/w,阅读/v,原/b,文」/nw,即刻/d,加入/v,社区/n,，/w,查看/v,更/d,多/a,最/d,新/a,论文/n,推荐/v,。/w,这/r,是/v, ,paperdaily/en, ,的/u,第/m, ,71/m, ,篇/q,文章/n,本期/r,推荐/v,的/u,论文/n,笔记/n,来自/v, ,paperweekly/en, ,社区/n,用户/n, ,@/w,jamiechoi/en,。/w,本文/r,主要/b,讨论/v,自/p,适应/v,的/u,注意力/n,机制/n,在/p, ,image/en, ,caption/en, ,中/f,的/u,应用/vn,。/w,作者/n,提/v,出/v,了/u,带有/v,视觉/n,标记/n,的/u,自/p,适应/v, ,attention/en, ,模型/n,，/w,在/p,每/r,一个/m, ,time/en, ,step/en,，/w,由/p,模型/n,决定/v,更/d,依赖/v,于/p,图像/n,还是/c,视觉/n,标记/n,。/w,■, ,论文/n, ,|/w, ,knowing/en, ,when/en, ,to/en, ,look/en,:/w, ,adaptive/en, ,attention/en, ,via/en, ,a/en, ,visual/en, ,sentinel/en, ,for/en, ,image/en, ,captioning/en,■, ,链接/n, ,|/w, ,www/en,./w,paperweekly/en,./w,site/en,//w,papers/en,//w,219/m,■, ,源/ng,码/v, ,|/w, ,github/en,./w,com/en,//w,jiasenlu/en,//w,adaptiveattentionintroduction/en,目前/t,大多数/m,的/u,基于/p, ,attention/en, ,机制/n,的/u, ,image/en, ,captioning/en, ,模型/n,采用/v,的/u,都/d,是/v, ,encoder/en,-/w,decoder/en, ,框架/n,。/w,然而/c,在/p, ,decode/en, ,的/u,时候/n,，/w,decoder/en, ,应该/v,对/p,不同/a,的/u,词/n,有/v,不同/a,的/u, ,attention/en, ,策略/n,。/w,例如/v,，/w,“/w,the/en,”/w,、/w,“/w,of/en,”/w,等/u,词/n,，/w,或者/c,是/v,跟/p,在/p,“/w,cell/en,”/w,后面/f,的/u,“/w,phone/en,”/w,等/u,组合词/nw,，/w,这/r,类/q,词/n,叫做/v,非视觉词/nw,（/w,non/en,-/w,visual/en, ,word/en,）/w,，/w,更/d,多/a,依赖/v,的/u,是/v,语义/n,信息/n,而/c,不/d,是/v,视觉/n,信息/n,。/w,而且/c,，/w,在/p,生成/vn, ,caption/en, ,的/u,过程/n,中/f,，/w,非视觉词/nw,的/u,梯度/n,会/v,误导/vn,或者/c,降低/v,视觉/n,信息/n,的/u,有效性/n,。/w,因此/c,，/w,本文/r,提/v,出/v,了/u,带有/v,视觉/n,标记/n,的/u,自/p,适应/v, ,attention/en, ,模型/n,（/w,adative/en, ,attention/en, ,model/en, ,with/en, ,a/en, ,visual/en, ,sentinel/en,）/w,，/w,在/p,每/r,一个/m, ,time/en, ,step/en,，/w,模型/n,决定/v,更/d,依赖/v,于/p,图像/n,还是/c, ,visual/en, ,sentinel/en,。/w,其中/r,，/w,visual/en, ,sentinel/en, ,存放/v,了/u, ,decoder/en, ,已经/d,知道/v,的/u,信息/n,。/w,本文/r,的/u,贡献/n,在于/v,：/w,提出/v,了/u,带有/v,视觉/n,标记/n,的/u,自/p,适应/v, ,attention/en, ,模型/n,提出/v,了/u,新/a,的/u, ,spatial/en, ,attention/en, ,机制/n,提出/v,了/u, ,lstm/en, ,的/u,扩展/v,，/w,在/p, ,hidden/en, ,state/en, ,以外/f,加入/v,了/u,一个/m,额外/b,的/u, ,visual/en, ,sentinel/en, ,vectormethodspatial/en, ,attention/en, ,model/en,文章/n,介绍/v,了/u,普通/a,的/u, ,encoder/en,-/w,decoder/en, ,框架/n,，/w,这里/r,不再/d,赘述/v,。/w,但/c,文章/n,定义/n,了/u, ,context/en, ,vector/en, ,ct/en,，/w,对于/p,没有/v, ,attention/en, ,机制/n,的/u,模型/n,，/w,ct/en, ,就/d,是/v,图像/n,经过/p, ,cnn/en, ,后/f,提取/v,出/v,的/u, ,feature/en, ,map/en,，/w,是/v,不/d,变/v,的/u,；/w,而/c,对于/p,有/v, ,attention/en, ,机制/n,的/u,模型/n,，/w,基于/p, ,hidden/en, ,state/en,，/w,decoder/en, ,会/v,关注/v,图像/n,的/u,不同/a,区域/n,，/w,ct/en, ,就/d,是/v,该/r,区域/n,经过/p, ,cnn/en, ,后/f,提取/v,出/v,的/u, ,feature/en, ,map/en,。/w,文章/n,对/p, ,ct/en, ,的/u,定义/n,如下/v,：/w,其中/r, ,g/en, ,是/v, ,attention/en, ,function/en,，/w,v/en,=/w,[/w,v/en,1/m,,/w,./w,./w,./w,,/w,vk/en,]/w, ,代表/n, ,k/en, ,个/q,区域/n,的/u,图像/n, ,feature/en,，/w,ht/en, ,是/v, ,t/en, ,时刻/n, ,rnn/en, ,的/u, ,hidden/en, ,state/en,。/w, ,由此/d,可以/v,得到/v, ,k/en, ,个/q,区域/n,的/u, ,attention/en, ,分布/v, ,α,t/en,：/w,这里/r,把/p, ,v/en, ,与/p, ,ht/en, ,相加/v,，/w,而/c,有些/r,论文/n,则/d,使用/v,一个/m,双线性/nw,矩阵/n,来/v,连接/v,它们/r,。/w,其中/r,是/v,所有/b,元素/n,为/p, ,1/m, ,的/u,向量/n,，/w,目的/n,是/v,让/v,相/d,乘/v,得到/v, ,k/en,*/w,k/en, ,大小/n,的/u,矩阵/n,。/w,最终/d,本文/r,的/u, ,ct/en, ,为/p,：/w,与/p, ,show/en,,/w, ,attend/en, ,and/en, ,tell/en, ,[/w,1/m,]/w, ,www/en,./w,ruishengks/en,./w,com/en, , ,www/en,./w,cnzhaotai/en,./w,com/en,使用/v, ,ht/en,−,1/m, ,的/u,做法/n,不同/a,，/w,本文/r,使用/v,的/u,是/v, ,ht/en,。/w,结构/n,如下/v,：/w,作者/n,认为/v, ,ct/en, ,可以/v,看作/v, ,ht/en, ,的/u,残差/nw,连接/v,，/w,可以/v,在/p,预测/v,下/f,一个/m,词/n,时/ng,降低/v,不确定性/nw,或者/c,提供/v,情报/n,。/w,（/w,不/d,是/v,应该/v,做/v,一个/m,实验/vn,验证/vn,使用/v, ,ht/en, ,和/c, ,ht/en,−,1/m, ,的/u,差别/n,？/w,）/w,并且/c,发现/v,，/w,这种/r, ,spatial/en, ,attention/en, ,方式/n,比/p,其他/r,模型/n,表现/v,更/d,好/a,。/w,adaptive/en, ,attention/en, ,modeldecoder/en, ,存储/vn,了/u,长/a,时/ng,和/c,短时/a,的/u,视觉/n,和/c,语义/n,信息/n,，/w,而/c, ,visual/en, ,sentinel/en, ,st/en, ,作为/v,从/p,里面/f,提取/v,的/u,一个/m,新/a,的/u,元件/n,，/w,用/p,来/v,扩展/v,上述/b,的/u, ,spatial/en, ,attention/en, ,model/en,，/w,就/d,得到/v,了/u, ,adaptive/en, ,attention/en, ,model/en,。/w,具体/a,的/u,扩展/v,方式/n,就是/d,在/p,原有/v,的/u, ,lstm/en, ,基础/n,上/f,加/v,了/u,两个/m,公式/n,：/w,其中/r, ,xt/en, ,是/v, ,lstm/en, ,的/u,输入/v,，/w,mt/en, ,是/v, ,memory/en, ,cell/en,（/w,有些/r,论文/n,里/f,用/p, ,ct/en, ,表示/v,）/w,。/w,这里/r,的/u, ,gt/en, ,叫/v, ,sentinel/en, ,gate/en,，/w,公式/n,形式/n,类似/v,于/p, ,lstm/en, ,中/f,的/u, ,input/en, ,gate/en,,/w, ,forget/en, ,gate/en,,/w, ,output/en, ,gate/en,，/w,决定/v,了/u,模型/n,到底/d,关注/v,图像/n,还是/c, ,visual/en, ,sentinel/en,；/w,而/c, ,st/en, ,公式/n,的/u,构造/v,与/p, ,lstm/en, ,中/f,的/u, ,ht/en,=/w,ot/en,⊙/w,tanh/en,(/w,ct/en,)/w, ,类似/v,。/w,adaptive/en, ,attention/en, ,model/en, ,中/f,的/u, ,context/en, ,vector/en,：/w,β,t/en,∈,[/w,0/m,,/w,1/m,]/w, ,可以/v,视为/v,真正/d,意义/n,上/f,的/u, ,sentinel/en, ,gate/en,，/w,控制/v,模型/n,关注/v, ,visual/en, ,sentinel/en, ,和/c, ,ct/en, ,的/u,程度/n,。/w,与此同时/c,，/w,spatial/en, ,attention/en, ,部分/n, ,k/en, ,个/q,区域/n,的/u, ,attention/en, ,分布/v, ,α,t/en, ,也/d,被/p,扩展/v,成/v,了/u, ,α,t/en,^,，/w,做法/n,是/v,在/p, ,zt/en, ,后面/f,拼/v,接/v,上/f,一个/m,元素/n,：/w,扩展/v,后/f,的/u, ,α,t/en,^, ,有/v, ,k/en,+/w,1/m, ,个/q,元素/n,，/w,而/c, ,β,t/en,=/w,α,t/en,^,[/w,k/en,+/w,1/m,]/w,。/w,（/w,cvpr/en, ,和/c, ,arxiv/en, ,版本/n,的/u,原文/n,都/d,写/v,的/u,是/v, ,β,t/en,=/w,α,t/en,[/w,k/en,+/w,1/m,]/w,，/w,我/r,在/p, ,github/en, ,上/f,问/v,了/u,作者/n,，/w,这/r,确实/ad,是/v,个/q,笔误/n, ,[/w,2/m,]/w,）/w,。/w,这里/r,的/u, ,wg/en, ,与/p,中/f,的/u, ,wg/en, ,是/v,相同/a,的/u,（/w,为什么/r,这样/r,做/v,？/w,wh/en, ,也/d,一样/u,吗/y,？/w,作者/n,在/p,这里/r,没有/v,提到/v,，/w,在/p,后续/vn,论文/n, ,[/w,3/m,]/w, ,里/f,的/u,公式/n, ,(/w,9/m,)/w, ,提到/v,了/u,）/w,。/w,上述/b,公式/n,可以/v,简化/v,为/p,：/w,最终/d,单词/n,的/u,概率/n,分布/v,：/w,具体/a,架构/n,如下/v,：/w,implementation/en, ,details/en,文章/n,选择/v,了/u, ,resnet/en, ,的/u,最后/f,一层/mq,卷/q,积层/nw,的/u,特征/n,来/v,表示/v,图像/n,，/w,维度/n,是/v, ,2048/m,x/en,7/m,x/en,7/m,，/w,并/c,使用/v,来/v,表示/v, ,k/en, ,个/q,局部/n,图像/n,特征/n,，/w,而/c,全局/n,图像/n,特征/n,则/d,是/v,局部/n,特征/n,的/u,平均/a,：/w,局部/n,图像/n,特征/n,需要/v,经过/p,转换/v,：/w,最终/d,全局/n,图像/n,特征/n,将/d,与/p, ,word/en, ,embedding/en, ,拼/v,接/v,在/p,一起/s,成为/v, ,lstm/en, ,的/u,输入/v,：/w,xt/en,=/w,[/w,wt/en,;/w,vg/en,]/w, ,局部/n,图像/n,特征/n,则/d,用/p,在/p,了/u, ,attention/en, ,部分/n,。/w,experimenttable/en, ,1/m, ,在/p, ,test/en, ,splits/en, ,上/f,对比/v,了/u,在/p, ,flickr/en,30/m,k/en, ,和/c, ,mscoco/en, ,数据集/nw,上/f,模型/n,与/p,其他/r,模型/n,的/u,表现/v,，/w,可以/v,看到/v,，/w,模型/n,的/u, ,spatial/en, ,attention/en, ,部分/n,就/d,已经/d,比/p,其他/r,模型/n,表现/v,好/a,了/u,，/w,而/c,加入/v,了/u, ,adaptive/en, ,attention/en, ,部分/n,以后/f,表现/v,更加/d,出色/a,。/w,table/en, ,2/m, ,在/p, ,coco/en, ,server/en, ,上/f,对比/v,了/u,模型/n,与/p,其他/r,模型/n,的/u,表现/v,可以/v,看到/v,，/w,adaptive/en, ,attention/en, ,模型/n,（/w,emsemble/en,后/f,）/w,的/u,表现/v,是/v,当时/t, ,sota/en, ,的/u,结果/n,。/w,fig/en, ,4/m, ,是/v, ,spatial/en, ,attention/en,的/u,权重/nz, ,α, ,的/u,可视化/nz,结果/n,，/w,前/f,两列/mq,是/v,成功/a,的/u,样本/n,，/w,最后/f,一列/mq,是/v,失败/v,的/u,样本/n,。/w,模型/n,进行/v, ,attention/en, ,的/u,区域/n,基本/a,都/d,是/v,合理/a,的/u,，/w,只是/d,可能/v,对/p,一些/m,物体/n,的/u,材质/n,判断/v,失误/vn,。/w,fig/en, ,5/m, ,主要/b,是/v, ,sentinel/en, ,gate/en, ,1/m,−,β, ,的/u,可视化/nz,，/w,对于/p,视觉词/nw,，/w,模型/n,给/p,出/v,的/u,概率/n,较/d,大/a,，/w,即/v,更/d,倾向/n,于/p,关注/v,图像/n,特征/n, ,ct/en,，/w,对于/p,非视觉词/nw,的/u,概率/n,则/d,比较/d,小/a,。/w,同时/c,，/w,同一/b,个/q,词/n,在/p,不同/a,的/u,上下/f,文/ng,中/f,的/u,概率/n,也/d,是/v,不/d,一样/u,的/u,。/w,如/v,"/w,a/en,"/w,，/w,在/p,一/m,开始/v,的/u,概率/n,较/d,高/a,，/w,因为/c,开始/v,时/ng,没有/v,任何/r,的/u,语义/n,信息/n,可以/v,依赖/v,、/w,以及/c,需要/v,确定/v,单复/nr,数/m,。/w,fig/en, ,6/m, ,对/p, ,coco/en, ,和/c, ,flickr/en,30/m,k/en, ,中/f,词典/n,中/f,的/u,词/n,被/p,认为/v,是/v,视觉词/nw,的/u,平均/a,概率/n,进行/v,了/u,排序/vn,，/w,来/v,看看/v,模型/n,能否/v,分辨/v,出/v,视觉词/nw,与非/c,视觉词/nw,，/w,两个/m,数据集/nw,间/f,的/u,相关性/n,为/p, ,0.483/m,。/w,其中/r,：/w,1/m,./w, ,对于/p,一些/m,实际上/d,是/v,视觉词/nw,，/w,但是/c,与/p,其他/r,词/n,有/v,很/d,大/a,关联性/nw,的/u,词/n,，/w,模型/n,也/d,会/v,把/p,它/r,视为/v,非视觉词/nw,，/w,如/v,"/w,phone/en,"/w,一般/a,都/d,跟/p,在/p,"/w,cell/en,"/w,后面/f,；/w,2/m,./w, ,不同/a,数据集/nw,上/f,不同/a,的/u,词/n,的/u,概率/n,不/d,一样/u,，/w,如/v,"/w,unk/en,"/w,，/w,可能/v,是/v,由于/c,训练/vn,数据/n,分布/v,的/u,不同/a,；/w,3/m,./w, ,对于/p,一些/m,有/v,相近/a,意义/n,的/u,同源词/nw,，/w,如/v,"/w,crossing/en,"/w,,/w, ,"/w,cross/en,"/w,,/w, ,"/w,crossed/en,"/w,，/w,他们/r,的/u,概率/n,却/d,相差/v,很/d,大/a,。/w,（/w,为什么/r,？/w,）/w, ,模型/n,没有/v,依赖/v,外部/f,