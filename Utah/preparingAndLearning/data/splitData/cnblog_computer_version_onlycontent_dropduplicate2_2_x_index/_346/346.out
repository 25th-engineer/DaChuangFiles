作者/n,：/w,寒/ag,小阳/nr,时间/n,：/w,2016年/t,1月/t,。/w,出处/n,：/w,http/en,:/w,//w,//w,blog/en,./w,csdn/en,./w,net/en,//w,han/en,_,xiaoyang/en,//w,article/en,//w,details/en,//w,50542880/m,声明/n,：/w,版权/n,全部/m,，/w,转载/v,请/v,联系/v,作者/n,并/c,注明/v,出处/n,1/m,./w, ,前言/n,前面/f,九/m,讲/v,对/p,神经/n,网络/n,的/u,结构/n,，/w,组件/n,，/w,训练/vn,方法/n,，/w,原理/n,等/u,做/v,了/u,介绍/v,。/w,如今/t,我们/r,回到/v,本/r,系列/q,的/u,核心/n,：/w,计算机/n,视觉/n,，/w,神经/n,网络/n,中/f,的/u,一种/mq,特殊/a,版本/n,号/q,在/p,计算机/n,视觉/n,中/f,使用/v,最为/d,广泛/a,。/w,这/r,就/d,是/v,大家/r,都/d,知道/v,的/u,卷积/nw,神经/n,网络/n,。/w,卷积/nw,神经/n,网络/n,和/c,普通/a,的/u,神经/n,网络/n,一样/u,。/w,由/p,『/w,神经元/n,』/w,按/p,层级/n,结构/n,组成/v,。/w,其间/f,的/u,权重/nz,和/c,偏移量/nz,都/d,是/v,可/v,训练/vn,得到/v,的/u,。/w,相同/a,是/v,输入/v,的/u,数据/n,和/c,权重/nz,做/v,运算/vn,。/w,输出/v,结果/n,输入/v,激励/v,神经元/n,，/w,输出/v,结果/n,。/w,从/p,整体/n,上/f,看来/v,，/w,整个/b,神经/n,网络/n,做/v,的/u,事情/n,，/w,依然/d,是/v,对于/p,像素/n,级别/n,输入/v,的/u,图像/n,数据/n,，/w,用/p,得分/n,函数/n,计算/v,最后/f,各个/r,类别/n,的/u,得分/n,，/w,然后/c,我们/r,通过/p,最小化/nw,损失/n,函数/n,来/v,得到/v,最/d,优/ag,的/u,权重/nz,。/w,之前/f,的/u,博文/nz,中/f,介绍/v,的/u,各种/r,技巧/n,和/c,训练/vn,方法/n,，/w,以及/c,注意/v,事项/n,。/w,在/p,这个/r,特殊/a,版本/n,号/q,的/u,神经/n,网络/n,上/f,依然/d,好使/a,。/w,既然/c,提到/v,卷积/nw,神经/n,网络/n,了/u,。/w,我们/r,就/d,来说/u,说/v,它/r,的/u,特殊/a,之/u,处/n,。/w,首先/d,这里/r,的/u,卷积/nw,神经/n,网络/n,一般/a,假定/v,输入/v,就/d,是/v,图片/n,数据/n,，/w,也/d,正是/v,由于/c,输入/v,是/v,图片/n,数据/n,，/w,我们/r,能够/v,利用/v,它/r,的/u,像素/n,结构/n,特性/n,。/w,去/v,做/v,一些/m,假设/v,来/v,简化/v,神经/n,网络/n,的/u,训练/vn,复杂度/nw,(/w,降低/v,训练/vn,參数/nw,个数/n,)/w,。/w,2/m,./w,卷积神经网/nt,整体/n,结构/n,一/m,览/vg,我们/r,前面/f,讲/v,过/u,的/u,神经/n,网络结构/l,都/d,比較/nw,一致/a,，/w,输入层/nw,和/c,输出/v,层/q,中间/f,夹/v,着/u,数层/nw,隐藏层/nw,，/w,每/r,一层/mq,都/d,由/p,多/a,个神经元/nw,组成/v,，/w,层/q,和/c,层/q,之间/f,是/v,全/a,连接/v,的/u,结构/n,，/w,同一/b,层/q,的/u,神经元/n,之间/f,没有/v,连接/v,。/w,卷积/nw,神经/n,网络/n,是/v,上述/b,结构/n,的/u,一种/mq,特殊化/vn,处理/v,，/w,由于/c,对于/p,图像/n,这种/r,数据/n,而言/u,，/w,上面/f,这种/r,结构/n,实际/n,应用/vn,起来/v,有/v,较/d,大/a,的/u,困难/an,：/w,就/d,拿/v,cifar/en,-/w,10/m,举例/v,吧/y,，/w,图片/n,已经/d,非常/d,小/a,了/u,，/w,是/v,32/m,*/w,32/m,*/w,3/m,(/w,长/a,宽/a,各/r,32/m,像素/n,。/w,3个/m,颜色/n,通道/n,)/w,的/u,，/w,那么/r,在/p,神经/n,网络/n,当中/f,，/w,我们/r,仅仅/d,看/v,隐藏层/nw,中/f,的/u,一个/m,神经元/n,，/w,就/d,应该/v,有/v,32/m,*/w,32/m,*/w,3/m,=/w,3072个/m,权重/nz,，/w,假设/v,大家/r,认为/v,这个/r,权/n,重/a,个数/n,的/u,量/n,还/d,行/v,的话/u,，/w,再/d,设想/vn,一下/m,，/w,当/p,这/r,是/v,一个/m,包括/v,多/a,个神经元/nw,的/u,多/a,层/q,神经/n,网/n,(/w,假设/v,n/en,个/q,)/w,，/w,再/d,比方/v,图像/n,的/u,质量/n,好/a,一点/m,(/w,比方/v,是/v,200/m,*/w,200/m,*/w,3/m,的/u,)/w,。/w,那/r,将/d,有/v,200/m,*/w,200/m,*/w,3/m,*/w,n/en,=/w, ,120000/m,n/en,个/q,权重/nz,须要/v,训练/vn,，/w,结果/n,是/v,拉/v,着/u,这么/r,多/a,參数/nw,训练/vn,。/w,基本/a,跑/v,不/d,动/v,。/w,跑/v,得/u,起来/v,也/d,是/v,『/w,气喘吁吁/z,』/w,，/w,当然/d,。/w,最/d,关键/n,的/u,是/v,这么/r,多/a,參数/nw,的/u,情况/n,下/f,。/w,分/q,分钟/q,模型/n,就/d,过/u,拟合/nz,了/u,。/w,别急/v,，/w,别急/v,。/w,一会儿/m,我们/r,会/v,提到/v,卷积/nw,神经/n,网络/n,的/u,想法/n,和/c,简化/v,之/u,处/n,。/w,卷积神经网络结构/nw,比/p,較,固定/a,的/u,原因/n,之中/f,的/u,一个/m,。/w,是/v,图片/n,数据/n,本身/r,的/u,合理/a,结构/n,。/w,类/q,图像/n,结构/n,(/w,200/m,*/w,200/m,*/w,3/m,)/w,。/w,我们/r,也/d,把/p,卷积/nw,神经/n,网络/n,的/u,神经元/n,排布/nz,成/v, ,width/en,*/w,height/en,*/w,depth/en,的/u,结构/n,，/w,也就是说/l,这/r,一层/mq,总/b,共同/d,拥有/v,width/en,*/w,height/en,*/w,depth/en,个神经元/nw,，/w,例如/v,以下/f,图/n,所/u,看到/v,的/u,。/w,举/v,个/q,样例/nw,说/v,，/w,cifar/en,-/w,10/m,的/u,输出/v,层/q,就/d,是/v,1/m,*/w,1/m,*/w,10维/mq,的/u,。/w,另外/c,我们/r,后面/f,会/v,说/v,到/v,，/w,每/r,一层/mq,的/u,神经元/n,，/w,事实上/l,仅仅/d,和/c,上/f,一层/mq,里/f,某些/r,小/a,区域/n,进行/v,连接/v,，/w,而/c,不/d,是/v,和/c,上/f,一层/mq,每/r,一个/m,神经元/n,全/a,连接/v,。/w,3/m,./w,卷积/nw,神经/n,网络/n,的/u,组成/v,层/q,在/p,卷积/nw,神经/n,网络/n,中/f,，/w,有/v,3种/mq,最/d,基本/a,的/u,层/q,：/w,卷/q,积运/nw,算/v,层/q,pooling/en,层/q,全/a,连接/v,层/q,一个/m,完整/a,的/u,神经/n,网络/n,就/d,是/v,由/p,这/r,三种/mq,层/q,叠加/vn,组成/v,的/u,。/w,结构/n,演示/vn,样例/nw,我们/r,继续/v,拿/v,cifar/en,-/w,10/m,数据集/nw,举例/v,，/w,一个/m,典型/n,的/u,该/r,数据集/nw,上/f,的/u,卷积/nw,神经/n,网络/n,分类器/nw,应该/v,有/v,[/w,input/en, ,-/w, ,conv/en, ,-/w, ,relu/en, ,-/w, ,pool/en, ,-/w, ,fc/en,]/w,的/u,结构/n,，/w,详细/ad,说来/v,是/v,这种/r,：/w,input/en,[/w,32/m,*/w,32/m,*/w,3/m,]/w,包括/v,原始/a,图片/n,数据/n,中/f,的/u,全部/m,像素/n,，/w,长宽/v,都/d,是/v,32/m,，/w,有/v,rgb/en, ,3个/m,颜色/n,通道/n,。/w,conv/en,卷积层/nw,中/f,，/w,没/d,个/q,神经元会/nt,和/c,上/f,一层/mq,的/u,若干/m,小/a,区域/n,连接/v,，/w,计算权/nw,重/a,和/c,小/a,区域/n,像素/n,的/u,内积/n,。/w,举/v,个/q,样例/nw,可能/v,产出/vn,的/u,结果/n,数据/n,是/v,[/w,32/m,*/w,32/m,*/w,12/m,]/w,的/u,。/w,relu/en,层/q,，/w,就/d,是/v,神经元/n,激励/v,层/q,，/w,基本/a,的/u,计算/v,就/d,是/v,max/en,(/w,0/m,,/w,x/en,)/w,，/w,结果/n,数据/n,依然/d,是/v,[/w,32/m,*/w,32/m,*/w,12/m,]/w,。/w,pooling/en,层/q,做/v,的/u,事情/n,，/w,能够/v,理解/v,成/v,一个/m,下/f,採样/nw,，/w,可能/v,得到/v,的/u,结果/n,维度/n,就/d,变为/v,[/w,16/m,*/w,16/m,*/w,12/m,]/w,了/u,。/w,全/a,连接/v,层/q,一般/a,用于/v,最后/f,计算/v,类别/n,得分/n,。/w,得到/v,的/u,结果/n,为/p,[/w,1/m,*/w,1/m,*/w,10/m,]/w,的/u,。/w,当中/f,的/u,10/m,相应/v,10个/m,不同/a,的/u,类别/n,。/w,和/c,名字/n,一样/u,，/w,这/r,一层/mq,的/u,全部/m,神经元会/nt,和/c,上/f,一层/mq,的/u,全部/m,神经元/n,有/v,连接/v,。/w,这样/r,，/w,卷积/nw,神经/n,网络/n,作为/v,一个/m,中间/f,的/u,通道/n,，/w,就/d,一步步/nw,把/p,原始/a,的/u,图像/n,数据/n,转/v,成/v,最后/f,的/u,类别/n,得分/n,了/u,。/w,有/v,一个/m,点/q,我们/r,要/v,提/v,一下/m,，/w,刚才/t,说/v,到/v,了/u,有/v,几/m,种/q,不同/a,的/u,神经/n,网络/n,层/q,，/w,当中/f,有/v,一些/m,层/q,是/v,有待/v,训练/vn,參数/nw,的/u,。/w,另外/c,一些/m,没有/v,。/w,详细/ad,一点/m,说/v,，/w,卷积层/nw,和/c,全/a,连接/v,层/q,包括/v,权重/nz,和/c,偏/d,移/v,的/u,；/w,而/c,relu/en,和/c,pooling/en,层/q,仅仅/d,是/v,一个/m,固定/a,的/u,函数/n,运算/vn,，/w,是/v,不/d,包括/v,权重/nz,和/c,偏移/vn,參数/nw,的/u,。/w,只是/d,pooling/en,层/q,包括/v,了/u,我们/r,手动/b,指定/v,的/u,超/v,參数/nw,，/w,这个/r,我们/r,之后/f,会/v,提到/v,。/w,总结/v,一下/m,：/w,一个/m,卷积/nw,神经/n,网络/n,由/p,多种/m,不同/a,类型/n,的/u,层/q,(/w,卷/q,几/m,层/q,//w,全/a,连接/v,层/q,//w,relu/en,层/q,//w,pooling/en,层/q,等/u,)/w,叠加/vn,而/c,成/v,。/w,每/r,一层/mq,的/u,输入/v,结构/n,是/v,3维/mq,的/u,数据/n,，/w,计算/v,完/v,输出/v,依然/d,是/v,3维/mq,的/u,数据/n,。/w,卷积层/nw,和/c,全/a,连接/v,层/q,包括/v,训练/vn,參数/nw,。/w,relu/en,和/c,pooling/en,层/q,不/d,包括/v,。/w,卷积层/nw,，/w,全/a,连接/v,层/q,和/c,pooling/en,层/q,包括/v,超/v,參数/nw,，/w,relu/en,层/q,没有/v,。/w,下/f,图/n,为/p,cifar/en,-/w,10/m,数据集/nw,构建/v,的/u,一个/m,卷积神经网络结构/nw,示意图/n,：/w,既然/c,有/v,这么/r,多/a,不同/a,的/u,层级/n,结构/n,，/w,那/r,我们/r,就/d,展/vg,开来/v,讲讲/v,：/w,3.1/m, ,卷积层/nw,说/v,起来/v,，/w,这/r,是/v,卷积/nw,神经/n,网络/n,的/u,核心层/n,(/w,从/p,名字/n,就/d,能够/v,看/v,出来/v,对/p,吧/y,-/w,_,-/w,|/w,|/w,)/w,。/w,3/m,./w,1/m,./w,1/m, ,卷积层/nw,综述/v,直观/a,看来/v,。/w,卷积层/nw,的/u,參数/nw,事实上/l,能够/v,看做/v,，/w,一系列/mq,的/u,可/v,训练/vn,//w,学习/v,的/u,过滤器/n,。/w,在/p,前/f,向/p,计算/v,过程/n,中/f,，/w,我们/r,输入/v,一定/d,区域/n,大小/n,(/w,width/en,*/w,height/en,)/w,的/u,数据/n,。/w,和/c,过滤器点/nt,乘/v,后/f,等/u,到/v,新/a,的/u,二维/nr,数据/n,，/w,然后/c,滑/v,过/u,一个个/nw,滤波器/n,。/w,组成/v,新/a,的/u,3维/mq,输出/v,数据/n,。/w,而/c,我们/r,能够/v,理解/v,成/v,每/r,一个/m,过滤器/n,都/d,仅仅/d,关心/v,过滤/v,数据/n,小平/n,面内/nw,的/u,部分/n,特征/n,，/w,当/p,出现/v,它/r,学习/v,到/v,的/u,特征/n,的/u,时候/n,，/w,就/d,会/v,呈现/v,激活/vn,//w,activate/en,态/ng,。/w,局部/n,关联度/n,。/w,这/r,是/v,卷积/nw,神经/n,网络/n,的/u,独特/a,之/u,处/n,当中/f,之中/f,的/u,一个/m,，/w,我们/r,知道/v,在/p,高维/nr,数据/n,(/w,比方/v,图片/n,)/w,中/f,，/w,用/p,全/a,连接/v,的/u,神经/n,网络/n,，/w,实际/n,project/en,中/f,基本/a,是/v,不/d,可行/a,的/u,。/w,卷积/nw,神经/n,网络/n,中/f,每/r,一层/mq,的/u,神经元/n,仅仅/d,会/v,和/c,上/f,一层/mq,的/u,一些/m,局部/n,区域/n,相连/v,，/w,这/r,就/d,是/v,所谓/v,的/u,局部/n,连接性/n,。/w,你/r,能够/v,想象/v,成/v,，/w,上/f,一层/mq,的/u,数据区/ns,，/w,有/v,一个/m,滑动/vn,的/u,窗体/nw,。/w,仅仅/d,有/v,这个/r,窗/ng,体内/s,的/u,数据会/nw,和/c,下/f,一层/mq,神经元/n,有/v,关联/vn,，/w,当然/d,，/w,这个/r,做法/n,就/d,要求/v,我们/r,手动/b,敲定/v,一个/m,超參/nw,数/m,:/w,窗体/nw,大小/n,。/w,通常/d,情况/n,下/f,，/w,这个/r,窗体/nw,的/u,长/a,和/c,宽/a,是/v,相等/v,的/u,，/w,我们/r,把/p,长/a,x/en,宽/a,叫做/v,receptive/en, ,field/en,。/w,实际/n,的/u,计算/v,中/f,，/w,这个/r,窗体/nw,是/v,会/v,『/w,滑动/vn,』/w,的/u,，/w,会/v,近似/a,覆盖/v,图片/n,的/u,全部/m,小/a,区域/n,。/w,举/v,个/q,实例/n,，/w,cifar/en,-/w,10/m,中/f,的/u,图片/n,输入/v,数据/n,为/p,[/w,32/m,*/w,32/m,*/w,3/m,]/w,的/u,，/w,假设/v,我们/r,把/p,receptive/en, ,field/en,设/v,为/p,5/m,*/w,5/m,，/w,那/r,receptive/en, ,field/en,的/u,data/en,都/d,会/v,和/c,下/f,一层/mq,的/u,神经元/n,关联/vn,，/w,所以/c,共同/d,拥有/v,5/m,*/w,5/m,*/w,3/m,=/w,75个/m,权重/nz,，/w,注意/v,到/v,最后/f,的/u,3/m,依然/d,代表/n,着/u,rgb/en, ,3个/m,颜色/n,通道/n,。/w,假设/v,不/d,是/v,输入/v,数据层/nw,，/w,中间/f,层/q,的/u,data/en,格式/n,可能/v,是/v,[/w,16/m,*/w,16/m,*/w,20/m,]/w,的/u,，/w,假如/c,我们/r,取/v,3/m,*/w,3/m,的/u,receptive/en, ,field/en,，/w,那/r,单个神经元/nw,的/u,权重/nz,为/p,3/m,*/w,3/m,*/w,20/m,=/w,180/m,。/w,局部/n,关联/vn,细节/n,。/w,我们/r,刚才/t,说/v,到/v,卷积层/nw,的/u,局部/n,关联/vn,问题/n,。/w,这个/r,地方/n,有/v,一个/m,receptive/en, ,field/en,，/w,也/d,就是/d,我们/r,直观/a,理解/v,上/f,的/u,『/w,滑动/vn,数据/n,窗体/nw,』/w,。/w,从/p,输入/v,的/u,数据/n,到/v,输出/v,数据/n,，/w,有/v,三个/m,超參/nw,数/m,会/v,决定/v,输出/v,数据/n,的/u,维度/n,，/w,各自/r,是/v,深度/n,//w,depth/en,，/w,步长/nz,//w,stride/en, ,和/c, ,填/v,充值/v,//w,zero/en,-/w,padding/en,：/w,所谓/v,深度/n,//w,depth/en,，/w,简单/a,说来/v,指/v,的/u,就/d,是/v,卷积层/nw,中/f,和/c,上/f,一层/mq,同/p,一个/m,输入/v,区域/n,连接/v,的/u,神经元/n,个数/n,。/w,这/r,部分/n,神经元会/nt,在/p,遇到/v,输入/v,中/f,的/u,不同/a,feature/en,时/ng,呈现/v,activate/en,状态/n,，/w,举/v,个/q,样例/nw,。/w,假设/v,这/r,是/v,第一/m,个/q,卷积层/nw,，/w,那/r,输入/v,到/v,它/r,的/u,数据/n,实际上/d,是/v,像素/n,值/n,，/w,不同/a,的/u,神经元/n,可能/v,对/p,图像/n,的/u,边缘/n,。/w,轮廓/n,或者/c,颜色/n,会/v,敏感/a,。/w,所谓/v,步长/nz,//w,stride/en,，/w,是/v,指/v,的/u,窗体/nw,从/p,当前/t,位置/n,到/v,下/f,一个/m,位置/n,。/w,『/w,跳/v,过/u,』/w,的/u,中间/f,数据/n,个数/n,。/w,比方/v,从/p,图像/n,数据层/nw,输入/v,到/v,卷积层/nw,的/u,情况/n,下/f,，/w,或许/d,窗体/nw,初始/b,位置/n,在/p,第/m,1个/m,像素/n,，/w,第二/m,个/q,位置/n,在/p,第/m,5个/m,像素/n,。/w,那么/r,stride/en,=/w,5/m,-/w,1/m,=/w,4/m,./w,所谓/v,zero/en,-/w,padding/en,是/v,在/p,原始/a,数据/n,的/u,周边/n,补/v,上/f,0/m,值/n,的/u,圈数/nw,。/w,(/w,以下/f,第/m,2张/mq,图/n,中/f,的/u,样子/n,)/w,这么/r,解释/v,可能/v,理解/v,起来/v,还是/c,会/v,有/v,困难/an,，/w,我们/r,找/v,两张/mq,图/n,来/v,相应/v,一下/m,这/r,三个/m,量/n,：/w,这/r,是/v,解决/v,imagenet/en,分类/vn,问题/n,用/p,到/v,的/u,卷积/nw,神经/n,网络/n,的/u,一部分/m,，/w,我们/r,看到/v,卷积层/nw,直接/ad,和/c,最/d,前面/f,的/u,图像层/nw,连接/v,。/w,图像层/nw,的/u,维度/n,为/p,[/w,227/m,*/w,227/m,*/w,3/m,]/w,，/w,而/c,receptive/en, ,field/en,设/v,为/p,11/m,*/w,11/m,，/w,图/n,上/f,未/d,标明/v,。/w,可是/c,滑动/vn,窗体/nw,的/u,步长/nz,stride/en,设/v,为/p,4/m,，/w,深度/n,depth/en,为/p,48/m,+/w,48/m,=/w,96/m,(/w,这/r,是/v,双/m,gpu/en,并行/v,设置/v,)/w,，/w,边缘/n,没有/v,补/v,0/m,，/w,因此/c,zero/en,-/w,padding/en,为/p,0/m,，/w,因此/c,窗体/nw,滑/v,完/v,一行/n,。/w,总共/d,停留/v,次数/n,为/p,(/w,data/en,_,len/en,-/w,receptive/en,_,field/en,_,len/en,+/w,2/m,*/w,zero/en,-/w,padding/en,)/w,//w,stride/en,+/w,1/m,=/w,(/w,227/m,-/w,11/m,+/w,2/m,*/w,0/m,)/w,//w,4/m,+/w,1/m,=/w,55/m,，/w,由于/c,图像/n,的/u,长宽/v,相等/v,，/w,因此/c,纵向/n,窗体/nw,数/m,也/d,是/v,55/m,，/w,最后/f,得到/v,的/u,输出/v,数据/n,维度/n,为/p,55/m,*/w,55/m,*/w,96维/mq,。/w,这/r,是/v,一张/mq,动态/n,的/u,卷积层/nw,计算图/nw,，/w,图/n,上/f,的/u,zero/en,-/w,padding/en,为/p,1/m,，/w,所以/c,大家/r,能够/v,看到/v,数据/n,左右/m,各/r,补/v,了/u,一行/n,0/m,，/w,窗体/nw,的/u,长宽/v,为/p,3/m,，/w,滑动/vn,步长/nz,stride/en,为/p,2/m,。/w,关于/p,zero/en,-/w,padding/en,，/w,补/v,0/m,这个/r,操作/v,产生/v,的/u,根本/a,原因/n,是/v,。/w,为了/p,保证/v,窗体/nw,的/u,滑动/vn,能/v,从头/d,刚好/d,到/v,尾/q,。/w,举/v,个/q,样例/nw,说/v,。/w,上/f,2/m,图/n,中/f,的/u,上面/f,一幅/mq,图/n,，/w,由于/c,(/w,data/en,_,len/en,-/w,receptive/en,_,field/en,_,len/en,+/w,2/m,*/w,zero/en,-/w,padding/en,)/w,//w,stride/en,刚好/d,能够/v,整除/v,，/w,所以/c,窗体/nw,左側/nw,贴/v,着/u,数据/n,開始/nw,位置/n,，/w,滑/v,到/v,尾部/n,刚好/d,窗体/nw,右側/nw,能够/v,贴/v,着/u,数据/n,尾部/n,位置/n,，/w,因此/c,是/v,不/d,须要/v,补/v,0/m,的/u,。/w,而/c,在/p,以下/f,那幅/r,图/n,中/f,。/w,假设/v,滑动/vn,步长/nz,设/v,为/p,4/m,，/w,你/r,会/v,发现/v,第一/m,次/q,计算/v,之后/f,，/w,窗体/nw,就/d,无法/v,『/w,滑动/vn,』/w,了/u,，/w,而/c,尾部/n,的/u,数据/n,，/w,是/v,没有/v,被/p,窗体/nw,『/w,看到/v,过/u,』/w,的/u,，/w,因此/c,补/v,0/m,能够/v,解决/v,问题/n,。/w,关于/p,窗体/nw,滑动/vn,步长/nz,。/w,大家/r,能够/v,发现/v,一点/m,，/w,窗体/nw,滑动/vn,步长/nz,设定/v,越/d,小/a,。/w,两次/mq,滑动/vn,取得/v,的/u,数据/n,，/w,重叠/v,部分/n,越/d,多/a,。/w,可是/c,窗体/nw,停留/v,的/u,次数/n,也/d,会/v,越/d,多/a,，/w,运算/vn,律大/nrf,一些/m,。/w,窗体/nw,滑动/vn,步长/nz,设定/v,越/d,长/a,。/w,两次/mq,滑动/vn,取得/v,的/u,数据/n,，/w,重叠/v,部分/n,越/d,少/a,，/w,窗体/nw,停留/v,次数/n,也/d,越/d,少/a,，/w,运算量/nw,小/a,，/w,可是/c,从/p,一定/d,程度/n,上/f,说/v,数据/n,信息/n,不如/v,上面/f,丰富/a,了/u,。/w,3/m,./w,1/m,./w,2/m, ,卷积层/nw,的/u,參数/nw,共享/v,首先/d,得/u,说/v,卷积层/nw,的/u,參数/nw,共享/v,是/v,一个/m,非常/d,赞/vg,的/u,处理/v,方式/n,，/w,它/r,使得/v,卷积/nw,神经/n,网络/n,的/u,训练/vn,计算/v,复杂度/nw,和/c,參数/nw,个/q,数/m,降低/v,非常/d,非常/d,多/a,。/w,就/d,拿/v,实际/n,解决/v,imagenet/en,分类/vn,问题/n,的/u,卷积神经网络结构/nw,来说/u,。/w,我们/r,知道/v,输出/v,结果/n,有/v,55/m,*/w,55/m,*/w,96/m,=/w,290400/m,个神经元/nw,，/w,而/c,每/r,一个/m,神经元/n,由于/c,和/c,窗体/nw,内/f,数据/n,的/u,连接/v,，/w,有/v,11/m,*/w,11/m,*/w,3/m,=/w,363个/m,权重/nz,和/c,1个/m,偏移量/nz,。/w,所以/c,总/b,共同/d,拥有/v,290400/m,*/w,364/m,=/w,105705600个/m,权重/nz,。/w,。/w,。/w,然后/c,。/w,。/w,。/w,恩/ng,，/w,训练/vn,要/v,累/a,挂/v,了/u,。/w,。/w,。/w,因此/c,我们/r,做/v,了/u,一个/m,大胆/ad,的/u,假设/v,。/w,我们/r,刚才/t,提到/v,了/u,，/w,每/r,一个/m,神经元/n,能够/v,看做/v,一个/m,filter/en,。/w,对/p,图片/n,中/f,的/u,数据/n,窗/ng,区域/n,做/v,『/w,过滤/v,』/w,。/w,那/r,既然/c,是/v,filter/en,，/w,我们/r,干脆/d,就/d,假设/v,这个/r,神经元/n,用于/v,连接/v,数据/n,窗/ng,的/u,权重/nz,是/v,固定/a,的/u,，/w,这/r,意味着/v,，/w,对/p,同一/b,个神经元/nw,而言/u,，/w,不论/c,上/f,一层/mq,数据/n,窗体/nw,停留/v,在/p,哪个/r,位置/n,，/w,连接/v,两者/r,之间/f,的/u,权重/nz,都/d,是/v,同一/b,组/q,数/m,。/w,那/r,代表/n,着/u,。/w,上面/f,的/u,样例/nw,中/f,的/u,卷积层/nw,。/w,我们/r,仅仅/d,须要/v, ,神经元/n,个数/n,*/w,数据/n,窗体/nw,维度/n,=/w,96/m,*/w,11/m,*/w,11/m,*/w,3/m,=/w,34848个/m,权重/nz,。/w,假设/v,相应/v,每/r,一个/m,神经元/n,的/u,权重/nz,是/v,固定/a,的/u,，/w,那么/r,整个/b,计算/v,的/u,过程/n,就/d,能够/v,看做/v,，/w,一组/mq,固定/a,的/u,权重/nz,和/c,不同/a,的/u,数据/n,窗体/nw,数据/n,做/v,内积/n,的/u,过程/n,，/w,这/r,在/p,数学/n,上/f,刚好/d,相应/v,『/w,卷积/nw,』/w,操作/v,，/w,这/r,也/d,就/d,是/v,卷积神经网/nt,的/u,名字/n,来源/n,。/w,另外/c,，/w,由于/c,每/r,一个/m,神经元/n,的/u,权重/nz,固定/a,，/w,它/r,能够/v,看做/v,一个/m,恒定/an,的/u,filter/en,。/w,比方/v,上面/f,96个/m,神经元/n,作为/v,filter/en,可视化/nz,之后/f,是/v,例如/v,以下/f,的/u,样子/n,：/w,须要/v,说明/v,的/u,一点/m,是/v,，/w,參数/nw,共享/v,这个/r,策略/n,并非/v,每/r,一个/m,场景/n,下/f,都/d,合适/a,的/u,。/w,有/v,一些/m,特定/b,的/u,场合/n,。/w,我们/r,不能/v,把/p,图片/n,上/f,的/u,这些/r,窗体/nw,数据/n,都/d,视作/v,作用/n,等同/v,的/u,。/w,一个/m,非常/d,典型/n,的/u,样例/nw,就/d,是/v,人脸/n,识别/v,。/w,一般/a,人/n,的/u,面部/n,都/d,集中/v,在/p,图像/n,的/u,中央/n,，/w,因此/c,我们/r,希望/v,，/w,数据/n,窗体/nw,滑/v,过/u,这块/r,区域/n,的/u,时候/n,。/w,权重/nz,和/c,其它/r,边缘/n,区域/n,是/v,不同/a,的/u,。/w,我们/r,有/v,一种/mq,特殊/a,的/u,层/q,相应/v,这种/r,功能/n,，/w,叫做/v,局部/n,连接/v,层/q,//w,locally/en,-/w,connected/en, ,layer/en,3/m,./w,1/m,./w,3/m, ,卷积层/nw,的/u,简单/a,numpy/en,实现/v,我们/r,假定/v,输入/v,到/v,卷积层/nw,的/u,数据/n,为/p,x/en,。/w,增加/v,x/en,的/u,维度/n,为/p,x/en,./w,shape/en,:/w, ,(/w,11/m,,/w,11/m,,/w,4/m,)/w,。/w,假定/v,我们/r,的/u,zero/en,-/w,padding/en,为/p,0/m,，/w,也/d,就/d,是/v,左右/m,上下/f,不/d,补充/v,0/m,数据/n,，/w,数据/n,窗体/nw,大小/n,为/p,5/m,，/w,窗体/nw,滑动/vn,步长/nz,为/p,2/m,。/w,那/r,输出/v,数据/n,的/u,长宽/v,应该/v,为/p,(/w,11/m,-/w,5/m,)/w,//w,2/m,+/w,1/m,=/w,4/m,。/w,假定/v,第一/m,个神经元/nw,相应/v,的/u,权重/nz,和/c,偏移量/nz,分别/d,为/p,w/en,0/m,和/c,b/en,0/m,，/w,那/r,我们/r,就/d,能/v,算/v,得/u,，/w,在/p,第一/m,行/v,数据/n,窗体/nw,停留/v,的/u,4个/m,位置/n,，/w,得到/v,的/u,结果/n,值/n,分别/d,为/p,：/w,v/en,[/w,0/m,,/w,0/m,,/w,0/m,]/w, ,=/w, ,np/en,./w,sum/en,(/w,x/en,[/w,:/w,5/m,,/w,:/w,5/m,,/w,:/w,]/w, ,*/w, ,w/en,0/m,)/w, ,+/w, ,b/en,0/m,v/en,[/w,1/m,,/w,0/m,,/w,0/m,]/w, ,=/w, ,np/en,./w,sum/en,(/w,x/en,[/w,2/m,:/w,7/m,,/w,:/w,5/m,,/w,:/w,]/w, ,*/w, ,w/en,0/m,)/w, ,+/w, ,b/en,0/m,v/en,[/w,2/m,,/w,0/m,,/w,0/m,]/w, ,=/w, ,np/en,./w,sum/en,(/w,x/en,[/w,4/m,:/w,9/m,,/w,:/w,5/m,,/w,:/w,]/w, ,*/w, ,w/en,0/m,)/w, ,+/w, ,b/en,0/m,v/en,[/w,3/m,,/w,0/m,,/w,0/m,]/w, ,=/w, ,np/en,./w,sum/en,(/w,x/en,[/w,6/m,:/w,11/m,,/w,:/w,5/m,,/w,:/w,]/w, ,*/w, ,w/en,0/m,)/w, ,+/w, ,b/en,0/m,注意/v,上述/b,计算/v,过程/n,中/f,，/w,*/w,运算符/n,是/v,对/p,两个/m,向量/n,进行/v,点乘/nw,的/u,。/w,因此/c,w/en,0/m,应该/v,维度/n,为/p,(/w,5/m,,/w,5/m,,/w,4/m,)/w,，/w,相同/a,你/r,能够/v,计算/v,其它/r,位置/n,的/u,计算/v,输出值/nw,：/w,v/en,[/w,0/m,,/w,0/m,,/w,1/m,]/w, ,=/w, ,np/en,./w,sum/en,(/w,x/en,[/w,:/w,5/m,,/w,:/w,5/m,,/w,:/w,]/w, ,*/w, ,w/en,1/m,)/w, ,+/w, ,b/en,1/m,v/en,[/w,1/m,,/w,0/m,,/w,1/m,]/w, ,=/w, ,np/en,./w,sum/en,(/w,x/en,[/w,2/m,:/w,7/m,,/w,:/w,5/m,,/w,:/w,]/w, ,*/w, ,w/en,1/m,)/w, ,+/w, ,b/en,1/m,v/en,[/w,2/m,,/w,0/m,,/w,1/m,]/w, ,=/w, ,np/en,./w,sum/en,(/w,x/en,[/w,4/m,:/w,9/m,,/w,:/w,5/m,,/w,:/w,]/w, ,*/w, ,w/en,1/m,)/w, ,+/w, ,b/en,1/m,v/en,[/w,3/m,,/w,0/m,,/w,1/m,]/w, ,=/w, ,np/en,./w,sum/en,(/w,x/en,[/w,6/m,:/w,11/m,,/w,:/w,5/m,,/w,:/w,]/w, ,*/w, ,w/en,1/m,)/w, ,+/w, ,b/en,1/m,…/w,每/r,一个/m,神经元/n,相应/v,不同/a,的/u,一组/mq,w/en,和/c,b/en,，/w,在/p,每/r,一个/m,数据/n,窗体/nw,停留/v,的/u,位置/n,，/w,得到/v,一个/m,输出值/nw,。/w,我们/r,之前/f,提到/v,了/u,卷积层/nw,在/p,做/v,的/u,事情/n,，/w,是/v,不断/d,做/v,权重/nz,和/c,窗体/nw,数据/n,的/u,点乘/nw,和/c,求和/vn,。/w,因此/c,我们/r,也/d,能够/v,把/p,这个/r,过程/n,整理/v,成/v,一个/m,大/a,的/u,矩阵/n,乘法/n,。/w,看看/v,数据端/nw,，/w,我们/r,能够/v,做/v,一个/m,操作/v,im/en,2/m,col/en,将/d,数据/n,转/v,成/v,一个/m,可/v,直接/ad,供神经元/nw,filter/en,计算/v,的/u,大/a,矩阵/n,。/w,举/v,个/q,样例/nw,说/v,。/w,输入/v,是/v,[/w,227/m,*/w,227/m,*/w,3/m,]/w,的/u,图片/n,，/w,而/c,神经元/n,权重/nz,为/p,[/w,11/m,*/w,11/m,*/w,3/m,]/w,。/w,同一/b,时候/n,窗体/nw,移动/vn,步长/nz,为/p,4/m,，/w,那/r,我们/r,知道/v,数据/n,窗体/nw,滑动/vn,过程/n,中/f,总共/d,产生/v,[/w,(/w,227/m,-/w,11/m,)/w,//w,4/m,+/w,1/m,]/w,*/w,[/w,(/w,227/m,-/w,11/m,)/w,//w,4/m,+/w,1/m,]/w,=/w,55/m,*/w,55/m,=/w,3025个/m,局部/n,数据/n,区域/n,，/w,又/d,每/r,一个/m,区域/n,包括/v,11/m,*/w,11/m,*/w,3/m,=/w,363个/m,数据值/nw,，/w,因此/c,我们/r,想/v,办法/n,把/p,原始/a,数据/n,反复/d,和/c,扩充/v,成/v,一个/m,[/w,363/m,*/w,3025/m,]/w,的/u,数据/n,矩阵/n,x/en,_,col/en,。/w,就/d,能够/v,直接/ad,和/c,filter/en,进行/v,运算/vn,了/u,。/w,对于/p,filter/en,端/v,(/w,卷积层/nw,)/w,，/w,假如/c,厚度/n,为/p,96/m,(/w,有/v,96个/m,不同/a,权/n,重组/vn,的/u,filter/en,)/w,。/w,每/r,一个/m,filter/en,的/u,权重/nz,为/p,[/w,11/m,*/w,11/m,*/w,3/m,]/w,，/w,因此/c,filter/en,矩阵/n,w/en,_,row/en,维度/n,为/p,[/w,96/m,*/w,363/m,]/w,在/p,得到/v,上述/b,两个/m,矩阵/n,后/f,，/w,我们/r,的/u,输出/v,结果/n,即/v,能够/v,通过/p,np/en,./w,dot/en,(/w,w/en,_,row/en,,/w, ,x/en,_,col/en,)/w,计算/v,得到/v,，/w,结果/n,数据/n,为/p,[/w,96/m,*/w,3025/m,]/w,维/q,的/u,。/w,这个/r,实现/v,的/u,弊端/n,是/v,。/w,由于/c,数据/n,窗体/nw,的/u,滑动/vn,过程/n,中/f,有/v,重叠/v,。/w,因此/c,我们/r,出现/v,了/u,非常/d,多/a,反复/d,数据/n,，/w,占用/v,内存/n,较/d,大/a,。/w,优点/n,是/v,，/w,实际/n,计算/v,过程/n,非常/d,easy/en,，/w,假设/v,我们/r,用/p,相似/a,blas/en,这种/r,库/n,，/w,计算/v,将/d,非常/d,迅速/ad,。/w,另外/c,，/w,在/p,反向/f,传播/vn,过程/n,中/f,。/w,事实上/l,卷积/nw,相应/v,的/u,操作/v,还是/c,卷积/nw,，/w,因此/c,实现/v,起来/v,也/d,非常/d,方便/a,。/w,3.2/m, ,pooling/en,层/q,简单/a,说来/v,，/w,在/p,卷积/nw,神经/n,网络/n,中/f,。/w,pooling/en,层/q,是/v,夹/v,在/p,连续/a,的/u,卷积层/nw,中间/f,的/u,层/q,。/w,它/r,的/u,作用/n,也/d,非常/d,easy/en,，/w,就/d,是/v,*/w,*/w,逐步/d,地/u,压缩/v,//w,降低/v,数据/n,和/c,參数/nw,的/u,量/n,。/w,也/d,在/p,一定/d,程度/n,上/f,减/v,小/a,过/u,拟合/nz,的/u,现象/n,。/w,*/w,*/w,pooling/en,层/q,做/v,的/u,操作/v,也/d,非常/d,easy/en,。/w,就是/d,将/d,原/b,数据/n,上/f,的/u,区域/n,压缩/v,成/v,一个/m,值/n,(/w,区域/n,最大值/nz,//w,max/en,或者/c,平均值/n,//w,average/en,)/w,。/w,最/d,常见/a,的/u,pooling/en,设定/v,是/v,，/w,将/d,原/b,数据/n,切/v,成/v,2/m,*/w,2/m,的/u,小块/nz,。/w,每块/r,里面/f,取/v,最/d,大/a,值/n,作为/v,输出/v,，/w,这样/r,我们/r,就/d,自然而然/i,降低/v,了/u,75%/mq,的/u,数据量/n,。/w,须要/v,提到/v,的/u,是/v,。/w,除掉/v,max/en,和/c,average/en,的/u,pooling/en,方式/n,，/w,事实上/l,我们/r,也/d,能够/v,设定/v,别的/r,pooling/en,方式/n,。/w,比方/v,l/en,2/m,范数/nr,pooling/en,。/w,说/v,起来/v,，/w,历史/n,上/f,average/en, ,pooling/en,用/p,的/u,非常/d,多/a,，/w,可是/c,近些年/t,热/a,度/q,降/v,了/u,不少/m,。/w,project/en,师/ng,们/k,在/p,实践/v,中/f,发现/v,max/en, ,pooling/en,的/u,效果/n,相对/d,好/a,一些/m,。/w,一个/m,对/p,pooling/en,层/q,和/c,它/r,的/u,操作/v,直观/a,理解/v,的/u,示意图/n,为/p,：/w,上图/n,为/p,pooling/en,层/q,的/u,一个/m,直观/a,演示/vn,样例/nw,。/w,相当/d,于/p,对/p,厚度/n,为/p,64/m,的/u,data/en,，/w,每/r,一个/m,切片/v,做/v,了/u,一个/m,下/f,採样/nw,。/w,下/f,图/n,为/p,pooling/en,操作/v,的/u,实际/n,max/en,操作/v,。/w,pooling/en,层/q,(/w,假定/v,是/v,max/en,-/w,pooling/en,)/w,在/p,反向/f,传播/vn,中/f,的/u,计算/v,也/d,是/v,非常/d,easy/en,的/u,，/w,大家/r,都/d,知道/v,怎样/r,去/v,求/v,max/en,(/w,x/en,,/w,y/en,)/w,函数/n,的/u,偏导/nw,（/w,也/d,是/v,分段/vn,的/u,）/w,。/w,3.3/m, ,归一化层/nw,(/w,normalization/en, ,layer/en,)/w,卷积/nw,神经/n,网络/n,里面/f,有时候/d,会/v,用/p,到/v,各种各样/l,的/u,归一化层/nw,，/w,尤其/d,是/v,早期/t,的/u,研究/vn,，/w,常常/d,能/v,见到/v,它们/r,的/u,身影/n,。/w,只是/d,近些年/t,来/v,的/u,研究/vn,表明/v,，/w,似乎/d,这个/r,层级/n,对/p,最后/f,结果/n,的/u,帮助/v,非常/d,小/a,。/w,所以/c,后来/t,大多数/m,时候/n,就/d,干脆/d,拿/v,掉/v,了/u,。/w,3.4/m, ,全/a,连接/v,层/q,这/r,是/v,我们/r,在/p,介绍/v,神经/n,网络/n,的/u,时候/n,，/w,最/d,标准/n,的/u,形式/n,，/w,不论/c,什么/r,神经元/n,和/c,上/f,一层/mq,的/u,不论/c,什么/r,神经元/n,之间/f,都/d,有/v,关联/vn,。/w,然后/c,矩阵/n,运算/vn,也/d,非常/d,easy/en,和/c,直接/ad,。/w,如今/t,的/u,非常/d,多/a,卷积神经网络结构/nw,。/w,末层/nw,会/v,採用/nw,全/a,连接/v,去/v,学习/v,很多/m,其它/r,的/u,信息/n,。/w,4/m,./w, ,搭建/v,卷积神经网/nt,结构/n,从/p,上面/f,的/u,内容/n,我们/r,知道/v,。/w,卷积/nw,神经/n,网络/n,一般/a,由/p,3种/mq,层/q,搭建/v,而/c,成/v,：/w,卷积层/nw,，/w,pooling/en,层/q,(/w,我们/r,直接/ad,指定/v,用/p,max/en,-/w,pooling/en,)/w,和/c,全/a,连接/v,层/q,。/w,然后/c,我们/r,一般/a,选用/v,最/d,常见/a,的/u,神经元/n,relu/en,。/w,我们/r,来/v,看看/v,有/v,这些/r,『/w,组件/n,』/w,之后/f,，/w,怎么/r,『/w,拼/v,』/w,出/v,一个/m,合理/a,的/u,卷积神经网/nt,。/w,4.1/m, ,层/q,和/c,层/q,怎么/r,排/v,最/d,常见/a,的/u,组合/v,方式/n,是/v,，/w,用/p,relu/en,神经元/n,的/u,卷积层/nw,组/q,一个/m,神经/n,网络/n,，/w,同一/b,时候/n,在/p,卷积层/nw,和/c,卷积层/nw,之间/f,插入/v,pooling/en,层/q,。/w,经过/p,多次/nrf,的/u,[/w,卷积层/nw,]/w,=/w,>,[/w,pooling/en,层/q,]/w,叠加/vn,之后/f,，/w,数据/n,的/u,整体/n,量级/n,就/d,不大/d,了/u,，/w,这个/r,时候/n,我们/r,能够/v,放/v,一层/mq,全/a,连接/v,层/q,，/w,然后/c,最后/f,一层/mq,和/c,output/en,层/q,之间/f,是/v,一个/m,全/a,连接/v,层/q,。/w,所以/c,总结/v,一下/m,。/w,最/d,常见/a,的/u,卷积神经网/nt,结构/n,为/p,：/w,[/w,输入层/nw,]/w, ,=/w,>, ,[/w,[/w,relu/en,卷积层/nw,]/w,*/w,n/en, ,=/w,>, ,[/w,pooling/en,层/q,]/w,?/w,]/w,*/w,m/en, ,=/w,>, ,[/w,relu/en,全连/nw,接层/nw,]/w,*/w,k/en, ,=/w,>, ,[/w,全连/nw,接层/nw,]/w,解释/v,一下/m,，/w,当中/f,\/w,*/w,操作/v,代表/n,能够/v,叠加/vn,非常/d,多/a,层/q,，/w,而/c,[/w,pooling/en,层/q,]/w,?/w,表示/v,pooling/en,层/q,事实上/l,是/v,可/v,选/v,的/u,，/w,可有可无/l,。/w,n/en,和/c,m/en,是/v,详细/ad,层数/n,。/w,比方/v,说/v,[/w,输入层/nw,]/w, ,-/w,>, ,[/w,[/w,relu/en,卷积层/nw,]/w,=/w,>,[/w,relu/en,卷积层/nw,]/w,=/w,>,[/w,pooling/en,层/q,]/w,]/w,*/w,3/m, ,-/w,>, ,[/w,relu/en,全连/nw,接层/nw,]/w,*/w,2/m, ,-/w,>, ,[/w,全/a,连接/v,层/q,]/w,就/d,是/v,一个/m,合理/a,的/u,深层/b,的/u,卷积神经网/nt,。/w,『/w,在/p,相同/a,的/u,视野/n,范围/n,内/f,。/w,选择/v,多/a,层/q,叠加/vn,的/u,卷积层/nw,，/w,而/c,不/d,是/v,一个/m,大/a,的/u,卷积层/nw,』/w,这/r,句/q,话/n,非常/d,拗口/a,。/w,但/c,这/r,是/v,实际/n,设计/vn,卷积/nw,神经/n,网络/n,时候/n,的/u,经验/n,。/w,我们/r,找/v,个/q,样例/nw,来/v,解释/v,一下/m,这/r,句/q,话/n,：/w,假设/v,你/r,设计/vn,的/u,卷积神经网/nt,在/p,数据层/nw,有/v,3层/mq,连续/a,的/u,卷积层/nw,，/w,同一/b,时候/n,每/r,一层/mq,滑动/vn,数据/n,窗体/nw,为/p,3/m,*/w,3/m,，/w,第一/m,层/q,每/r,一个/m,神经元/n,能够/v,同一/b,时候/n,『/w,看到/v,』/w,3/m,*/w,3/m,的/u,原始/a,数据层/nw,，/w,那/r,第二/m,层/q,每/r,一个/m,神经元/n,能够/v,『/w,间接/b,看到/v,』/w,(/w,1/m,+/w,3/m,+/w,1/m,)/w,*/w,(/w,1/m,+/w,3/m,+/w,1/m,)/w,=/w,5/m,*/w,5/m,的/u,数据层/nw,内容/n,。/w,第三/nw,层/q,每/r,一个/m,神经元/n,能够/v,『/w,间接/b,看到/v,』/w,(/w,1/m,+/w,5/m,+/w,1/m,)/w,*/w,(/w,1/m,+/w,5/m,+/w,1/m,)/w,=/w,7/m,*/w,7/m,的/u,数据层/nw,内容/n,。/w,那/r,从/p,最/d,表层/n,看/v,，/w,还/d,不如/v,直接/ad,设定/v,滑动/vn,数据/n,窗体/nw,为/p,7/m,*/w,7/m,的/u,，/w,为啥/r,要/v,这么/r,设计/vn,呢/y,，/w,我们/r,来/v,分析/vn,一下/m,优劣/n,：/w,尽管/c,第三/nw,层/q,对/p,数据层/nw,的/u,『/w,视野/n,』/w,范围/n,是/v,一致/a,的/u,。/w,可是/c,单层/nw,卷积层/nw,加/v,7/m,*/w,7/m,的/u,上层/f,滑动/vn,数据/n,窗体/nw,，/w,结果/n,是/v,这/r,7个/m,位置/n,的/u,数据/n,。/w,都/d,是/v,线性/n,组合/v,后/f,得到/v,最后/f,结果/n,的/u,。/w,而/c,3层/mq,卷积层/nw,加/v,3/m,*/w,3/m,的/u,滑动/vn,数据/n,窗体/nw,。/w,得到/v,的/u,结果/n,是/v,原/b,数据/n,上/f,7/m,*/w,7/m,的/u,『/w,视野/n,』/w,内/f,数据/n,多/a,层/q,非线性/b,组合/v,。/w,因此/c,这种/r,特征/n,也/d,会/v,具备/v,更/d,高/a,的/u,表达/v,能力/n,。/w,假设/v,我们/r,假设/v,全部/m,层/q,的/u,『/w,厚度/n,』/w,//w,channel/en,数/m,是/v,一致/a,的/u,。/w,为/p,c/en,，/w,那/r,7/m,*/w,7/m,的/u,卷积层/nw,。/w,会/v,得到/v,c/en,×/w,(/w,7/m,×/w,7/m,×/w,c/en,)/w,=/w,49/m,c/en,2个/m,參数/nw,，/w,而/c,3层/mq,叠加/vn,的/u,3/m,*/w,3卷/mq,积层/nw,仅仅/d,有/v,3/m,×/w,(/w,c/en,×/w,(/w,3/m,×/w,3/m,×/w,c/en,)/w,)/w,=/w,27/m,c/en,2个/m,參数/nw,。/w,在/p,计算量/nw,上/f,后者/r,显然/ad,是/v,有/v,优势/n,的/u,。/w,同/p,上/f,一点/m,，/w,我们/r,知道/v,为了/p,反向/f,传播/vn,方便/a,，/w,实际/n,计算/v,过程/n,中/f,。/w,我们/r,会/v,在/p,前/f,向/p,计算/v,时/ng,保留/v,非常/d,多/a,中间/f,梯度/n,，/w,3层/mq,叠加/vn,的/u,3/m,*/w,3卷/mq,积层/nw,须要/v,保持/v,的/u,中间/f,梯度/n,要/v,小于/v,前/f,一种/mq,情况/n,，/w,这/r,在/p,project/en,实现/v,上/f,是/v,非常/d,有/v,优点/n,的/u,。/w,4.2/m, ,层/q,大小/n,的/u,设定/v,话/n,说/v,层级/n,结构/n,确定/v,了/u,，/w,也/d,得/u,知道/v,每/r,一层/mq,大概/d,什么/r,规模/n,啊/y,。/w,如今/t,我们/r,就/d,来/v,聊聊/v,这个/r,。/w,说/v,起来/v,，/w,每/r,一层/mq,的/u,大小/n,(/w,神经元/n,个数/n,和/c,排布/nz,)/w,并/c,没有/v,严格/ad,的/u,数字/n,规则/n,，/w,可是/c,我们/r,有/v,一些/m,通用/vn,的/u,project/en,实践/v,经验/n,和/c,系数/n,：/w,对于/p,输入层/nw,(/w,图像层/nw,)/w,，/w,我们/r,一般/a,把/p,数据/n,归/v,一/m,化/v,成/v,2/m,的/u,次方/n,的/u,长宽/v,像素/n,值/n,。/w,比方/v,cifar/en,-/w,10/m,是/v,32/m,*/w,32/m,*/w,3/m,，/w,stl/en,-/w,10/m,数据集/nw,是/v,64/m,*/w,64/m,*/w,3/m,，/w,而/c,imagenet/en,是/v,224/m,*/w,224/m,*/w,3/m,或者/c,512/m,*/w,512/m,*/w,3/m,。/w,卷积层/nw,一般/a,会/v,把/p,每/r,一个/m,[/w,滤/v,子/ng,//w,filter/en,//w,神经元/n,]/w,相应/v,的/u,上层/f,滑动/vn,数据/n,窗体/nw,设/v,为/p,3/m,*/w,3/m,或者/c,5/m,*/w,5/m,，/w,滑动/vn,步长/nz,stride/en,设/v,为/p,1/m,(/w,project/en,实践/v,结果/n,表明/v,stride/en,设/v,为/p,1/m,尽管/c,比/p,較,密集/a,，/w,可是/c,效果/n,比/p,較,好/a,。/w,步长/nz,拉/v,太/d,大/a,easy/en,损失/n,太/d,多/a,信息/n,)/w,，/w,zero/en,-/w,padding/en,就/d,不/d,用/p,了/u,。/w,pooling/en,层/q,一般/a,採用/nw,max/en,-/w,pooling/en,，/w,同一/b,时候/n,设定/v,採样/nw,窗体/nw,为/p,2/m,*/w,2/m,。/w,偶尔/d,会见/v,到/v,设定/v,更/d,大/a,的/u,採样/nw,窗体/nw,。/w,可是/c,那/r,意味/n,着/u,损失/n,掉/v,比/p,較,多/a,的/u,信息/n,了/u,。/w,比/p,較,重要/a,的/u,是/v,。/w,我们/r,得/u,预估/v,一下/m,内存/n,，/w,然后/c,依据/n,内存/n,的/u,情况/n,去/v,设定/v,合理/a,的/u,值/n,。/w,我们/r,举/v,个/q,样例/nw,，/w,在/p,imagenet/en,分类/vn,问题/n,中/f,，/w,图片/n,是/v,224/m,*/w,224/m,*/w,3/m,的/u,，/w,我们/r,跟/p,在/p,数据层/nw,后面/f,3个/m,3/m,*/w,3/m,『/w,视野/n,窗/ng,』/w,的/u,卷积层/nw,。/w,每/r,一层/mq,64个/m,filter/en,//w,神经元/n,,/w,把/p,padding/en,设/v,为/p,1/m,，/w,那么/r,最后/f,每/r,一个/m,卷积层/nw,的/u,output/en,都/d,是/v,[/w,224/m,*/w,224/m,*/w,64/m,]/w,。/w,大概/d,须要/v,1000/m,万次/nrf,对/p,output/en,的/u,激励/v,计算/v,(/w,非线性/b,activation/en,)/w,。/w,大概/d,花费/v,72/m,mb/en,内存/n,。/w,而/c,project/en,实践/v,里/f,。/w,一般/a,训练/vn,都/d,在/p,gpu/en,上/f,进行/v,，/w,gpu/en,的/u,内存/n,比/p,cpu/en,要/v,吃紧/a,的/u,多/a,，/w,所以/c,或许/d,我们/r,要/v,略微/d,调动/v,一下/m,參数/nw,。/w,比方/v,alexnet/en,用/p,的/u,是/v,11/m,*/w,11/m,的/u,的/u,视野/n,窗/ng,。/w,滑动/vn,步长/nz,为/p,4/m,。/w,4.3/m, ,典型/n,的/u,工业界/n,在/p,用/p,卷积/nw,神经/n,网络/n,几/m,个/q,有名/a,的/u,卷积/nw,神经/n,网络/n,例如/v,以下/f,：/w,lenet/en,，/w,这/r,是/v,最早/d,用/p,起来/v,的/u,卷积/nw,神经/n,网络/n,，/w,yann/en, ,lecun/en,在/p,论文/n,lenet/en,提到/v,。/w,alexnet/en,。/w,2012/m, ,ilsvrc/en,比赛/vn,远超/nw,第/m,2名/mq,的/u,卷积/nw,神经