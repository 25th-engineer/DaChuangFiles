计算机/n,视觉/n,中/f,的/u,边缘/n,检测/vn,边缘/n,检测/vn,是/v,计算机/n,视觉/n,中/f,最/d,重要/a,的/u,概念/n,之一/r,。/w,这/r,是/v,一个/m,很/d,直观/a,的/u,概念/n,，/w,在/p,一个/m,图像/n,上/f,运行/vn,图像/n,检测/vn,应该/v,只/d,输出/v,边缘/n,，/w,与/p,素描/n,比较/d,相似/a,。/w,我/r,的/u,目标/n,不仅/c,是/v,清晰/a,地/u,解释/v,边缘/n,检测/vn,是/v,怎样/r,工作/vn,的/u,，/w,同时/c,也/d,提供/v,一个/m,新/a,而/c,又/d,容易/a,的/u,方法/n,只/d,需要/v,最小/a,工作/vn,来/v,明显/a,地/u,提高/v,边缘/n,检测/vn,。/w,通过/p,获得/v,这些/r,边缘/n,，/w,许多/m,计算机/n,算法/n,才/d,得以/v,有/v,可能/v,实现/v,，/w,因为/c,在/p,一个/m,场景/n,中/f,边缘/n,包含/v,着/u,绝大部分/m,（/w,至少/d,很多/m,）/w,的/u,信息/n,。/w,举/v,个/q,例子/n,，/w,我们/r,都/d,记得/v, ,windows/en, ,xp/en, ,的/u,那个/r,绿色/n,小/a,山坡/n,和/c,蓝色/n,天空/n,的/u,背景/n,。/w,当/p,我们/r,的/u,大脑/n,试图/v,去/v,理解/v,这个/r,场景/n,时/ng,，/w,我们/r,知道/v,这/r,是/v,草地/n,，/w,看/v,起来/v,很/d,统一/vn,。/w,然后/c,，/w,我们/r,看到/v,了/u,飘/v,着/u,些许/m,白云/n,的/u,天空/n,。/w,这些/r,对象/n,的/u,每/r,一个/m,都/d,是/v,分离/v,的/u,，/w,而且/c,它们/r,之间/f,有/v,一个/m,边缘/n,。/w,这/r,就/d,是/v,场景/n,中/f,为什么/r,绝大部分/m,的/u,信息/n,存在/v,与/p,边缘/n,中/f,。/w,这/r,也/d,是/v,为什么/r,边缘/n,检测/vn,是/v,计算机/n,视觉/n,中/f,的/u,重要/a,概念/n,。/w,通过/p,把/p,图像/n,减少/v,到/v,只/d,剩下/v,边缘/n,，/w,使得/v,对于/p,许多/m,算法/n,更/d,容易/a,识别/v,、/w,学习/v,、/w,或者/c,处理/v,场景/n,。/w,边缘/n,检测/vn,：/w,滤波/v,边缘/n,检测/vn,的/u,大多数/m,是/v,基于/p,滤波/v,的/u,。/w,通常/d,来说/u,，/w,滤波/v,是/v,一个/m,消除/v,的/u,动作/n,。/w,比如/v,：/w,过滤/v,水/n,，/w,是/v,消除/v,寄生虫/n,。/w,相似/a,地/u,，/w,当/p,我们/r,尝试/vn,找到/v,图像/n,边缘/n,时/ng,，/w,我/r,是/v,在/p,尝试/vn,消除/v,掉/v,除/p,图像/n,边缘/n,之外/f,的/u,东西/n,。/w,消除/v,那些/r,不/d,是/v,有用/a,的/u,边缘/n,的/u,图像/n,部分/n,，/w,而/c,留下/v,合适/a,的/u,边缘/n,也/d,是/v,困难/an,所在/n,。/w,我/r,怎么/r,知道/v,这/r,是/v,不/d,是/v,有用/a,的/u,边缘/n,，/w,比如/v,，/w,我/r,对/p, ,windows/en, ,xp/en, ,背景/n,运行/vn, ,canny/en, ,edge/en, ,dectector/en, ,程序/n,，/w,效果/n,如下/v,。/w,你/r,能/v,看到/v,那些/r,小/a,草/n,的/u,细小/a,刀刃/n,似的/u,边缘/n,，/w,这/r,很/d,让/v,人/n,讨厌/v,，/w,而且/c,没有/v,真正/d,提供/v,有用/a,的/u,信息/n,。/w,甚至/d,那些/r,云朵/n,也/d,不/d,是/v,非常/d,清晰/a,。/w,现在/t,，/w,你/r,能/v,在/p,大多数/m,的/u, ,canny/en, ,edge/en, ,dectector/en, ,上/f,设置/v,一些/m,边界/n,，/w,这些/r,边界/n,设置/v,了/u,阈值/n,（/w,或者/c, ,非/h,极/d,大/a,值/n,抑制/v,）/w,，/w,所有/b,的/u,边缘/n,必须/d,满足/v,这个/r,阈值/n,才/d,能/v,划分/v,为/p,“/w,重要/a,的/u,”/w,边缘/n,。/w,与其/c,在/p, ,canny/en, ,edge/en, ,的/u,阈值/n,上/f,区分/v,，/w,不如/v,我们/r,更/d,广泛/a,地/u,来/v,谈谈/v,，/w,并且/c,搭建/v,几/m,个/q,滤波器/n,。/w,边缘/n,检测/vn,：/w,高斯滤波器高斯滤波器/nw,是/v,边缘/n,检测/vn,最/d,基础/n,的/u,滤波器/n,之一/r,，/w,虽然/c,还有/v,其他/r,的/u,，/w,但是/c,高斯滤波器会贯穿/nw,这/r,篇文章/n,。/w,高斯滤波器/nw,，/w,正/d,如/v,其/r,名/q,，/w,是/v,一个/m,基于/p,高斯/nr,分布/v,的/u,滤波器/n,。/w,它/r,看/v,起来/v,像/v,一个/m,抛物线/n,（/w,除了/p,在/p,二维/nr,的/u,情况/n,）/w,。/w,通过/p,矩阵/n,乘法/n,，/w,高斯滤波器/nw,能/v,被/p,应用/vn,到/v,每/r,一个/m,像素/n,上/f,。/w,它/r,实现/v,的/u,是/v,混合/vn,效果/n,，/w,让/v,最/d,中心/n,的/u,像素/n,尽量/d,小/a,基于/p,它/r,相邻/v,的/u,像素/n,。/w,举/v,个/q,例子/n,，/w,如/v,对/p,我/r,的/u,猫/n,的/u,图像/n,运行/vn,一个/m,均匀/ad,分布/v,的/u,高斯滤波器/nw,，/w,我/r,能够/v,得到/v,下面/f,的/u,图像/n,：/w,5/m,./w,jpg/en,你/r,可以/v,看到/v,图像/n,变/v,得/u,模糊/a,了/u,，/w,高斯滤波器/nw,就/d,是/v,获取/v,所有/b,像素/n,，/w,让/v,像/v,素值/nr,的/u,成分/n,是/v,与/p,相邻/v,像素/n,有关/vn,。/w,为了/p,让/v,高斯滤波器/nw,在/p,边缘/n,检测/vn,中/f,有效/a,，/w,我们/r,可以/v,使用/v,从/p, ,x/en, ,和/c, ,y/en, ,方面/n,求导/nw,出来/v,的/u,高斯滤波器/nw,。/w,这/r,也许/d,听/v,起来/v,有点/d,反/v,直觉/n,，/w,或者/c,不知/v,所谓/v,，/w,但是/c,如果/c,我们/r,看到/v,这种/r,导数/n,高斯滤波器/nw,的/u,图像/n,，/w,这种/r,想法/n,就/d,很/d,清晰/a,了/u,。/w,当/p,你/r,把/p,一个/m,高斯/nr,的/u, ,x/en, ,和/c, ,y/en, ,分量/n,求导/nw,后/f,，/w,一个/m,大/a,的/u,波峰/n, ,和/c,波谷/n,就/d,出现/v,了/u,。/w,如果/c,你/r,明白/v,导数/n,，/w,思考/v,下/f,这种/r,情况/n,，/w,你/r,应该/v,能/v,很快/d,想到/v,。/w,由于/c,高斯/nr,函数/n,峰/q,上/f,数值/n,上/f,的/u,巨大/a,变化/vn,，/w,从而/c,导致/v,了/u,高斯/nr,导数/n,波峰/n,和/c,波谷/n,的/u,出现/v,。/w,如果/c,我们/r,把/p,上面/f,的/u,写/v,成/v,代码/n,，/w,那/r,相当/d,直接/ad,（/w,至少/d,对于/p, ,matlab/en, ,和/c, ,python/en, ,来说/u,）/w,：/w,%/w, ,takes/en, ,the/en, ,derivative/en, ,of/en, ,a/en, ,5/m,x/en,5/m, ,gaussian/en,,/w, ,with/en, ,a/en, ,sigma/en, ,[/w,hx/en,,/w, ,hy/en,]/w, ,=/w, ,gradient/en,(/w,fspecial/en,(/w,'/w,gaussian/en,'/w,,/w,[/w,5/m, ,5/m,]/w,,/w,sigma/en,)/w,)/w,;/w,这/r,就/d,是/v,了/u,，/w,一行/n,代码/n,就/d,能/v,得到/v,我们/r,所/u,想/v,要/v,的/u,高斯/nr,，/w,然后/c,对/p,x/en, ,和/c, ,y/en, ,分量/n,求导/nw,。/w,边缘/n,检测/vn,：/w,应用/vn,滤波器/n,我们/r,已经/d,有/v,了/u,两个/m,高斯滤波器/nw,，/w,我们/r,把/p,他们/r,应用/vn,到/v,图像/n,中/f,。/w,我们/r,同样/d,使用/v,非/h,极/d,大/a,值/n,限制/v,，/w,即/v,如果/c,不/d,是/v,极/d,大/a,值/n,的话/u,，/w,就/d,把/p,像/v,素值/nr,设置/v,为/p,0/m,。/w,换种/nw,说法/n,就/d,是/v,消除/v,噪声/n,。/w,应用/vn,滤波器/n,的/u,代码/n,如下/v,：/w,%/w, ,convert/en, ,an/en, ,image/en, ,to/en, ,double/en, ,for/en, ,increased/en, ,precision/en, ,img/en, ,=/w, ,double/en,(/w,img/en,)/w,;/w, ,%/w, ,find/en, ,two/en, ,derived/en, ,gaussians/en, ,with/en, ,respect/en, ,to/en, ,x/en, ,and/en, ,y/en, ,[/w,hx/en,,/w, ,hy/en,]/w, ,=/w, ,gradient/en,(/w,fspecial/en,(/w,'/w,gaussian/en,'/w,,/w,[/w,5/m, ,5/m,]/w,,/w,sigma/en,)/w,)/w,;/w, ,%/w, ,run/en, ,the/en, ,filters/en, ,over/en, ,the/en, ,image/en,,/w, ,generating/en, ,a/en, ,filtered/en, ,image/en, ,%/w, ,leaves/en, ,x/en, ,edges/en, ,gx/en, ,=/w, ,double/en,(/w,imfilter/en,(/w,img/en,,/w,hx/en,,/w,'/w,replicate/en,'/w,,/w, ,'/w,conv/en,'/w,)/w,)/w,;/w, ,%/w, ,leaves/en, ,y/en, ,edges/en, ,gy/en, ,=/w, ,double/en,(/w,imfilter/en,(/w,img/en,,/w,hy/en,,/w,'/w,replicate/en,'/w,,/w, ,'/w,conv/en,'/w,)/w,)/w,;/w, ,%/w, ,take/en, ,the/en, ,absolute/en, ,value/en,,/w, ,and/en, ,combine/en, ,the/en, ,x/en, ,and/en, ,y/en, ,edges/en, ,mag/en, ,=/w, ,sqrt/en,(/w,(/w,gx/en, ,./w,*/w, ,gx/en,)/w, ,+/w, ,(/w,gy/en, ,./w,*/w, ,gy/en,)/w,)/w,;/w, ,%/w, ,use/en, ,non/en,-/w,maxima/en, ,suppression/en, ,[/w,mag/en,,/w, ,]/w, ,=/w, ,max/en,(/w,mag/en,,/w, ,[/w,]/w,,/w, ,3/m,)/w,;/w,如果/c,我们/r,将/d,它/r,应用/vn,我/r,的/u,猫/n,的/u,一张/mq,图片/n,，/w,我/r,我们/r,就/d,得到/v,一下/m,的/u,图片/n,：/w,有趣/a,地/u,是/v,，/w,我们/r,同样/d,也/d,能/v,这种/r,方法/n,应用/vn,到/v, ,rgb/en, ,图像/n,上去/v,，/w,同样/d,也/d,会/v,得到/v,彩色/b,的/u,边缘/n,。/w,普通/a,的/u,边缘/n,滤波器/n,应用/vn,到/v,猫/n,的/u,rgb/en,图像/n,这/r,两张/mq,图片/n,应该/v,都/d,能/v,代表/n,像素/n,和/c,它/r,相邻/v,之间/f,像素/n,的/u,颜色/n,的/u,差异/n,，/w,只不过/d,彩色/b,图像/n,有/v,3层/mq,，/w,而/c,黑白/b,图像/n,只/d,有/v,1层/mq,。/w,（/w,层/q,，/w,翻译/v,不/d,是/v,很/d,好/a,）/w,边缘/n,检测/vn,：/w,方向/n,滤波器/n,为什么/r,要/v,限制/v,我们/r,自己/r,仅仅/d,使用/v,绝对/d,的/u, ,x/en, ,和/c, ,y/en, ,方向/n,的/u,滤波器/n,呢/y,？/w,让/v,我们/r,也/d,来/v,构建/v,一些/m,方向/n,滤波器/n,。/w,这个/r,方法/n,（/w,或多或少/d,）/w,来源于/v, ,freeman/en, ,和/c, ,adelson/en, ,的/u,《/w,the/en, ,design/en, ,and/en, ,use/en, ,of/en, ,steerable/en, ,filters/en,》/w,论文/n,，/w,这个/r,想法/n,使/v,我们/r,能够/v,把/p,我们/r,的/u,高斯滤波器/nw,放置/v,在/p,不同/a,的/u,方向/n,。/w,根本/a,上/f,，/w,我们/r,把/p,我们/r,的/u,高斯滤波器/nw,放置/v,到/v,不同/a,的/u,方向/n,上去/v,，/w,以/p,基于/p,与/p,高斯/nr,相关/v,的/u,边缘/n,的/u,角度/n,来/v,创建/v,不同/a,数值/n,。/w,比如/v,,/w,如果/c,我们/r,把/p,高斯/nr,函数/n,放置/v,到/v,45度/mq,，/w,应用/vn,到/v,45度/mq,角/q,的/u,图像/n,上/f,，/w,应该/v,可以/v,比/p,在/p,0度/mq,的/u,高斯/nr,函数/n,得到/v,更/d,高/a,的/u,数量级/n,。/w,在/p,这种/r,情况/n,下/f,，/w,我/r,生成/vn,了/u,几/m,种/q,不同/a,的/u,方向/n,滤波器/n,：/w,上行/vn,x/en,分量/n,，/w,下行/v,y/en,分量/n,各种各样/l,的/u,高斯/nr,函数/n,产生/v,了/u,相对于/nw,x/en, ,和/c, ,y/en, ,分量/n,上/f,的/u,90/m,、/w,45/m,、/w,-/w,45/m, ,和/c, ,22.5/m, ,度/q,的/u,滤波器/n,。/w,这/r,也/d,就/d,产生/v,了/u,不同/a,的/u,边缘/n,大小/n,，/w,尽管/c,这些/r,滤波器/n,应该/v,检测/vn,出/v,相近/a,的/u,边缘/n,。/w,我/r,使用/v,的/u,代码/n,与/p,单个/b,滤波器/n,使用/v,的/u,代码/n,几乎/d,相同/a,，/w,但是/c,我/r,不同/a,以往/t,地/u,把/p,他们/r,混合/vn,在/p,一起/s,。/w,它/r,看/v,起来/v,有点/d,杂乱/a,，/w,但是/c,我/r,通过/p,让/v,我/r,运行/vn,每个/r,滤波器/n,表达/v,更/d,明白/v,来/v,尽可能/d,使/v,它/r,看/v,起来/v,更/d,清晰/a,。/w,%/w, ,create/en, ,four/en, ,filters/en, ,[/w,hx/en,,/w, ,hy/en,]/w, ,=/w, ,gradient/en,(/w,fspecial/en,(/w,'/w,gaussian/en,'/w,,/w,[/w,5/m, ,5/m,]/w,,/w,sigma/en,)/w,)/w,;/w, ,[/w,hx/en,1/m,,/w, ,hy/en,1/m,]/w, ,=/w, ,altorientfilter/en,1/m,(/w,hx/en,,/w, ,hy/en,)/w,;/w, ,[/w,hx/en,2/m,,/w, ,hy/en,2/m,]/w, ,=/w, ,altorientfilter/en,2/m,(/w,hx/en,,/w, ,hy/en,)/w,;/w, ,[/w,hx/en,3/m,,/w, ,hy/en,3/m,]/w, ,=/w, ,altorientfilter/en,3/m,(/w,hx/en,,/w, ,hy/en,)/w,;/w, ,%/w, ,run/en, ,first/en, ,gaussian/en, ,filter/en, ,on/en, ,image/en, ,gx/en, ,=/w, ,double/en,(/w,imfilter/en,(/w,img/en,,/w,hx/en,,/w,'/w,replicate/en,'/w,,/w, ,'/w,conv/en,'/w,)/w,)/w,;/w, ,gy/en, ,=/w, ,double/en,(/w,imfilter/en,(/w,img/en,,/w,hy/en,,/w,'/w,replicate/en,'/w,,/w, ,'/w,conv/en,'/w,)/w,)/w,;/w, ,%/w, ,run/en, ,second/en, ,gaussian/en, ,filter/en, ,on/en, ,image/en, ,gx/en,1/m, ,=/w, ,double/en,(/w,imfilter/en,(/w,img/en,,/w,hx/en,1/m,,/w,'/w,replicate/en,'/w,,/w, ,'/w,conv/en,'/w,)/w,)/w,;/w, ,gy/en,1/m, ,=/w, ,double/en,(/w,imfilter/en,(/w,img/en,,/w,hy/en,1/m,,/w,'/w,replicate/en,'/w,,/w, ,'/w,conv/en,'/w,)/w,)/w,;/w, ,%/w, ,run/en, ,third/en, ,gaussian/en, ,filter/en, ,on/en, ,image/en, ,gx/en,2/m, ,=/w, ,double/en,(/w,imfilter/