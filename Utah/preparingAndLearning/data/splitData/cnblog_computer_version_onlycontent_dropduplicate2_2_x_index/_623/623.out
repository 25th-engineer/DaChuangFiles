简介/n,摄像机/n,标定/v,(/w,camera/en, ,calibration/en,)/w,简单/a,来说/u,是/v,从/p,世界/n,坐标/n,系/v,换/v,到/v,图像/n,坐标系/n,的/u,过程/n,，/w,也/d,就/d,是/v,求/v,最终/d,的/u,投影/vn,矩阵/n,p/en,的/u,过程/n,，/w,下面/f,相关/v,的/u,部分/n,主要/b,参考/v,uiuc/en,的/u,计算机/n,视觉/n,的/u,课件/n,（/w,网址/n,spring/en, ,2016/m, ,cs/en,543/m, ,//w, ,ece/en,549/m, ,computer/en, ,vision/en,）/w,。/w,基本/a,的/u,坐标系/n,：/w,世界/n,坐标系/n,(/w,world/en, ,coordinate/en, ,system/en,)/w,；/w,相机/n,坐标系/n,(/w,camera/en, ,coordinate/en, ,system/en,)/w,；/w,图像/n,坐标系/n,(/w,image/en, ,coordinate/en, ,system/en,)/w,；/w,一般来说/l,，/w,标定/v,的/u,过程/n,分为/v,两个/m,部分/n,：/w,第一/m,步/q,是/v,从/p,世界/n,坐标系/n,转换/v,为/p,相机/n,坐标系/n,，/w,这/r,一步/mq,是/v,三维点/nw,到/v,三维点/nw,的/u,转换/v,，/w,包括/v,r/en,，/w,t/en,（/w,相机/n,外参/nw,）/w,等/u,参数/n,；/w,第二/m,部/q,是/v,从/p,相机/n,坐标系/n,转为/v,图像/n,坐标系/n,，/w,这/r,一步/mq,是/v,三维点/nw,到/v,二维点/nr,的/u,转换/v,，/w,包括/v,k/en,（/w,相机/n,内参/n,）/w,等/u,参数/n,；/w,相机/n,坐标系/n, ,转换/v,到/v, ,图像/n,坐标系/n,坐标系/n,介绍/v,如/v,上图/n,所示/nz,（/w,图片/n,来自/v,uiuc/en,计算机/n,视觉/n,课件/n,）/w,，/w,是/v,一个/m,小孔/n,成像/vn,的/u,模型/n,，/w,其中/r,：/w,c/en,点/q,表示/v,camera/en, ,centre/en,，/w,即/v,相机/n,的/u,中心点/nz,，/w,也/d,是/v,相机/n,坐标系/n,的/u,中心点/nz,；/w,z/en,轴/q,表示/v,principal/en, ,axis/en,，/w,即/v,相机/n,的/u,主轴/n,；/w,p/en,点/q,所在/n,的/u,平面/n,表示/v,image/en, ,plane/en,，/w,即/v,相机/n,的/u,像/v,平面/n,，/w,也/d,就/d,是/v,图片/n,坐标/n,系/v,所/u,在/p,的/u,二维/nr,平面/n,；/w,p/en,点/q,表示/v,principal/en, ,point/en,，/w,即/v,主点/nw,，/w,主轴/n,与/p,像/v,平面/n,相交/v,的/u,点/q,；/w,c/en,点/q,到/v,p/en,点/q,的/u,距离/n,，/w,也/d,就/d,是/v,右边/f,图/n,中/f,的/u,f/en,表示/v,focal/en, ,length/en,，/w,即/v,相机/n,的/u,焦距/n,；/w,像/v,平面/n,上/f,的/u,x/en,和/c,y/en,坐标轴/n,是/v,与/p,相机/n,坐标/n,系/v,上/f,的/u,x/en,和/c,y/en,坐标轴/n,互相/d,平行/vn,的/u,；/w,相机/n,坐标系/n,是/v,以/p,x/en,，/w,y/en,，/w,z/en,（/w,大写/n,）/w,三个轴/mq,组成/v,的/u,且/c,原点/n,在/p,c/en,点/q,，/w,度量/v,值/n,为/p,米/q,（/w,m/en,）/w,；/w,像/v,平面/n,坐标系/n,是/v,以/p,x/en,，/w,y/en,（/w,小写/n,）/w,两个轴/mq,组成/v,的/u,且/c,原点/n,在/p,p/en,点/q,，/w,度量/v,值/n,为/p,米/q,（/w,m/en,）/w,；/w,图像/n,坐标系/n,一般/a,指/v,图片/n,相对/d,坐标系/n,，/w,在/p,这里/r,可以/v,认为/v,和/c,像/v,平面/n,坐标/n,系/v,在/p,一个/m,平面/n,上/f,，/w,不过/c,原点/n,是/v,在/p,图片/n,的/u,角/q,上/f,，/w,而且/c,度量/v,值/n,为/p,像素/n,的/u,个数/n,（/w,pixel/en,）/w,；/w,相机/n, ,转换/v,到/v, ,像/v,平面/n,知道/v,上面/f,的/u,简单/a,知识/n,后/f,，/w,如果/c,知道/v,相机/n,坐标系/n,中/f,的/u,一个/m,点/q,x/en,（/w,现实/n,三维/nz,世界/n,中/f,的/u,点/q,）/w,，/w,在/p,像/v,平面/n,坐标系/n,对应/v,的/u,点/q,是/v,x/en,，/w,要求/v,求/v,从/p,相机/n,坐标系/n,转为/v,像/v,平面/n,坐标系/n,的/u,转换/v,，/w,也/d,就/d,是/v,从/p,x/en,点/q,的/u,(/w,x/en,,/w,y/en,,/w,z/en,)/w,通过/p,一定/d,的/u,转换/v,变为/v,x/en,点/q,的/u,(/w,x/en,,/w,y/en,)/w,。/w,注意/v,：/w,(/w,x/en,,/w,y/en,,/w,z/en,)/w,（/w,大写/n,）/w,是/v,在/p,相机/n,坐标系/n,，/w,而/c,(/w,x/en,,/w,y/en,)/w,（/w,小写/n,）/w,是/v,在/p,像/v,平面/n,坐标系/n,（/w,还/d,不/d,是/v,图像/n,坐标系/n,，/w,原点/n,不/d,同/p,。/w,）/w,观察/v,第二/m,个/q,图/n,，/w,很/d,简单/a,的/u,可以/v,得到/v,这个/r,转换/v,：/w,x/en,=/w,fx/en,//w,zy/en,=/w,fy/en,//w,z/en,(/w,x/en,,/w,y/en,,/w,z/en,)/w,↦,(/w,fx/en,//w,z/en,,/w,fy/en,//w,z/en,)/w,可以/v,表示/v,为/p,矩阵/n,计算/v,为/p,（/w,在/p,这里/r,用/p,的/u,是/v,齐次/nrf,坐标/n,的/u,表示/v,方式/n,，/w,关于/p,齐次/nrf,坐标/n,文章/n,最/d,下面/f,有/v,介绍/v,）/w,：/w,⎛⎝/nw,⎜,⎜⎜/nw,xyz/en,1/m,⎞,⎠⎟/nw,⎟⎟/nw,↦,⎛,⎝⎜/nw,fxfyz/en,⎞,⎠⎟/nw,=/w,⎡,⎣⎢/nw,ff/en,1000/m,⎤⎦/nw,⎥⎛/nw,⎝⎜/nw,⎜⎜/nw,xyz/en,1/m,⎞,⎠⎟/nw,⎟⎟/nw,可以/v,简写/n,为/p,（/w,p/en,就/d,是/v,所谓/v,的/u,投影/vn,矩阵/n,，/w,当然/d,现在/t,还/d,不/d,完整/a,）/w,：/w,x/en,=/w,px/en,加入/v,偏移量/nz,通过/p,上面/f,，/w,可以/v,把/p,相机/n,坐标系/n,转换/v,到/v,像/v,平面/n,坐标系/n,，/w,但是/c,像/v,平面/n,坐标系/n,和/c,图像/n,坐标系/n,虽然/c,在/p,同一/b,个/q,平面/n,上/f,，/w,但是/c,原/b,点/q,并/c,不/d,是/v,同一个/r,，/w,而/c,目标/n,是/v,要/v,转换/v,到/v,图像/n,坐标/n,系/v,下/f,，/w,所以/c,还/d,需要/v,一步/mq,操作/v,，/w,如/v,下/f,图/n,：/w,如/v,上图/n,所示/nz,（/w,图片/n,来自/v,uiuc/en,计算机/n,视觉/n,课件/n,）/w,，/w,其中/r,主点/nw,p/en,是/v,像/v,平面/n,坐标系/n,的/u,原点/n,，/w,但/c,在/p,图像/n,坐标系/n,中/f,的/u,位置/n,为/p,(/w,px/en,,/w,py/en,)/w,，/w,在/p,这里/r,，/w,图形/n,坐标系/n,的/u,原点/n,是/v,图片/n,的/u,左下角/nw,，/w,所以/c,可以/v,得到/v,：/w,(/w,x/en,,/w,y/en,,/w,z/en,)/w,↦,(/w,fx/en,//w,z/en,+/w,px/en,,/w,fy/en,//w,z/en,+/w,py/en,)/w,相当/d,于/p,在/p,上面/f,的/u,基础/n,上/f,加/v,了/u,一个/m,p/en,点/q,坐标/n,的/u,偏移量/nz,，/w,同时/c,可以/v,表示/v,为/p,矩阵/n,计算/v,为/p,（/w,在/p,这里/r,用/p,的/u,是/v,齐次/nrf,坐标/n,的/u,表示/v,方式/n,）/w,：/w,⎛⎝/nw,⎜,⎜⎜/nw,xyz/en,1/m,⎞,⎠⎟/nw,⎟⎟/nw,↦,⎛,⎝⎜/nw,fx/en,+/w,zpxfy/en,+/w,zpyz/en,⎞,⎠⎟/nw,=/w,⎡,⎣⎢/nw,ffpxpy/en,1000/m,⎤⎦/nw,⎥⎛/nw,⎝⎜/nw,⎜⎜/nw,xyz/en,1/m,⎞,⎠⎟/nw,⎟⎟/nw,整理/v,一下/m,得/u,：/w,⎛,⎝⎜/nw,fx/en,+/w,zpxfy/en,+/w,zpyz/en,⎞,⎠⎟/nw,=/w,⎡,⎣⎢/nw,ffpxpy/en,1/m,⎤,⎦,⎥⎡/nw,⎣⎢/nw,111000/m,⎤⎦/nw,⎥⎛/nw,⎝⎜/nw,⎜⎜/nw,xyz/en,1/m,⎞,⎠⎟/nw,⎟⎟/nw,所以/c,最后/f,可以/v,得到/v,k/en,，/w,也/d,就/d,是/v,平时/t,所/u,说/v,的/u,相机/n,内参/n,（/w,intrinsic/en, ,parameters/en,）/w,：/w,k/en,=/w,⎡,⎣⎢/nw,ffpxpy/en,1/m,⎤,⎦⎥/nw,以及/c,投影/vn,矩阵/n,p/en,（/w,在/p,这里/r,可以/v,认为/v,旋转/v,矩阵/n,r/en,为/p,单位/n,矩阵/n,i/en,，/w,平移/vn,矩阵/n,t/en,都/d,为/p,0/m,，/w,这/r,也/d,是/v,为什么/r,要/v,拆/v,成/v,这种/r,方式/n,）/w,，/w,为/p,：/w,p/en,=/w,k/en,[/w,i/en,0/m,]/w,像素/n,坐标/n,前面/f,也/d,提到/v,了/u,在/p,图像/n,坐标系/n,中用/a,的/u,不/d,是/v,现实/n,生活/vn,中/f,的/u,m/en,来/v,度量/v,，/w,而是/c,用/p,的/u, ,pixel/en, ,的/u,个数/n,，/w,所以/c,在/p,上面/f,转换/v,到/v,图像/n,坐标系/n,中/f,还有/v,个/q,问题/n,，/w,就/d,是/v,坐标/n,的/u,表示/v,还是/c,m/en,，/w,并/c,没有/v,转换/v,到/v,像素/n,坐标/n,系统/n,；/w,在/p,这里/r,需要/v,引入/v,一个/m,新/a,概念/n,就/d,是/v,：/w,mx/en,表示/v,在/p,水平/n,方向/n,1/m,m/en,的/u,长度/n,包含/v,的/u,像素/n,的/u,个数/n,；/w,my/en,表示/v,在/p,竖直/nw,方向/n,1/m,m/en,的/u,长度/n,包含/v,的/u,像素/n,的/u,个数/n,；/w,可能/v,有人/r,奇怪/v,为啥/r,不/d,是/v,一个/m,值/n,，/w,还/d,需要/v,分别/d,指定/v,mx/en,和/c,my/en,呀/y,，/w,这/r,是/v,因为/c,通过/p,上面/f,可以/v,得到/v,一个/m,像素/n,点/q,的/u,大小/n,（/w,m/en,度量/v,）/w,为/p,：/w,1/m,mx/en,×/w,1/m,my/en,但是/c,需要/v,说明/v,的/u,是/v,像素/n,并/c,不/d,一定/d,是/v,一个/m,正方形/n,，/w,有时候/d,可能/v,也/d,是/v,一个/m,矩形/n,，/w,所以/c,要/v,分别/d,指定/v,。/w,所以/c,可以/v,把/p,上面/f,相机/n,内参/n,k/en,变为/v,更新/v,为/p,，/w,转换/v,公式/n,把/p,k/en,替换/v,即可/v,，/w,其他/r,不/d,变/v,：/w,k/en,=/w,⎡,⎣⎢/nw,mxmy/en,1/m,⎤,⎦,⎥⎡/nw,⎣⎢/nw,ffpxpy/en,1/m,⎤,⎦⎥/nw,=/w,⎡,⎣⎢/nw,α,x/en,α,y/en,β,x/en,β,y/en,1/m,⎤,⎦⎥/nw,一般来说/l,，/w,在/p,使用/v,相机/n,内参/n,k/en,计算/v,坐标系/n,转换/v,时/ng,，/w,提供/v,的/u,都/d,是/v,已经/d,变换/v,后/f,的/u,值/n,；/w,例如/v,会/v,提供/v,fx/en,，/w,fy/en,，/w,cx/en,，/w,cy/en,四个/m,值/n,代表/n,相机/n,内参/n,k/en,，/w,其实/d,fx/en,就/d,是/v,这里/r,的/u,α,x/en,，/w,同理/v,fy/en,是/v,α,y/en,，/w,cx/en,是/v,β,x/en,，/w,cy/en,是/v,β,y/en,。/w,世界/n,坐标系/n, ,转换/v,到/v, ,图像/n,坐标系/n,坐标系/n,介绍/v,如/v,上图/n,所示/nz,（/w,图片/n,来自/v,uiuc/en,计算机/n,视觉/n,课件/n,）/w,，/w,从/p,世界/n,坐标系/n,转换/v,到/v,相机/n,坐标系/n,是/v,三维/nz,空间/n,到/v,三维/nz,空间/n,的/u,变换/v,，/w,一般来说/l,需要/v,一个/m,平移/vn,操作/v,和/c,一个/m,旋转/v,操作/v,就/d,可以/v,完成/v,这个/r,转换/v,，/w,用/p,公式/n,表示/v,如下/v,（/w,可以/v,理解/v,为/p,世界/n,坐标/n,系/v,原/b,点先/nw,平移/vn,到/v,相机/n,坐标系/n,的/u,位置/n,然后/c,在/p,做/v,一次/mq,坐标/n,系/v,旋转/v,，/w,使/v,坐标轴/n,对齐/v,。/w,）/w,：/w,x/en,˜/w,cam/en,=/w,r/en,(/w,x/en,˜/w,−,c/en,˜/w,)/w,r/en,表示/v,旋转/v,矩阵/n,；/w,x/en,˜/w,表示/v,x/en,点/q,在/p,世界/n,坐标系/n,中/f,的/u,位置/n,；/w,c/en,˜/w,表示/v,相机/n,原/b,点/q,c/en,在/p,世界/n,坐标系/n,中/f,的/u,位置/n,；/w,x/en,˜/w,cam/en,表示/v,x/en,点/q,在/p,相机/n,坐标系/n,中/f,的/u,位置/n,；/w,世界/n, ,转换/v,到/v, ,相机/n,根据/p,上面/f,的/u,公式/n,可以/v,得到/v,从/p,一个/m,三维点/nw,从/p,世界/n,坐标系/n,转换/v,到/v,相机/n,坐标/n,的/u,变换/v,公式/n,如下/v,（/w,也/d,是/v,用/p,的/u,齐次/nrf,坐标/n,的/u,表示/v,方式/n,）/w,：/w,xcam/en,=/w,(/w,x/en,˜/w,cam/en,1/m,)/w,=/w,[/w,r/en,0/m,−,rc/en,˜/w,1/m,]/w,(/w,x/en,˜/w,1/m,)/w,=/w,[/w,r/en,0/m,−,rc/en,˜/w,1/m,]/w,x/en,世界/n, ,转换/v,到/v, ,图像/n,根据/p,上面/f,的/u,讨论/v,知道/v,了/u,怎样/r,从/p,世界/n,坐标系/n,转换/v,到/v,相机/n,坐标系/n,（/w,平移/vn,和/c,旋转/v,）/w,以及/c,从/p,相机/n,坐标系/n,转换/v,到/v,图像/n,坐标系/n,（/w,相机/n,内参/n,变换/v,）/w,，/w,所以/c,带入/v,上面/f,的/u,矩阵/n,计算/v,，/w,可以/v,得到/v,：/w,x/en,=/w,k/en,[/w,i/en,0/m,]/w,xcam/en,=/w,k/en,[/w,r/en,−,rc/en,˜/w,]/w,x/en,这样/r,就/d,得到/v,了/u,最终/d,的/u,投影/vn,矩阵/n,p/en,：/w,p/en,=/w,k/en,[/w,rt/en,]/w,其中/r,：/w,t/en,=/w,−,rc/en,˜/w,在/p,这里/r,，/w,k/en,一般/a,称为/v,相机/n,内参/n,（/w,intrinsic/en, ,parameters/en,）/w,，/w,描述/v,了/u,相机/n,的/u,内部/f,参数/n,，/w,包括/v,焦距/n,f/en,、/w,主点/nw,p/en,的/u,位置/n,、/w,以及/c,像素/n,与/p,真实/a,环境/n,的/u,大小/n,比例/n,等/u,，/w,这个/r,是/v,固有/b,属性/n,，/w,是/v,提供/v,好/a,的/u,；/w,r/en,和/c,t/en,称为/v,相机/n,外参/nw,（/w,extrinsic/en, ,parameters/en,）/w,，/w,r/en,在/p,这里/r,是/v,旋转/v,矩阵/n,，/w,可以/v,转换/v,为/p,三维/nz,的/u,旋转/v,向量/n,，/w,分别/d,表示/v,绕/v,x/en,，/w,y/en,，/w,z/en,三个轴/mq,的/u,旋转/v,角度/n,，/w,t/en,目前/t,就/d,是/v,一个/m,平移/vn,向量/n,，/w,分别/d,表示/v,在/p,x/en,，/w,y/en,，/w,z/en,三个/m,方向/n,上/f,的/u,平移量/nw,。/w,畸变/n,参数/n,(/w,distortion/en, ,parameters/en,)/w,在/p,几何光学/nw,和/c,阴极射线/l,管/v,(/w,crt/en,)/w,显示/v,中/f,，/w,畸变/n,（/w,distortion/en,）/w, ,是/v,对/p,直线/n,投影/vn,（/w,rectilinear/en, ,projection/en,）/w,的/u,一种/mq,偏移/vn,。/w,简单/a,来说/u,直线/n,投影/vn,是/v,场景/n,内/f,的/u,一条/mq,直线/n,投影/vn,到/v,图片/n,上/f,也/d,保持/v,为/p,一条/mq,直线/n,。/w,那/r,畸/ng,变/v,简单/a,来说/u,就/d,是/v,一条/mq,直线/n,投影/vn,到/v,图片/n,上/f,不/d,能/v,保持/v,为/p,一条/mq,直线/n,了/u,，/w,这/r,是/v,一种/mq,光学/n,畸变/n,（/w,optical/en, ,aberration/en,）/w,。/w,可能/v,由于/c,摄像机/n,镜头/n,的/u,原因/n,，/w,这里/r,不/d,讨论/v,，/w,有/v,兴趣/n,的/u,可以/v,查阅/v,光学/n,畸变/n,的/u,相关/v,的/u,资料/n,。/w,畸变/n,一般/a,可以/v,分为/v,两/m,大/a,类/q,，/w,包括/v,径/ng,向/p,畸变/n,和/c,切向/nw,畸变/n,。/w,主要/b,的/u,一般/a,径/ng,向/p,畸变/n,有时/d,也/d,会/v,有/v,轻微/a,的/u,切向/nw,畸变/n,。/w,径向/n,畸变/n,（/w,radial/en, ,distortion/en,）/w,径向/n,畸变/n,的/u,效应/n,有/v,三种/mq,，/w,一种/mq,是/v,桶形/nw,畸变/n,（/w,barrel/en, ,distortion/en,）/w,，/w,另/r,一种/mq,是/v,枕形/nw,畸变/n,（/w,pincushion/en, ,distortion/en,）/w,，/w,还有/v,一种/mq,是/v,两种/mq,的/u,结合/v,叫做/v,胡子/n,畸变/n,（/w,mustache/en, ,distortion/en,）/w,，/w,从/p,图片/n,中/f,可以/v,很/d,容易/a,看出/v,区别/n,，/w,具体/a,见/v,下/f,图/n,(/w,图片/n,来自/v,wikipedia/en,)/w,：/w,径向/n,畸变/n,可以/v,用/p,如下/v,公式/n,修正/v,：/w,xcorr/en,=/w,xdis/en,(/w,1/m,+/w,k/en,1/m,r/en,2/m,+/w,k/en,2/m,r/en,4/m,+/w,k/en,3/m,r/en,6/m,)/w,ycorr/en,=/w,ydis/en,(/w,1/m,+/w,k/en,1/m,r/en,2/m,+/w,k/en,2/m,r/en,4/m,+/w,k/en,3/m,r/en,6/m,)/w,切向/nw,畸变/n,（/w,tangential/en, ,distortion/en,）/w,切向/nw,畸变/n,是/v,由于/c,透镜/n,与/p,成像/vn,平面/n,不/d,严格/ad,的/u,平行/vn,，/w,其/r,可以/v,用/p,如下/v,公式/n,修正/v,：/w,xcorr/en,=/w,xdis/en,+/w,[/w,2/m,p/en,1/m,xy/en,+/w,p/en,2/m,(/w,r/en,2/m,+/w,2/m,x/en,2/m,)/w,]/w,ycorr/en,=/w,ydis/en,+/w,[/w,p/en,1/m,(/w,r/en,2/m,+/w,2/m,y/en,2/m,)/w,+/w,2/m,p/en,2/m,xy/en,]/w,其中/r,：/w,xdis/en,和/c,ydis/en,表示/v,有/v,畸变/n,的/u,坐标/n,；/w,xcorr/en,和/c,ycorr/en,表示/v,修复/v,后/f,的/u,坐标/n,；/w,k/en,1/m,，/w,k/en,2/m,，/w,k/en,3/m,表示/v,径/ng,向/p,畸变/n,参数/n,；/w,p/en,1/m,，/w,p/en,2/m,表示/v,切向/nw,畸变/n,参数/n,；/w,所以/c,最终/d,得到/v,5个/m,畸变/n,参数/n,：/w,d/en,=/w,(/w,k/en,1/m,,/w,k/en,2/m,,/w,p/en,1/m,,/w,p/en,2/m,,/w,k/en,3/m,)/w,相机/n,标定/v,那么/r,可以/v,利用/v,这些/r,来/v,进行/v,最终/d,的/u,任务/n,相机/n,标定/v,，/w,简单/a,的/u,过程/n,可以/v,描述/v,为/p,通过/p,标定板/nw,，/w,如/v,下/f,图/n,，/w,可以/v,得到/v,n/en,个/q,对应/v,的/u,世界/n,坐标/n,三维点/nw,xi/en,和/c,对应/v,的/u,图像/n,坐标/n,二维点/nr,xi/en,，/w,这些/r,三维点/nw,到/v,二维点/nr,的/u,转换/v,都/d,可以/v,通过/p,上面/f,提到/v,的/u,相机/n,内参/n,k/en,，/w,相机/n,外参/nw,r/en,和/c,t/en,，/w,以及/c,畸变/n,参数/n,d/en,经过/p,一系列/mq,的/u,矩阵/n,变换/v,得到/v,。/w,现在/t,就/d,用/p,这些/r,对应/v,关系/n,来/v,求解/v,这些/r,相机/n,参数/n,。/w,最后/f,就/d,是/v,用/p,线性/n,方法/n,求解/v,方程式/n,，/w,这里/r,就/d,不/d,做/v,讨论/v,了/u,。/w,那/r,为什么/r,要/v,做/v,相机/n,标定/v,呢/y,？/w,每个/r,镜头/n,的/u,畸变/n,程度/n,各/r,不/d,相同/a,，/w,通过/p,相机/n,标定/v,可以/v,校正/v,这种/r,镜头/n,畸变/n,。/w,其实/d,可以/v,认为/v,用/p,这种/r,标定/v,的/u,方式/n,来/v,求解/v,相机/n,内参/n,和/c,畸变/n,参数/n,，/w,相当/d,于/p,一种/mq,相机/n,校/ng,准/a,，/w,然后/c,这些/r,参数/n,就/d,可以/v,用于/v,后面/f,的/u,求解/v,。/w,例如/v,求解/v,新/a,拍/v,的/u,两幅/mq,图片/n,相对/d,的/u,r/en,和/c,t/en,，/w,求解/v,这个/r,外参/nw,用/p,到/v,就/d,是/v,标定/v,得到/v,的/u,相机/n,内参/n,和/c,畸变/n,参数/n,。/w,齐次/nrf,坐标/n,就/d,是/v,将/d,一个/m,原本/d,是/v,n/en,维/q,的/u,向量/n,用/p,一个/m,n/en,+/w,1维/mq,向量/n,来/v,表示/v,。/w,许多/m,图形/n,应用/vn,涉及/v,到/v,几何/n,变换/v,，/w,主要/b,包括/v,平移/vn,、/w,旋转/v,、/w,缩放/v,。/w,以/p,矩阵/n,表达/v,式/k,来/v,计算/v,这些/r,变换/v,时/ng,，/w,平移/vn,是/v,矩阵/n,相加/v,，/w,旋转/v,和/c,缩放/v,则/d,是/v,矩阵/n,相乘/v,，/w,综合/vn,起来/v,可以/v,表示/v,为/p,x/en,=/w,r/en,∗,x/en,+/w,t/en,（/w,注/v,：/w,因为/c,习惯/n,的/u,原因/n,，/w,实际/n,使用/v,时/ng,一般/a,使用/v,变化/vn,矩阵/n,左乘/nr,向量/n,）/w,(/w,r/en,旋转/v,缩放/v,矩阵/n,，/w,t/en,为/p,平移/vn,矩阵/n,，/w,x/en,为/p,原/b,向量/n,，/w,x/en,为/p,变换/v,后/f,的/u,向量/n,)/w,。/w,引入/v,齐次/nrf,坐标/n,的/u,目的/n,主要/b,是/v,合并/v,矩阵/n,运算/vn,中/f,的/u,乘法/n,和/c,加法/n,，/w,表示/v,为/p,x/en,=/w,p/en,∗,x/en,的/u,形式/n,。/w,即/v,它/r,提供/v,了/u,用/p,矩阵/n,运算/vn,把/p,二维/nr,、/w,三维/nz,甚至/d,高维/nr,空间/n,中/f,的/u,一个/m,点集/nw,从/p,一个/m,坐标/n,系/v,变换/v,到/v,另/r,一个/m,坐标系/n,的/u,有效/a,方法/n,。/w,和/c,上面/f,的/u,计算/v,过程/n,是/v,对应/v,的/u,。/w,简介/n,摄像机/n,标定/v,(/w,camera/en, ,calibration/en,)/w,简单/a,来说/u,是/v,从/p,世界/n,坐标/n,系/v,换/v,到/v,图像/n,坐标系/n,的/u,过程/n,，/w,也/d,就/d,是/v,求/v,最终/d,的/u,投影/vn,矩阵/n,p/en,的/u,过程/n,，/w,下面/f,相关/v,的/u,部分/n,主要/b,参考/v,uiuc/en,的/u,计算机/n,视觉/n,的/u,课件/n,（/w,网址/n,spring/en, ,2016/m, ,cs/en,543/m, ,//w, ,ece/en,549/m, ,computer/en, ,vision/en,）/w,。/w,基本/a,的/u,坐标系/n,：/w,世界/n,坐标系/n,(/w,world/en, ,coordinate/en, ,system/en,)/w,；/w,相机/n,坐标系/n,(/w,camera/en, ,coordinate/en, ,system/en,)/w,；/w,图像/n,坐标系/n,(/w,image/en, ,coordinate/en, ,system/en,)/w,；/w,一般来说/l,，/w,标定/v,的/u,过程/n,分为/v,两个/m,部分/n,：/w,第一/m,步/q,是/v,从/p,世界/n,坐标系/n,转换/v,为/p,相机/n,坐标系/n,，/w,这/r,一步/mq,是/v,三维点/nw,到/v,三维点/nw,的/u,转换/v,，/w,包括/v,r/en,，/w,t/en,（/w,相机/n,外参/nw,）/w,等/u,参数/n,；/w,第二/m,部/q,是/v,从/p,相机/n,坐标系/n,转为/v,图像/n,坐标系/n,，/w,这/r,一步/mq,是/v,三维点/nw,到/v,二维点/nr,的/u,转换/v,，/w,包括/v,k/en,（/w,相机/n,内参/n,）/w,等/u,参数/n,；/w,相机/n,坐标系/n, ,转换/v,到/v, ,图像/n,坐标系/n,坐标系/n,介绍/v,如/v,上图/n,所示/nz,（/w,图片/n,来自/v,uiuc/en,计算机/n,视觉/n,课件/n,）/w,，/w,是/v,一个/m,小孔/n,成像/vn,的/u,模型/n,，/w,其中/r,：/w,c/en,点/q,表示/v,camera/en, ,centre/en,，/w,即/v,相机/n,的/u,中心点/nz,，/w,也/d,是/v,相机/n,坐标系/n,的/u,中心点/nz,；/w,z/en,轴/q,表示/v,principal/en, ,axis/en,，/w,即/v,相机/n,的/u,主轴/n,；/w,p/en,点/q,所在/n,的/u,平面/n,表示/v,image/en, ,plane/en,，/w,即/v,相机/n,的/u,像/v,平面/n,，/w,也/d,就/d,是/v,图片/n,坐标/n,系/v,所/u,在/p,的/u,二维/nr,平面/n,；/w,p/en,点/q,表示/v,principal/en, ,point/en,，/w,即/v,主点/nw,，/w,主轴/n,与/p,像/v,平面/n,相交/v,的/u,点/q,；/w,c/en,点/q,到/v,p/en,点/q,的/u,距离/n,，/w,也/d,就/d,是/v,右边/f,图/n,中/f,的/u,f/en,表示/v,focal/en, ,length/en,，/w,即/v,相机/n,的/u,焦距/n,；/w,像/v,平面/n,上/f,的/u,x/en,和/c,y/en,坐标轴/n,是/v,与/p,相机/n,坐标/n,系/v,上/f,的/u,x/en,和/c,y/en,坐标轴/n,互相/d,平行/vn,的/u,；/w,相机/n,坐标系/n,是/v,以/p,x/en,，/w,y/en,，/w,z/en,（/w,大写/n,）/w,三个轴/mq,组成/v,的/u,且/c,原点/n,在/p,c/en,点/q,，/w,度量/v,值/n,为/p,米/q,（/w,m/en,）/w,；/w,像/v,平面/n,坐标系/n,是/v,以/p,x/en,，/w,y/en,（/w,小写/n,）/w,两个轴/mq,组成/v,的/u,且/c,原点/n,在/p,p/en,点/q,，/w,度量/v,值/n,为/p,米/q,（/w,m/en,）/w,；/w,图像/n,坐标系/n,一般/a,指/v,图片/n,相对/d,坐标系/n,，/w,在/p,这里/r,可以/v,认为/v,和/c,像/v,平面/n,坐标/n,系/v,在/p,一个/m,平面/n,上/f,，/w,不过/c,原点/n,是/v,在/p,图片/n,的/u,角/q,上/f,，/w,而且/c,度量/v,值/n,为/p,像素/n,的/u,个数/n,（/w,pixel/en,）/w,；/w,相机/n, ,转换/v,到/v, ,像/v,平面/n,知道/v,上面/f,的/u,简单/a,知识/n,后/f,，/w,如果/c,知道/v,相机/n,坐标系/n,中/f,的/u,一个/m,点/q,x/en,（/w,现实/n,三维/nz,世界/n,中/f,的/u,点/q,）/w,，/w,在/p,像/v,平面/n,坐标系/n,对应/v,的/u,点/q,是/v,x/en,，/w,要求/v,求/v,从/p,相机/n,坐标系/n,转为/v,像/v,平面/n,坐标系/n,的/u,转换/v,，/w,也/d,就/d,是/v,从/p,x/en,点/q,的/u,(/w,x/en,,/w,y/en,,/w,z/en,)/w,通过/p,一定/d,的/u,转换/v,变为/v,x/en,点/q,的/u,(/w,x/en,,/w,y/en,)/w,。/w,注意/v,：/w,(/w,x/en,,/w,y/en,,/w,z/en,)/w,（/w,大写/n,）/w,是/v,在/p,相机/n,坐标系/n,，/w,而/c,(/w,x/en,,/w,y/en,)/w,（/w,小写/n,）/w,是/v,在/p,像/v,平面/n,坐标系/n,（/w,还/d,不/d,是/v,图像/n,坐标系/n,，/w,原点/n,不/d,同/p,。/w,）/w,观察/v,第二/m,个/q,图/n,，/w,很/d,简单/a,的/u,可以/v,得到/v,这个/r,转换/v,：/w,x/en,=/w,fx/en,//w,zy/en,=/w,fy/en,//w,z/en,(/w,x/en,,/w,y/en,,/w,z/en,)/w,↦,(/w,fx/en,//w,z/en,,/w,fy/en,//w,z/en,)/w,可以/v,表示/v,为/p,矩阵/n,计算/v,为/p,（/w,在/p,这里/r,用/p,的/u,是/v,齐次/nrf,坐标/n,的/u,表示/v,方式/n,，/w,关于/p,齐次/nrf,坐标/n,文章/n,最/d,下面/f,有/v,介绍/v,）/w,：/w,⎛⎝/nw,⎜,⎜⎜/nw,xyz/en,1/m,⎞,⎠⎟/nw,⎟⎟/nw,↦,⎛,⎝⎜/nw,fxfyz/en,⎞,⎠⎟/nw,=/w,⎡,⎣⎢/nw,ff/en,1000/m,⎤⎦/nw,⎥⎛/nw,⎝⎜/nw,⎜⎜/nw,xyz/en,1/m,⎞,⎠⎟/nw,⎟⎟/nw,可以/v,简写/n,为/p,（/w,p/en,就/d,是/v,所谓/v,的/u,投影/vn,矩阵/n,，/w,当然/d,现在/t,还/d,不/d,完整/a,）/w,：/w,x/en,=/w,px/en,加入/v,偏移量/nz,通过/p,上面/f,，/w,可以/v,把/p,相机/n,坐标系/n,转换/v,到/v,像/v,平面/n,坐标系/n,，/w,但是/c,像/v,平面/n,坐标系/n,和/c,图像/n,坐标系/n,虽然/c,在/p,同一/b,个/q,平面/n,上/f,，/w,但是/c,原/b,点/q,并/c,不/d,是/v,同一个/r,，/w,而/c,目标/n,是/v,要/v,转换/v,到/v,图像/n,坐标/n,系/v,下/f,，/w,所以/c,还/d,需要/v,一步/mq,操作/v,，/w,如/v,下/f,图/n,：/w,如/v,上图/n,所示/nz,（/w,图片/n,来自/v,uiuc/en,计算机/n,视觉/n,课件/n,）/w,，/w,其中/r,主点/nw,p/en,是/v,像/v,平面/n,坐标系/n,的/u,原点/n,，/w,但/c,在/p,图像/n,坐标系/n,中/f,的/u,位置/n,为/p,(/w,px/en,,/w,py/en,)/w,，/w,在/p,这里/r,，/w,图形/n,坐标系/n,的/u,原点/n,是/v,图片/n,的/u,左下角/nw,，/w,所以/c,可以/v,得到/v,：/w,(/w,x/en,,/w,y/en,,/w,z/en,)/w,↦,(/w,fx/en,//w,z/en,+/w,px/en,,/w,fy/en,//w,z/en,+/w,py/en,)/w,相当/d,于/p,在/p,上面/f,的/u,基础/n,上/f,加/v,了/u,一个/m,p/en,点/q,坐标/n,的/u,偏移量/nz,，/w,同时/c,可以/v,表示/v,为/p,矩阵/n,计算/v,为/p,（/w,在/p,这里/r,用/p,的/u,是/v,齐次/nrf,坐标/n,的/u,表示/v,方式/n,）/w,：/w,⎛⎝/nw,⎜,⎜⎜/nw,xyz/en,1/m,⎞,⎠⎟/nw,⎟⎟/nw,↦,⎛,⎝⎜/nw,fx/en,+/w,zpxfy/en,+/w,zpyz/en,⎞,⎠⎟/nw,=/w,⎡,⎣⎢/nw,ffpxpy/en,1000/m,⎤⎦/nw,⎥⎛/nw,⎝⎜/nw,⎜⎜/nw,xyz/en,1/m,⎞,⎠⎟/nw,⎟⎟/nw,整理/v,一下/m,得/u,：/w,⎛,⎝⎜/nw,fx/en,+/w,zpxfy/en,+/w,zpyz/en,⎞,⎠⎟/nw,=/w,⎡,⎣⎢/nw,ffpxpy/en,1/m,⎤,⎦,⎥⎡/nw,⎣⎢/nw,111000/m,⎤⎦/nw,⎥⎛/nw,⎝⎜/nw,⎜⎜/nw,xyz/en,1/m,⎞,⎠⎟/nw,⎟⎟/nw,所以/c,最后/f,可以/v,得到/v,k/en,，/w,也/d,就/d,是/v,平时/t,所/u,说/v,的/u,相机/n,内参/n,（/w,intrinsic/en, ,parameters/en,）/w,：/w,k/en,=/w,⎡,⎣⎢/nw,ffpxpy/en,1/m,⎤,⎦⎥/nw,以及/c,投影/vn,矩阵/n,p/en,（/w,在/p,这里/r,可以/v,认为/v,旋转/v,矩阵/n,r/en,为/p,单位/n,矩阵/n,i/en,，/w,平移/vn,矩阵/n,t/en,都/d,为/p,0/m,，/w,这/r,也/d,是/v,为什么/r,要/v,拆/v,成/v,这种/r,方式/n,）/w,，/w,为/p,：/w,p/en,=/w,k/en,[/w,i/en,0/m,]/w,像素/n,坐标/n,前面/f,也/d,提到/v,了/u,在/p,图像/n,坐标系/n,中用/a,的/u,不/d,是/v,现实/n,生活/vn,中/f,的/u,m/en,来/v,度量/v,，/w,而是/c,用/p,的/u, ,pixel/en, ,的/u,个数/n,，/w,所以/c,在/p,上面