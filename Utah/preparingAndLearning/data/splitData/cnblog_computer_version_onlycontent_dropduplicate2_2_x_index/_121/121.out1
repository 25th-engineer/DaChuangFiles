http / / blog . csdn . net / douglax 
/ article / details / 9528297 视觉 引导 的 运动 
  如果 你 的 应用 需要 一个 视觉 系统 来 
引导 机器人 那么 必须 知道 视觉 系统 与 运动 系统 
是 如何 集成 的 对于 校准 和 操作 没 集成 
的 运动 系统 与 视觉 系统 是 初步 的 系统 
机械人 或 机构 和 视觉 系统 是 分开 校准 的 
在 操作 中 一台 独立 的 视觉 系统 根据 在 
视觉 坐标系统 中的 已知 位置 计算出 零件 位置 的 偏移量 
然后 发 指令 给 机器人 的 手臂 在 离 初始化 
编程 的 拾取 位置 的 偏移量 处 拾取 零件 由于 
机器 视觉 系统 可以 快速 获取 大量 信息 而且 易于 
自动 处理 也 易于 同 设计 信息 以及 加工 控制 
信息 集成 因此 在 现代 自动化 生产 过程 中 人们 
将 机器 视觉 系统 广泛 地 用于 装配 定位 产品 
质量 检测 产品 识别 产品 尺寸 测量 等 方面 机器 
视觉 系统 的 特点 是 提高 生产 的 柔性 和 
自动化 程度 在 一些 不 适合 于 人工 作业 的 
危险 工作 环境 或 人工 视觉 难以 满足 要求 的 
场合 常用 机器 视觉 来 替代 人工 视觉 同时 在 
大批量 工业 生产 过程 中 用 人工 视觉 检查 产品 
质量 效率 低 且 精度 不高 用 机器 视觉 检测 
方法 可以 大大 提高 生产 效率 和 生产 的 自动化 
程度 而且 机器 视觉 易于 实现 信息 集成 是 实现 
计算机 集成 制造 的 基础 技术 使用 机器 视觉 系统 
五个 主要 原因 重复性 机器 可以 以 相同 的 方法 
一次 一次 的 完成 检测 工作 而 不会 感到疲倦 与此相反 
人眼/n 每次/r 检测/vn 产品/n 时/n 都会/i 有/v 细微/a 的/uj 不同/a 
即使 产品 时 完全 相同 的 精确性 由于 人眼 有 
物理 条件 的 限制 在 精确性 上 机器 有 明显 
的 优点 即使 人眼 依靠 放大镜 或 显微镜 来 检测 
产品 机器 仍然 会 更加 精确 因为 它 的 精度 
能够 达到 千分之 一英寸 速度 机器 能够 更快 的 检测 
产品 特别 是 当 检测 高速 运动 的 物体 时 
比如说 生产线 上 机器 能够 提高 生产 效率 客观性 人眼 
检测 还有 一个 致命 的 缺陷 就是 情绪 带来 的 
主观性 检测 结果 会 随 工人 心情 的 好坏 产生 
变化 而 机器 没有 喜怒哀乐 检测 的 结果 自然 非常 
可观 可靠 成本 由于 机器 比人 快 一台 自动 检测 
机器 能够 承担 好 几个人 的 任务 而且 机器 不需要 
停顿 不会 生病 能够 连续 工作 所以 能够 极大 的 
提高 生产 效率 工业 相机 作为 机器 视觉 系统 中 
的 核心 部件 对于 机器 视觉 系统 的 重要性 是 
不言而喻 的 按照 分类 的 不同 相机 又 分为 很多 
种 1 彩色 相机 黑白 相机 黑白 相机 直接 将 
光强 信号 转换成 图像 灰度 值 生成 的 是 灰度 
图像 彩色/n 相机/d 能/v 获得/v 景/ng 物中/i 红/a 绿 蓝 
三个 分量 的 光信号 输出 彩色图像 彩色 相机 能够 提供 
比 黑白 相机 更多 的 图像 信息 彩色 相机 的 
实现 方法 主要 有 两种 棱镜/nz 分光/n 法和/nr Bayer/w 滤波/n 
法/l 棱镜 分光 彩色 相机 利用 光学 透镜 将 入射 
光线 的 R G B 分量 分离 在 三片 传感器 
上 分别 将 三种 颜色 的 光信号 转换成 电信号 最后 
对 输出 的 数字 信号 进行 合成 得到 彩色图像 2 
CCD 相机 CMOS 相机 芯片 主要 差异 在于 将 光 
转换 为 电信号 的 方式 对于 CCD 传感器 光 照射到 
像 元上/nr 像 元 产生 电荷 电荷 通过 少量 的 
输出 电极 传输 并 转化 为 电流 缓冲 信号 输出 
对于 CMOS 传感器 每个 像 元 自己 完成 电荷 到 
电压 的 转换 同时 产生 数字信号 3 按 靶 面 
类型 分类 面 阵 相机 线 阵 相机 相机 不仅 
可以 根据 传感器 技术 进行 区分 还 可以 根据 传感器 
架构 进行 区分 有 两种 主要 的 传感器 架构 面 
扫描 和线/nr 扫描 面 扫描 相机 通常用于 输出 直接 在 
监视器 上 显示 的 场合 线 扫描 相机 用于 连续 
运动 物体 成像 或 需要 连续 的 高分辨率 成像 的 
场合 线 扫描 相机 的 一个 自然 的 应用 是 
静止 画面 Web Inspection 中 要对 连续 产品 进行 成像 
比如 纺织 纸张 玻璃 钢板 等 同时 线 扫描 相机 
同样 适用 于 电子 行业 的 非 静止 画面 检测 
像 德国 Kappa 相机 根据 它 CCD 的 规格 也会 
有线 阵 面 阵 之分 4 按 输出 模式 分类 
模拟 相机 数字相机 根据 相机 数据 输出 模式 的 不同 
分为 模拟 相机 和 数字相机 模拟 相机 输出 模拟信号 数字相机 
输出 数字信号 模拟 相机 和 数字 相机 还 可以 进一步 
细分 比如 德国 Kappa 相机 按 数据接口 又 包括 USB 
2.0 接口 EE 1394 a / Fire Wire Camera Link 
接口 千兆 以太网 接口 模拟 相机 分为 逐行扫描 和 隔行扫描 
两种 隔行扫描 相机 又 包含 EIA NTSC CCIR PAL 等 
标准 制式 有关 接口 技术 的 详细 介绍 请 参考 
采集卡 及 采集 技术 部分 在 选择 一款 工业 数字相机 
时 物体 成像 的 速度 必须 充分 考虑 好 例如 
假设在 拍摄 过程 中 物体 在 曝光 中 没有 移动 
可用 相对 简单 和 便宜 的 工业 相机 对于 静止 
或 缓慢 移动 的 物体 面 阵 工业 相机 最 
适合 于对/nr 静止 或 移动 缓慢 的 物体 成像 因为 
整个 面 阵 区域 必须 一次 曝光 在 曝光 时间 
当中 任何 的 移动 会 导致 图像 的 模糊 但是 
运动 模糊 可以 通过 减少 曝光 时间 或 使用 闪光灯 
来 控制 对于 快速 移动 的 物体 当 对 运动 
的 物体 使用 一个 面 阵 工业 相机 时 需要 
考虑 在 曝光 时间 当中 处于 工业 相机 当中 的 
运动 对象 数量 还 需要 考虑 物体 上 能用 一个 
像素 表征 的 最小 特征 也 就是 对象 分辨率 在 
采集 运动 物体 的 图像 的 拇指 规则 就是 曝光 
必须 发生 在 采集 物体 移动 量小 于 一个 像素 
的 时间 内 如果 你 采集 的 物体 是 在 
以 1 厘米 / 秒 的 速度 匀速 移动 而且 
物体 分辨率 已经 设置 为 1 pixel / mm 那么 
需要 的 最大 曝光 时间 是 1/10 每秒 因为 物体 
移动 一个 距离 恰好 等于 相机 传感器 中 的 一个 
像素 当/t 使用/v 最大/a 曝光/nz 时间/n 时/n 这里/r 会/v 有/v 
一定/d 数量/n 的/uj 模糊/a 在 这种 情况 下 一般 倾向于 
将 曝光 时间 设置 的 比 最大值 要快 比如 1/20 
每秒 就能 保持 物体 在 移动 半个 像素 内 成像 
如果 同样 的 物体 以 1 厘米 / 秒 的 
速度 移动 物体 分辨率 为 1 pixel / 微米 那么 
一秒 中所 需要 的 最大 曝光 是 1/10000 . 曝光 
设置 的 对 快 取决于 所 采用 的 相机 还有 
你 是否 能够 给 物体 足够 的 光来 获得 一幅 
好 的 图像 机器 视觉 在 中国 的 发展 已 
有 十余个 年头 过去 十年 是 机器 视觉 产业 在 
中国 市场 发展 最快 的 十年 经过 一定 时期 的 
普及 与 推广 机器 视觉 已 逐渐 为 广大 客户 
所 熟知 而且 应用 范围 也 逐渐 开始 扩大 大 
规模 的 应用 领域 由 起初 的 电子 制药 等 
行业 逐步 扩展 到 包装 印刷 等 各大 领域 机器 
视觉 市场 在 发展 机器 视觉 技术 在 进步 在 
以 不断 满足 客户 发展 需求 的 同时 最 基本 
需求 的 满足 也是 不容忽视 的 一直以来 我国 的 科技 
水平 都 处于 不断 发展 的 阶段 机器 视觉 技术 
作为 科技 发展 的 产物 为了 更好 的 适应 行业 
需求 也 在 不断 的 优化 升级 纵观 行业 发展 
国内 机器 视觉 市场 机遇 与 挑战 并存 而 行业 
技术 的 升级 更 显得 尤为 必要 了 为 顺应 
行业 发展 趋势 国内 的 机器 视觉 技术 就 需要 
通过 以下 四 大要 素来 升级 一 系统 操作 简单 
方便 技术参数 简单化 处理 技术 方便化 是 系统 操作 最为 
关键 也 是 核心 的 要素 机器 视觉 技术 虽然 
属于 高 科技 技术 在 运作 过程 中 还 需要 
依靠 不断 调整 各种 参数 来 达到 最好 的 效果 
但是 目前 来说 操作 人员 大都 技术 水平 有限 因此 
系统 简化 是 大多数 客户 的 较 价格 与 质量 
之后 的 基本 需求 而 系统 简化 主要 包括 的 
是 检测 操作 的 简化 与 图像 处理 的 简化 
二 系统 长期 可维护性 一个 好 的 系统 不仅 要 
考虑 使用性 还应 考虑 其 在 长期 运 做 中的 
可维护性 机器 视觉 技术 的 稳定性 可靠性 足以 使 系统 
在 实际 应用 中 更好 的 发挥 功能 优势 提供 
有力 的 技术 支持 三 检测 技术 稳定 可靠 在 
工业 生产 过程 中 由于 被 测 物体 的 多样化 
以及 机械 的 误差 影响 使得 整个 检测 过程 很难 
是 维持 在 平稳 的 状态 因此 这 就 需要 
机器 视觉 技术 有 很高 的 稳定性 从 光源 照明 
图像 采集 到 图像 存储 与 处理 都 要有 可以 
在 任何 环境 下 持续 运作 的 适应 能力 同时 
还 要尽 量能 采集 到 突出 检测 对象 的 图像 
这样 才能 给 出 最为 稳定 准确 清晰 的 检测 
结果 才能 为 生产 或 质检 工作 提供 技术 支持 
四 系统性 价 比值 高在/nr 保障 质量 的 基础 上 
客户 最为 关心 的 莫过于 价格 问题 机器 视觉 技术 
不断 升级 本 是 件 对 客户 有益 的 事 
但 如果 只是 一味 的 使用 昂贵 的 部件 就 
会 造成 价格 的 大幅 提升 对于 大 部分 的 
用户 来说 无疑 增添 了 负担 性能好 价格低 的 系统 
才是 能 满足 最 基本 需求 的 因此 性价比 是 
衡量 一个 系统 的 重要 标志 也是 客户 选择 产品 
最 重要 的 指标 之一 中国 是 世界 的 制造 
工厂 目前 全球 几乎 所有 的 知名 企业 都把/nr 生产 
工厂 放在 中国 机器 作业 代替 人员 操作 已 成为 
市场 优胜劣汰 的 必然 选择 机器 视觉 产业 在 中国 
有着 非常 广阔 而 光明 的 前景 也使 中国 机器 
视觉 市场 成为 全球 机器 视觉 企业 的 竞争 焦点 
因此 我们 要 抓住 时机 不断 引进 各项 高新技术 促进 
行业 的 快速 发展 在 机器 视觉 系统 中 获得 
一 张高 质量 的 可 处理 的 图像 是 至关重要 
系统 之所以 成功 首先 要 保证 图像 质量 好 特征 
明显 一个 机器 视觉 项目 之所以 失败 大 部分 情况 
是 由于 图像 质量 不好 特征 不明显 引起 的 要 
保证 好 的 图像 必须 要 选择 一个 合适 的 
光源 光源 选型 基本要素     对比度 对比度 对 机器 
视觉 来说 非常 重要 机器 视觉 应用 的 照明 的 
最重要 的 任务 就是 使 需要 被 观察 的 特征 
与 需要 被 忽略 的 图像 特征 之间 产生 最大 
的 对比度 从而 易于 特征 的 区分 对比度 定义 为 
在 特征 与 其 周围 的 区域 之间 有 足够 
的 灰 度量 区别 好 的 照明 应该 能够 保证需要 
检测 的 特征 突出 于 其他 背景 亮度 当 选择 
两种 光源 的 时候 最佳 的 选择 是 选择 更 
亮 的 那个 当 光源 不够 亮 时 可能 有 
三种 不好 的 情况 会 出现 第一 相机 的 信噪比 
不够 由于 光源 的 亮度 不够 图像 的 对比度 必然 
不够 在 图像 上 出现 噪声 的 可能性 也 随即 
增大 其次 光源 的 亮度 不够 必然 要 加大 光圈 
从而 减小 了 景深 另外 当 光源 的 亮度 不够 
的 时候 自然光 等 随机 光 对 系统 的 影响 
会 最大 鲁棒性 另 一个 测试 好 光源 的 方法 
是 看 光源 是否 对 部件 的 位置 敏感度 最小 
当 光源 放置 在 摄像头 视野 的 不同 区域 或 
不同 角度 时 结果 图像 应 该不会 随之 变化 方向性 
很强 的 光源 增大 了 对 高亮 区域 的 镜面反射 
发生 的 可能性 这 不利于 后面 的 特征 提取 好 
的 光源 需要 能够 使 你 需要 寻找 的 特征 
非常 明显 除了 是 摄像头 能够 拍摄到 部件 外 好 
的 光源 应该 能够 产生 最大 的 对比度 亮度 足够 
且 对 部件 的 位置 变化 不 敏感 光源 选择 
好了 剩 下来 的 工作 就 容易 多了 具体 的 
光源 选取 方法 还 在于 试验 的 实践 经验 1 
环形 光源 提供 不同 照射 角度 不同颜色 组合 更能 突出 
物体 的 三维 信息 高密度 LED 阵列 高亮度 多种 紧凑 
设计 节省 安装 空间 解决 对角 照射 阴影 问题 可 
选配 漫射 板 导 光 光线 均匀 扩散 应用于 PCB 
基板 检测 IC 元件 检测 显微镜 照明 液晶 校正 塑胶 
容器 检测 集成电路 印字 检查 2 背光源 用 高密度 LED 
阵列 面 提供 高 强度 背光 照明 能 突出 物体 
的 外形 轮廓 特征 尤其 适合 作为 显微镜 的 载物台 
红白 两用 背光源 红蓝 多用 背光源 能 调配出 不同颜色 满足 
不 同被 测 物 多色 要求 应用于 机械零件 尺寸 的 
测量 电子元件 IC 的 外型 检测 胶片 污点 检测 透明 
物体 划痕 检测 等 3 条形 光源 较大 方形 结构 
被 测 物 的 首选 光源 颜色 可 根据 需求 
搭配 自由组合 照射 角度 与 安装 随意 可调 应用于 金属表面 
检查 图像 扫描 表面 裂缝 检测 LCD 面板 检测 等 
4 同轴 光源   光 的 一致性 好 可以 消除 
物体 表面 不 平整 引起 的 阴影 从而 减少 干扰 
部分 采用 分光镜 设计 减少 光 损失 提高 成像 清晰度 
均匀 照射 物体 表面 应用于 系列 光源 最适宜 用于 反射度 
极高 的 物体 如 金属 玻璃 胶片 晶片 等 表面 
的 划伤 检测 芯片 和 硅晶片 的 破损 检测 Mark 
点 定位 包装 条码 识别 5 AOI 专用 光源 不同 
角度 的 三 色光 照明 照射 凸显 焊锡 三维 信息 
外加 漫射 板 导 光 减少 反光 不同 角度 组合 
应用于 电路板 焊锡 检测 6 球 积分 光源 具有 积分 
效果 的 半 球面 内壁 均匀 反射 从 底部 360度 
发射出 的 光线 使 整个 图像 的 照度 十分 均匀 
应用于 合于 曲面 表面 凹凸 弧形 表面 检测 或 金属 
玻璃 表面 反光 较强 的 物体 表面 检测 7 线形 
光源 超 高亮度 采用 柱面透镜 聚光 适用 于 各种 流水线 
连续 检测 场合 阵 相机 照明 专用 AOI 专用 8 
点光源 大功率 LED 体积小 发光强度 高 光纤 卤素灯 的 替代品 
尤其 适合 作为 镜头 的 同轴 光源 等 高效 散热装置 
大大提高 光源 的 使用 寿命 应用于 适合 远 心 镜头 
使用 用于 芯片 检测 Mark 点 定位 晶片 及 液晶 
玻璃 底 基 校正 9 组合 条形 光源 四边 配置 
条形 光 每边 照明 独立 可控 可 根据 被 测 
物 要求 调整 所需 照明 角度 适用性 广 应用 案例 
CB 基板 检测 IC 元件 检测 焊锡 检查 Mark 点 
定位 显微镜 照明 包装 条码 照明 球形 物体 照明 等 
10 对位 光源 对位 速度快 视场 大 精度高 体积小 便于 
检测 集成 亮度高 可 选配 辅助 环形 光源 是 全自动 
电路板 印刷机 对位 的 专用 光源 工业 镜头 的 选型 
镜头 的 选择 过程 是 将 镜头 各项 参数 逐步 
明确化 的 过程 作为 成像 器件 镜头 通常 与 光源 
相机 一起 构成 一个 完整 的 图像 采集 系统 因此 
镜头 的 选择 受到 整个 系统 要求 的 制约 一般 
地 可以 按 以下 几个 方面 来 进行 分析 考虑 
一 波长 变焦 与否 镜头 的 工作 波长 和 是否 
需要 变焦 是 比较 容易 先 确定 下来 的 成像 
过程 中 需要 改变 放大 倍率 的 应用 采用 变焦镜头 
否则 采用 定 焦 镜头 就 可以 了 关于 镜头 
的 工作 波长 常见 的 是 可见光 波段 也有 其他 
波段 的 应用 是否 需要 另外 采取 滤光 措施 单色光 
还是 多 色光 能否 有效 避开 杂散光 的 影响 把这 
几个 问题 考虑 清楚 综合 衡量 后再 确定 镜头 的 
工作 波长 二 特殊 要求 优先 考虑 结合 实际 的 
应用 特点 可能会 有 特殊 的 要求 应该 先予 明确 
下来 例如 是否 有 测量 功能 是否 需要 使用 远 
心 镜头 成像 的 景深 是否 很大 等等 景深 往往 
不 被 重视 但是 它 却是 任何 成像 系统 都 
必须 考虑 的 三 工作距离 焦距 工作距离 和 焦距 往往 
结合 起来 考虑 一般地 可以 采用 这个 思路 先 明确 
系统 的 分辨率 结合 CCD 像素 尺寸 就能 知道 放大 
倍率 再结合 空间结构 约束 就能 知道 大概 的 物像 距离 
进一步 估算 镜头 的 焦距 所以 镜头 的 焦距 是 
和 镜头 的 工作 距离 系统 分辨率 及 CCD 像素 
尺寸 相关 的 四 像 面 大小 和像质/nr 所选 镜头 
的 像 面 大小 要与 相机 感 光面 大小 兼容 
遵循 大 的 兼容 小 的 原则 相机 感 光面 
不能 超出 镜头 标示 的 像 面 尺寸 否则 边缘 
视场 的 像 质 不保 像 质 的 要求 主要 
关注 MTF 和 畸变 两项 在 测量 应用 中 尤其 
应该 重视 畸变 五 光圈 和 接口 镜头 的 光圈 
主要 影响 像 面的 亮度 但是 现在 的 机器 视觉 
中 最终 的 图像 亮度 是由 很多 因素 共同 决定 
的 光圈 相机 增益 积分 时间 光源 等等 所以 为了 
获得 必要 的 图像 亮度 有比 较多 的 环节 供 
调整 镜头 的 接口 指 它 与 相机 的 连接 
接口 它们 两者 需 匹配 不能 直接 匹配 就 需 
考虑 转接 六 镜头 的 其它 类别 线 阵 镜头 
配 合线 阵 相机 使用 的 镜头 采用 扫描式 的 
工作 方式 需要 镜头 与 目标 相对运动 每次 曝光 成像 
一条线 多次 曝光 组成 一幅 图像 线 阵 扫描 成像 
的 特点 CCD 线 阵 方向 的 图像 分辨率 固定 
而在 目标 的 运动 方向 上 空间 采样频率 与 运动 
的 相对速度 有关 从 成像 的 角度 讲 线 阵 
镜头 和 其它 类型 的 镜头 并 没有 本质 的 
差异 只是 对 镜头 的 使用 方式 不同 而已 显微 
镜头 为了 看清 目标 的 细节 特征 显微 镜头 一般 
使用 在 高 分辨率 的 场合 它们 基本 的 特点 
是 工作 距离 短 放大 倍率 高 视场 小 远 
心 镜头 物/zg 方主/nr 光线/n 平行/n 于光轴/nr 主/b 光线/n 的/uj 
会聚/v 中心/n 位于/v 物/zg 方/n 无限/v 远/a 称之为 物 方远 
心 光路 作用 可以 消除 物 方 由于 调焦 不准确 
带来 的 测量误差 机器 视觉 光源 的 作用 机器 视觉 
光源 是 机器 视觉 系统 中 不可或缺 的 一部分 它 
的 选择 直接 影响 输入 数据 的 质量 和 应用 
效果 由于 没有 通用 的 机器 视觉 照明设备 所以 针对 
每个 特定 的 应用 实例 要 选择 相应 的 照明 
装置 以 达到 最 理想 的 应用 效果 照明 系统 
是 机器 视觉 系统 最为 关键 的 部分 之一 直接 
关系 到 系统 的 成败 好 的 打光 设计 能够 
使 我们 得到 一幅 好 的 图象 从而 改善 整个 
系统 的 分辨率 简化 软件 的 运算 而 不 适合 
的 照明 则 会 引起 很多 的 问题 1 照亮 
目标 提 高亮度 2 用作 测量 的 工具 或 参照物 
3 克服 环境光 干扰 保证 图象 稳定性 4 形成 有利于 
图象处理 的 效果 机器 视觉 光源 的 选择 1 物体 
表面 如 使 机器 视觉 照明 复杂化 的 是 物体 
表面 的 变化 造成 的 如果 所有 物体 表面 是 
相同 的 在 解决 实际 应用 的 时候 就 没有 
必要 采用 不同 的 光源 技术 了 但 由于 物体 
表面 的 不同 因此 需要 观察 视野 中 的 物体 
表面 并 分析 光源 入射 的 反映 2 控制 反射 
如果 反射光 可以 控制 图像 就 可以 控制 在 涉及 
机器 视觉 应用 的 光源 设计 时 最 重要 的 
原则 就是 控制 好 哪里 的 光源 反 射到 透镜 
及 反射 的 程度 机器 视觉 的 光源 设计 就是 
对 反射 的 研究 在 视觉 应用 中 当 观测 
一个 物体 以 决定 需要 什么样 的 光源 的 时候 
首先 要 弄清楚 如何 才能 让 物体 显现 我 如何 
才能 应用 光源 使 必须 的 光反射 到 镜头 中 
以 获得 物体 外表 3 光源 可 预测   当 
光源 入 射到 物体 表面 的 时候 光源 的 反映 
是 可以 预测 的 光源 可能 被 吸收 或 被 
反射 光 可能 被 完全 吸收 黑 金属材料 表面 难以 
照亮 或者 被 部分 吸收 造成了 颜色 的 变化 及 
亮度 的 不同 不被 吸收 的 光 就 会被 反射 
入射光 的 角度 等于 反射光 的 角度 这个 科学 的 
定律 大大 简化 了 机器 视觉 光源 因为 理想 的 
想定 的 效果 可以 通过 控制 光源 而 实现 一幅 
好 的 图象 具备 以下 条件 1 .   对比度 
明显 目标 与 背景 的 边界 清晰 2 .   
背景 尽量 淡化 而且 均匀 不 干扰 图象处理 3 . 
  与 颜色 有关 的 还需要 颜色 真实 亮度 适中 
不 过度 曝光 4 .   整体 亮度 均匀 整体 
不 均匀 灰度 差 不影响 图象处理 工业 相机 是 机器 
视觉 系统 中 的 一个 关键 组件 其 最 本质 
的 功能 就是 将 光信号 转变 成 小型 高清 工业 
相机 为 有序 的 电信号 工业 相机 又 俗称 摄像机 
相比 于 传统 的 民用 相机 摄像机 而言 它 具有 
高的/nr 图像 稳定性 高/a 传输/vn 能力/n 和高/nr 抗干扰/l 能力/n 等/u 
目前 市面 上 工业 相机 大多 是 基于 CCD 或 
CMOS 芯片 的 相机 CCD 是 目前 机器 视觉 最为 
常用 的 图像 传感器 它 集 光电 转换 及 电荷 
存贮 电荷转移 信号 读取 于 一体 是 典型 的 固体 
成像 器件 CCD 的 突出 特点 是 以 电荷 作为 
信号 而 不同 于 其它 器件 是以 电流 或者 电压 
为 信号 这类 成像 器件 通过 光电 转换 形 成电 
荷包 而后 在 驱动 脉冲 的 作用 下 转移 放大 
输出 图像 信号 典型 的 CCD 相机 由 光学 镜头 
时序 及 同步 信号 发生器 垂直 驱动器 模拟 / 数字 
信号 处理 电路 组成 CCD 作为 一 种 功能 器件 
与 真空管 相比 具有 无 灼伤 无 滞后 低电压 工作 
低功耗 等 优点 CMOS 图像 传感器 的 开发 最早 出现 
在 20 世纪 70 年代 初 90 年代 初期 随着 
超大规模 集成电路 VLSI 制造 工艺 技术 的 发展 CMOS 图像 
传感器 得到 迅速 发展 CMOS 图像 传感器 将 光敏 元 
阵列 图像 信号 放大器 信号 读取 电路 模数转换 电路 图像 
信号处理器 及 控制器 集成 在 一块 芯片 上 还 具有 
局部 像素 的 编程 随机 访问 的 优点 目前 CMOS 
图像 传感器 以其 良好 的 集成性 低功耗 高速传输/nr 和宽/nr 动态/n 
范围/n 等/u 特点/n 在/p 高分辨率/n 和/c 高速/d 场合/n 得到/v 了/ul 
广泛/a 的/uj 应用/v 由于 光电 二极管 不能 检测 精确 的 
颜色 颜色 信息 通过 与 滤色镜 或 棱镜 结合 被 
再现 颜色 信息 能 通过 使用 红色 R 绿色 G 
蓝色 B 基色 滤色镜 的 基色 模式 或者 通过 使用 
蓝绿色 C 紫红色 M 黄色 Y 绿色 G 的 四色 
滤色镜 经过 计算 创建 图像 的 补色 滤色镜 模式 获得 
总之 基色 模式 创建 的 图像 比较 暗 但是 由于 
它 更高 的 色彩 饱和度 表现出 更 精确 的 颜色 
这个 特点 即 高度 的 色彩 再现 能力 工业 相机 
与 民用 相机 的 区别 在于 1 工业 相机 的 
快门 时间 非常 短 可以 抓拍 快速 运动 的 物体 
举个 例子 把 一张 名片 贴在 电风扇 扇叶 上 以 
最大 速度 旋转 用 工业 相机 抓拍 一张 图像 能 
清晰 的 辨别 名片 上 的 字体 然而 用 一般 
的 相机 来 拍摄 是 根本 不 可能 达到 这样 
效果 的 2 工业 相机 的 图像 传感器 是 逐行扫描 
的 而 一般 摄像机 的 图像 传感器 是 隔行扫描 的 
甚至 是 隔 三行 扫描 的 逐行扫描 的 图像 传感器 
生产 比较 困难 成品率 低 出货量 也 少 世界 上 
只有 少数 几个 公司 能够 提供 这 类产品 例如 Dalsa 
Sony 而且 价格 昂贵 百万级 逐行扫描 CCD 的 价格 从 
人民币 4000元 到 3 万元 不等 其中 的 技术 参数 
也 颇为 繁多 只有 采用 逐行扫描 的 图像 传感器 才 
有可能 清晰 抓拍 快速 运功 物体 3 工业 相机 的 
拍摄 速度 远远 高于 一般 相机 工业 相机 每秒 可 
以 拍摄 十幅 到 几百 幅 的 图片 而 一般 
相机 只能 拍摄 2 3幅 图像 相差 甚远 4 工业 
相机 输出 的 是 裸 数据 其 光谱 范围 也 
往往 比 较宽 比较 适合 进行 高 质量 的 图像 
处理 算法 普遍 应用 于 机器 视觉 系统 中 而 
一般 相机 DSC 拍摄 的 图片 其 光谱 范围 只 
适合 人眼 视觉 并且 经过 了 MPEG 压缩 图像 质量 
也 较差 机器 视觉 工作 原理 机器 视觉 检测 系统 
采用 CCD 照相机 将被 检测 的 目标 转换成 图像 信号 
传送 给 专用 的 图像 处理 系统 根据 像素 分布 
和 亮度 颜色 等 信息 转变成 数字化 信号 图像 处理 
系统 对 这些 信号 进行 各种 运 算来 抽取 目标 
的 机器 视觉 特征 如 面积 数量 位置 长度 再 
根据 预设 的 允许 度 和 其他 条件 输出 结果 
包括 尺寸 角度 个数 合格 / 不 合格 有 / 
无 等 实现 自动 识别 功能 机器 视觉 特点 1 
机器 视觉 是 一项 综合 技术 其中 包括 数字 图像 
处理 技术 机械 工程 技术 控制技术 电光源 照明 技术 光学 
成像 技术 传感器 技术 模拟 与 数字 视频 技术 计算机硬件 
技术 人机 接口技术 等 这些 技术 在 机器 视觉 中式 
并列 关系 相互 协调 应用 才能 构成 一个 成功 的 
工业 机器 视觉 应用 系统 2 机器 视觉 更 强调 
实用性 要求 能够 适应 工业 生产 中 恶劣 的 环境 
要有 合理 的 性价比 要有 通用 的 工业 接口 能够 
由 普通 工作 来 操作 有/v 较高/i 的/uj 容错/a 能力/n 
和/c 安全性/nr 不会 破坏 工业产品 必须/d 有/v 较强/i 的/uj 通用性/n 
和/c 可移植性/l 3 对 机器 视觉 工程师 来说 不仅 要 
具有 研究 数学 理论 和 编制 计算机 软件 的 能力 
更 需要 的 是 光 机 电 一体化 的 综合 
能力 4 机器 视觉 更 强调 实时性 要求/v 高/a 速度/n 
和/c 高精度/n 因而 计算机 视觉 和 数字 图像 处理 中 
的 许多 技术 目前 还 难以 应用于 机器 视觉 他们 
的 发展 速度 远远 超过 其 在 工业 生产 中 
的 实际 应用 速度 在 设计 工业 机器 视觉 系统 
时 使用 数字 相机 还 是 模拟 相机 是 最重要 
的 决定 之一 二者 各 有其 优缺点 但 归根结底 要 
根据 成本 和 一些 关键 操作 因素 来 选择 如 
时了/nr 这些 因素 哪 一项 技术 更 有优势 就会 明朗 
化了 对于 一 项 应用 选择 什么样 的 相机 合适 
取决于 机器 视觉 系统 想 要 达到 什么 目的 为/p 
机器/n 视觉/n 系统/n 选择/v 相/v 机时/n 要/v 认真/ad 考虑/v 相机/d 
的/uj 性能/n 和/c 成本/n 虽然 模拟 相机 远比 数字相机 便宜 
但 它们 的 分辨率 和 图像 质量 较低 所以 可能会 
被 局限 在 要求 不 太高 的 应用 中 数字相机 
比 模拟 相机 昂贵 但/c 它们/r 的/uj 高/a 成本/n 可能/v 
值得/v 为/p 要求/v 高/a 速度/n 高 准确度 高 精度 的 
应用 而 付出 机器 视觉 被 应用于 视觉 检测 物体 
识别 自动 质量检验 工艺 控制 参数 测量 和 自动 组装 
等等 许多 领域 在 这些 系统 中 相机 是 决定 
着 成本 速度 和 精度 的 关键 组件 模拟/v 相机/d 
和/c 数字相机/n 都/d 可以/c 用/p 在/p 这些/r 系统/n 中/f 而 
了解 相机 的 性能 规格 及其 在 各种 视觉 任务 
中 的 重要性 对于 把 机器 视觉 存 诸 工业 
控制 是 最 基本 的 一步 机器 视觉 系统 包括 
三 个 主要 部分 相机 采集卡 和 存储 并 分析 
图像 以 提取 信息 的 计算机 或 图像 处理器 图像 
处理器 和 采集卡 属于 相对 容易 选择 的 电子 装置 
它们 的 主要 参数 是 存储 能力 和 处理 速度 
相机 是 这些 系统 中 情况 最为 复杂 的 部分 
现代 的 模拟 和 数字相机 采用 电荷耦合 器件 CCD 或 
互补 金属 氧化物 半导体 CMOS 芯片 来 捕猎 图像 并 
生成 电子 信号 发送 给 计算机 进行 处理 CCD/w 和/c 
CMOS/w 芯片/n 在/p 内部/f 都/d 生成/v 模拟/v 信息/n 因此 模拟 
相机 和 数字相机 之前 主要 区别 在于 图像 是 在哪里 
被 数字化 的 数字相机 在 相机 里 将 信号 数字化 
并且 通过 串行 总线接口 比如 fireWire USB Camera Link Gigabit 
Ethernet 将 信号 以 数字 方式 传 输给 计算机 或 
图像 处理器 面 在 另一方面 模拟 相机 系统 并 不是 
在 其 内部 将 图像 信号 数字化 数字化 是 邮 
计算机 完成 的 所以 模拟 信息 是 通过 同轴电缆 而 
进行 传输 的 尽管 两种 方法 都 能够 有效 地 
传输 信号 但 模拟 可能 会 由于 工厂 内 其他 
设备 的 电磁 干扰 而 造成 失真 随着 噪声 水平 
的 提高 模拟 相机 的 动态 范围 原始 信号 与 
噪声 之比 会 降低 动态/n 范围/n 决定了/i 有/v 多少/m 信息/n 
能够/v 被/p 从/p 相机/d 传/n 输给/v 计算机/n 数字信号 不受 电器 
声 影响 因此 数字相机 的 动态 范围 更高 能够 向 
计算机 传输 更 精确 的 信号 数字相机 的 典型 动态 
范围 在 55 分贝 到 60 分贝 左右 而 模拟 
相机 为 45 分贝 到 50 分贝 左右 所以 电缆 
的 长度 和 类型 也 影响 信号 的 精度 模拟 
相机 的 电缆 简单 而且 便宜 在 电 噪声 导致 
信号 严重 失真 之前 能够 将 信号 可靠地 300米 以上 
由于 数字相机 传输 的 是 高带宽 信号 电缆 的 长度 
受 电缆 中 信号 良师 衰减 损失 的 水平 的 
限制 根据 使用 的 通信 协议 的 不同 LED 光源 
的 颜分/nr 主要 分为 四种 红色 蓝色 绿色 白色 其他 
颜色 橙色 红外 紫外 用户 可以 根据 使用 环境 及 
使用 范围 的 不同 选择 合适 的 光源 种类 颜色 
以及 照明 方式 使得 检测 系统 达到 最佳 的 性能 
获得 最优 的 检测 结果 一般 有红/nr 绿 蓝 白 
红外 其中 红色 用得 最多 因为 红色 LED 成本低 并且 
黑白 CCD 芯片 对 660nm 光线 最 敏感 兰色 适合 
检测 物体 表面质量 因为 波长 短 当然 紫外 的 散射 
性 更好 因为 波长 更短 而 白色 是 中性 颜色 
适 合拍 彩色图片 或 着 被 测 物体 的 颜色 
在 变化 的 绿色 的 亮度 很高 且 波长 和 
兰色 接近 所以 有时 可 用 绿色 代替 兰色 红外 
用于 半 透明 等 的 物体 检测 波长 越长 穿透力 
越强 波长 越短 扩散性 越好 蓝色 光源 下 白色 紫色 
蓝色 等 表现 较 亮 有效 反射 蓝光 从中 也 
可以 发现 白色 无论 在 什么 光照 下 都成 成 
明显 的 白色 是 因为 其 本身 不 吸收光谱 任何 
光谱 照射到 其 表面 上 都会 被 反射 相反 黑色 
材料 则 无论什么 光照 射上去 都不 反光 成 黑色 另外 
光 的 衍 射中 衍射 条纹 的 宽度 与 波长 
是 成正比 的 如 单缝衍射 中央 明纹的/nr 半角 宽度 为 
sin θ = λ / a   λ 为 波长 
a 为 单缝/nr 宽度 而 我们 拍摄 物体 时 其 
表面 通常 都 不是 十分 光滑 总是 会 产生 衍射 
所以 使用 红光 时 衍射 会比 使用 蓝光 时的/nr 衍射 
要强 因此 通常用 红光 能 得到 更多 的 表面 细节 
而 使用 蓝光 会 得到 更大 的 对比度 如果 进行 
彩色 成像 则 通常 考虑 使用 白色 光源 白色 LED 
光源 的 制造 有 几种 方法 一种 是 使用 白色 
LED 制造 发光管/n 内部/f 有/v 蓝色/n 发光/v 芯片/n 与/p 受到/v 
激发/v 后/f 发出/v 黄色/n 的/uj 荧光粉/n 发出 的 光 按 
一定 比例 叠加 到一起 看起来 形成 了 白色 这是 最为 
觉 常见 的 形式 这种 光源 只能 通过 调节 供电 
电压 或 电流 来 改变 发光强度 颜色 是 恒定 的 
另一种 方法 是 使用 红绿蓝 三种 不同 颜色 的 LED 
按 某种 顺序 或 方式 在 光源 上 进行 排列 
并 分别 控制 每种 颜色 的 度 使用 相对 方便 
此 种方法 通常 使用 四个 单色 RGGB 颗粒 进行 排列 
所以 其中 的 绿色 分量 通常 会 比较 足 我们 
通常 所见 的 彩色显示器 彩色 电视机 手机 屏 等 显示 
设备 也是 基于 RGGB 此种 方式 进行 排列 的 之所以 
多加 一个 绿色 的 G 通量 是 因为 人眼 对 
绿色 光源 波长 555nm 最 敏感 机器 视觉 应用 中 
注意 目标 颜色 与 光源 颜色 的 搭配 我们 看到 
某个 物体 成某/nr 种颜色 是 因为 其 反射 了 对应 
的 光谱 即 如果 目标 是 红色 的 如果 是 
白色 的 光照 射 或者 是 红色 的 光照 射 
都有 红色 的 光 返回 那么 在 黑白 相机 中 
将会 是 白色 的 如果 是 蓝色 的 光来 拍摄 
则 没有 红色 的 光 可以 反射 那么 其 将会 
是 黑色 的 基于 这样 的 理论 我们 拍摄 物体 
时 如果 要将 某 种颜色 打成 白色 那么 就 得 
使用 与此 颜色 相同 或 相似 的 光源 光 的 
波长 一样 或 接近 而 如果 要 打成 黑色 则 
需要 选择 与 目标 颜色 波长 差 较大 的 光源 
而在 镜头 的 分辨率 能 分别 最小 两点 之间 的 
距离 公式 δ = 0.61 λ / NA λ 为 
波长 NA 为 数值孔径 从中 可以 知道 当 NA 固 
定时 使用 不同 波长 颜色 的 光 时 镜头 的 
分辨率 是 不 一样 的 因此 在 使用 光源 时 
同 一支 镜头 在 蓝色 光照 下 的 分辨率 通常 
会 高于 红色 光照 条件 使用 机器 视觉 LED 光源 
一般 都 提供 几种 供电 方式 可供 选择 常见 的 
有 5V 12V 24V 直流电源 功率 根据 所用 LED 的 
数量 多少 而定 电压 不同 会 引起 什么 区别 呢 
这 和 LED 的 特性 有关 一般 LED 的 工作 
电 流在 10mA ~ 25mA 特别 亮 的 LED 可达 
50mA 甚至 更高 而 LED 的 电压 降 一般 为 
1.8 V 到 3.3 V 因此 通常 每个 LED 上都 
串联 一个 电阻 分压 电阻 这样 才能 保证 LED 发光 
均匀 而且在 电压波动 时 不易 损毁 那么 由于 LED 上 
的 电压 降 和 通过 的 电流 都是 恒定 的 
供电 电源 的 电压 不 同时 多余 的 电压 是 
串联 的 电阻 所 承担 的 例如 给 一颗 1.8 
V 15mA 的 LED 用 24V 供电 时 需要 串联 
1.48 K Ω 24 1.8 / 0.015 = 1480 此时 
电阻 的 功耗 是 0.015 * 0.015 * 1480 = 
0.333 W 如果 使用 多个 LED 颗粒 组合成 光源 光源 
会 发出 很高 的 热量 这时 必须 采用 风扇 等 
强制 散热 手段 否则 光源 的 寿命 会 很短 而 
同样 的 LED 使用 5V 供电 时 串联 电阻 R 
= 213 Ω 电阻 的 功耗 为 0.048 W 和 
24V 供电 时差 了 近 7倍 这时 仅仅 靠 对流 
产生 的 散热 效应 就 足够 了 不必 用 强制 
散热 的 方法 既然 用 低电压 有好处 为什么 还 使用 
12V 24V 呢 原因 很 简单 由于 机器 视觉 用于 
工业生产 线上 一般 24V 是 标准 配置 另外 电压 高时/nr 
搞 干扰 能力强 而 低压 则 对 电源 和 工作 
环境 提出 了 更高 的 要求 是 使用 恒流源 还是 
恒压源 环境温度 有何 影响 等 均 需要 考虑 常亮 还是 
闪亮 图片 亮 暗 的 控制 除了 快门 光圈 增益 
外 还 可以 控制 光源 的 亮 暗 以及 亮 
的 时间 来 控制 我们 先 来看 一下 常亮 光源 
和 闪光 的 优缺点 如果 保持 稳定 的 供电 那么 
光源 的 亮度 基本 不变 如果 供电 使用 脉冲 脉冲 
的 时间 宽度 和 LED 本身 的 响应 时间 决定 
了 发光 时间 若 是 这个 时间 小于 相机 快门 
开启 的 时间 那么 相机 的 曝光 程度 是由 光源 
发出 的 光通量 决定 的 如果 大于 快门 时间 则由 
快门 决定 一般 情况 下 如果 需要 频闪 光源 时间 
小于 快门速度 传统 上 使用 普通 的 照相机 闪光灯 使用 
LED 强度 不够 所以 以往 针对于 LED 光源 来讲 闪 
光是 指 光源 开启 时间 大于 快门 时间 的 情况 
频闪 控制器 通常 采用 的 是 超 电流 的 方法 
即 控制 通过 LED 的 电流 超出 标定 的 值 
多少 倍 而使 亮度 增加 但是 这种 高 负荷 的 
工作 状态 由于 功率 过大 发热 严重 对 光源 的 
寿命 影响 很大 所以 通常 通电 时间 都 很短 减少 
光源 的 工作 时间 以此来 延长 光源 的 使用 时间 
使用 频闪 控制器 可以获得 高亮 的 光源 可以 减少 环境 
的 影响 可以 减少 快门 时间 从而 减少 动态拍摄 时的拖/nr 
尾 现象 而且 如果 只 需要 平常 的 亮度 时 
可以 使用 低 亮度 的 LED 发光管 可以 降低 成本 
但是 使用 频闪 时 电源 的 成本 会 提高 而且 
同步 问题 也 必须 考虑 频闪 控制器 可以 从 外部 
输出 触 发信号 来 触发 光源 也 可以 从 外部 
输出 触 发信号 来 触发 频闪 控制器 本身 输出 触 
发信号 同时 触发 光源 与 相机 这样 能 达到 光源 
与 相机 触发 的 同步 机器 视觉 光源 的 选择 
是 为了 将被 测 物体 与 背景 尽量 明显 分别 
获得 高 品质 高对比度 的 图像 而且 视觉 光源 的 
正确 选择 直接影响 系统 的 成败 处理 精度 和 速度 
荣旭/nr 机器 视觉 光源 具有 亮度 可调 低温 均衡 无闪烁 
无 阴影 亮度 色温 一致 使用 寿命 长 等 优点 
本公司 致力于 不断 开发 新的 产品 和 完善 其 功能 
提供 多种 机器 视觉 光源 产品 免费 提供 测试 并 
协助 提供 整体 解决 方案 它 已 广泛 应用 于 
各个 行业 光源 的 种类 视觉 系统 使用 的 光源 
主要 有三种 高频 荧光灯 光纤 卤素灯 LED 发 光二极管 照明 
理想 的 视觉 光源 应该 是 明亮 均匀 稳定 的 
高频 荧光灯 发光 原理 和 日光灯 类似 只是 灯管 是 
工业 级 产品 并且 采用 高频 电源 也 就是 光源 
闪烁 的 频率 远高于 相机 采集 图象 的 频率 消除 
图像 的 闪烁 适合 大面积 照明 亮度高 且 成本 较低 
但 需要 隔 一定 时间 换 灯管 一定 要 进口 
的 才 过关 国内 的 高频 做 的 不行 老 
有 闪烁 国外 最快 可 做到 60KHz 光纤 卤素灯 卤素灯 
也叫 光纤 光源 因为 光线 是 通过 光纤 传输 的 
适合 小 范围 的 高亮度 照明 它 真正 发光 的 
是 卤素灯 炮 功率 很大 可达 100 多瓦 高亮度 卤素灯 
炮 通过 光学 反射 和 一个 专门 的 透镜 系统 
进一步 聚焦 提高 光源 亮度 卤素灯 还有 一个 名字 叫 
冷光源 因为 通过 光纤 传输 之后 出 光 的 这 
一头 是 不热 的 适合 对 环境 温度 比较 敏感 
的 场合 比如 二次元 量测仪 的 照明 但 它 的 
缺点 就是 卤素灯 炮 寿命 只有 2000 小时 左右 LED 
灯 使用寿命 约 10000 － 30000 小时 可以 使用 多个 
LED 达到 高亮度 同时 可组合 不同 的 形状 响应 速度 
快 波长 可以 根据 用途 选择 机器 视觉 LED 光源 
的 性能 优势 可 制成 各种 形状 尺寸 及 各种 
照射 角度 可 根据 需要 制成 各种 颜色 并 可以 
随时 调节 亮度 通过 散热装置 散热 效果 更好 光亮度 更 
稳定 使用 寿命 长 约 3万 小时 间断 使用 寿命 
更长 反应 快捷 可在 10 微秒 或 更短 的 时间 
内 达到 最大 亮度 电源 带有 外 触发 可以 通过 
计算机 控制 起动 速度快 可以 用作 频闪灯 运行 成本 低 
寿命长 的 LED 会在 综合 成本 和 性能 方面 体现 
出 更大 的 优势 可 根据 客户 的 需要 进行 
特殊 设计 工业 相机 由 两 大 基本 部件 组成 
图像 感光 芯片 和 数字化 的 数据接口 图像/n 感光/n 芯片/n 
由/p 数十/m 万至/nr 数百/m 万个/nr 像素/n 组成/v 像素 把 光线 
的 强度 转换 为 电压 输出 这些 像素 的 电压 
被以 灰度 值 的 形式 输出 所有 像素 放在 一起 
就 形成 了 图像 发送给 计算机 数据接口 主要 有 USB 
2.0 1394 和 千兆 以太网 三种 CCD CMOS 是 现在 
普遍 采用 的 两种 图像 工艺技术 它们 之间 的 主要 
差异 在于 传送 方式 的 不同 虽然 CCD 在 影像 
品质 分辨率 大小 灵敏度 等 方面 优于 CMOS 而 CMOS 
具有 低 成本 低功耗 以及 高整/nr 合度 的 特点 随着 
CCD 与 CMOS 技术 的 不断 进步 两者 之间 的 
差异 将 逐步 减小 1 分辨率 差异 由于 CMOS 的 
每个 像素 都比 CCD 复杂 且 其 像素 尺寸 很难 
达到 CCD 的 水平 因此 当 我们 比较 相同 尺寸 
的 CCD 与 CMOS 时 CCD 的 分辨率 通常 会 
优于 CMOS 传感器 的 水平 同 尺寸 大小 CCD 的 
分辨率 要 高于 CMOS 也 就是说 成像 质量 要 优于 
CMOS 2 噪声 差异 由于 CMOS 的 每个 感 光二极管 
都 需要 搭配 一个 放大器 若以 百万 像素 计算 的话 
那就/nr 需要 上 百万个 的 放大器 然而 放大器 属于 模拟电路 
很难 让 所得 的 每个 结果 都 保持 一致 而 
CCD 只 需要 一个 放大器 放在 芯片 边缘 与 CMOS 
相比 它 的 噪声 相对 减少 很多 大大 提高 了 
图像 品质 3 灵敏度 差异 因为 CMOS 信号 是以 点 
为 单位 的 电荷 信号 而 CCD 是以 行为 单位 
的 电流 信号 读取 信号 时 CMOS 是 点 直接 
读取 信号 CCD 则是 行 间接 读取 信号 因此在 像素 
尺寸 相同 的 情况 下 CMOS 的 灵敏度 要 低于 
CCD 4 耗电量 差异 CMOS 采用 主动 式 图像 采集 
方式 感 光二极管 所 产生 的 电荷 会 直接 由 
旁边 的 电晶体 放大 输出 而 CCD 为 被动式 采集 
方式 必须 外加 12 ~ 18V 的 电压 以使 每个 
像素 中的 电荷 移送 到 传输通道 因此 CCD 就必须 设计 
更 精密 的 电源 线路 和 耐压 强度 这样 使得 
CCD 的 耗电量 远远 高出 CMOS 根据 计算 CMOS 的 
耗电量 仅 是 CCD 的 1/8 ~ 1/10 5 成本差异 
由于 CMOS 与 现有 的 大 规模 集成电路 生产工艺 相同 
可以 一次 全部 整合 周边 设施 到 传感器 芯片 中 
大大 节省 了 外围 芯片 的 成本 而 CCD 采用 
电荷 传递 的 方式 输出 数据 只要 其中 有 一个 
像素 传送 出现 故障 就 会 导致 一 整排 的 
数据 无法 正常 传送 因此 控制 CCD 的 成品率 比 
CMOS 困难 许多 因此 CCD 的 制造 成本 就 相对 
高于 CMOS 传感器 印刷 包装 行业 品种繁多 印刷品 颜色 与 
形状 多样 部分 产品 的 材质 具有 极高 的 反射度 
并且 表面 印制 了 彩色 图案 如 易拉罐 瓶盖 的 
综合 检测 一直 存在 着 打光 难 的 问题 因此 
对 产品 的 检测 要求 都是/nr 十分 严格 运用 机器 
视觉 技术 能 迅速 准确 的 发现 印刷品 的 各种 
缺陷 机器 视觉 用于 印刷 行业 中 的 质量 检测 
其 基本 的 工作 原理 是 用 摄像机 拍摄 采集 
印刷品 上 的 图像 在 计算机 中 与 该 印品 
的 标准 图像 模板 相匹配 比较 如果 发现 差异 并 
超出 设定 的 公差 范围 即 判 定为 不 合格 
产品 采用/v 检测/vn 系统/n 进行/v 质量/n 检测/vn 可以/c 提供/v 检测/vn 
全/a 过程/n 的/uj 实时/d 报警/n 和/c 详尽/a 完善 的 分析 
报告 外 现场 操作者 还 可以 根据 全自动 检测 系统 
的 实时 报警 及 分析 报告 对 工作 中 出现 
的 问题 进行 相应 的 调整 并且 管理者 还 可以 
依据 检测 结果 的 分析 报告 对 生产 过程 进行 
跟踪 更 有利于 生产 技术 的 管理 也 就是说 质量 
检测 设备 不仅 可以 提升 成品 的 合格率 还 能够 
协助 生产商 改进 工艺流程 建立 质量 管理 体系 达到 一个 
长期 稳定 的 质量 标准   检测 印刷 制品 颜色 
缺陷 检测 如 露 印 检测 浅 印 检测 偏色 
检测 露白 检测 等 材质 缺陷 检测 如 孔洞 检测 
异物 检测 印刷 缺陷 检测 如 残缺 检测 刀 丝 
检测 飞 墨 检测 露 印 检测 套印 误差 检测 
二维码 缺陷 检测 如 重号 检测 偏 位 检测 不匹配 
检测 等 远 心 工业 镜头 主要 是 为 纠正 
传统 工业 镜头 的 视差 而 特殊 设计 的 镜头 
它 可以 在 一定 的 物 距 范围内 使 得到 
的 图像 放大 倍率 不会 随物 距 的 变化 而 
变化 这对 被 测 物 不在 同 一物 面上 的 
情况 是 非常 重要 的 应用 普通 工业 镜头 目标 
物体 越 靠近 镜头 工作距离 越短 所成 的 像 就 
越大 在 使用 普通 镜头 进行 尺寸 测量 时 会 
存在 如下 问题 1 由于 被 测量 物体 不在 同一个 
测量 平面 而 造成 放大 倍率 的 不同 2 镜头 
畸 变大 3 视差 也 就是 当 物 距 变大 
时 对 物体 的 放大倍数 也 改变 4 镜头 的 
解析度 不高 5 由于 视觉 光源 的 几何 特性 而 
造成 的 图像 边缘 位置 的 不确定性 而 远 心 
镜头 就 可以 有效 解决 普通 镜头 存在 的 上述 
问题 而且 没有 此 性质 的 判断 误差 因此 可用在 
高 精度 测量 度量 计量 等 方面 远 心 镜头 
是 一种 高端 的 工业 镜头 通常 有 比较 出众 
的 像 质 特别 适合 于 尺寸 测量 的 应用 
无论何处 在 特定 的 工作 距离 重新 调焦 后会 有 
相同 的 放大 倍率 因为 远 心 镜头 的 最大 
视场 范围 直接 与 镜头 的 光 栏 接近 程度 
有关 镜头 尺寸 越大 需要 的 现场 就 越大 远 
心 测量 镜头 能 提供 优越 的 影像 质素 畸变 
比 传统 定 焦镜/nr 头小 这种 光学 设计 令 影像 
面 更 对称 可 配合 软件 进行 精密测量 普通 镜头 
优点 成本低 实用 用途 广 普通 镜头 缺点 放大 倍率 
会 有变化 有 视差 普通 镜头 应用 大 物体 成像 
远 心 镜头 的 优点 放大倍数 恒定 不随 景深 变化 
而 变化 无 视差 远 心 镜头 的 缺点 成本高 
尺寸 大 重量 重 远 心 镜头 的 应用 度量衡 
方面 基于 CCD 方面 的 测量 微晶/n 学/n 镜头/n 的/uj 
焦距/n 分为/v 像/v 方/n 焦距/n 和物方/nr 焦距/n 像/v 方/n 焦距/n 
是/v 像/v 方/n 主面/b 到/v 像/v 方/n 焦点/n 的/uj 距离/n 
同样 物/zg 方/n 焦距/n 就是/d 物/zg 方/n 主面/b 到/v 物/zg 
方/n 焦点/n 的/uj 距离/n 是 像 方 焦距 入射/v 光线/n 
为/p 平行线/n 时/n 通过/p 透镜/n 光线/n 的/uj 交/v 点到/i 透镜/n 
的/uj 距离/n ./i 当/t 点光源/n 距/n 透镜/n 某一/i 距离/n 时/n 
折射/v 光线/n 为/p 平行线/n 这个 距离 叫 物 方 焦距 
. 物 方远 心 镜头 及 像 方远 心 镜头 
介绍 在 测量 系统 中 物 距 常 发生 变化 
从而 使 像 高 发生变化 所以 测得 的 物体 尺寸 
也 发生 变化 即 产生 了 测量误差 另一方面 即使 物 
距 是 固定 的 也会 因为 CCD 敏感 表面 不易 
精确 调整 在 像 平面 上 同样 亲 会 产生 
测量误差 为了 解决 上述 问题 可以 采用 远 心 镜头 
其中 像 方远 心 镜头 可以 消除 物 距 变化 
带来 的 测量误差 而 物 方远 心 镜头 则 可以 
消除 CCD 位置 不准 带来 的 测量误差 1 物 方远 
心 镜头 物 方远 心 镜头 是 将 孔径光阑 放置 
在 光学系统 的 像 方 焦平面 上 示出 当 孔径光阑 
放在 像 方 焦平面 上 时 即使 物 距 发生 
改变 像距 也 发生 改变 但 像 高并/nr 没有 发生 
改变 即 测得 的 物体 尺寸 不会 变化 清楚 地 
显示 出 物 方远 心 光路 的 原理 其中 孔径光阑 
位于 像 方焦面 上 物 方主/nr 光线 平行 于光轴 如果 
物体 B1B2 正确 地 位于 与 CCD 表面 M 共轭 
的 位置 A1 上 那么 它 在 CCD 表面上 的 
像 为 M1M2 如果 由于 物 距 改变 物体 B1B2 
不在 位置 A1 而在 位置 A2 那么 它 的 像 
B ´ 1B ´ 2 偏离 CCD 表面 B ´ 
1 和B´/nr 2 点在 CCD 表面上 投影 为 一个 弥散 
斑 其 中心 仍 为 M1 和M/nr 2点 按此 投 
影像 读出 的 长度 仍 为 M2M1 这就是说 上述 物 
距 改变 并不 影响 测量 精度 2 像 方远 心 
光路 像 方远 心 光路 是 将 孔径光阑 放置 在 
光学系统 的 物 方 焦平面 上 而 像 方的主/nr 光线 
平行 于光轴 如 所示 如果 物体 B1B2 的 像 B 
´ 1B ´ 2 不与 CCD 表面 M 重合 则在 
CCD 表面 M 上 得到 的 是 B ´ 1B 
´ 2 的 投 影像 其 散 斑 中心 距离 
M1M2 ＝ B ´ 1B ´ 2 因此 不管/c CCD/w 
表面/n M/w 是否/v 和B´/nr 1B/i ´/i 2/m 相/v 重合/vn 它 
和 标尺 所 对应 的 长度 总是 B1B2 所以 没有 
测量误差 双侧 远 心 镜头 曝光 时间 Exposure time 为了 
将 光 投射 到 照相 感光 材料 的 感光 面上 
快门 所要 打开 的 时间 视 照相 感光 材料 的 
感光度 和对/nr 感光 面上 的 照度 而定 相机 曝光 时间 
是 指 从快 门 打开 到 关闭 的 时间 间隔 
在 这 一段 时间 内 物体 可以 在 底片 上 
留下 影像 曝光 时间 是 看 需要 而定 的 没有 
长短 好坏 的 说法 只 有 需要 的 讲法 比如 
你 拍 星星 的 轨迹 就 需要 很长 的 曝光 
时间 可能 是 几个 小时 这样 星星 的 长时间 运动轨迹 
就会 在 底片 上 成像 如果 你 要 拍 飞驰 
的 汽车 清晰 的 身影 就要 用 很短 的 时间 
通常 是 几千 分之 一秒 曝光 时间 长 的话 进 
的 光 就多 适合 光线 条件 比 较差 的 情况 
曝光 时间 短 则 适合 光线 比较好 的 情况 有的是 
0 . 04ms 93ms 有的是 1/71000 s 2s 有的是 1/7000 
s 7s 等等 曝光 时间 主要 是 指 底片 的 
感光 时间 曝光 时间 越长 底片 上 生成 的 相片 
越亮/nr 相反 越暗/nr 在 外界 光线 比较 暗 的 情况 
下 一般 要求 延长 曝光 时间 比如说 夜景 1 . 
分辨率 Resolution 相机 每次 采集 图像 的 像素 点数 Pixels 
对于 数字相机 机 一般 是 直接 与 光电 传感器 的 
像 元数/nr 对应 的 对于 模拟 相 机机 则是 取决于 
视频 制式 PAL 制为 768 * 576 NTSC 制为 640 
* 480 2 . 像素 深度 Pixel Depth 即 每 
像素 数据 的 位数 一般 常用 的 是 8Bit 对于 
数字相机 机 一般 还会有 10Bit 12Bit 等 3 . 最大 
帧率 Frame Rate / 行频 Line Rate 相 机机 采集 
传输 图像 的 速率 对于 面 阵 相 机机 一般 
为 每秒 采集 的 帧数 Frames / Sec . 对于 
线 阵 相机 为 每秒 采集 的 行数 Lines / 
Sec . 4 . 曝光 方式 Exposure 和 快门 速度 
Shutter 对于 线 阵 相 机机 都是 逐行 曝光 的 
方式 可以 选择 固定 行频 和外/nr 触发 同步 的 采集 
方式 曝光 时间 可以 与 行 周期 一致 也 可以 
设定 一个 固定 的 时间 面/n 阵/n 相/v 机机/i 有帧/nr 
曝光/nz 场 曝光 和 滚动 行 曝光 等 几种 常见 
方式 数字相机 一般 都 提供 外 触发 采 图 的 
功能 快门 速度 一般 可到 10 微秒 高速相机 机 还 
可以 更快 可以 看到 ccd 芯片 的 工业 相机 外观 
5 . 像 元 尺寸 Pixel Size 像 元大 小和 
像 元数/nr 分辨率 共同 决定 了 相机 机 靶 面的 
大小 目前 数字相机 机 像 元 尺寸 一般 为 3 
μ m 10 μ m 一般 像 元 尺寸 越小 
制造 难度 越大 图像 质量 也 越 不容易 提高 6 
. 光谱 响应 特性 Spectral Range 是 指 该 像 
元 传感器 对 不同 光波 的 敏感 特性 一般 响应 
范围 是 350nm － 1000nm 一些 相 机机 在 靶 
面前 加 了 一个 滤镜 滤除 红外 光线 如果 系统 
需要 对 红外 感光 时可/nr 去掉 该 滤镜 工业 镜头 
倍率 及 视场 范围 的 计算 方法 一 工业 镜头 
光学 放大 倍率 的 计算 方法 二 工业 镜头 对应 
视场 范围 的 计算 方法 附 常见 工业 相机 传感器 
尺寸 大小 1/4 ″ 3 . 2mm × 2 . 
4mm 1/3 ″ 4 . 8mm × 3 . 6mm 
1/2 ″ 6 . 4mm × 4 . 8mm 2/3 
″ 8.8 × 6 . 6mm 1 ″ 12 . 
8mm × 9 . 6mm 机器 视觉 系统 中 工业 
镜头 相当 于人 的 眼睛 其 主要 作用 是 将 
目标 的 光学图像 聚焦 在 图像 传感器 相机 的 光敏 
面 阵 上 视觉 系统 处理 的 所有 图像 信息 
均 通过 工业 镜头 得到 工业 镜头 的 质量 直接 
影响 到 视觉 系统 的 整体 性能 下面 对 机器 
视觉 工业 镜头 的 相关 专业 术语 做 以 详解 
一 远 心 光学系统 指 主 光线 平行 于 工业 
镜头 光学 轴 的 光学系统 而光 从 物体 朝向 镜头 
发出 与 光学 轴 保持 平行 甚至在 轴 外 同样 
如此 则 称为 物 体侧 远 心 光学系统 二 远 
心 镜头 远 心 镜头 指 主 光线 与 镜头 
光源 平行 的 工业 镜头 有物 方远 心 像 方远 
心 双侧 远 心 普通 工业 镜头 主 光线 与 
镜头 光轴 有 角度 因此 工件 上下 移动 时 像 
的 大小 有变化 双侧 远 心 境头 主 物 方 
像 方均/nr 为主 光线 与 光轴 平行 光圈 可变 可以 
得到 高的/nr 景深 比 物 方远 心 境头 更能 得到 
稳定 的 像 最 适合 于 测量用 图像处理 光学系统 但是/c 
大型/b 化/n 成本/n 高物/nr 方远/i 心/n 境头/i 只是/c 物/zg 方主/nr 
光线/n 与/p 镜头/n 主轴/n 平行/n 工件/n 上下/f 变化/vn 图像 的 
大小 基本 不会 变化 使用 同轴 落 射 照 明时 
的 必要条件 小型化/n 亦可/v 对应/vn 像/v 方远/i 心/n 境头/i 只是/c 
像/v 方主/nr 光线/n 与/p 镜头/n 光轴/n 平行/n 相机/d 侧/v 即使/c 
有/v 安装/v 个体/n 差/a 也 可以 吸收 摄影 倍率 的 
变化 用于 色 偏移 补偿 摄像机 本应 都 采用 这种 
镜头 三 远 心 光学系统 的 特色 优点 更小 的 
尺寸 减少 镜头 数量 可 降低 成本 缺点 上下 移动 
物体 表面 时 会 改变 物体 尺寸 或 位置 优点 
上下 移动 物体 表面 时 不会 改变 物体 尺寸 或 
位置 使用 同轴 照 明时 可使用 更小 的 尺寸 缺点 
未使用 同轴 照 明时 大于 标准 镜头 的 尺寸 四 
远 心 远 心 度 是 指 物体 的 倍率 
误差 倍率 误差 越小 远 心 度 越高 远 心 
度 有 各种 不同 的 用途 在 镜头 使用 前 
把握 远 心 度 很重要 远 心 镜头 的 主 
光线 与 镜头 的 光轴 平行 远 心 度 不好 
远 心 镜头 的 使用 效果 就 不好 远 心 
度 可以用 下图 进行 简单 的 确认 五 分辨率 μ 
m 光 学系 能力 的 尺度 表示 黑白 格状 图案 
通过 镜头 观察 时 1mm 中 可以 分辨 观察到 黑白 
条纹 的 最多 对数 分辨率 为 两点 间 在 无法 
识别 前 能 靠近 的 最近 距离 测量 值 例如 
1 μ m 的 分辨率 代表 两点 间 在 无法 
识别 前 能 靠近 的 最近 距离 为 1 μ 
m 以下 为 根据 镜头 的 无 相差 光 衍射 
情况 计算 理论 分辨率 的 公式 六 分辨力 Lines ／ 
mm 分辩 力 指 黑白 网 线图 镜头 里 影像 
内 1mm 面积 可 识别 的 黑白 两 色 条纹 
数 分辨力 的 单位 为 线条 / mm 例如 100 
线条 / mm 代表 可 识别 黑白 间距 1 / 
100mm 10 μ m 黑白 线条 的 宽度 为 1 
/ 200mm 5 μ m 七 水平 TV 分辨率 TV 
线条 宽度 里 的 黑白 水平线 总 条数 相当于 电视机 
屏幕 垂直 高度 的 高度 值 屏幕 的 垂直 与 
水平 长度 比率 通常 为 3 4 因此 水平 宽度 
里 的 总 条数 为 3/4 电视机 水平 分辨率 为 
240TV 条 线 电视机 屏幕 水平 宽度 的 总 条数 
为 320条 线 测量 镜头 的 分辨率 时 一组 黑色 
与 白色 线条 应 视为 一条线 但是 在 电视机 分辨率 
线条 方面 一组 视为 2TV 线条 八 失真 % 失 
真为 光学 轴 外 的 直 型 物体 呈现 曲线 
时的/nr 镜头 像差 镜头 失真 也 称为 镜头 畸变 即 
光学 透镜 固有 的 透视 失真 的 总称 可分为 枕 
形 失真 和 桶形 失真 直线 朝向 中心 的 失真 
情况 为 枕 形 失真 Pincushion Distortion 向外 扩张 的 
失真 称为 桶形 失真 Barrel Distortion 如下 图示 九 TV 
失真 % TV 屏幕 上 的 影像 失真 数值 越 
接近 零 牲 能 越高 十 电视 失真 实际 边长 
的 歪曲 形状 与 理想 的 形状 的 百分比 算出 
的 值 十一 孔径 效率 边际 光量 % 孔径 效率 
为 使用 镜头 拍摄 均匀 亮度 的 物体 时 成像 
盘 光学 轴 与 四周 区域 之间 的 亮度 差异 
单位 为 百分比 % 假设 中央 亮度 为 100 为 
镜头 的 光学 特征 之一 十二 遮蔽 % 遮蔽 为 
使用 镜头 与 CCD TV 镜头 拍摄 均匀 亮度 的 
物体 时 电视机 屏幕 中央 与 边缘 之间 的 亮度 
差异 单位 为 百分比 % 通常 使用 受 光 组件 
与 CCD 组件 的 功率 比 计算 此 百分比 遮蔽 
意指 镜头 与 TV 镜头 的 整体 表现 可使用 远 
心 光学系统 以 缩小 遮蔽 的 情况 十三 色差 在 
镜头 光学 统 中 形成 影像 的 位置 与 影像 
放大 倍率 随 光线 波长 的 不同 而 不同 不同 
波长 的 光线 有 不同 的 颜色 这 叫做 色彩 
失真 光学 轴上 的 失真 叫做 色彩 失真 放大 倍率 
的 差异 则 叫做 放大 倍率 色彩 失真 十四 工作距离 
WD mm 工作距离 指 镜头 第一个 工作面 到 被 测 
物体 的 距离 十五 物像 间 距离 O / I 
Object to Imager OI 指 物体 到 结 像 平面 
的 距离 十六 焦距 f mm 后 焦距 / 前 
焦距 焦距 为 光学系统 的 主 光 点到 焦点 的 
距离 从/p 最后/f 一片/m 镜头/n 的/uj 顶点/n 到/v 后/f 焦点/n 
的/uj 距离/n 为 后 焦距 从 第一片 镜头 的 顶点 
到 前 焦点 的 距离 为 前 焦距 十七 景深 
深度/ns 为/p 与/p 物体/n 从/p 最佳/z 焦点/n 前后/f 移动/vn 时．/nr 
出现/v 最/d 锐利/a 焦点/n 的/uj 最近/f 点/m 与/p 最远点/n 之间/f 
的/uj 距离/n 物 体侧 的 深度 范围 称为 景深 同样 
照相机 侧 的 范围 称为 焦点 深度 具体 的 景深 
的 值 多少 略有不同 景深 Depth of Field 可以 用 
以下 的 计算 式 计算出来 景深 = 2 x Permissible 
COC x 实效 F / 光学 倍率 2 = 允许 
误差值 / NA x 光学 倍率 使用 的 是 0 
. 04mm 的 Permissible COC 通过 镜头 的 影像 理论 
土 会 形成 点状 清晰 影像 上 出现 可 接受 
的 摸 糊 情况 称为 可 接受 的 弥散 圆 
十八 焦深 深度 为 当 CCD 从 最佳 焦点 前后 
移动 时 出现 最 锐利 焦点 的 最近 点 与 
最远点 之间 的 距离 影像 侧 的 深度 范围 称为 
焦深 十九 后 截距 mm 从 镜头 安装 座盘 前端 
到 影像 的 距离 二十 C 安装 座 规格 名称 
标准 外径 螺丝 螺纹 数 25 . 4mm 用 后 
截距 U 125.4000 m m 3 2 T h r 
e a d s 17.526 m m 二十一 数值孔径 NA 
NA 当 物体 在 入射光 孔上/nr 产生 的 半角 为 
u 且 折射率 为 n n x sinu 为 物 
体侧 数值 孔经/nr NA 当 物体 在出 射 光 孔上/nr 
产生 的 半角 为 u 且 折射率 为 n n 
x sinu 为 影像 侧 数值孔径 { NA NA = 
n x sinu NA = n x sin u NA 
越高 镜头 的 分辨率 与 亮 度越 佳 如下 图 
所示 入射 角度 u 物 体侧 折射率 n 成像 侧 
的 折射率 n NA = NA x 放大率 对于 Macro 
镜头 NA = M / 2 xF NA = 1/2 
xF NA = NA x 光学 倍率 NA = NA 
x 光学 倍率 二十二 F 值 F No 此 值 
指 镜头 的 亮度 将 镜头 对焦 距离 除以 物 
体侧 的 有效 直径 入射光 孔 直径 Dmm 即可 得到 
此 数值 也 可使用 NA 与 镜头 的 光学 放大 
倍率 β 计算 数值 越小 镜头 越 明亮 F No 
= 焦距 / 入射 孔径 或有 効 口径 = f 
／ D 二十三 有效 F No 此 值 为 具体 
在 有限 距离 内 的 镜头 亮度 指 实际 操作 
时的/nr 亮度 光学 放大 倍率 越高 β 镜头 越暗/nr 实效 
F = 1 + 光学 倍率 x F # 实效 
F = 光学 倍率 / 2NA 二十四 光学 放大 倍率 
β 物体 尺寸 与 影像 尺寸 的 比例 β = 
y ／ y = b ／ a = NA ／ 
NA = CCD 镜头 元件 尺寸 ／ 视野 实际 尺寸 
二十五 光学 倍率 放大 倍率 Magnification 指 的 是 通过 
镜头 的 调整 能够 改变 拍摄 对象 原本 成像 面积 
的 大小 光学 倍率 就是 通过 光学 镜头 变倍 的 
放大 倍率 主 要点 与 成像 的 关系 放大率 是 
指 成像 大小 与 物体 的 比 二十六 电子 放大 
倍率 电子 放大 倍率 为 影 像在 显示器 屏幕 上 
显示 时与 在 CCD 上 显示 相比 的 放大 倍率 
二十七 显示器 放大 倍率 显示器 放大 倍率 为 通过 镜头 
在 显示器 呈现 物体 的 放大 倍率 显示器 放大 倍率 
= 光学 放大 倍率 β x 电子 放大 倍率 计算 
范例 光学 放大 倍率 = 02x CCD 尺寸 1/2 对角线 
8mm 显示器 1/4 电子 放大 倍率 = 14 x25 . 
4/8 = 44.45 显示器 放大 倍率 = 0.2 x 44.45 
= 8.89 倍 1 英寸 = 25 . 44mm ※ 
有时 根据 TV 监视器 的 扫描 状态 以上 的 简易 
计算 将 有 一些 变化 二十八 视野 FOV 视野 指使 
用 照相机 以后 看到 的 物体 侧 的 范围 照相机 
有效 区域 的 纵向 长度 V / 光学 倍率 M 
＝ 视野 V 照相机 有效 区域 的 横向 长度 H 
/ 光学 倍率 M ＝ 视野 H 照相机 有效 区域 
的 纵向 长度 V or H = 照相机 一个 画 
素 的 尺寸 × 有効画/nr 素数 V or H 来 
计算 计算 范例 光学 放大 倍率 = 0.2 x CCD 
尺寸 1／2 长 4 . 8mm 宽 6 . 4mm 
} 视野 尺寸 长度 = 4.8 ／ 0.2 = 24 
mm 宽度 = 6.4 ／ 0.2 = 32 { mm 
二十九 解析度 表示 了 所能 见到 了 2点 的 间隔 
0.61 x 使用 波长 λ / NA = 解析度 μ 
以上 的 计算 方法 理论 上 可以 计算出 解析度 但 
不包括 失真 ※ 使用 波 长为 550nm 三十 解像 力 
１mm 中间 可以 看到 黑 白线 的 条数 单位 lp 
/ mm 三十一 MTF Modulation Transfer Function 成像/v 时/n 再现/v 
物体/n 表面/n 的/uj 浓淡/a 变化/vn 而/c 使用/v 的/uj 空间/n 周/nr 
波数/n 和/c 对比度/l 三十二 成 像圈 成像 尺寸 φ 要 
输入 相机 感应器 尺寸 三十三 照相机 Mount C mount 1 
diameter x 32 TPI FB 17 . 526mm CS mount 
1 diameter x 32 TPI FB 12 . 526mm F 
mount FB 46 . 5mm M72 Mount FB 厂家 各有不同 
三十四 边缘 亮度 相对 照度 是 指 中央 的 照度 
与 周边 的 照度 的 百分比 三十五 通风 盘 及 
解析度 Airy Disk 通风 盘 是 指 通过 没有 失真 
的 镜头 在 将 光 集中 一点 时 实际上 形成 
的 是 一个 同心圆 这个 同心圆 就 叫做 Airy Disk 
Airy Disk 的 半径 r 可以 通过 以下 的 计算 
公式 计算 出来 这个 值 称为 解析度 ｒ = 0.61 
λ / NA Airy Disk 的 半径 随 波长 改变 
而 改变 波长 越长 光/n 越难/nr 集中/v 于/p 一点/m 例 
N A 0.07 的 镜头 波 長 550nm r = 
0.61 * 0.55 / 0.07 = 4.8 μ 三十六 MTF 
及 解析度 MTF Modulation Transfer Function 是 指 物体 表面 
的 浓淡 变化 成像 侧 也被 再现 出来 表示 镜头 
的 成像 性能 成像 再现 物体 的 对比度 的 程度 
测试 对比 性能 用 的 是 具有 特定 空间 周 
波数 的 黑白 间隔 测试 空间 周 波数 是 指 
１mm 的 距离 浓淡 变化 的 程度 所示 黑白 矩阵 
波 黑白 的 对比度 为 100% . 这个 对 象被 
镜头 摄 影后 成像 的 对比度 的 变化 被 定量化 
基本上 不管什么 镜头 都会 出现 对比度 降低 的 情况 最终 
对比度 降低 至 0% 不能 进行 颜色 的 区别 显示 
了 物 体侧 与 成像 侧 的 空间 周 波数 
的 变化 横轴 表示 空间 周 波数 纵轴 表示 亮度 
物 体侧 与 成像 侧 的 对比度 由 A B 
计算出来 MTF 由 A B 的 比率 计算出来 解析度 与 
MTF 的 关系 解析度 是 指 2点 之间 怎样 被 
分离 认识 的 间隔 一般 从 解析度 的 值 可以 
判断 出 镜头 的 好坏 但是 实际 是 MTF 与 
解析度 有 很大 的 关系 显示 了 两个 不同 镜头 
的 MTF 曲线 镜头 a 解析度 低 但是 具有 高对比度 
镜头 b 对比度 低 但是 解析度 高 三十七 微距 镜头 
不用 近 接环 或 特写 镜头 而 实现 扩大 摄影 
为 近 接 摄影 而 设计 的 镜头 有限 远 
= 从 物镜 出 射 的 光 在 一定 距离处 
聚焦 三十八 CCTV 镜头 适合于 广 范围 的 扩大 观察 
需要 严格 精度 时 不适合 无限 远 = 从 物镜 
出 射 的 光 不 聚焦 平行 前进 三十九 变倍 
镜头 焦距 可变 镜头 倍率 摄像 范围 等 可以 简单 
改变 适合 于 需要 寻找 最 合适 摄影 条件 摄影 
距离 镜头 的 焦距 以 便于 操作 的 场合 使用 
不 产生 聚焦 位置 移动 的 称为 变倍 镜头 产生 
焦距 位置 移动 的 称为 变焦镜头 四十 成像 圆 光学系统 
中 成像 圆 的 尺寸 成像 圆 的 尺寸 = 
CCD 对角 尺寸 和 CCD 尺寸 同样 意义 四十一 后 
变倍 镜头 安装 在 CCD 前面 不 改变 工作距离 扩 
大视野 范围 F 值 下降 分辨率 对比度 下降 聚焦 会 
有些 不准 四十二 前 变倍 镜头 安装 在 镜头 前面 
工作距离 会 变化 亮度 不变 扩 大视野 范围 如果 把 
工业 相机 比喻 为人 的 眼睛 工业 镜头 就 好比 
是 眼球 它 直接 关系 到 监看 物体 的 远近 
范围 和 效果 工业 镜头 的 选用 应 考虑 一下 
几点 1 工业 镜头 尺寸 应 等于 或 大于 工业 
相机 成像 面 尺寸 例如 1/3 ″ 工业 相机 可选 
1/3 ″ 1 ″ 整个 范围内 的 工业 镜头 但 
水平 视角 的 大小 都是/nr 一样 的 只是 使用 大于 
1/3 ″ 的 工业 镜头 能够 更多 地 利用 成形 
更 精确 了 工业 镜头 中心 光路 所以 可 提高 
图像 质量 和 分辨率 2 选用 合适 的 工业 镜头 
焦距 焦距 越大 监看 距离 越远 水平 视角 越小 监视 
范围 越窄/nr 焦距 越小 监看 距离 越近/nr 水平 视角 越大 
监视 范围 越宽/nr 工业 镜头 焦距 可 按照 以下 公式 
估算 f = A × L / H f 镜头 
焦距 A 摄像机 CCD 垂 向 尺寸 L 被 摄 
物体 到 镜头 距离 H 被 摄 物体 高度 格式 
1 英寸 2/3 英寸 1/2 英寸 1/3 英寸 1/4 英寸 
CCD 垂 向 尺寸 9.6 ㎜ 6.6 ㎜ 4.8 ㎜ 
3.6 ㎜ 2.7 ㎜ 3 考虑 环境 光线 的 变化 
光线 对 图像 的 采集 效果 起着 十分 重要 的 
作用 一般来说 对于 光线 变化 不 明显 的 环境 常 
选用 手动 光圈 镜头 将 光圈 手 调到 一个 比较 
理想 的 数值 后就/nr 可不 动了 如果 光线 变化 较大 
如 室外 24 小时 监看 应选 用 自动 光圈 能够 
根据 光线 的 明暗 变化 自动 调节 光圈值 的 大小 
保证 图像质量 但 需 注意 的 是 如果 光线 照度 
不均匀 特别 是 监视 目标 与 背景光 反差 较大 时 
采用 自动 光圈 镜头 效果 不 理想 4 考虑 最佳 
监看 范围 因为 工业 镜头 焦距 和 水平 视角 成反比 
因此 既想 看得远 又想 看得 宽阔 和 清晰 这是 无法 
同时 实现 的 每个 焦距 的 镜头 都 只能 在 
一定 范围 内 达到 最佳 的 监看 效果 所以 如果 
监看 的 距离 较远 且 范围 较大 最好 是 增加 
摄像机 的 数量 或 采用 电动 变焦镜头 配合 云台 安装 
5 工业 镜头 接口 与 工业 相机 接口 要 一致 
现在 的 工业 相机 和 工业 镜头 通常 都是 CS 
型 接口 CS 型 摄像机 可以 和 CS 型 C 
型 镜头 配 接 但 和C型/nr 镜头 接 配 时 
必须 在 工业 镜头 和 工业 相机 之间 加 接 
配 环 否则 可能 碰坏 CCD 成像 面的 保护 玻璃 
造成 CCD 工业 相机 的 损坏 C 型 工业 相机 
不能 和 CS 型 工业 镜头 配 接 近年来 利用 
影像 量 测 物品 尺寸 已经 成为 行业 发展 的 
趋势 由于 相机 影像 软件 及 照明 组件 等 设备 
的 进步 让 影像 量 测 物品 尺寸 的 精准 
度 能 媲美 或 更 胜于 手动 或 雷射 光 
的 量 测 整合 光学系统 工程 的 应用 我们 可 
发现 光学 产品 的 优劣 决定 了 系统 的 品质 
而 远 心 镜头 能 执行 各种 形式 的 光学 
量 测 软件 工程 需要 具 高分辨率 高/a 对比性/l 和低/nr 
几何/r 变形/n 特性/n 的/uj 拍摄/v 影像/vn 来/v 判断/v 出/v 精准/n 
的/uj 量/n 测数据/n 除了 光学 设备 本身 的 要求 视角 
的 选择 也 具 相当 的 重要性 在 不 适当 
的 观测 点下 量 测 物体 会 造成 物体 拍摄 
影像 的 扭曲 除了 影像处理 过程 中 会 造成 的 
干扰 系统 设计 者 也 同时 将 光学 配备 本身 
会 影响 光学 量 测 精准性 的 几个 限制 纳入 
考虑 1 ． 由于 物体 摆放 位置 而 造成 的 
不正常 放大 2 ． 影像 的 变形 3 ． 视角 
选择 而 造成 的 误差 4 ． 低 影像 分辨率 
5 ． 不适当 光源 干扰 下 造成 边界 的 不确定性 
远 心 镜头 能 有效 降低 甚至 消除 以上 的 
问题 因此 远 心 镜头 也 成为 精密 光学 量 
测系统 决定性 的 因素 图一 不同 镜头 的 光学 原理 
接下来 我们 简要 的 介绍 远 心 镜头 是 如何 
有效 降低 噪声 及 变形 等 问题 一 放大 倍率 
的 一致性 光学 量 测系统 通常会 自 物体 正上方 拍摄 
不 纪录 物体 侧面 以 测量 其 直径 或 直线 
距离 由于 许多 机械 零组件 无法 精准 定位 或 具有 
高度 差 或 厚度 等 问题 工程师 需要 可靠 光学 
量 测系统 来 判定 影像 与 物体 的 实际 间距 
左上 图为 利用 远 心 镜头 拍摄 圆柱形 零件 上 
的 齿条 左 下图 为 利用 普通 镜头 拍摄 同样 
对象 的 影像 右上图 为 两个 同样 对象 置于 相距 
100 mm 下 利用 远 心 镜头 拍 的 影像 
右 下图 为 同样 情形 下 利用 普通 镜头 捕捉 
的 影像 左图 在 一般 标准 镜头 下 物体 的 
影像 大小 会 因为 与 镜头 的 距离 标记 为 
s 不同 而 改变 同样 的 不同 大小 的 对象 
可能 会受 距离 的 影响 而 看起来 相同 反观 远 
心 镜头 能 容许 一定 程度 的 距离 改变 在 
＂ 限定 景深 ＂ 或 ＂ 远 心 度 区间 
＂ 内 影像 不会 因 物体 与 镜头 间 距离 
的 改变 而 放大 或 缩小 此 特性 是 由于 
在 光学系统 中 只有 与 光轴 平行 的 光束 会被 
接收 因此 远 心 镜头 必须 大于 或 等于 被 
摄 物体 的 直径 Telecentric 这个 单字 是 来自 于 
希腊 前缀 tele 遥远 以及 字根 center 中心 在此 代表 
着 光学系统 的 轴心 代表 此 光学系统 的 入射 光线 
在 通过 远 心 镜头 时是与/nr 镜头 的 中央 轴心 
平行 而 成像 点 会在 远 心 镜头 的 焦点 
平面 上 左图 在 远 心 系统 内 唯有 与 
轴心 平行 或 接近 平行 的 光束 会被 接受 在此 
我们 举 个 简单 的 例子 来 说明 两种 光学系统 
的 差异性 首先 我们 使用 一个 焦距 为 12 毫米 
的 标准 镜头 f = 12 mm 及 以 1/3 
吋 的 侦测器 为 接口 来 测定 放置 于 200 
毫米 s = 200 mm 外 的 20 毫米 H 
= 20 mm 对象 当 对象 位移 1 毫米 ds 
= 1mm 时 其 成像 大 小将 会有 约略 0.1 
毫米 的 差异 如 以下 公式 dH = ds / 
s   x H = 1/200 x 20 mm = 
0 1 mm 在 telecentric 光学系统 下 成像 的 大小 
的 变化 取决于 telecentric 曲线 一个 高 品质 远 心 
镜头 的 曲线 角度 theta 能趋/nr 近于 0.1 ° 0 
0017 rad 代表 当 物体 同样 移动 1 毫米 ds 
= 1mm 时 其 成像 将 只 会有 0.0017 毫米 
的 改变 dH = ds   x theta = 1 
  x 0 0017 mm = 0 0017 mm 因此 
相较 于 标准 镜头 远 心 镜头 能将 放大 倍率 
的 误差 缩小 至 1/10 或 甚至 1/100 上图 远 
心 曲线 决定了 物体 被 移动 时 成像 改变 的 
倍率 Telecentric range 或是 telecentric depth 代表 在 维持 放大 
倍率 下 能 摆设 物体 的 范围 然而 当 物体 
不在 telecentric range 中 并不 代表 镜头 功能 就 不具 
远 心 的 特性 影像 的 变异 程度 主要 是 
由 镜头 的 远 心 曲线 由 前文 的 theta 
所定 出来 的 或 远 心 度 所 决定 这个 
曲线 决定了 物体 在 移动 时 造成 的 影像 误差 
大小 然而 当 主要 入射 光束 与 光轴 平行 时 
成像 的 大小 就 不会 因 物体 置放 的 距离 
而 影响 由于 远 心 镜头 必须 接收 与 光轴 
平行 的 入射 光源 远 心 镜头 的 尺寸 必须 
比 拍摄 物体 还大 因此 远 心 镜头 会比 一般 
镜头 大 且 厚重 成本 也 比 一般 镜头 高 
二 低 失真度 Distortion 影像 的 变形 是 限制 光学 
量 测 准确性 的 重要 因素 之一 再好 的 镜头 
都 还是 无法 避免 然而 有 时候 一 或 数个 
像素 的 错误 可能 具 决定性 的 影响 失真度 也 
可以 说 是 影像 与 实际 画面 的 差异 度 
失真度 是 利用 影像 点 与 影像 中心 位置 的 
距离 和在/nr 标准 影像 未 失真 影像 的 实际 距离 
之间 的 差异 来 计算 举例来说 一个 与 画面 中心 
距离 200 像素 的 标的 在 影像 画面 中 只有 
和 中心点 间隔 198个 像素 其 失真度 则为 distortion = 
198 200 / 200 = 2/200 = 1% 正向 放射性 
失真 Positive radial distortion 也 被 称为 pincushion 性 失真 
负向 放射性 失真 negative radial distortion 可被 另 称为 barrel 
distortion 此类/r 的/uj 变形/n 和/c 影像/vn 中心/n 的/uj 距离/n 大小/b 
有/v 绝对/d 的/uj 关联性/n pincushion type distortion barrel type distortion 
影像 的 失真 可被 视作 真实 画面 经过 二维 几何 
性 变形 的 结果 由于 通常 不是 线性 改变 而是 
二 或 三度 的 多项式 的 变形 影像 会被 些许 
的 拉扯 及 扭曲 一般 的 镜头 具有 数度 或 
数十 度 的 失真度 不过 由于 大 部分 的 影像 
镜头 是 用在 一般 监测 系统 或 普通 摄影 中 
些许 的 影像 失 真是 能被 容许 的 但 此 
瑕疵 让 精密 影像 测 量变 的 困难 高品质 的 
远 心 镜头 只 具有 低于 0.1% 失真度 的 特性 
虽然 这个 数次 听起来 很小 但在 高 分辨率 的 摄影 
机下 仍能 造成 将近 一个 像素 的 误差 因此 许多 
失真 的 影像 会 利用 软件 做 校正 将校 正用 
图样 此 图样 的 精密度 必须 比 置于 镜头 下方 
拍摄 之后 利用软件 计算 影像 校正 公式 将 失真 影像 
做 校正 由于/c 影像/vn 的/uj 失真/v 程度/n 与/p 物体/n 和/c 
镜头/n 的/uj 距离/n 有/v 极高/i 的/uj 关联性/n 因此 必须 格外 
留意 物体 在被 摄影 时与 镜头 的 距离 除了 与 
远 心 镜头 的 距离 以外 物体 和远心/nr 镜头 之间 
必须 尽量 保持 垂直 以 避免 non axially symmetric distortion 
effects 所谓 的 梯形 性 失真 或称 Keystone or thin 
prism effect 是 另一个 影像 测量 系统 中 必须 克服 
的 问题 如果 拍摄 物体 没有 被 放置 于 中心点 
此类 的 影像 通常 据 非 对称性 也 很难 利用软件 
校正 左图 为 一张 使用 远 心 镜头 所 拍摄 
的 不 失真 影像 中 图为 同 一个 画面 但 
具 放射性 变形 的 影像 右 图为 同 一个 画面 
但 具有 梯形 性 失真 的 影像 三 视角 误差 
使用 一般 光学 镜头 拍摄 非 平面 物体 时 物体 
的 大小 会 因为 距离 而 改变 因此 拍摄 管 
柱形 物体 时 管柱 顶端 与 底端 会成 被 拍摄 
成像 为 同心圆 而非 同样 的 双圆 而在 远 心 
镜头 下 圆柱 底端 则 会与 柱顶 的 圆 完全 
重叠 左图 为 一般 镜头 下 常见 的 视角 误差 
右图 由远 心 镜头 所 拍摄 的 影像 能不 会 
出现 此 问题 这个 现象 是 因为 光束 路径 的 
特殊性 而 造成 的 在 一般 光学 镜头 下 没有 
与 光轴 平行 的 纵向 光束 会在 感 光源 件 
上 投 射成 平行 距离 然而 只 些 接收 平行光束 
的 远 心 镜头 则 不会 有 同样 的 问题 
一般 镜头 通常 会将 3D 物体 的 立体影像 包括 空间 
距离 转换成 2D 影像 而 远 心 镜头 只会 纪录 
2D 平面 影像 而 不受 物体 的 立体 距离 影响 
这个 特性 在 影像 量 测系统 中 具有 极大 的 
优势 一般 镜头 会将 光束 镜头 左边 的 纵向 距离 
投 射成 平行 影像 而 远 心 镜头 不会 有 
这种 情形 四 高 影像 分辨率 影像 的 分辨率 是 
利用 CTF contrast transfer function 将 影像 的 对比 清晰度 
量化 使用 不同 分辨率 镜头 拍摄 USAF test pattern 的 
结果 左图 高分辨率 影像 右图 低分辨率 影像 很多 影像 系统 
是 利用 多个 低 画 素 相机 搭配 低分辨率 的 
便宜 镜头 因而 只得到 非常 模糊 的 影像 而/c 远/a 
心/n 镜头/n 的/uj 高分辨率/n 让/v 它/r 能/v 搭配/v 低/a 像素/n 
高/a 分辨率/n 的/uj 相机/d 而/c 依然/d 得到/v 良好/a 的/uj 影像/vn 
品质/n 五 锐利 的 边缘 影像 影像 拍摄 时 背景 
光线 常常 会 让 物体 的 轮廓 变 的 难以 
界定 border effects 主要 是 因为 背景 的 强光 会与 
物体 边缘 的 阴影 重叠 除此之外 当 光线 自 不同 
角度 投射 于 物体 上 时 某些 光源 被 物体 
反射 后 仍然 被 镜头 所 接收 如 下图 十一 
所示 这种 光线 常常 会被 误判 来自 物体 背后 造成 
边缘 判 定上 的 误差 因此当 物体 具有 高度 立体 
特性 时 容易 会 出现 误差 在 一般 镜头 下 
常见 的 Border effects 能在 远 心 镜头 下 有 
明显 的 改善 这个 问题 在 远 心 镜头 下 
能被 明显 的 改善 当 光圈 缩 的 够 小时 
只有 与 光轴 平行 的 光束 能 通过 镜头 因此 
被 物体 反射 的 光线 就 不会 被 接收 影像 
的 精准性 也就 能 明显 提升 如果 想要 更进一步 的 
提升 影像 的 品质 可利用 collimated 或称 telecentric 照明设备 搭配 
远 心 镜头 在 这种 配备 能让 相机 与 光源 
互相配合 让 所有 自 collimated 光源 发出 的 光 都能 
是 被 镜头 所 接收 的 平行光束 让/v 噪声/n 与/p 
曝光/nz 时间/n 都能/nr 大幅/d 的/uj 降低/v 除此之外 边缘 定位 的 
问题 也因 光源 的 控制 而 有 明显 的 改善 
Collimated telecentric 光源 设备 只 提供 与 光轴 接近 平行 
的 光束 一 对 工业 镜头 的 选择 我们 首先 
必须 确定 客户 需求 • 1 视野 范围 光学 放大倍数 
及 期望 的 工作 距离 在 选择 工业 镜头 时 
会 选择 比 被 测 物体 视野 稍大 一点 的 
工业 镜头 以 有利于 运动控制 • 2 景深 要求 对于 
对 景深 有 要求 的 项目 尽可能 使用 小 的 
光圈 在 选择 放大 倍率 的 工业 镜头 时 在 
项目 许可 下 尽可能 选用 低 倍率 工业 镜头 如果 
项目 要求 比较 苛刻 时 倾向 选择 高 景深 的 
尖端 工业 镜头 • 3 芯片 大小 和 相机 接口 
例如 2/3 工业 镜头 支持 最大 的 工业 相机 耙 
面为 2/3 它 是 不能 支持 1 英寸 以上 的 
工业 相机 • 4 注意 与 光源 的 配合 选配 
合适 的 工业 镜头 • 5 可 安装 空间 在 
方案 可选择 情况下 让 客户 更改 设备 尺寸 是 不 
现实 的 二 典型 案例 齿轮 项目 • 1 该 
项目 的 基本 要求 是 检测 齿轮 滚轴 的 安装 
质量 缺失 和 滚轴 的 直径 公差 200 微米 在线 
检测 速度 为 2个 / 秒 • 2 相机 的 
选择 客户 需求 200um 根据 精度 = FOV / Resolution 
测量 齿轮 实际 大小             
为 48mm 加 上边缘 宽度 以 60mm 作为 FOV H 
以此 数据 算 的 相机 Resolution = FOV H / 
精度 = 60 / 0.2 = 300 故 选择 640 
* 480 分辨率 曝光 时间 至少 1/2 的 工业 相机 
• 3 工业 镜头 的 选择 由于 这个 项目 上 
对 检测 环境 没有 特殊 要求 人为 设定 WD = 
200mm CCD   Size 根据 相机 参数 1/4 对角线 长度 
乘 16 转换 为 4mm 再 根据 4 3 的 
比例 勾股定理 算出 水平 的 直角 边为3/nr . 2mm 根据 
Focus level / WD = CCD Size / FOVf = 
CCD Size * WD / FOV = 3.2 * 200/60 
= 10 . 6mm 故 选择 12mm 定 焦可/nr 满足 
需求 综上所述 选择 640 * 480 分辨率 曝光 时间 为 
1/10000 到 30 的 工业 相机 12mm 定 焦 CCTV 
镜头 品牌 产地 镜头 类型 施耐德 Schneider 德 国定 焦 
远 心 卡尔蔡司 Zeiss 德 国定 焦 远 心 μ 
Tron 日本 定 焦 定 倍 远 心 连续 变倍 
Moritex 日本 定 焦 定 倍 远 心 连续/a 变倍/nz 
SPACECOM/w 日本/ns 百万/m 像素/n 定/v 焦/a COMPUTAR/w 日本/ns 百万/m 像素/n 
定/v 焦/a 宾得/nr PENTAX/w 日本/ns 百万/m 像素/n 定/v 焦/a 腾龙/ns 
TAMRON/w 日本/ns 百万/m 像素/n 定/v 焦/a 精工/n 日本/ns 百万/m 像素/n 
定/v 焦/a VST/w 日本/ns 定/v 焦/a 定 倍 远 心 
连续 变倍 KOWA 日本 百万 像素 定 焦视清/nr VICO 日本 
远 心 定 倍 定 焦 百万 像素 定 焦1/nr 
远 心 镜头 运用 目的 远 心 镜 头目 的 
就是 消除 由于 被 测 物体 或 CCD 芯片 离 
镜头 距离 的 远近 不一致 造成 放大 倍率 不一样 分为 
物 方远 心 镜头 像 方远 心 镜头 和 双侧 
远 心 镜头 物 方远 心 镜头 通过 在 像 
方 焦平面 上 放置 孔径光阑 使 物 方主/nr 光线 平行 
于光轴 从而 虽然 物 距 改变 但 成像 位置 不变 
像 方远 心 镜头 通过 在 物 方 焦平面 上 
放置 孔径光阑 使 像 方主/nr 光线 平行 于光轴 从而 虽然 
CCD 芯片 的 安装 位置 有 改变 在 CCD 芯片 
上 投影 成像 大小 不变 双侧 远 心 镜头 则是 
兼有 以上 两种 特点 但 结构 相对 复杂 Q 远 
心 镜头 为何 价格 高 有何 优点 A   远 
心 镜头 的 设计 是 采 Telecentric 原理 低 失真 
无 视角 误差 较 适合 工业 上 量 测 应用 
所以 价位 较 一般 CCTV 镜头 高 远 心 镜头 
另有 同轴 镜头 设计 提供 不同 工作距离 不同 放大 倍率 
供选择 Q   远 心 镜头 为何 低 倍率 镜头 
价格 反而 高 A 因为 Telecentric 镜头 为了 要 减少 
失真 让 平行 光 进入 所以 镜头 设计 必须 比 
被 照 体大 所以 低 倍率 镜头 通常 口径 都 
很大 所需 的 镜片 材料 成本 较高 所以 价格 较高 
Q 同轴 光 镜头 打 同轴 光 时 中间 亮度 
较 亮 旁边 整 暗 是 何原因 如何 补救 A 
因为 同轴 光 镜头 的 投射 光线 集中于 中心 5 
~ 6 ㎜ 左右 如果 看 的 范围 较大 边缘 
附近 光线 较 暗 这是 低 倍率 同轴 光 镜头 
常有 的 现象 可以 外加 环形 光源 来 补足 光线 
不够 地方 Q   远 心 镜头 可否 搭配 CCTV 
用 的 2倍 镜 使用 A 可以 但是 影像 质量 
变差 所需 光强度 更强 不 建议 使用 Q   远 
心 镜头 规格 上 标示 镜头 分解 能 解析力 是 
代表 什么意思 A 镜头 解析力 的 定义 是 镜头 能 
看清楚 最小 物体 边缘 的 能力 如果 低于 此 分解 
能 就 无法 看 清楚 了 须 另外 找 解析力 
更高 的 镜头 如 高倍 显微 物镜 Q   远 
心 镜头 景深 为何 不能 很长 A   远 心 
镜头 设计 时即/nr 考虑到 景深 倍率 光圈 工作距离 等 参数 
取得 最佳 点 所以 景深 均为 固定 的 数值 如要 
增长 景深 而 牺牲 别的 参数 会 影响 镜头 质量 
Q 如果 要 看到 1 μ m 的 物体 可用 
何种 镜头 A 要看到 小于 1 μ m 以下 物体 
必须 用 高倍 显微 物镜 但 工作距离 变得 很小 约 
7 ㎜ 景深 变得 很浅 了 Q 用 远 心 
镜头 所 放大 的 影像 到底 是 多少 倍 A 
影像 实 总 际 放大 倍率 是 等于 镜头 光学 
倍率 × Monitor 放大 倍率 Monitor 放大 倍率 是 Monitor 
对角线 除 上 CCD Sensor 对角线 1/3 〞 CCD Sensor 
投射 到 14 吋 Monitor 是 59.3倍 Q   远 
心 镜头 除了 C mount 之外 可否 提供 其它 mount 
选择 A 除了 C mount 之外 还有 直径 φ 17 
㎜ 及 直径 φ 12 ㎜ 二种 mount 供选择 这些 
mount 是 针对 笔 型 CCD 专用 的 镜头 三 
像/v 方远/i 心/n 光路/n 原理/n 及/c 作用/v 像/v 方主/nr 光线/n 
平行/n 于光轴/nr 主/b 光线/n 的/uj 会聚/v 中心/n 位于/v 物/zg 方/n 
无限/v 远/a 称之为 像 方远 心 光路 作用 可以 消除 
像 方 调焦 不准 引入 的 测量误差 用途 大地 测量 
仪器 四 双侧 远 心 光路 原理 及 作用 综合 
了 物 方/像/nr 方远 心 的 双重 作用 主要 用于 
视觉 测量 检测 领域 优势 1 大 景深 2 景深 
范围 内 物像 倍率 不变 3 低 畸变 通常 1% 
全幅 画面 4 垂直 成像 时 无 投影 现象 劣势 
1 体积 大 重量 沉 由于 平行 光路 入射 镜头 
的 口径 要 大于 被 摄 物体 2 焦距 固定 
变焦 困难 3 工作距离 相对 较短 4 光阑 小 需要 
更强 的 照明 在 设计 工业 机器 视觉 系统 时 
使用 工业 数字相机 还是 工业 模拟 相机 是 最重要 的 
决定 之一 二者 各 有其 优缺点 但 归根结底 要 根据 
成本 和 一些 关键 操作 因素 来 选择 如果 考虑 
了 这些 因素 哪 一项 技术 更 有优势 就会 明朗 
化了 机器 视觉 基础 机器 视觉 被 应用于 自动 质量检验 
工艺 控制 参数 测量 和 自动 组装 等等 许多 领域 
在 这些 系统 中 相机 是 决定 着 成本 速度 
和 精度 的 关键 组件 工业/n 模拟/v 相机/d 和/c 工业/n 
数字相机/n 都/d 可以/c 用/p 在/p 这些/r 系统/n 中/f 而 了解 
工业 相机 的 性能 规格 及其 在 各种 视觉 任务 
中 的 重要性 对于 把 机器 视觉 付诸 工业 控制 
是 最 基本 的 一步 机器 视觉 系统 包括 三 
个 主要 部分 工业 相机 采集卡 和 存储 并 分析 
图像 以 提取 信息 的 计算机 或 图像 处理器 图像 
处理器 和 采集卡 属于 相对 容易 选择 的 电子 装置 
它们 的 主要 参数 是 存储 能力 和 处理 速度 
工业 相机 是 这些 系统 中 情况 最为 复杂 的 
部分 现代 的 工业 模拟 相机 和 工业 数字相机 采用 
电荷耦合 器件 CCD 或 互补 金属 氧化物 半导体 CMOS 芯片 
来 捕获 图像 并 生成 电子 信号 发送 给 计算机 
进行 处理 CCD 和 CMOS 成像 器 由 一系列 方形 
光电池 组成 它们 将 收集 到 的 光子 转化 为 
电子 并将 生成 的 电荷 积蓄 起来 在 CCD 中 
当 从芯/nr 片中 每次 读取 一个 像素 时 电荷 被 
转换 成 电压 而在 CMOS 中 每个 光敏 器件 旁边 
的 电路 将 光能 转化成 电压 二者 在 图像 质量 
上 没有 明显 的 优劣 之分 基于 CMOS 的 工业 
相机 需要 的 部件 较少 电耗 较低 提供 数据 的 
速度 也比 基于 CCD 的 相机 快 但 CCD 则是 
更为 成熟 的 技术 能够 以 较低 的 噪声 提供 
质量 更好 的 图像 而 弱点 是 数据 传输 速度 
较慢 不太 灵活 部件 较多 和 电耗 较高 信号/n 精度/n 
CCD/w 和/c CMOS/w 芯片/n 在/p 内部/f 都/d 生成/v 模拟信号/n 因此 
模拟 相机 和 数字相机 之间 的 主要 区别 在于 图像 
是 在哪里 被 数字化 的 数字相机 在 相机 里 将 
信号 数字化 并且 通过 串行 总线接口 比如 FireWire USB Camera 
Link Gigabit Ethernet 将 信号 以 数字 方式 传 输给 
计算机 或 图像 处理器 而在 另一方面 模拟 相机 系统 并 
不是 在 其 内部 将 图像 信号 数字化 数字化 是由 
计算机 完成 的 所以 模拟 信息 是 通过 同轴电缆 而 
进行 传输 的 尽管 两种 方法 都 能够 有效 地 
传输 信号 但 模拟信号 可能 会 由于 工厂 内 其他 
设备 比如 电动机 或 高压 电缆 的 电磁 干扰 而 
造成 失真 随着 噪声 水平 的 提高 模拟 相机 的 
动态 范围 原始 信号 与 噪声 之比 会 降低 动态/n 
范围/n 决定了/i 有/v 多少/m 信息/n 能够/v 被/p 从/p 相机/d 传/n 
输给/v 计算机/n 数字 信号 不 受电 噪声 影响 因此 数字相机 
的 动态 范围 更高 能够 向 计算机 传输 更 精确 
的 信号 数字相机 的 典型 动态 范围 在 55 分贝 
到 60 分贝 之间 而 模拟 相机 则为 45 分贝 
到 50 分贝 左右 所用 电缆 的 长度 和 类型 
也 影响 着 信号 的 精度 模拟 相机 的 电缆 
简单 而且 便宜 在 电 噪声 导致 信号 严重 失真 
之前 能够 将 信号 可靠地 300米 以上 由于 数字相机 传输 
的 是 高带宽 信号 电缆 的 长度 受 电缆 中 
信号 良师 衰减 损失 水平 的 限制 根据 使用 的 
通信 协议 的 不同 电缆 的 典型 长度 如下   
      FireWire             
            大约 10米 到 20米 
        USB           
                    
          大约 10米 到 20米   
      Camera Link           
                大约 10米 
现在 市场 上 有了 采用 千 兆位 以太网 标准 电缆 
的 新系统 这些 电缆 能够 将 数字 图像 数据 传输 
100 米左右 而 不发生 损失 分辨率 和 捕获 速度 分辨率 
是 描述 相机 性能 的 重要 参数 之一 它 包括 
两个 方面         阵 列中 传感 单元 
或称 像素 的 数量         每个 传感 
单元 的 大小 模拟 相机 通常 是 基于 视频 图形 
阵列 VGA 成像 格式 分辨率 被 限制 在 大约 640 
× 480 像素 这 只是 机器 视觉 系统 要求 的 
下限 而在 另一方面 数字相机 能够 达到 80兆 像素 甚至 更高 
模拟 相机 和 数字相机 典型 的 像素 大小 在 3 
微米 到 20 微米 范围内 第二 个 重要 参数 是 
帧 速 或者说 相机 连续 提供 图像 的 速度 帧 
速 越高 在给 定 时间 内 能够 完成 的 检验 
测量 或 识别 工作 就 越多 像素数 和帧速/nr 之间 存在 
着 相互 影响 所以 相机 的 像素 数 越多 其 
帧 速 越低 但是 这 并非 是 一成不变 的 规则 
因为 尺寸 越小 的 半导体 转换 速度 通常 就 越快 
所以 像素数 相同 的 两台 相机 可能 具有 差别 很大 
的 帧 速 640 × 480 像素 模拟 相机 的 
典型 帧 速 为 每秒 30 帧 而 分辨率 为 
2兆 像素 1600 × 1200 像素 的 数字 相机 能够 
达到 相同 的 帧 速 16兆 像素 的 数字相机 帧 
速 约为 每秒 3 帧 另外 相机 传感器 可 采用 
多 端口 设计 将 图像 分解成 片段 以 同时 读出 
还 可以 在 软件 的 控制 下 只 读取 图像 
中 感兴趣 的 部位 而 不是 读取 全部 传感器 阵列 
同样 能够 缩短 传输 时间 其他 因素 除了 分辨率 和帧速/nr 
其他 重要 的 设计 因素 还 包括 动态 范围 和 
灵敏度 动态 范围 或 图像 每个 像素 的 字节数 决定 
着 采集卡 需要 的 存储 容量 以及 图像 处理器 需要 
的 算法 精度 它 也 影响 着 传感器 的 曝光 
宽容度 每 像素 只有 几个 字节 的 相机 将 无法 
像 字节数 更高 的 相机 那样 满足 很宽 的 照明 
条件 范围 一般来说 数字相机 的 动态 范围 指标 更 好一些 
因为 它们 的 抗 噪声 性能 更好 传感器 灵敏度 也 
决定 着 可靠 地 使用 相机 所 需要 的 照明 
条件 在 光线 不好 或者 为 防止 运动 图像 模糊 
而 提高 快门 速度 的 情况 下 要求 相机 具有 
更高 的 灵敏度 同 波长 有关 的 相机 灵敏度 也许 
非常重要 根据 应用 的 不同 可能 需要 采用 发 光二极管 
甚至 红外 或 紫外 照明 相机 的 波长 灵敏度 也 
应当 匹配 最后 相机 生成 彩色 或者 单色 图像 的 
能力 也 十分 重要 关于 总 成本 的 考虑 各个 
设计 参数 共同 影响 着 相机 的 成本 典型 情况 
下 由于 传感器 尺寸 的 原因 像素数 越高 的 相机 
就越 昂贵 与此 类似 在 一定 的 分辨率 下 帧 
速 提高 成本 也 趋向于 增加 同时 提高 帧 速 
和 分辨率 通常 要求 相机 具有 多 端口 读出 这使 
系统 的 复杂 程度 增加 因而 提高 了 成本 从 
上世纪 七十 年代 起 许多/m 供应商/n 都/d 开始/v 提供/v 基于/p 
CCD/w 和/c CMOS/w 技术/n 的/uj 模拟/v 相机/d 典型 的 价位 
在 200 美元 左右 模拟 相机 采集卡 的 价位 也在 
200 美元 左右 相比之下 数字相机 的 价位 在 1 000 
美元 到 20 000 美元 范围内 大幅度 变化 数字相机 采集卡 
的 价位 在 1 000 美元 到 2 000 美元 
之间 但是 随着 数字相机 和 采集卡 变得 越来越 普及 它们 
的 价位 也 在 逐渐 降低 在对 成本 进行 比较 
时 设备 的 价格 还 只是 问题 的 一个 方面 
设计 人员 还 必须 考虑 软件 硬件 安装 维护 和 
升级 等 方面 的 成本 还有 给定 的 相机 技术 
是否 能够 达到 要求 的 性能 完成 特定 任务 所 
需要 的 工业 相机 数量 在 安装 成本 中 占到 
了 一定 比例 举例来说 从1/nr 毫米 见方 的 检验 区域 
中 解析 出 1 微米 见方 的 片段 可能 需要 
用到 5台 模拟 相机 和 采集卡 而 这些 制备 必须 
保持 同步 以 获得 清晰 的 图像 只 使用 1台 
百万 像素 的 工业 数字相机 和 采集卡 就 可以 解析 
同样 大小 的 区域 而且 无需 在 计算机 中 同步 
处理 多幅 图像 例如 一家 汽车 制造商 的 保险杠 检验 
系统 需要 12台 模拟 相机 12片 采集卡 12套 软件 和 
3台 计算机 公司 发现 就算 可能 使 所有 相机 的 
图像 同步化 以 获得 一幅 保险杠 的 可靠 图像 也 
是 难度 相当大 的 用 1台 百万 像素 的 数字相机 
1片 采集卡 和 1台 计算机 取代 了 这个 相机 阵列 
后 系统/n 的/uj 安装/v 和/c 维护/v 都/d 变得/v 十分/m 简单/a 
和/c 方便/a 一般来说 典型 的 数字 相机 需要 更长 的 
时间 进行 安装 和 设定 但 对于 前述 应用 实例 
而言 需要 的 数字 相 机数量 大为 减少 因此 维护 
成本 也 将 大幅度 降低 另外 数字相机/n 的/uj 功能性/n 和/c 
灵活性/n 都/d 更强/i 能够 快速 重新 编程 在 系统 运行 
过程 中 即可 进行 现场 固件 升级 而 相比之下 模拟 
相机 则 必须 被 送回 制造厂 才能 进行 性能 升级 
最后 一项 成本 因素 是 功率 消耗 典型 的 模拟 
相机 需要 5瓦 到 10瓦 操作 功率 而 分辨率 指标 
相当 的 数字 相机 则 不到 1瓦 应用 要求 对于 
一 项 应用 选择 什么样 的 工业 相机 合适 取决于 
机器 视觉 系统 想 要 达到 什么 目标 视觉 检验 
非 接触 式 测量 物体 识别 和 定位 是 三个 
常见 的 应用 每/zg 一个/m 都有/nr 不同/a 的/uj 要求/v 典型 
的 检验 系统 将 图像 同 模板 或者 已知 合格品 
图像 进行 对比 以 检查 偏差 高 质量 的 图像 
一般 需要 用 图像 处理器 来 进行 可靠 的 对比 
这 意味着 工业/n 相机/d 必须/d 同时/c 具有/v 高/a 分辨率/n 和每/nr 
像素/n 足够/v 的/uj 字节数/n 可能 也 需要 彩色 成像 能力 
非 接触 式 测量 计算 一个 物体 占据 的 像素 
数量 并将 计数 结果 转化成 尺寸 数值 这样 的 系统 
可能 需要 高 分辨率 而每 像素 的 字节数 要求 可能 
不必 太高 图像 处理器 通常 只 提取 图像 的 边缘 
或 外形 轮廓 信息 所以 一般 并 没有 很高 的 
动态 范围 和 彩色 能力 要求 物体/n 识别/v 和/c 定位/n 
有/v 各种各样/l 的/uj 要求/v 在 许多 情况 下 图像 处理 
系统 在 图像 中 搜寻 以 识别 出 基准 特征 
需要 的 分辨率 取决于 这些 特征 相 对于 整个 图像 
尺寸 的 大小 识别 系统 可能 会 需要 彩色 成像 
能力 为/p 机器/n 视觉/n 系统/n 选择/v 相/v 机时/n 要/v 认真/ad 
考虑/v 工业/n 相机/d 的/uj 性能/n 和/c 成本/n 虽然 工业 模拟 
相机 远比 工业 数字相机 便宜 但 它们 的 分辨率 和 
图像 质量 较低 所以 可能会 被 局限 在 要求 不 
太高 的 应用 中 数字相机 比 模拟 相机 昂贵 但/c 
它们/r 的/uj 高/a 成本/n 可能/v 值得/v 为/p 要求/v 高/a 速度/n 
高/a 准确度/n 和高/nr 精度/n 的/uj 应用/v 而/c 付出/v 四种 工业 
相机 接口 技术 的 比较 接口技术 G i g E 
F i r e w i r e U B 
C a m e r a Link 标准 类型 C 
o m m e r c i a l C 
o n s u m e r C o n 
s u m e r C o m m e 
r c i a l 连接 方式 点对点 或 LAN 
link Cat 5 TP RJ45 点对点 – 共享 总线 主 
/ 从–/nr 共享 总线 点对点 – MDR 26 pin 带宽 
1000Mb / s 连续 模式 400Mb / s 连续 模式 
12Mb / s USB1 480Mb / s USB2 突发 模式 
2380Mb / s base 7140Mb / s full 连续 模式 
距离 max w / switch max w / fiber 100m 
no switch No LimitNo Limit 4 . 5m72m200m 5m30m 10m 
可连接 设备 数量 U n l i m i t 
e d 6 3 1 2 7 1 P C 
InterfaceGigE NICPCI cardPCI cardPCI Frame grabber1 模拟 相机 & & 
数字相机 模拟 相机 必须 带 数字 采集卡 标准 的 模拟 
相机 分辨率 很低 另外 帧率 也是 固定 的 这个 要 
根据 实际 需求 来 选择 另外 模拟 相机 采集 到 
的 是 模拟 信号 经 数字 采集卡 转换 为 数字 
信号 进行 传输 存储 模拟信号 可能 会 由于 工厂 内 
其他 设备 比如 电动机 或 高压 电缆 的 电磁 干扰 
而 造成 失真 随着 噪声 水平 的 提高 模拟 相机 
的 动态 范围 原始 信号 与 噪声 之比 会 降低 
动态/n 范围/n 决定了/i 有/v 多少/m 信息/n 能够/v 被/p 从/p 相机/d 
传/n 输给/v 计算机/n 数字相机 采集 到 的 是 数字 信号 
数字 信号 不 受电 噪声 影响 因此 数字相机 的 动态 
范围 更高 能够 向 计算机 传输 更 精确 的 信号 
2 相机 分辨率 根据 系统 的 需求 来 选择 相机 
分辨率 的 大小 下面 以 一个 应用 案例 来 分析 
应用 案例 假设 检测 一个 物体 的 表面 划痕 要求 
拍摄 的 物体 大小 为 10 * 8mm 要求 的 
检测 精度 是 0 . 01mm 首先 假设 我们 要 
拍摄 的 视野 范围 在 12 * 10mm 那么 相机 
的 最低 分辨率 应该 选择 在 12 / 0.01 * 
10 / 0.01 = 1200 * 1000 约为 120万 像素 
的 相机 也 就是说 一个 像素 对应 一个 检测 的 
缺陷 的话 那么 最 低分辨率 必须 不 少于 120万 像素 
但 市面 上 常见 的 是 130万 像素 的 相机 
因此 一般而言 是 选用 130万 像素 的 相机 但 实际 
问题 是 如果 一个 像素 对应 一个 缺陷 的话 那么 
这样 的 系统 一定会 极 不稳定 因为 随便 的 一个 
干扰 像素点 都 可能 被 误认为 缺陷 所以 我们 为了 
提高 系统 的 精准 度 和 稳定性 最好 取 缺陷 
的 面积 在 3 到 4个 像素 以上 这样 我们 
选择 的 相机 也 就在 130 万乘 3 以上 即 
最低 不能 少于 300万 像素 通常 采用 300万 像素 的 
相机 为 最佳 我 见过 最多 的 人 抱着 亚 
像素 不放 说 要做到 零点几 的 亚 像素 那么 就 
不用 这么 高 分辨率 的 相机 了 比如 他们 说 
如果 做到 0.1个 像素 就是 一个 缺陷 对应 0.1个 像素 
缺陷 的 大小 是由 像素点 个数 来 计算 的 试问 
0.1个 像素 的 面积 怎么 来 表示 这些 人 以 
亚 像素 来 忽悠 人 往往 说明 了 他们 的 
没有 常识性 换言之 我们 仅仅 是 用来 做 测量用 那么 
采用 亚 像素 算法 130万 像素 的 相机 也 能 
基本 上 满足 需求 但 有时 因为 边缘 清晰度 的 
影响 在 提取 边缘 的 时候 随便 偏移 一个 像素 
那么 精度 就 受到 了 极大 的 影响 故 我们 
选择 300万 的 相机 的话 还 可以 允许 提取 的 
边缘 偏离 3个 像素 左右 这就 很好 的 保证 了 
测量 的 精度 3 CCD & CMOS 如果 要求 拍摄 
的 物体 是 运动 的 要 处理 的 对象 也是 
实时 运动 的 物体 那么 当然 选择 CCD 芯片 的 
相机 为 最适宜 但 有的 厂商 生产 的 CMOS 相机 
如果 采用 帧 曝光 的 方式 的话 也 可以 当作 
CCD 来 使用 的 又 假如 物体 运动 的 速度 
很慢 在 我们 设定 的 相机 曝光 时间 范围 内 
物体 运动 的 距离 很小 换算 成 像素 大小 也 
就在 一两 个 像素 内 那么 选择 CMOS 相机 也 
是 合适 的 因为 在 曝光 时间 内 一两 个 
像素 的 偏差 人眼 根本 看不出来 如果 不是 做 测量用 
的话 但 超过 2个 像素 的 偏差 物体 拍 出来 
的 图像 就有 拖 影 这样 就 不能 选择 CMOS 
相机 了 4 彩色 & 黑白 如果 要 处理 的 
是 与 图像 颜色 有关 那 当然 是 采用 彩色 
相机 否则 建议 你 用 黑白 的 因为 黑白 的 
同样 分辨率 的 相机 精度 比 彩色 高 尤其 是 
在看 图像 边缘 的 时候 黑白 的 效果 更好 5 
帧率 根据 要 检测 的 速度 选择 相机 的 帧率 
一定 要 大于 或 等于 检测 速度 等于 的 情况 
就是 你 处理 图像 的 时间 一定 要 快 一定 
要 在 相机 的 曝光 和 传输 的 时间 内 
完成 6 线 阵 & 面 阵 对于 检测 精度 
要求 很高 面 阵 相机 的 分辨率 达不到 要求 的 
情况 下 当然 线 阵 相机 是 必然 的 一个 
选择 7 传输 接口 根据 传输 的 距离 稳定性 传输 
的 数据 大小 带宽 选择 USB 1394 Camerlink 百兆 / 
千兆 网 接口 的 相机 8 CCD 靶 面 靶 
面 尺寸 的 大小 会 影响 到 镜头 焦距 的 
长短 在 相同 视角 下 靶 面 尺寸 越大 焦距 
越长 在 选择 相 机时 特别 是 对 拍摄 角度 
有 比较 严格 要求 的 时候 CCD 靶 面的 大小 
CCD 与 镜头 的 配合 情况 将 直接影响 视场 角 
的 大小 和 图像 的 清晰度 因此 在 选择 CCD 
尺寸 时 要 结合 镜头 的 焦距 视场 角 一起 
选择 一般而言 选择 CCD 靶 面 要 结合 物理 安装 
的 空间 来 决定 镜头 的 工作 距离 是否 在 
安装 空间 范围内 要求 镜头 的 尺寸 一定 要 大于 
或 等于 相机 的 靶 面 尺寸 9 相机 的 
价格 同样 参数 的 相机 不同 的 厂家 价格 各不相同 
这就 靠 大家 与 厂家 沟通 和 协商 了 一般说来 
如果 你 有量/nr 的话 整体 价格 跟 你 单买 一个 
的 价格 是 差别 很大 的 工业 相机 到 传感器 
对应 放大 倍率 工业 相机 像 幅 传感器 尺寸 对角线 
9 12 13 20 27 1/4 57 . 2x76 . 
2x82 . 6x127x171 . 5 x 1/3 38.1 x 50.7 
x 55.0 x 84.6 x 114.1 x 1/2 28.6 x 
38.1 x 41.3 x 63.5 x 85.7 x 2/3 20 
. 8x27 . 7x30 . 0x46 . 2x62 . 3x1 
14 . 3x22 . 2x23 . 8x31 . 8x42 . 
9x1 .   什么 是 CCD 摄像机 CCD 是 Charge 
Coupled Device 电荷耦合 器件 的 缩写 它 是 一种 半导体 
成像 器件 因而 具有 灵敏度 高 抗 强光 畸 变小 
体积小 寿命长 抗 震动 等 优点 2 . CCD 摄像机 
的 工作 方式 被 摄 物体 的 图像 经过 镜头 
聚焦 至 CCD 芯片 上 CCD 根据 光 的 强弱 
积累 相应 比例 的 电荷 各个 像素 积累 的 电荷 
在 视频 时序 的 控制 下 逐点 外移 经 滤波 
放大 处理 后 形成 视频信号 输出 视频信号 连接 到 监视器 
或 电视机 的 视频 输入端 便 可以 看到 与 原始 
图像 相同 的 视频 图像 3 .   分辨率 的 
选择 评估 摄像机 分辨率 的 指标 是 水平 分辨率 其 
单位 为 线 对 即 成像 后 可以 分辨 的 
黑白 线 对 的 数目 常用 的 黑白 摄像机 的 
分辨率 一般 为 380 600 彩色 为 380 480 其 
数值 越大 成像 越 清晰 一般 的 监视 场合 用 
400线 左右 的 黑白 摄像机 就 可以 满足 要求 而 
对于 医疗 图像 处理 等 特殊 场合 用 600线 的 
摄像机 能 得到 更 清晰 的 图像 4 .   
成像 灵敏度 通常用 最低 环境 照度 要求 来 表明 摄像机 
灵敏度 黑白 摄像机 的 灵敏度 大约 是 0.02 0 . 
5Lux 勒克斯 彩色 摄像机 多在 1Lux 以上 0 . 1Lux 
的 摄像机 用于 普通 的 监视 场合 在 夜间 使用 
或 环境 光线 较弱 时 推荐 使用 0 . 02Lux 
的 摄像机 与 近 红外灯 配合 使用 时 也 必须 
使用 低 照度 的 摄像机 另外 摄像 的 灵敏度 还与 
镜头 有关 0 . 97Lux / F 0.75 相当于 2 
. 5Lux / F 1.2 相当于 3 . 4Lux / 
F 1.5 .   参考 环境 照度 夏日 阳光 下 
100000Lux 阴天 室外   10000Lux 电视台 演播室 1000Lux 距 60W 
台灯 60cm 桌面   300Lux 室内 日光灯 100Lux 黄昏 室内 
  10Lux20cm 处 烛光 10 15Lux 夜间 路灯 0 . 
1Lux6 .   电子 快门 电子 快门 的 时间 在 
1/50 1/100000秒 之间 摄像机 的 电子 快门 一般 设置 为 
自动 电子 快门 方式 可 根据 环境 的 亮 暗 
自动 调节 快门 时间 得到 清晰 的 图像 有些 摄像机 
允许 用户 自行 手动 调节 快门 时间 以 适应 某些 
特殊 应用 场合 7 .   外 同步 与外 触发 
外 同步 是 指 不同 的 视频 设备 之间 用 
同一 同步 信号 来 保证 视频 信号 的 同步 它 
可保证 不同 的 设备 输出 的 视频 信号 具有 相同 
的 帧 行 的 起止 时间 为了实现 外 同步 需要 
给 摄像机 输入 一个 复合 同步 信号 C sync 或 
复合 视频信号 外 同步 并 不能 保证 用户 从 指定 
时刻 得到 完整 的 连续 的 一帧 图像 要 实现 
这种 功能 必须 使用 一些 特殊 的 具有 外 触发 
功能 的 摄像机 8 .   光谱 响应 特性 CCD 
器件 由 硅材料 制成 对 近红外 比较 敏感 光谱 响应 
可 延伸 至 1 . 0um 左右 其 响应 峰值 
为 绿光 550nm 夜间 隐蔽 监视 时 可以 用 近 
红外灯 照明 人眼 看不清 环境 情况 在 监视器 上 却 
可以 清晰 成像 由于 CCD 传感器 表面 有 一层 吸收 
紫外 的 透明 电极 所以 CCD 对 紫外 不 敏感 
彩色 摄像机 的 成像 单元 上有 红 绿 兰 三色 
滤光 条 所以 彩色 摄像机 对 红外 紫外 均不 敏感 
9 . CCD 芯片 的 尺寸 CCD 的 成像 尺寸 
常用 的 有 1/2 1/3 等 成像 尺寸 越小 的 
摄像机 的 体积 可以 做得 更 小些 在 相同 学 
镜头 下 成像 尺寸 越大 视场 角 越大 机器 视觉 
系统 是 指 通过 机器 视觉 产品 即 图像 摄取 
装置 分为 CMOS 摄像头 和 CCD 摄像头 两种 将被 摄取 
目标 转换成 图像 信号 传送 给 专用 的 图像 处理 
系统 根据 像素 分布 和 亮度 颜色 等 信息 转变成 
数字化 信号 图像 系统 对 这些 信号 进行 各种 运 
算来 抽取 目标 的 特征 进而 根据 判别 的 结果 
来 控制 现场 的 设备 动作 在 机器 视觉 系统 
中 包含 独立 的 工业 摄像头 采用 业界 标准 的 
电气 接口 如 火线 IEEE1394 接口 摄像头 USB 接口 摄像头 
或 千兆 以太网 GigE 摄像头 GigE Vision interface 等 机器 
视觉 摄像头 的 典型 应用 可 分为 离线 处理 功能 
的 摄像头 和 在线 处理 功能 的 摄像头 离线 处理 
功能 的 摄像头 可 单独 对 摄像头 供电 并 可 
通过 电气 接口 将 原始 数据 传 送至 主机 视频 
传输 既 可以 是 连续 帧 也 可以 是 单帧/nr 
数据 具体 取决于 应用 的 需要 单帧/nr 捕获 与 视频 
传输 被称作 触发 模式 需要 外部 系统 通常 以 CMOS 
级 向 摄像头 系统 发送 电子 脉冲 摄像头 逻辑 将 
启动 一个 帧 集成 并 通过 电气 接口 将 扫描 
的 数据 发送 至 主机 在 某些 情况下 原始数据 通过 
总线 与 同步 信号 时钟 和 数据 一起 发送给 帧 
接收器 等 终端 数据 采集 系统 帧 接收器 在 存储器 
中 存储 数据 随后 可由 主机 应用 软件 对 数据 
进行 存取 以 处理 和 控制 离线 处理 的 一大 
优势 在于 单靠 一个 主机 就能 满足 摄像头 操控 与 
系统 控制 两者 之需 但是 由于 视频 数据 从 摄像头 
每 帧 传输 存在 一定 的 延迟 因此 这种 处理 
方式 不 适用 于 实时处理 的 应用 比如 器件 生产 
过程 中 传送 带上 的 产品 检查 由于 近来 DSP 
处理器 发展 非常 快 已经 具备 实时 执行 复杂 算法 
的 计算 功能 因此 也 使得 摄像头 的 在线 处理 
成为可能 在线 处理 功能 的 摄像头 包括 感应器 与 DSP 
处理器 二者 可 通过 非 粘接 逻辑 也 可 通过 
某种 粘接 逻辑 连接 DMA 将 感应器 扫描 的 视频 
直接 发送至 DSP 存储器 并 进行 逐 帧 处理 控制 
函数 的 最终 结果 由 处理器 在被 控制 的 系统 
中 直接 启动 或在 主机 上 作为 命令 启动 在线 
处理 功能 的 摄像头 进行 视频 处理 的 优势 在于 
数据处理 可 实时 进行 而且在 火线 USB 或 千兆 以太网 
接口 上 没有 分组 处理 的 负担 可采用 字节 优化 
型 汇编 代码 在 时钟频率 超过 300 MHz 的 DSP 
处理器 上 加快 实时 处理速度 图像 算法 的 实时 处理 
对 检查 应用 至关重要 例如 能够 检查 出 传送带 上 
移动 过快 的 的 器件 一个 帧 图像 的 计算 
完成 并 采取 相应 行动 后 才 可以 继续 向 
系统 传输 下一个 图像 帧 在 实际 应用 中 应 
依据 具体 的 应用 环境 来 选择 摄像头 不管 是 
离线 处理 功能 的 摄像头 还是 在线 处理 功能 的 
摄像头 都 具有 各自 的 技术 特点 选择 合适 合理 
的 摄像头 才能 更好 的 体现 出 机器 视觉 系统 
的 优越性 CMOS Complementary Metal Oxide Semiconductor 是 互补式 金属 
氧化物 半导体 的 英文 缩写 它/r 将/d NMOS/w 和/c PMOS/w 
二个/m 相/v 反极性/i 的/uj MOS/w 半导体/n 串/v 起来/v 形成 了 
集成电路 中 广泛 使用 的 一个 基本 单元 例如 计算机中 
用量 最大 的 内存 动态 存储器 就是 用 CMOS 工艺 
制造 的 CMOS 的 摄像机 并不比 CCD 摄像机 出现 的 
时间 晚 多少 CCD 在 六十 年代 末 而 CMOS 
在 七十 年代 初 相继 开发 出来 后来 之所以 CCD 
占了 统治 地位 是 因为 在 当时 的 工艺 制造 
技术 条件 下 CMOS 的 图像 质量 太差 了 直至 
1990年 新 工艺 的 发展 使 开发人员 再一次 对 CMOS 
产生 了 兴趣 主要 是 看到 了 CMOS 的 低功耗 
高 集成 整个 摄像机 集成 在 一片 晶 体内 低 
制造 成本 基于 不需 重新 建立 新的 生产线 可以 在 
已有 的 主流 的 逻辑 和 存储器 CMOS 流水线 中 
进行 经过 大量 的 投入 和 努力 CMOS 摄像机 在 
近几年 已 获得 了 极大 的 成功 已 形成 了 
对 CCD 的 强大 挑战 形成/v 了/ul CCD/w 和/c CMOS/w 
二个/m 激烈/a 竞争/vn 的/uj 发展/vn 方向/n 和/c 阵营/n 在 过去 
CMOS 图像 传感器 给人 的 印象 是 低端 产品 例如 
商务 用 传真机 复印机 扫描仪 到 今日 以 娱乐 为主 
的 摄像机 手机 拍摄 组件 直至 大紫 大红 的 网上 
摄像机 也 多为 CMOS 传感器 同时 CMOS 摄像机 在 图像 
质量 上 已 取得 长足 的 进步 即使 在对 图像 
质量 要求 较高 的 投影 仪上 也 获得 了 使用 
无论是 CMOS 还是 CCD 它们/r 都是/i 用/p 光敏/nr 像/v 元/m 
阵列/q 将/d 入射/v 的/uj 光/n 图像/n 转换/v 成像/v 元内的/nr 电荷/n 
所 不同 的 是 将 这些 像 元 中的 电荷 
取出 并 转换成 电压 的 方式 和 途径 不同 CCD 
是 用 电荷量 来 载荷 图像 信息 的 而 CMOS 
是 用电 压 量 来 载荷 图像 信息 的 CMOS 
和 CCD 的 工作 过程 如下 图 所示 从图/nr 可以 
看出 CCD 像 元将光/nr 转换 为 电荷 后 用 电荷耦合 
的 方法 将 电荷 逐点 逐行 地 用 电荷 移位 
寄存器 移出 直至 电荷 / 电压 转换器 图像 信息 用 
电荷 的 形式 在 芯片 内 移动 输出 而 CMOS 
则以 完全 不同 的 方式 将 图像 信息 送出 像 
元 阵列 从图/nr b 可以 看出 每/zg 一个/m 像/v 元/m 
光敏/nr 单元/n 都/d 有一个/i 电荷/n //i 电压/n 转换/v 单元/n 与之/i 
相伴/v 所以 像 元电荷 马上 转换 成为 电压 再 通过 
与 之 对应 的 矩阵 开关 将 电压 送出 阵列 
所以 CMOS 的 图像 信息 是以 电压 的 形式 传送 
输出 的 由于 这种 完全 不同 的 结构 为 它们 
带来 了 各自 的 长处 和 短处 CCD/w 和/c CMOS/w 
工作/vn 过程/n 示意图/n CMOS/w 摄像机/n 有/v 超强/v 的/uj 集成度/n 低功耗 
和小/nr 尺寸 的 优势 但在 图像质量 特别 在 低 照度 
下 和 灵活性 方面 就要 逊色 多了 所以 CMOS 适合于 
批 量大 有/v 空间/n 和/c 重量/n 限制/v 而 图像 质量 
要求 不是 太高 的 领域 例如 保安 生物 测量仪 等 
领域 使用 包括 机器 视觉 系统 中 对 图像 质量 
要求 不严 的 场合 例如 数字 或 文学 识别 易 
区分 的 缺陷 检测 简单 物体 几何 分类 简单 场景 
自动 导航 等等 机器 视觉 就是 用 机器 代替 人眼 
来做 测量 和 判断 机器 视觉 系统 是 指 通过 
机器 视觉 产品 将被 摄取 目标 转换成 图像 信号 传送 
给 专用 的 图像 处理 系统 根据 像素 分布 和 
亮度 颜色 等 信息 转变成 数字化 信号 图像 系统 对 
这些 信号 进行 各种 运 算来 抽取 目标 的 特征 
进而 根据 判别 的 结果 来 控制 现场 的 设备 
动作 由于 机器 视觉 系统 可以 快速 获取 大量 信息 
而且 易于 自动 处理 也 易于 同 设计 信息 以及 
加工 控制 信息 集成 因此 在 现代 自动化 生产 过程 
中 人们 将 机器 视觉 系统 广泛 地 用于 工况 
监视 成品 检验 和 质量 控制 等 领域 机器 视觉 
系统 的 特点 是 提高 生产 的 柔性 和 自动化 
程度 在 一些 不 适合 于 人工 作业 的 危险 
工作 环境 或 人工 视觉 难以 满足 要求 的 场合 
常用 机器 视觉 来 替代 人工 视觉 同时 在 大批量 
工业 生产 过程 中 用 人工 视觉 检查 产品 质量 
效率 低 且 精度 不高 用 机器 视觉 检测 方法 
可以 大大 提高 生产 效率 和 生产 的 自动化 程度 
而且 机器 视觉 易于 实现 信息 集成 是 实现 计算机 
集成 制造 的 基础 技术 半导体 行业 是 最先 利用 
机器 视觉 技术 进行 检测 的 行业 其他 行业 也 
随之而来 作为 生产 机械 的 OEM 的 设计 工程师 最 
基本 的 问题 就是 我 是 要 检测 这个 部件 
还是 整个 这个 产品 检测 可以 得到 高 质量 的 
产品 但是 也会 有 这样 的 事实 存在 检测 成本 
或者 产品 质量 要求 并不 需要 这样 的 检测 比如说 
牙签 假设 在 一个 装有 500个 牙签 的 盒子 里 
有 一两 个 不合格 大 多数人 都 不会 怎么 担心 
但是 对于 很多 产品 假如 前面 的 盒子 里 装 
的 不是 牙签 而是 针头 试想 不合格品 可能会 带来 什么样 
的 后果 所以 产品 功能性 的 检测 都是 不可缺少 的 
即使 只是 外观 检测 要 证明 内在 的 品质 也 
必须 要 做到 无 缺陷 因此 为了 达到 这个 目的 
许多 OEM 将 机器 视觉 应用 到 他们 将要 卖给 
用户 的 系统 中 机器 视觉 能够 为 整个 系统 
增值 表现 在 三 个 方面 提高 生产 效率 提高 
制造 过程 的 精确性 减少 成本 那么 对于 一个 设计 
工程师 来说 怎么样 才能 知道 机器 视觉 是否 适合 他 
的 系统 呢 尽管 最早 的 最 基本 的 机器 
视觉 系统 在 20 世纪 70 年代 引入 工业 就 
将其 视为 主流 应用 这就 导致 设计 工程师 要 考虑 
它 是否 合适 他们 的 应用 同时 要 考虑 利用 
机器 视觉 检测 的 成本 与 其所 能 带来 的 
利润 高 复杂度 产品 行业 比如说 半导体 行业 和 电子 
行业 由于 它们 的 复杂性 和 小型化 从 传统 上 
推动 着 机器 视觉 市场 的 发展 但是 如今 所有 
产业 包括 自动化 制药 造纸 等等 都 依靠 机器 视觉 
系统 检测 产品 以 提高 产品 质量 工业 专家 们 
预言 在 未来 的 20年 到 50年 机器 视觉 将 
成为 横跨 所有 行业 的 通用性 技术 几乎 所有 出产 
的 产品 都会 由 机器 视觉 系统 来 检测 使用 
机器 视觉 系统 有 以下 五 个 主要 原因 精确性 
由于 人眼 有 物理 条件 的 限制 在 精确性 上 
机器 有 明显 的 优点 即使 人眼 依靠 放大镜 或 
显微镜 来 检测 产品 机器 仍然 会 更加 精确 因为 
它 的 精度 能够 达到 千分之 一英寸 重复性 机器 可以 
以 相同 的 方法 一次 一次 的 完成 检测 工作 
而 不会 感到疲倦 与此相反 人眼/n 每次/r 检测/vn 产品/n 时/n 都会/i 
有/v 细微/a 的/uj 不同/a 即使 产品 时 完全 相同 的 
速度 机器 能够 更快 的 检测 产品 特别 是 当 
检测 高速 运动 的 物体 时 比如说 生产线 上 机器 
能够 提高 生产 效率 客观性 人眼 检测 还有 一个 致命 
的 缺陷 就是 情绪 带来 的 主观性 检测 结果 会 
随 工人 心情 的 好坏 产生 变化 而 机器 没有 
喜怒哀乐 检测 的 结果 自然 非常 可观 可靠 成本 由于 
机器 比人 快 一台 自动 检测 机器 能够 承担 好 
几个人 的 任务 而且 机器 不需要 停顿 不会 生病 能够 
连续 工作 所以 能够 极大 的 提高 生产 效率 一旦 
工程师 决定 使用 机器 视觉 系统 就 需要 建立 这个 
系统 其中 要素 包括 照明 光源 工件 放置 夹具 工业 
镜头 工业 相机 位置 传感器 控制 逻辑 以及 图像 采集卡 
图像 处理 软件 技术支持 由于 大多数 厂商 在 这个 领域 
都 没有 经验 机会 来了 所以 寻找 一个 既 了解 
核心技术 又能 为其 提供 系统 所 需 产品 的 供应商 
就 成为 关键 问题 典型 的 基于 PC 的 视觉 
系统 通常 由 如 . 1.1 所示 的 几 部分 
组成 . 1.1       基于 PC 的 视觉 
系统 基本 组成 ① 工业 相机 与 工业 镜头 这 
部分 属于 成像 器件 通常 的 视觉 系统 都 是由 
一套 或者 多套 这样 的 成像 系统 组成 如果 有 
多路 相机 可能 由 图像 卡 切换 来 获取 图像 
数据 也 可能 由 同步控制 同时 获取 多 相机 通道 
的 数据 根据 应用 的 需要 相机 可能 是 输出 
标准 的 单色 视频 RS 170 / CCIR 复合 信号 
Y / C RGB 信号 也 可能 是非 标准 的 
逐行扫描 信号 线 扫描 信号 高分辨率 信号 等 ② 光源 
作为 辅助 成像 器件 对 成像 质量 的 好坏 往往 
能 起到 至关重要 的 作用 各种 形状 的 LED 灯 
高频 荧光灯 光纤 卤素灯 等 都 容易 得到 ③ 传感器 
通常 以 光纤 开关 接近开关 等 的 形式 出现 用以 
判断 被 测 对象 的 位置 和 状态 告知 图像 
传感器 进行 正确 的 采集 ④ 图像 采集卡 通常 以 
插入 卡 的 形式 安装 在 PC 中 图像 采集卡 
的 主要 工作 是 把 相机 输出 的 图像 输送 
给 电脑 主机 它 将 来自 相机 的 模拟 或 
数字信号 转换成 一定 格式 的 图像 数据流 同时 它 可以 
控制 相机 的 一些 参数 比如 触 发信号 曝光 / 
积分 时间 快门 速度 等 图像 采集卡 通常 有 不同 
的 硬件 结构 以 针对 不同 类型 的 相机 同时 
也 有 不同 的 总线 形式 比如 PCI PCI64 Compact 
PCI PC104 ISA 等 ⑤ PC 平台 电脑 是 一个 
PC 式 视觉 系统 的 核心 在 这里 完成 图像 
数据 的 处理 和 绝大部分 的 控制 逻辑 对于 检测 
类型 的 应用 通常 都 需要 较 高频率 的 CPU 
这样 可以 减少 处理 的 时间 同时 为了 减少 工业 
现场 电磁 振动 灰尘 温度 等 的 干扰 必须 选择 
工业级 的 电脑 ⑥ 视觉 处理软件 机器 视觉 软件 用来 
完成 输入 的 图像 数据 的 处理 然后 通过 一定 
的 运算 得出 结果 这个 输出 的 结果 可能 是 
PASS / FAIL 信号 坐标 位置 字符串 等 常见 的 
机器 视觉 软件 以 C / C + + 图像 
库 ActiveX 控件 图 形式 编程 环境 等 形式 出现 
可以 是 专用 功能 的 比如 仅仅 用于 LCD 检测 
BGA 检测 模版 对准 等 也 可以 是 通用 目的 
的 包括 定位 测量 条码 / 字符识别 斑点 检测 等 
⑦ 控制 单元 包含 I / O 运动控制 电平 转化 
单元 等 一旦 视觉 软件 完成 图像 分析 除非 仅 
用于 监控 紧接着 需要 和 外部 单元 进行通信 以 完成 
对 生产 过程 的 控制 简单 的 控制 可以 直接 
利用 部分 图像 采集卡 自带 的 I / O 相对 
复杂 的 逻辑 / 运动控制 则 必须 依靠 附加 可编程 
逻辑 控制 单元 / 运动 控制卡 来 实现 必要 的 
动作 机器 视觉 Machine Vision 作为 光电 技术 应用 的 
一个 特定 领域 目前 已经 发展 成为 一个 前景 光明 
活力 无限 的 行业 年 平均 增长 速度 超过 2O 
％ 机器 视觉 广泛 应用于 微电子 电子产品 汽车 医疗 印刷 
包装 科研 军事 等 众多 行业 涉及 技术 一致 应用 
差异 明显 是 各种 机器 视觉 应用 系统 的 共同 
特点 机器 视觉 系统 集成 时 涉及 到 多门 技术 
最 基本 的 系统 也 需要 照明 成像 图像 数字化 
图像处理 算法 计算机软件 硬件 等 稍微 复杂 一点 的 系统 
还 会用 到 机械 设计 传感器 电子线路 PLC 运动控制 数据库 
SPC 等等 要把 这么 多 不同 方面 的 技术 和 
知识 组合 到 系统 里 使其 相互 完美 配合 并 
稳定 地 工作 对 系统 集成 人员 提出 了 很高 
的 要求 作者 根据 多年 的 经验 讲解 了 机器 
视觉 系统 集成 时所/nr 涉及 的 各种 技术 需要 综合 
考虑 的 因素 以及 评估 机器 视觉 系统 项目 成功 
的 可能性 的 方法 中国 经济 经过 数十年 的 高速 
发展 在 很多 领域 完成 了 从无到有 从 不能 到 
可以 的 跃 变 现在 已经 到 了 提高 生产 
效率 和 产品 质量 残酷 竞争 的 阶段 很多 原来 
使用 的 人工 工序 正 逐渐 被 机器 所 取代 
从而 对 机器 视觉 系统 产生 了 越来越 多 的 
需求 而 机器 视觉 技术 本来 就是 为了 解决 生产 
中 的 各种 问题 发展 起来 的 在 人类 的 
生产 活动 中 人 的 眼睛 担负 着 很多 重要 
的 任务 例如 放置 和 固定 工件 观察 和 估计 
位置 检测 外观 尺寸 确定 产品 的 一致性 检验 产品 
质量 等 这些 工作 正在 越来越 多 地被 机器 视觉 
系统 取代 一 方面 是 随着 对 生产 速度 和 
产品 质量 的 要求 越来越 高 对 检测 速度 和 
精度 的 要求 超过 了 肉眼 的 能力 另一方面 是 
因为 成像 技术 计算机 技术 或 图像 处理 技术 的 
发展 机器 视觉 系统 能够 完成 的 任务 越来越 复杂 
成本 也 越来越 低 然而 机器 视觉 技术 作为 一门 
新兴 技术 引人 中国 时间 并不 长 真正 有 经验 
的 系统 集成 人员 也 不多 而 机器 视觉 系统 
涉及到 照明 成像 电子 自动控制 计算机软件 硬件 机械设计 传感器 光学 
等 各方面 把 这些 不同 的 技术 集成 到 1个 
系统 内 并使 其 相互 完美 配合 工作 本身 就是 
艰巨 的 任务 本文 试图 根据 作者 多年 的 经验 
就 机器 视觉 系统 集成 技术 给 出 一些 建议 
期望 能够 帮助 使用 机器 视觉 系统 的 用户 评估 
其 系统 并 在 做出 合理 决策 时 提供 参考 
给 研制 系统 的 技术 人员 和 公司 提供 一些 
成功 的 经验 本文 将 介绍 需求分析 资源 配置 系统集成 
等 几个 方面 的 内容 A   需求分析 准确 地 
描述 机器 视觉 系统 需要 完成 的 功能 和 工作 
环境 对于 整个 机器 视觉 系统 的 成功 集成 是 
至关重要 的 对于 需求 的 描述 实际 定义 了 视觉 
系统 工作 的 场景 而 围绕 这个 场景 设计 1个 
系统 来 获取 合适 的 图像 并 提取 有用 的 
信息 或 控制 生产 过程 就是 我们 工作 的 目标 
这个 步骤 看起来 如此 简单 以至于 经常 被 忽略 有时候 
用户 在 生产 过程 中 产生 了 某种 需求 但是 
由于 知识面 和 技术 方面 的 原因 用户 不 知道 
自己 需要 什么样 的 视觉 系统 或者 不能 准确 描述 
自己 的 需求 而 这时 系统 集成商 自己 经验 不足 
或 没有 给 以 足够 的 重视 就 不能 帮助 
用户 来 明确 系统 的 功能 细节 这个 系统 集成 
开发 过程 注定 要 走弯路 甚至 最终 失败 所以 系统 
集成 的 第 1步 就是 明确 用户 需求 一般 情况 
下 可以 使用 下面 的 表格 来 帮助 我们 实现 
此 目标 问题 说明 检测 什么 东西 检测 的 目标 
物 是 什么 形状 是 什么样 的 检测 哪些 指标 
具体 检测 什么 指标 有无 状态 尺寸 位置 粘连 差异 
毛刺 颜色 目标 多大 物体 具体 尺寸 是 多少 工作距离 
安装 摄像机 到 被 测 物体 的 距离 最大 允许 
多远 能否 自由 调节 分辨率 多高 测 量尺寸 精度 要求 
是 多高 检测 速度 多快 全自动 测量 还是 手动 每分钟 
测量 多少 个 安装 空间 被 测 零件 周围 是否 
有 安装 光源 的 位置 是否 有 适合 安装 摄像头 
的 位置 怎样 固定 比较 合适 颜色 被 测 物体 
是 什么 颜色 我们 是否 需要 对 颜色 判别 是否 
可以 利用 颜色 差异 帮助 我们 实现 检测 目的 材质 
物体 是 什么 材料 的 表面 光学 性质 怎样 合格 
判据 合格 ／ 不 合格 的 定义 工位 信号 有 
工位 触 发信号 还是 需要 自动 连续 拍摄 图像 剔除 
或 控制 方式 是否 需要 自动 剔除 次品 或 控制 
机器 动作 怎样 对 不合格品 进行 剔除 使用 什么 信号 
格式 在 什么 位置 进行 工作 环境 工作 环境 的 
温度 湿度 粉尘 防水 杂散光 线 情况 交货 日期 这是 
不言而喻 的 B 资源 配置 机器 视觉 系统 集成 时 
涉及 到 多门 技术 最 基本 的 系统 也 需要 
照明 成像 图像 数字化 图像处理 算法 计算机软件 硬件 等 稍微 
复杂 一点 的 系统 还 会用 到 机械 设计 传感器 
电子线路 PLC 运动控制 数据库 SPC 等等 显而易见 要把 这么 多 
不同 方面 的 技术 和 知识 组 合到 1个 系统 
里 使其 相互 完美 配合 并 稳定 地 工作 对 
系统 集成 人员 提出 了 很高 的 要求 需要 根据 
具体 的 需求 来 确定 所 需要 配置 的 资源 
和 对策 B . 1 机械设计 由于 需求 不同 对 
机械 部分 的 要求 差别 很大 如果 是 全自动 的 
机器 视觉 系统 机械 部分 一般 需要 完成 的 功能 
有理 料 输送 定位 剔除 下料 等功能 而 有的 机器 
视觉 系统 则 只 需要 适当 的 固定 支架 来 
固定 相机 镜头 和 计算机 即可 差别 很大 例如 制药 
生产线 上 使用 的 西林瓶 灯 检 机 需要 完成 
理 瓶 输送 旋转 刹车 急停 相机 同步 快速 归位 
下料 分流 剔除 等 多个 动作 而且 需要 提供 多达 
15个 检测 工位 以 完成 液体 内部 悬浮物 玻璃 碎屑 
瓶身 破损 细菌 群落 瓶口 封装 瓶底 等 多项 指标 
的 检测 各种 机械零件 多达 上 千个 系统 非常 之 
复杂 而 停车场 使用 的 车牌 识别 系统 的 机械 
部分 则 非常 简单 只需要 相机 固定 和 保护 等 
安装 配件 即可 一般系统 集成商 不愿意 介入 特别 复杂 的 
机械 设计 一 方面 是 因为 在 用户 的 观念 
中 机械 设计 没有 太多 的 技术 含量 另一方面 是 
机械 加工 周期 较长 1个 小小 的 设计 错误 也 
会 导致 返工 时间 拖得 较长 所以 虽然 在 很多 
情形 下 机械 设计 在 机器 视觉 系统 中 占了 
很大 的 比重 而且 是 关键 部分 但 投入 相对 
较少 导致 整个 系统 开发 过程 不 顺利 有时候 和 
制造 机械 设备 的 公司 合作 是 最好 的 选择 
需要 指出 的 是 对于 需要 复杂 机械 系统 的 
全自动 系统 由于 大多数 系统 只能 针对 特定 的 产品 
工作 所以 除非 生产量 达到 一定 数量 或者 该 产品 
会 生产 很长时间 一般 情况 下 半自动 系统 就 足够 
了 自动 系统 开发 周期 长 成本高 生产 过程 中 
换型 困难 而 半自动 系统 只 需要 更换 1个 夹具 
重新 设置 检测 指标 和 合格 判据 就 可以 了 
B . 2 照明 光源 这个 看似 简单 的 照明 
系统 是 机器 视觉 系统 最为 关键 的 部分 直接 
关系 到 系统 的 成败 其 重要性 无论如何 强调 都是 
不 过分 的 好 的 设计 能够 使 我们 得到 
1幅 好 的 图像 从而 改善 整个 系统 的 分辨率 
简化 软件 的 运算 而不 合适 的 照明 则 会 
引起 很多 问题 例如 花点 和 过度 曝光 会 隐藏 
很多 重要 的 信息 阴影 则 会引起 边缘 的 误检 
而 信噪比 的 降低 以及 不 均匀 的 照明 会 
导致 图像处理 阈值 选择 的 困难 在 实际 应用 中 
得到 场景 的 图像 很容易 但是 得到 1幅 适合 机器 
视觉 算法 要求 的 图像 则 很难 因为 被 测 
目标 多种多样 形状 大小 不同 检测 指标 各异 而且 各种 
材料 的 反光 特性 及 颜色 也 不一样 要把 所 
需要 检测 的 特征 突显 出来 而对 不 需要 的 
特征 加以 抑制 并 不是 简单 的 任务 这 主要 
通过 设计 或 选择 合适 的 照明 光源 来 解决 
针对 特定 的 物体 和 场景 设计 ／ 选取 成本 
低廉 安装简单 照明 效果 好 的 照明 系统 就是 我们 
搭建 机器 视觉 系统 首先 需要 完成 的 任务 那么 
什么样 的 图像 才是 好 的 图像 呢 一般说来 1幅 
好 的 图像 需要 满足 以下 条件 1 充分 利用 
视场 使被 检测 物体 特征 充满 视场 从而 可以 最大限度 
地 利用 系统 的 分辨率 2 对比度 合适 灰度级 的 
最大值 接近 255 而 最小值 接近 0 3 焦距 准确 
图像 没有 因为 景深 或 运动 而 不 清晰 4 
照明 均匀 避免 反光 5 图像 畸 变小 6 感 
兴趣 的 特征 容易 被 检测 识别 其他 特征 不 
显示 或 得到 抑制 如果 选择 的 光源 能使 图像 
达到 这些 基本 的 要求 就 完成 了 机器 视觉 
系统 集成 的 第 1步 B . 3 成像 系统 
从 系统 集成 的 角度 简单 列举 选择 这些 硬件 
的 原则 由于 相机镜头 和 板卡 经过 多年 的 发展 
目前 已经 相当 成熟 而且 在 国内 市场 上 选择 
的 余地 也 不大 一般 是 本着 经济 的 原则 
够用 就好 选择 相 机时 我 的 建议 是 如果 
可能 就用 USB 接口 或 1394 接口 的 相机 这样 
可以 省掉 1个 板卡 的 费用 以后 硬件 或 软件 
升级 时 工作量 会 小 一些 对于 高端 的 应用 
除了 CameraLink 似乎 别无选择 最新 开发 的 GigE 接口 相机 
由于 TCP ／ IP 协议 Packet 传输 的 特性 在 
某些 场合 是 不能 保证 数据 的 实时性 的 但 
其 最大 的 优点 是 数据线 距离 可以 很长 主机 
可以 安装 在 办公室 内 这样/r 现场/n 就/d 只/d 需要/v 
适当/a 地/uv 安装/v 和/c 保护/v 相机/d 和/c 镜头/n 镜头 的 
可选择性 更少 除了 Computar Nikon Tamron Navitar 及 Moritex 几个 
制造商 外 市场 上 也 没有 多少 选择 空间 当然 
大多数 情况 下 也就 够用 了 如果 需要 更好 的 
成像 效果 可以 采用 单反 相机镜头 这样 做 一般 需要 
转 接口 Fujinon 在 厦门 有 生产 可是 国内 市场 
上 未见 销售 德国 CarlZeiss 镜头 很好 可惜 价格 太贵 
不太 适合 中国 市场 B . 4 计算机系统 机器 视觉 
系统 的 最佳 配置 是 使用 工控机 还是 使用 嵌入式 
系统 在 这个 问题 上 见仁见智 各有 优缺点 主要 还是 
看 使用 的 场合 和 系统 的 需求 2种 系统 
的 主要 特点 见 下表 项目 工控机 嵌入式 图像 处理 
能力 高低 扩展性 好差 体积 大小 现场 安装 难 需要 
机柜 容易 价格低 高 垄断 程度 低 高度 垄断 稳定性 
较好 非常好 设置 操作 容易 键盘 鼠标 或者 触摸屏 较难 
一般用 JOYstick 运行 操作 自动 自动 维修 简单 原 供货商 
才能 维修 通过 这些 对比 可以 看出 如果 安装 空间 
允许 选择 基于 工控机 的 视觉 系统 还是 有 更多 
的 优点 的 但是 如果 现场 必须 使用 体积 很小 
的 嵌入式 系统 那么 我们 别无选择 各 公司 的 成熟 
产品 一般 都 采用 了 嵌入式 主机 例 ~ HKeyence 
0mron Siemens Cognex 等 这 更多 的 是 由于 商业 
销售 的 考虑 因为 这样 做 可以 保证 自己 产品 
的 独特性 给 差异化 销售 找到 借口 另一方面 可以 使 
用户 自己 不能 更换 零件 从而 保证 售后服务 的 利润 
B . 5 图像处理 图像 处理 作为 机器 视觉 系统 
必不可少 的 部分 显得 如此 重要 以至于 很多 情况 下 
初学 乍到 的 人 会 以为 图像 处理 就 是 
机器 视觉 其实 我们 所说 的 图像 处理 实际 包含 
了 图像增强 和 图像 分析 2个 部分 图像增强 是 指 
经过 某种 处理 使 图像 改变 实现 对比 度提高 清晰度 
增加 特征 突出 等 目的 而 图像 分析 是 指 
经过 某种 运算 来 提取 某种 有用 的 信息 如 
有无 好坏 位置 等 以便 用来 进行 判断 或 控制 
例如 如何 使 模糊 的 图像 恢复 到 清晰 是 
典型 的 图像增强 处理 只要 得到 清晰 的 图像 就 
达到 了 目的 在 繁忙 的 机场 抓拍 过往 旅客 
的 面孔 找到 可疑 恐怖分子 则是 典型 的 图像 分析 
过程 经过 多年 的 发展 图像增强 算法 已经 基本 成熟 
例如 提 高对比度 的 灰度 拉伸 假彩色 边缘 提取 滤波 
傅立叶 变换 小波 变换 等 在 机器 视觉 系统 集成 
时 这些 一般 都是 在 图像 分析 前 作为 图像 
预处理 进行 的 而 图像 分析 算法 才是 机器 视觉 
真正 需要 解决 的 问题 通过 针对 某个 真实 场景 
的 图像 设计 1种 算法 来 得到 有用 的 信息 
完全/ad 依赖/v 于/p 技术/n 人员/n 的/uj 经验/n 和/c 能力/n 在 
这个 过程 中 公司 投入 了 大量 时间 和 金钱 
来 进行 研究 而 得到 的 算法 往往 具有 经济 
价值 公司 或 个人 都会/nr 严格 保密 例如 如果 机场 
候机 厅里 只有 1个 乘客 那么 设计 个 算法 来 
找到 这个 乘客 的 位置 是 相对 容易 的 很多 
公司 或 个人 都 可以 实现 而且 使用 的 方法 
或者 计算 时间 也 差不多 而 要在 成千上万 的 游客 
中 找到 具有 某个 特定 特征 的 乘客 就 不是 
那么 容易 了 各人 设计 出 的 算法 肯定 千差万别 
谁 能够 在 最 短时间 内 最 可靠 地 找到 
目标 就是 最 有价值 的 这种 情况 下 除了 经验 
之外 灵感 和 创造 能力 也 很 重要 也 就是说 
作为 系统 集成 所 需要 的 图像 处理 算法 需要 
很多 的 实践 经验 而 这些 算法 大多 不 是 
能够 从 书本 或 文章 里 学到 的 B . 
6 自动控制 作为 1个 子系统 完美 配合 工作 中 的 
机器 视觉 系统 自然会 用到 光电 传感器 数字 IO 接口 
PLC 运动控制 等 工业 控制 元器件 这些 方面 的 知识 
也 是 必不可少 的 虽然 如此 这些 都是/nr 成熟 的 
技术 有 基本 的 知识 直接 拿来 使用 就 可以 
了 不 需要 我们 重新 设计 而且 零件 供应商 也会 
提供 一定 的 技术 支持 一般 在 整个 系统 的 
开发 过程 中 这 方面 花费 的 时间 和 精力 
是 最少 的 C 系统集成 明确 了 我们 的 需求 
估计 了 我们 需要 配置 的 资源 理解 了 各 
子系统 需要 完成 的 工作 就 到了 把 这些 知识 
综合考虑 组成 1个 整机 系统 的 时候 了 把 这些 
不同 领域 里 得到 的 零部件 组合 在 一起 希冀 
打开 电源 时就/nr 能够 完美 的 工作 是 不太 现实 
的 这个 过程 里 有 很多 意想不到 的 问题 需要 
解决 一般 情况 下 我们 需要 遵循 一定 的 原则 
才能 使 出现 的 问题 最少 这里 根据 我们 的 
经验 给 出 一些 建议 1 尽量 使用 能够 采购 
的 零件 off the shelfcomponents 在 可能 的 情况 下 
应当 尽可能 使用 现成 的 备件 如 镜头 相机 板卡 
等 能够 买到 的 东西 就 不要 自己 做 我 
已经 多次 看到 不同 的 公司 和 研究 室 为了 
节省 成本 自己 设计 制造 很容易 买到 的 零件 结果 
浪费 了 很多 时间 走 了 很多 弯路 例如 有 
1个 公司 咨询 为什么 成像 效果 不好 我 去 现场 
一看 他们 使用 了 1个 直径 20 毫米 的 凸透镜 
作为 镜头 为了 节省 成本 15 元 人民币 买来 的 
可想而知 成像 效果 如何 岂不知 连 SONY 也 不得不 向 
CarlZeiss 采购 镜头 2 分而治之 divide and conquer 把 系统 
分割 成 多个 模块 把 每 1 部分 集成 到 
一起 确保 能够 正确 地 工作 然后再 把 这些 模块 
组成 1个 大系统 这 和 软件 开发 常用 的 方法 
是 一样 的 只有 把 1 个大 的 系统 分割 
成 小到 我们 能够 很容易 处理 的 小块 才 能够 
有效 的 完成 这 也 需要 富有 经验 的 项目 
负责人 来 完成 这项 工作 3 充分考虑 现场 条件 在 
实验室 里 开发 的 系统 安装 到 使用 现场 后 
常常 碰到问题 这 主要 是 环境光 电磁 干扰 和 振动 
几个 方面 的 原因 造成 的 机器 视觉 系统 毕竟 
使用 了 光学系统 安装 现场 的 照明 情况 或 自然光 
的 影响 有时 会 导致 我们 设计 的 算法 根本 
无法 工作 从而 致使 系统 失败 工厂 的 供电 一般 
是 带有 各种 电磁 干扰 的 很容易 从 电源线 或 
其他 地方 进入 计算机系统 从而 导致 系统 不能 稳定 工作 
如果 系统 时而/nr 工作 正常 时而 死机 一般 都是/nr 这个 
原因 造成 的 另外 工业 现场 各种 机器 同时 工作 
有时 振动 会 导致 问题 例如 如果 算法 采用 两 
幅 图像 相减 的 方法 肯定 不能 正常 工作 因为 
振动 导致 的 图像 移位 使得 图像 已经 对 不准 
了 这种 情况 下 尺寸 测量 也 会 产生 误差 
所以 系统 集成 的 过程 中 最好 能够 模拟 现场 
情况 否则 很难 1次 成功 4 把 困难 乘 2 
在 新产品 开发 过程 中 往往 会 遇到 意想不到 的 
问题 例如 有时候 1根 电线 接触不良 就会 导致 整个 系统 
不 工作 而 查找 这个 问题 并 不是 1件 容易 
的 事 有时 软件 有 小小的 问题 改成 正确 的 
代码 只 需要 几 分钟 但是 也许 2个 星期 也 
找不到 问题所在 所以 整个 系统 集成 时 碰到 的 问题 
和 解决 问题 需要 的 时间 往往 比 预计 的 
要多 越是 复杂 庞大 的 系统 越是 如此 一般 我们 
需要 把 已知 需要 解决 的 问题 总数 乘以 2 
或 3 才能 真正 地 做出 切合 实际 的 工作 
计划 机器 视觉 技术 是 计算机 学科 的 一个 重要 
分支 它 综合 了 光学 机械 电子 计算机 软硬件 等 
方面 的 技术 涉及 到 计算机 图像处理 模式识别 人工智能 信号处理 
光机电 一体化 等 多个 领域 自 起步 发展 至今 已经 
有 20 多年 的 历史 其 功能 以及 应用 范围 
随着 工业 自动化 的 发展 逐渐 完善 和 推广 其中 
特别 是 目前 的 数字 图像 传感器 CMOS 和 CCD 
摄像机 DSP FPGA ARM 等 嵌入式 技术 图像 处理 和 
模式 识别 等 技术 的 快速 发展 大大 地 推动 
了 机器 视觉 的 发展 简而言之 机器 视觉 就是 利用 
机器 代替 人眼 来作 各种 测量 和 判断 在 生产线 
上 人 来做 此类 测量 和 判断 会 因 疲劳 
个人 之间 的 差异 等 产生 误差 和 错误 但是 
机器 却会 不知 疲倦 地 稳定 地 进行 下去 一般来说 
机器 视觉 系统 包括 了 照明 系统 镜头 摄像 系统 
和 图像 处理 系统 对于 每一个 应用 我们/r 都/d 需要/v 
考虑/v 系统/n 的/uj 运行/v 速度/n 和/c 图像/n 的/uj 处理/v 速度/n 
使用 彩色 还是 黑白 摄像机 检测 目标 的 尺寸 还是 
检测 目标 有无 缺陷 视场 需要 多大 分辨率 需要 多高 
对比度 需要 多大 等 从 功能 上 来看 典型 的 
机器 视觉 系统 可以 分为 图像 采集 部分 图像 处理 
部分 和 运动控制 部分 一个 完整 的 机器 视觉 系统 
的 主要 工作 过程 如下 1 工件 定位 检测器 探测 
到 物体 已经 运动 至 接近 摄像 系统 的 视野 
中心 向 图像 采集 部分 发送 触发 脉冲 2 图像 
采集 部分 按照 事先 设定 的 程序 和 延时 分别/d 
向/p 摄像机/n 和/c 照明/v 系统/n 发出/v 启动/vn 脉冲/n 3 摄像机 
停止 目前 的 扫描 重新 开始 新的 一帧 扫描 或者 
摄像机 在 启动 脉冲 来到 之前 处于 等待 状态 启动 
脉冲 到来 后 启动 一帧 扫描 4 摄像机 开始 新的 
一帧 扫描 之前 打开 曝光 机构 曝光 时间 可以 事先 
设定 5 另一个 启动 脉冲 打开 灯光 照明 灯光 的 
开启 时间 应该 与 摄像机 的 曝光 时间 匹配 6 
摄像机 曝光 后 正式 开始 一帧 图像 的 扫描 和 
输出 7 图像 采集 部分 接收 模拟 视频信号 通过 A 
/ D 将其 数字化 或者 是 直接 接收 摄像机 数字化 
后的/nr 数字 视频 数据 8 图像 采集 部分 将 数字 
图像 存放在 处理器 或 计算机 的 内存 中 9 处理器 
对 图像 进行 处理 分析 识别 获得 测量 结果 或 
逻辑 控制值 10 处理结果 控制 流水线 的 动作 进行 定位 
纠正 运动 的 误差 等 从 上述 的 工作 流程 
可以 看出 机器 视觉 是 一种 比较 复杂 的 系统 
因为 大多数 系统 监控 对象 都是/nr 运动 物体 系统 与 
运动 物体 的 匹配 和 协调 动作 尤为重要 所以 给 
系统 各 部分 的 动作 时间 和 处理 速度 带来 
了 严格 的 要求 在 某些 应用领域 例如 机器人 飞行 
物体 导 制 等 对 整个 系统 或者 系统 的 
一部分 的 重量 体积/n 和/c 功耗/n 都会/i 有/v 严格/ad 的/uj 
要求/v 机器 视觉 系统 的 优点 有 1 非 接触 
测量 对于 观测者 与 被 观测者 都 不会 产生 任何 
损伤 从而 提高 系统 的 可靠性 2 具有 较宽 的 
光谱 响应 范围 例如 使用 人 眼看 不见 的 红外 
测量 扩展 了 人眼 的 视觉 范围 3 长时间 稳定 
工作 人类 难以 长时间 对 同一 对象 进行 观察 而 
机器 视觉 则 可以 长时间 地 作 测量 分析 和 
识别 任务 机器 视觉 系统 的 应用 领域 越来越 广泛 
在 工业 农业 国防 交通 医疗 金融 甚至 体育 娱乐 
等 等 行业 都 获得 了 广泛 的 应用 可以 
说 已经 深入 到 我们 的 生活 生产 和 工作 
的 方方面面 在 使用 机器 视觉 系统 进行 检测 的 
具体 应用 环境 中 会有 持续 进料 的 应用 或者 
间歇 进料 的 应用 即 目标 物 会 停止 一段 
时间 进行 检测 这时 就 需要 知道 检测 目标 物 
的 速度 能达到 多快 目标 物 的 数量 以及 每 
分钟 进行 检测 的 最大 数量 这些 数据 可以 根据 
视觉 系统 的 处理 速度 进行 计算 其 计算 方法 
如下 每分钟 检测 的 最大 数量 = 60 sec . 
÷ 视觉 系统 的 处理 速度 sec . 例如 如果 
视觉 系统 的 处理 速度 是 20ms 那么 每分钟 检测 
的 最大 数量 = 60sec . ÷ 0 . 02sec 
. = 3000times / min . = 50 times / 
sec . 但是 实际 处理速度 根据 视觉 系统 的 相机 
类型 和 检测 设置 会 有所不同 虽然 大多数 简单 的 
应用 能以 20ms 的 速度 运行 在 具体 应用 中 
最好 还是 用 实际 目标 物 测试 一下 检测 的 
情况 如果 在 具体 应用 中 对 视觉 系统 的 
处理 速度 有 一定 要求 可用 以下 计算 方法 获得 
视觉 系统 被 要求 的 处理 速度 ms = 1 
sec . ÷ 要求 的 检测 次数 times / sec 
. x 1000 同时 在 实际 应用 中 被 检测 
目标 物 在 相机 的 视野 范围内 持续 移动 时 
还 需要 考虑 相机 快门 的 速度 否则 会 出现 
模糊不清 的 图像 无法 达到 检测 要求 例如 相机 在 
持续 移动 的 生产线 上 捕捉 电子 部件 的 图像 
时 如果 快门速度 曝光 时间 对于 生产 线速度 来说 不 
够快 图像 就会 模糊 为了 防止 模糊 快门速度 需要 进行 
设置 使得 相机 捕捉 图像 时 物体 移动 速度 不 
超过 1/10 的 要求 容 差值 如下 图 所示 目标 
物 在 相机 的 视野 范围内 持续 移动 高速 快门 
图像 低速 快门 图像 相机 快门 速度 计算方法 快门速度 = 
要求 容差/nr mm ÷ 生产 线速度 mm / sec . 
例 检测 容差/nr = 0 . 2mm 生产 线速度 = 
200mm / sec . 快门速度 = 0 . 2mm ÷ 
10 ÷ 200mm / sec . = 1/10000 因此 此 
项 应用 中 理想 的 快门 速度 要 快于 1/10000 
如果 视觉 系统 的 处理 速度 较快 在 高速 生产线 
上 进行 检测 就 一定 可行 那么 典型 的 尺寸 
检测 处理 时间 需要 多久 呢 此 检测时间 根据 视觉 
系统 的 处理 能力 以及 针对 个别 应用 的 设置 
会有 很大 的 差异 下表 提供 了 捕捉 和 处理 
图像 所需 时间 参考值 的 估计 底线 用户 可 根据 
自己 的 实际 应用 进行 参考 使用 瑕疵 检测 污垢 
检测 或 芯片 检测 都是 非常 典型 的 机器 视觉 
系统 检测 的 应用 方式 根据 工件 和 生产线 的 
状况 不同 每种 检测 都 需要 不同 的 功能 本文 
对 机器 视觉 污点 检测工具 的 原理 及 使用 方法 
做 以 简介 1 区段 视觉 系统 透过 CCD 图像 
传感器 将 强度 资料 的 变化 检测 为 污点 或 
边缘 但是 逐个 处理 像素 需要 花费 大量 的 时间 
并且 噪声 会对 检测 结果 产生 影响 因此 视觉 系统 
使用 由 数个 像素 组成 的 小区域 的 平均 强度 
该 小区域 被称为 区段 并 透过 比较 这些 区段 的 
平均 强度 来 检测 污点 如上图 中 所示 将 区段 
4 x 4 像素 的 平均 强度 与 周边 地区 
的 平均 强度 作比较 图中 的 红色 区段 被 检测 
出 污点 2 污点 检测工具 的 算法 区段 的 比较 
和 计算 方式 检测 原理 1 将 X 方向 指定 
为 检测 方向 时 污点 检测工具 测量 指定 区域 区段 
的 平均 强度 并以 四分之一 个 区段 为 间距 改变 
区段 位置 它 可确定 四个 区段 中的 最大 和 最小 
强度 之间 的 差值 其中 包括 标准 区段 下图 中的 
① 95 该 差值 被 视为 标准 区段 的 污点 
等级 当 污点 等级 超过 当前 阈值 时 标准 区段 
被 视为 污点 被 测 区域 中 超过 预设 阈值 
的 次数 被 称为 污点 范围 该 过程 反复 进行 
从而 不断 改变 标准 区段 在被 测 区域 中 的 
位置 在 圆形 工件 上 检测 污点 的 原理 PET 
瓶 轴承 或 O 型 圈 等 多种 圆形 工件 
需要 对 圆形 区域 进行 视觉 检测 当 搜索 圆形 
区域 时 程序 同时 执行 极坐标 转换 为了 检测 污点 
它 将 圆形 窗口 检测 区段 转换 为 长方形 并在 
圆形 方向 和 半径 方向 上 比较 区段 的 强度 
机器 视觉 划痕 检测 的 基本 分析 过程 分为 两步 
首先 确定 检测 产品 表面 是否 有 划痕 其次 在 
确定 被 分析 图像 上 存在 划痕 之后 对 划痕 
进行 提取 划痕 检测 是 工业 生产 中 经常 遇到 
的 问题 在 工业 中 许多 设备 的 零部件 都是 
在 高温 高压 的 环境 中 工作 的 所受 载荷 
复杂 使用 环境 恶劣 故障率 高 造成 的 后果 也 
非常 严重 因此 对 相关 部件 的 缺陷 疲劳 裂纹 
的 产生 扩展 进行 视觉 检测 就 显得 尤为 重要 
划痕 通常 可分为 三大类 第一类 划痕 部分 灰度 值 变化 
并 不明显 整幅 图像 灰度 比较 平均 划痕 面积 也 
比较 小 只有 几个 像素点 灰度 也只 比 周围 图像 
稍低 很难 分辨 可以 对 原 图像 进行 均值 滤波 
得到 较 平滑 的 图像 并与 原 图像 相减 当 
其 差 的 绝对值 大于 阈值 时就/nr 将其 置 为 
目标 并对 所有 的 目标 进行 标记 计算 其 面积 
将 面积 过小 的 目标 去掉 剩下 的 就 标记 
为 划痕 第二类 划痕 各部分 灰度 差异 较大 形状 通常 
呈 长条 形 如果 在 一幅 图像 上 采取 固定 
阈值 分割 则 标记 的 缺陷 部分 会 小于 实际 
部分 由于 这类 图像 的 划痕 狭长 单纯 依靠 灰度 
检测 会将 缺陷 延伸 部分 漏掉 对于 这类 图像 根据/p 
其/r 特点/n 选择/v 双/n 阈值/n 和/c 缺陷/v 形状/n 特征/n 相/v 
结合/v 的/uj 方法/n 第三类 划痕 从 外观上 较易 辨认 同时 
灰度 变化 跟 周围 区域 对比 也 比较 明显 可以 
选择 较小 的 阈值 精 缺陷 部分 直接 标记 由于 
在 工业 检测 中 图像 的 多样性 对于 每一种 图像 
都要 经过 分析 综合 考虑 各种 手段 来 进行 处理 
达到 效果 一般来说 划痕 部分 的 灰度 值 和 周围 
正常 部分 相比 要 暗 也 就是 划痕 部分 灰度 
值 偏小 而且 大多 都是 在 光滑 表面 所以 整幅 
图 的 灰度 变化 总体 来说 非常 均匀 缺乏 纹理 
特征 因此 划痕 的 检测 一般 使用 基于 统计 的 
灰度 特征 或者 阈值 分割 的 方法 将 划痕 部分 
标出 数字相机 传输 接口 比较 http / / blog . csdn . net / douglax 
/ article / details / 9528297 视觉 引导 的 运动 
  如果 你 的 应用 需要 一个 视觉 系统 来 
引导 机器人 那么 必须 知道 视觉 系统 与 运动 系统 
是 如何 集成 的 对于 校准 和 操作 没 集成 
的 运动 系统 与 视觉 系统 是 初步 的 系统 
机械人 或 机构 和 视觉 系统 是 分开 校准 的 
在 操作 中 一台 独立 的 视觉 系统 根据 在 
视觉 坐标系统 中的 已知 位置 计算出 零件 位置 的 偏移量 
然后 发 指令 给 机器人 的 手臂 在 离 初始化 
编程 的 拾取 位置 的 偏移量 处 拾取 零件 由于 
机器 视觉 系统 可以 快速 获取 大量 信息 而且 易于 
自动 处理 也 易于 同 设计 信息 以及 加工 控制 
信息 集成 因此 在 现代 自动化 生产 过程 中 人们 
将 机器 视觉 系统 广泛 地 用于 装配 定位 产品 
质量 检测 产品 识别 产品 尺寸 测量 等 方面 机器 
视觉 系统 的 特点 是 提高 生产 的 柔性 和 
自动化 程度 在 一些 不 适合 于 人工 作业 的 
危险 工作 环境 或 人工 视觉 难以 满足 要求 的 
场合 常用 机器 视觉 来 替代 人工 视觉 同时 在 
大批量 工业 生产 过程 中 用 人工 视觉 检查 产品 
质量 效率 低 且 精度 不高 用 机器 视觉 检测 
方法 可以 大大 提高 生产 效率 和 生产 的 自动化 
程度 而且 机器 视觉 易于 实现 信息 集成 是 实现 
计算机 集成 制造 的 基础 技术 使用 机器 视觉 系统 
五个 主要 原因 重复性 机器 可以 以 相同 的 方法 
一次 一次 的 完成 检测 工作 而 不会 感到疲倦 与此相反 
人眼/n 每次/r 检测/vn 产品/n 时/n 都会/i 有/v 细微/a 的/uj 不同/a 
即使 产品 时 完全 相同 的 精确性 由于 人眼 有 
物理 条件 的 限制 在 精确性 上 机器 有 明显 
的 优点 即使 人眼 依靠 放大镜 或 显微镜 来 检测 
产品 机器 仍然 会 更加 精确 因为 它 的 精度 
能够 达到 千分之 一英寸 速度 机器 能够 更快 的 检测 
产品 特别 是 当 检测 高速 运动 的 物体 时 
比如说 生产线 上 机器 能够 提高 生产 效率 客观性 人眼 
检测 还有 一个 致命 的 缺陷 就是 情绪 带来 的 
主观性 检测 结果 会 随 工人 心情 的 好坏 产生 
变化 而 机器 没有 喜怒哀乐 检测 的 结果 自然 非常 
可观 可靠 成本 由于 机器 比人 快 一台 自动 检测 
机器 能够 承担 好 几个人 的 任务 而且 机器 不需要 
停顿 不会 生病 能够 连续 工作 所以 能够 极大 的 
提高 生产 效率 工业 相机 作为 机器 视觉 系统 中 
的 核心 部件 对于 机器 视觉 系统 的 重要性 是 
不言而喻 的 按照 分类 的 不同 相机 又 分为 很多 
种 1 彩色 相机 黑白 相机 黑白 相机 直接 将 
光强 信号 转换成 图像 灰度 值 生成 的 是 灰度 
图像 彩色/n 相机/d 能/v 获得/v 景/ng 物中/i 红/a 绿 蓝 
三个 分量 的 光信号 输出 彩色图像 彩色 相机 能够 提供 
比 黑白 相机 更多 的 图像 信息 彩色 相机 的 
实现 方法 主要 有 两种 棱镜/nz 分光/n 法和/nr Bayer/w 滤波/n 
法/l 棱镜 分光 彩色 相机 利用 光学 透镜 将 入射 
光线 的 R G B 分量 分离 在 三片 传感器 
上 分别 将 三种 颜色 的 光信号 转换成 电信号 最后 
对 输出 的 数字 信号 进行 合成 得到 彩色图像 2 
CCD 相机 CMOS 相机 芯片 主要 差异 在于 将 光 
转换 为 电信号 的 方式 对于 CCD 传感器 光 照射到 
像 元上/nr 像 元 产生 电荷 电荷 通过 少量 的 
输出 电极 传输 并 转化 为 电流 缓冲 信号 输出 
对于 CMOS 传感器 每个 像 元 自己 完成 电荷 到 
电压 的 转换 同时 产生 数字信号 3 按 靶 面 
类型 分类 面 阵 相机 线 阵 相机 相机 不仅 
可以 根据 传感器 技术 进行 区分 还 可以 根据 传感器 
架构 进行 区分 有 两种 主要 的 传感器 架构 面 
扫描 和线/nr 扫描 面 扫描 相机 通常用于 输出 直接 在 
监视器 上 显示 的 场合 线 扫描 相机 用于 连续 
运动 物体 成像 或 需要 连续 的 高分辨率 成像 的 
场合 线 扫描 相机 的 一个 自然 的 应用 是 
静止 画面 Web Inspection 中 要对 连续 产品 进行 成像 
比如 纺织 纸张 玻璃 钢板 等 同时 线 扫描 相机 
同样 适用 于 电子 行业 的 非 静止 画面 检测 
像 德国 Kappa 相机 根据 它 CCD 的 规格 也会 
有线 阵 面 阵 之分 4 按 输出 模式 分类 
模拟 相机 数字相机 根据 相机 数据 输出 模式 的 不同 
分为 模拟 相机 和 数字相机 模拟 相机 输出 模拟信号 数字相机 
输出 数字信号 模拟 相机 和 数字 相机 还 可以 进一步 
细分 比如 德国 Kappa 相机 按 数据接口 又 包括 USB 
2.0 接口 EE 1394 a / Fire Wire Camera Link 
接口 千兆 以太网 接口 模拟 相机 分为 逐行扫描 和 隔行扫描 
两种 隔行扫描 相机 又 包含 EIA NTSC CCIR PAL 等 
标准 制式 有关 接口 技术 的 详细 介绍 请 参考 
采集卡 及 采集 技术 部分 在 选择 一款 工业 数字相机 
时 物体 成像 的 速度 必须 充分 考虑 好 例如 
假设在 拍摄 过程 中 物体 在 曝光 中 没有 移动 
可用 相对 简单 和 便宜 的 工业 相机 对于 静止 
或 缓慢 移动 的 物体 面 阵 工业 相机 最 
适合 于对/nr 静止 或 移动 缓慢 的 物体 成像 因为 
整个 面 阵 区域 必须 一次 曝光 在 曝光 时间 
当中 任何 的 移动 会 导致 图像 的 模糊 但是 
运动 模糊 可以 通过 减少 曝光 时间 或 使用 闪光灯 
来 控制 对于 快速 移动 的 物体 当 对 运动 
的 物体 使用 一个 面 阵 工业 相机 时 需要 
考虑 在 曝光 时间 当中 处于 工业 相机 当中 的 
运动 对象 数量 还 需要 考虑 物体 上 能用 一个 
像素 表征 的 最小 特征 也 就是 对象 分辨率 在 
采集 运动 物体 的 图像 的 拇指 规则 就是 曝光 
必须 发生 在 采集 物体 移动 量小 于 一个 像素 
的 时间 内 如果 你 采集 的 物体 是 在 
以 1 厘米 / 秒 的 速度 匀速 移动 而且 
物体 分辨率 已经 设置 为 1 pixel / mm 那么 
需要 的 最大 曝光 时间 是 1/10 每秒 因为 物体 
移动 一个 距离 恰好 等于 相机 传感器 中 的 一个 
像素 当/t 使用/v 最大/a 曝光/nz 时间/n 时/n 这里/r 会/v 有/v 
一定/d 数量/n 的/uj 模糊/a 在 这种 情况 下 一般 倾向于 
将 曝光 时间 设置 的 比 最大值 要快 比如 1/20 
每秒 就能 保持 物体 在 移动 半个 像素 内 成像 
如果 同样 的 物体 以 1 厘米 / 秒 的 
速度 移动 物体 分辨率 为 1 pixel / 微米 那么 
一秒 中所 需要 的 最大 曝光 是 1/10000 . 曝光 
设置 的 对 快 取决于 所 采用 的 相机 还有 
你 是否 能够 给 物体 足够 的 光来 获得 一幅 
好 的 图像 机器 视觉 在 中国 的 发展 已 
有 十余个 年头 过去 十年 是 机器 视觉 产业 在 
中国 市场 发展 最快 的 十年 经过 一定 时期 的 
普及 与 推广 机器 视觉 已 逐渐 为 广大 客户 
所 熟知 而且 应用 范围 也 逐渐 开始 扩大 大 
规模 的 应用 领域 由 起初 的 电子 制药 等 
行业 逐步 扩展 到 包装 印刷 等 各大 领域 机器 
视觉 市场 在 发展 机器 视觉 技术 在 进步 在 
以 不断 满足 客户 发展 需求 的 同时 最 基本 
需求 的 满足 也是 不容忽视 的 一直以来 我国 的 科技 
水平 都 处于 不断 发展 的 阶段 机器 视觉 技术 
作为 科技 发展 的 产物 为了 更好 的 适应 行业 
需求 也 在 不断 的 优化 升级 纵观 行业 发展 
国内 机器 视觉 市场 机遇 与 挑战 并存 而 行业 
技术 的 升级 更 显得 尤为 必要 了 为 顺应 
行业 发展 趋势 国内 的 机器 视觉 技术 就 需要 
通过 以下 四 大要 素来 升级 一 系统 操作 简单 
方便 技术参数 简单化 处理 技术 方便化 是 系统 操作 最为 
关键 也 是 核心 的 要素 机器 视觉 技术 虽然 
属于 高 科技 技术 在 运作 过程 中 还 需要 
依靠 不断 调整 各种 参数 来 达到 最好 的 效果 
但是 目前 来说 操作 人员 大都 技术 水平 有限 因此 
系统 简化 是 大多数 客户 的 较 价格 与 质量 
之后 的 基本 需求 而 系统 简化 主要 包括 的 
是 检测 操作 的 简化 与 图像 处理 的 简化 
二 系统 长期 可维护性 一个 好 的 系统 不仅 要 
考虑 使用性 还应 考虑 其 在 长期 运 做 中的 
可维护性 机器 视觉 技术 的 稳定性 可靠性 足以 使 系统 
在 实际 应用 中 更好 的 发挥 功能 优势 提供 
有力 的 技术 支持 三 检测 技术 稳定 可靠 在 
工业 生产 过程 中 由于 被 测 物体 的 多样化 
以及 机械 的 误差 影响 使得 整个 检测 过程 很难 
是 维持 在 平稳 的 状态 因此 这 就 需要 
机器 视觉 技术 有 很高 的 稳定性 从 光源 照明 
图像 采集 到 图像 存储 与 处理 都 要有 可以 
在 任何 环境 下 持续 运作 的 适应 能力 同时 
还 要尽 量能 采集 到 突出 检测 对象 的 图像 
这样 才能 给 出 最为 稳定 准确 清晰 的 检测 
结果 才能 为 生产 或 质检 工作 提供 技术 支持 
四 系统性 价 比值 高在/nr 保障 质量 的 基础 上 
客户 最为 关心 的 莫过于 价格 问题 机器 视觉 技术 
不断 升级 本 是 件 对 客户 有益 的 事 
但 如果 只是 一味 的 使用 昂贵 的 部件 就 
会 造成 价格 的 大幅 提升 对于 大 部分 的 
用户 来说 无疑 增添 了 负担 性能好 价格低 的 系统 
才是 能 满足 最 基本 需求 的 因此 性价比 是 
衡量 一个 系统 的 重要 标志 也是 客户 选择 产品 
最 重要 的 指标 之一 中国 是 世界 的 制造 
工厂 目前 全球 几乎 所有 的 知名 企业 都把/nr 生产 
工厂 放在 中国 机器 作业 代替 人员 操作 已 成为 
市场 优胜劣汰 的 必然 选择 机器 视觉 产业 在 中国 
有着 非常 广阔 而 光明 的 前景 也使 中国 机器 
视觉 市场 成为 全球 机器 视觉 企业 的 竞争 焦点 
因此 我们 要 抓住 时机 不断 引进 各项 高新技术 促进 
行业 的 快速 发展 在 机器 视觉 系统 中 获得 
一 张高 质量 的 可 处理 的 图像 是 至关重要 
系统 之所以 成功 首先 要 保证 图像 质量 好 特征 
明显 一个 机器 视觉 项目 之所以 失败 大 部分 情况 
是 由于 图像 质量 不好 特征 不明显 引起 的 要 
保证 好 的 图像 必须 要 选择 一个 合适 的 
光源 光源 选型 基本要素     对比度 对比度 对 机器 
视觉 来说 非常 重要 机器 视觉 应用 的 照明 的 
最重要 的 任务 就是 使 需要 被 观察 的 特征 
与 需要 被 忽略 的 图像 特征 之间 产生 最大 
的 对比度 从而 易于 特征 的 区分 对比度 定义 为 
在 特征 与 其 周围 的 区域 之间 有 足够 
的 灰 度量 区别 好 的 照明 应该 能够 保证需要 
检测 的 特征 突出 于 其他 背景 亮度 当 选择 
两种 光源 的 时候 最佳 的 选择 是 选择 更 
亮 的 那个 当 光源 不够 亮 时 可能 有 
三种 不好 的 情况 会 出现 第一 相机 的 信噪比 
不够 由于 光源 的 亮度 不够 图像 的 对比度 必然 
不够 在 图像 上 出现 噪声 的 可能性 也 随即 
增大 其次 光源 的 亮度 不够 必然 要 加大 光圈 
从而 减小 了 景深 另外 当 光源 的 亮度 不够 
的 时候 自然光 等 随机 光 对 系统 的 影响 
会 最大 鲁棒性 另 一个 测试 好 光源 的 方法 
是 看 光源 是否 对 部件 的 位置 敏感度 最小 
当 光源 放置 在 摄像头 视野 的 不同 区域 或 
不同 角度 时 结果 图像 应 该不会 随之 变化 方向性 
很强 的 光源 增大 了 对 高亮 区域 的 镜面反射 
发生 的 可能性 这 不利于 后面 的 特征 提取 好 
的 光源 需要 能够 使 你 需要 寻找 的 特征 
非常 明显 除了 是 摄像头 能够 拍摄到 部件 外 好 
的 光源 应该 能够 产生 最大 的 对比度 亮度 足够 
且 对 部件 的 位置 变化 不 敏感 光源 选择 
好了 剩 下来 的 工作 就 容易 多了 具体 的 
光源 选取 方法 还 在于 试验 的 实践 经验 1 
环形 光源 提供 不同 照射 角度 不同颜色 组合 更能 突出 
物体 的 三维 信息 高密度 LED 阵列 高亮度 多种 紧凑 
设计 节省 安装 空间 解决 对角 照射 阴影 问题 可 
选配 漫射 板 导 光 光线 均匀 扩散 应用于 PCB 
基板 检测 IC 元件 检测 显微镜 照明 液晶 校正 塑胶 
容器 检测 集成电路 印字 检查 2 背光源 用 高密度 LED 
阵列 面 提供 高 强度 背光 照明 能 突出 物体 
的 外形 轮廓 特征 尤其 适合 作为 显微镜 的 载物台 
红白 两用 背光源 红蓝 多用 背光源 能 调配出 不同颜色 满足 
不 同被 测 物 多色 要求 应用于 机械零件 尺寸 的 
测量 电子元件 IC 的 外型 检测 胶片 污点 检测 透明 
物体 划痕 检测 等 3 条形 光源 较大 方形 结构 
被 测 物 的 首选 光源 颜色 可 根据 需求 
搭配 自由组合 照射 角度 与 安装 随意 可调 应用于 金属表面 
检查 图像 扫描 表面 裂缝 检测 LCD 面板 检测 等 
4 同轴 光源   光 的 一致性 好 可以 消除 
物体 表面 不 平整 引起 的 阴影 从而 减少 干扰 
部分 采用 分光镜 设计 减少 光 损失 提高 成像 清晰度 
均匀 照射 物体 表面 应用于 系列 光源 最适宜 用于 反射度 
极高 的 物体 如 金属 玻璃 胶片 晶片 等 表面 
的 划伤 检测 芯片 和 硅晶片 的 破损 检测 Mark 
点 定位 包装 条码 识别 5 AOI 专用 光源 不同 
角度 的 三 色光 照明 照射 凸显 焊锡 三维 信息 
外加 漫射 板 导 光 减少 反光 不同 角度 组合 
应用于 电路板 焊锡 检测 6 球 积分 光源 具有 积分 
效果 的 半 球面 内壁 均匀 反射 从 底部 360度 
发射出 的 光线 使 整个 图像 的 照度 十分 均匀 
应用于 合于 曲面 表面 凹凸 弧形 表面 检测 或 金属 
玻璃 表面 反光 较强 的 物体 表面 检测 7 线形 
光源 超 高亮度 采用 柱面透镜 聚光 适用 于 各种 流水线 
连续 检测 场合 阵 相机 照明 专用 AOI 专用 8 
点光源 大功率 LED 体积小 发光强度 高 光纤 卤素灯 的 替代品 
尤其 适合 作为 镜头 的 同轴 光源 等 高效 散热装置 
大大提高 光源 的 使用 寿命 应用于 适合 远 心 镜头 
使用 用于 芯片 检测 Mark 点 定位 晶片 及 液晶 
玻璃 底 基 校正 9 组合 条形 光源 四边 配置 
条形 光 每边 照明 独立 可控 可 根据 被 测 
物 要求 调整 所需 照明 角度 适用性 广 应用 案例 
CB 基板 检测 IC 元件 检测 焊锡 检查 Mark 点 
定位 显微镜 照明 包装 条码 照明 球形 物体 照明 等 
10 对位 光源 对位 速度快 视场 大 精度高 体积小 便于 
检测 集成 亮度高 可 选配 辅助 环形 光源 是 全自动 
电路板 印刷机 对位 的 专用 光源 工业 镜头 的 选型 
镜头 的 选择 过程 是 将 镜头 各项 参数 逐步 
明确化 的 过程 作为 成像 器件 镜头 通常 与 光源 
相机 一起 构成 一个 完整 的 图像 采集 系统 因此 
镜头 的 选择 受到 整个 系统 要求 的 制约 一般 
地 可以 按 以下 几个 方面 来 进行 分析 考虑 
一 波长 变焦 与否 镜头 的 工作 波长 和 是否 
需要 变焦 是 比较 容易 先 确定 下来 的 成像 
过程 中 需要 改变 放大 倍率 的 应用 采用 变焦镜头 
否则 采用 定 焦 镜头 就 可以 了 关于 镜头 
的 工作 波长 常见 的 是 可见光 波段 也有 其他 
波段 的 应用 是否 需要 另外 采取 滤光 措施 单色光 
还是 多 色光 能否 有效 避开 杂散光 的 影响 把这 
几个 问题 考虑 清楚 综合 衡量 后再 确定 镜头 的 
工作 波长 二 特殊 要求 优先 考虑 结合 实际 的 
应用 特点 可能会 有 特殊 的 要求 应该 先予 明确 
下来 例如 是否 有 测量 功能 是否 需要 使用 远 
心 镜头 成像 的 景深 是否 很大 等等 景深 往往 
不 被 重视 但是 它 却是 任何 成像 系统 都 
必须 考虑 的 三 工作距离 焦距 工作距离 和 焦距 往往 
结合 起来 考虑 一般地 可以 采用 这个 思路 先 明确 
系统 的 分辨率 结合 CCD 像素 尺寸 就能 知道 放大 
倍率 再结合 空间结构 约束 就能 知道 大概 的 物像 距离 
进一步 估算 镜头 的 焦距 所以 镜头 的 焦距 是 
和 镜头 的 工作 距离 系统 分辨率 及 CCD 像素 
尺寸 相关 的 四 像 面 大小 和像质/nr 所选 镜头 
的 像 面 大小 要与 相机 感 光面 大小 兼容 
遵循 大 的 兼容 小 的 原则 相机 感 光面 
不能 超出 镜头 标示 的 像 面 尺寸 否则 边缘 
视场 的 像 质 不保 像 质 的 要求 主要 
关注 MTF 和 畸变 两项 在 测量 应用 中 尤其 
应该 重视 畸变 五 光圈 和 接口 镜头 的 光圈 
主要 影响 像 面的 亮度 但是 现在 的 机器 视觉 
中 最终 的 图像 亮度 是由 很多 因素 共同 决定 
的 光圈 相机 增益 积分 时间 光源 等等 所以 为了 
获得 必要 的 图像 亮度 有比 较多 的 环节 供 
调整 镜头 的 接口 指 它 与 相机 的 连接 
接口 它们 两者 需 匹配 不能 直接 匹配 就 需 
考虑 转接 六 镜头 的 其它 类别 线 阵 镜头 
配 合线 阵 相机 使用 的 镜头 采用 扫描式 的 
工作 方式 需要 镜头 与 目标 相对运动 每次 曝光 成像 
一条线 多次 曝光 组成 一幅 图像 线 阵 扫描 成像 
的 特点 CCD 线 阵 方向 的 图像 分辨率 固定 
而在 目标 的 运动 方向 上 空间 采样频率 与 运动 
的 相对速度 有关 从 成像 的 角度 讲 线 阵 
镜头 和 其它 类型 的 镜头 并 没有 本质 的 
差异 只是 对 镜头 的 使用 方式 不同 而已 显微 
镜头 为了 看清 目标 的 细节 特征 显微 镜头 一般 
使用 在 高 分辨率 的 场合 它们 基本 的 特点 
是 工作 距离 短 放大 倍率 高 视场 小 远 
心 镜头 物/zg 方主/nr 光线/n 平行/n 于光轴/nr 主/b 光线/n 的/uj 
会聚/v 中心/n 位于/v 物/zg 方/n 无限/v 远/a 称之为 物 方远 
心 光路 作用 可以 消除 物 方 由于 调焦 不准确 
带来 的 测量误差 机器 视觉 光源 的 作用 机器 视觉 
光源 是 机器 视觉 系统 中 不可或缺 的 一部分 它 
的 选择 直接 影响 输入 数据 的 质量 和 应用 
效果 由于 没有 通用 的 机器 视觉 照明设备 所以 针对 
每个 特定 的 应用 实例 要 选择 相应 的 照明 
装置 以 达到 最 理想 的 应用 效果 照明 系统 
是 机器 视觉 系统 最为 关键 的 部分 之一 直接 
关系 到 系统 的 成败 好 的 打光 设计 能够 
使 我们 得到 一幅 好 的 图象 从而 改善 整个 
系统 的 分辨率 简化 软件 的 运算 而 不 适合 
的 照明 则 会 引起 很多 的 问题 1 照亮 
目标 提 高亮度 2 用作 测量 的 工具 或 参照物 
3 克服 环境光 干扰 保证 图象 稳定性 4 形成 有利于 
图象处理 的 效果 机器 视觉 光源 的 选择 1 物体 
表面 如 使 机器 视觉 照明 复杂化 的 是 物体 
表面 的 变化 造成 的 如果 所有 物体 表面 是 
相同 的 在 解决 实际 应用 的 时候 就 没有 
必要 采用 不同 的 光源 技术 了 但 由于 物体 
表面 的 不同 因此 需要 观察 视野 中 的 物体 
表面 并 分析 光源 入射 的 反映 2 控制 反射 
如果 反射光 可以 控制 图像 就 可以 控制 在 涉及 
机器 视觉 应用 的 光源 设计 时 最 重要 的 
原则 就是 控制 好 哪里 的 光源 反 射到 透镜 
及 反射 的 程度 机器 视觉 的 光源 设计 就是 
对 反射 的 研究 在 视觉 应用 中 当 观测 
一个 物体 以 决定 需要 什么样 的 光源 的 时候 
首先 要 弄清楚 如何 才能 让 物体 显现 我 如何 
才能 应用 光源 使 必须 的 光反射 到 镜头 中 
以 获得 物体 外表 3 光源 可 预测   当 
光源 入 射到 物体 表面 的 时候 光源 的 反映 
是 可以 预测 的 光源 可能 被 吸收 或 被 
反射 光 可能 被 完全 吸收 黑 金属材料 表面 难以 
照亮 或者 被 部分 吸收 造成了 颜色 的 变化 及 
亮度 的 不同 不被 吸收 的 光 就 会被 反射 
入射光 的 角度 等于 反射光 的 角度 这个 科学 的 
定律 大大 简化 了 机器 视觉 光源 因为 理想 的 
想定 的 效果 可以 通过 控制 光源 而 实现 一幅 
好 的 图象 具备 以下 条件 1 .   对比度 
明显 目标 与 背景 的 边界 清晰 2 .   
背景 尽量 淡化 而且 均匀 不 干扰 图象处理 3 . 
  与 颜色 有关 的 还需要 颜色 真实 亮度 适中 
不 过度 曝光 4 .   整体 亮度 均匀 整体 
不 均匀 灰度 差 不影响 图象处理 工业 相机 是 机器 
视觉 系统 中 的 一个 关键 组件 其 最 本质 
的 功能 就是 将 光信号 转变 成 小型 高清 工业 
相机 为 有序 的 电信号 工业 相机 又 俗称 摄像机 
相比 于 传统 的 民用 相机 摄像机 而言 它 具有 
高的/nr 图像 稳定性 高/a 传输/vn 能力/n 和高/nr 抗干扰/l 能力/n 等/u 
目前 市面 上 工业 相机 大多 是 基于 CCD 或 
CMOS 芯片 的 相机 CCD 是 目前 机器 视觉 最为 
常用 的 图像 传感器 它 集 光电 转换 及 电荷 
存贮 电荷转移 信号 读取 于 一体 是 典型 的 固体 
成像 器件 CCD 的 突出 特点 是 以 电荷 作为 
信号 而 不同 于 其它 器件 是以 电流 或者 电压 
为 信号 这类 成像 器件 通过 光电 转换 形 成电 
荷包 而后 在 驱动 脉冲 的 作用 下 转移 放大 
输出 图像 信号 典型 的 CCD 相机 由 光学 镜头 
时序 及 同步 信号 发生器 垂直 驱动器 模拟 / 数字 
信号 处理 电路 组成 CCD 作为 一 种 功能 器件 
与 真空管 相比 具有 无 灼伤 无 滞后 低电压 工作 
低功耗 等 优点 CMOS 图像 传感器 的 开发 最早 出现 
在 20 世纪 70 年代 初 90 年代 初期 随着 
超大规模 集成电路 VLSI 制造 工艺 技术 的 发展 CMOS 图像 
传感器 得到 迅速 发展 CMOS 图像 传感器 将 光敏 元 
阵列 图像 信号 放大器 信号 读取 电路 模数转换 电路 图像 
信号处理器 及 控制器 集成 在 一块 芯片 上 还 具有 
局部 像素 的 编程 随机 访问 的 优点 目前 CMOS 
图像 传感器 以其 良好 的 集成性 低功耗 高速传输/nr 和宽/nr 动态/n 
范围/n 等/u 特点/n 在/p 高分辨率/n 和/c 高速/d 场合/n 得到/v 了/ul 
广泛/a 的/uj 应用/v 由于 光电 二极管 不能 检测 精确 的 
颜色 颜色 信息 通过 与 滤色镜 或 棱镜 结合 被 
再现 颜色 信息 能 通过 使用 红色 R 绿色 G 
蓝色 B 基色 滤色镜 的 基色 模式 或者 通过 使用 
蓝绿色 C 紫红色 M 黄色 Y 绿色 G 的 四色 
滤色镜 经过 计算 创建 图像 的 补色 滤色镜 模式 获得 
总之 基色 模式 创建 的 图像 比较 暗 但是 由于 
它 更高 的 色彩 饱和度 表现出 更 精确 的 颜色 
这个 特点 即 高度 的 色彩 再现 能力 工业 相机 
与 民用 相机 的 区别 在于 1 工业 相机 的 
快门 时间 非常 短 可以 抓拍 快速 运动 的 物体 
举个 例子 把 一张 名片 贴在 电风扇 扇叶 上 以 
最大 速度 旋转 用 工业 相机 抓拍 一张 图像 能 
清晰 的 辨别 名片 上 的 字体 然而 用 一般 
的 相机 来 拍摄 是 根本 不 可能 达到 这样 
效果 的 2 工业 相机 的 图像 传感器 是 逐行扫描 
的 而 一般 摄像机 的 图像 传感器 是 隔行扫描 的 
甚至 是 隔 三行 扫描 的 逐行扫描 的 图像 传感器 
生产 比较 困难 成品率 低 出货量 也 少 世界 上 
只有 少数 几个 公司 能够 提供 这 类产品 例如 Dalsa 
Sony 而且 价格 昂贵 百万级 逐行扫描 CCD 的 价格 从 
人民币 4000元 到 3 万元 不等 其中 的 技术 参数 
也 颇为 繁多 只有 采用 逐行扫描 的 图像 传感器 才 
有可能 清晰 抓拍 快速 运功 物体 3 工业 相机 的 
拍摄 速度 远远 高于 一般 相机 工业 相机 每秒 可 
以 拍摄 十幅 到 几百 幅 的 图片 而 一般 
相机 只能 拍摄 2 3幅 图像 相差 甚远 4 工业 
相机 输出 的 是 裸 数据 其 光谱 范围 也 
往往 比 较宽 比较 适合 进行 高 质量 的 图像 
处理 算法 普遍 应用 于 机器 视觉 系统 中 而 
一般 相机 DSC 拍摄 的 图片 其 光谱 范围 只 
适合 人眼 视觉 并且 经过 了 MPEG 压缩 图像 质量 
也 较差 机器 视觉 工作 原理 机器 视觉 检测 系统 
采用 CCD 照相机 将被 检测 的 目标 转换成 图像 信号 
传送 给 专用 的 图像 处理 系统 根据 像素 分布 
和 亮度 颜色 等 信息 转变成 数字化 信号 图像 处理 
系统 对 这些 信号 进行 各种 运 算来 抽取 目标 
的 机器 视觉 特征 如 面积 数量 位置 长度 再 
根据 预设 的 允许 度 和 其他 条件 输出 结果 
包括 尺寸 角度 个数 合格 / 不 合格 有 / 
无 等 实现 自动 识别 功能 机器 视觉 特点 1 
机器 视觉 是 一项 综合 技术 其中 包括 数字 图像 
处理 技术 机械 工程 技术 控制技术 电光源 照明 技术 光学 
成像 技术 传感器 技术 模拟 与 数字 视频 技术 计算机硬件 
技术 人机 接口技术 等 这些 技术 在 机器 视觉 中式 
并列 关系 相互 协调 应用 才能 构成 一个 成功 的 
工业 机器 视觉 应用 系统 2 机器 视觉 更 强调 
实用性 要求 能够 适应 工业 生产 中 恶劣 的 环境 
要有 合理 的 性价比 要有 通用 的 工业 接口 能够 
由 普通 工作 来 操作 有/v 较高/i 的/uj 容错/a 能力/n 
和/c 安全性/nr 不会 破坏 工业产品 必须/d 有/v 较强/i 的/uj 通用性/n 
和/c 可移植性/l 3 对 机器 视觉 工程师 来说 不仅 要 
具有 研究 数学 理论 和 编制 计算机 软件 的 能力 
更 需要 的 是 光 机 电 一体化 的 综合 
能力 4 机器 视觉 更 强调 实时性 要求/v 高/a 速度/n 
和/c 高精度/n 因而 计算机 视觉 和 数字 图像 处理 中 
的 许多 技术 目前 还 难以 应用于 机器 视觉 他们 
的 发展 速度 远远 超过 其 在 工业 生产 中 
的 实际 应用 速度 在 设计 工业 机器 视觉 系统 
时 使用 数字 相机 还 是 模拟 相机 是 最重要 
的 决定 之一 二者 各 有其 优缺点 但 归根结底 要 
根据 成本 和 一些 关键 操作 因素 来 选择 如 
时了/nr 这些 因素 哪 一项 技术 更 有优势 就会 明朗 
化了 对于 一 项 应用 选择 什么样 的 相机 合适 
取决于 机器 视觉 系统 想 要 达到 什么 目的 为/p 
机器/n 视觉/n 系统/n 选择/v 相/v 机时/n 要/v 认真/ad 考虑/v 相机/d 
的/uj 性能/n 和/c 成本/n 虽然 模拟 相机 远比 数字相机 便宜 
但 它们 的 分辨率 和 图像 质量 较低 所以 可能会 
被 局限 在 要求 不 太高 的 应用 中 数字相机 
比 模拟 相机 昂贵 但/c 它们/r 的/uj 高/a 成本/n 可能/v 
值得/v 为/p 要求/v 高/a 速度/n 高 准确度 高 精度 的 
应用 而 付出 机器 视觉 被 应用于 视觉 检测 物体 
识别 自动 质量检验 工艺 控制 参数 测量 和 自动 组装 
等等 许多 领域 在 这些 系统 中 相机 是 决定 
着 成本 速度 和 精度 的 关键 组件 模拟/v 相机/d 
和/c 数字相机/n 都/d 可以/c 用/p 在/p 这些/r 系统/n 中/f 而 
了解 相机 的 性能 规格 及其 在 各种 视觉 任务 
中 的 重要性 对于 把 机器 视觉 存 诸 工业 
控制 是 最 基本 的 一步 机器 视觉 系统 包括 
三 个 主要 部分 相机 采集卡 和 存储 并 分析 
图像 以 提取 信息 的 计算机 或 图像 处理器 图像 
处理器 和 采集卡 属于 相对 容易 选择 的 电子 装置 
它们 的 主要 参数 是 存储 能力 和 处理 速度 
相机 是 这些 系统 中 情况 最为 复杂 的 部分 
现代 的 模拟 和 数字相机 采用 电荷耦合 器件 CCD 或 
互补 金属 氧化物 半导体 CMOS 芯片 来 捕猎 图像 并 
生成 电子 信号 发送 给 计算机 进行 处理 CCD/w 和/c 
CMOS/w 芯片/n 在/p 内部/f 都/d 生成/v 模拟/v 信息/n 因此 模拟 
相机 和 数字相机 之前 主要 区别 在于 图像 是 在哪里 
被 数字化 的 数字相机 在 相机 里 将 信号 数字化 
并且 通过 串行 总线接口 比如 fireWire USB Camera Link Gigabit 
Ethernet 将 信号 以 数字 方式 传 输给 计算机 或 
图像 处理器 面 在 另一方面 模拟 相机 系统 并 不是 
在 其 内部 将 图像 信号 数字化 数字化 是 邮 
计算机 完成 的 所以 模拟 信息 是 通过 同轴电缆 而 
进行 传输 的 尽管 两种 方法 都 能够 有效 地 
传输 信号 但 模拟 可能 会 由于 工厂 内 其他 
设备 的 电磁 干扰 而 造成 失真 随着 噪声 水平 
的 提高 模拟 相机 的 动态 范围 原始 信号 与 
噪声 之比 会 降低 动态/n 范围/n 决定了/i 有/v 多少/m 信息/n 
能够/v 被/p 从/p 相机/d 传/n 输给/v 计算机/n 数字信号 不受 电器 
声 影响 因此 数字相机 的 动态 范围 更高 能够 向 
计算机 传输 更 精确 的 信号 数字相机 的 典型 动态 
范围 在 55 分贝 到 60 分贝 左右 而 模拟 
相机 为 45 分贝 到 50 分贝 左右 所以 电缆 
的 长度 和 类型 也 影响 信号 的 精度 模拟 
相机 的 电缆 简单 而且 便宜 在 电 噪声 导致 
信号 严重 失真 之前 能够 将 信号 可靠地 300米 以上 
由于 数字相机 传输 的 是 高带宽 信号 电缆 的 长度 
受 电缆 中 信号 良师 衰减 损失 的 水平 的 
限制 根据 使用 的 通信 协议 的 不同 LED 光源 
的 颜分/nr 主要 分为 四种 红色 蓝色 绿色 白色 其他 
颜色 橙色 红外 紫外 用户 可以 根据 使用 环境 及 
使用 范围 的 不同 选择 合适 的 光源 种类 颜色 
以及 照明 方式 使得 检测 系统 达到 最佳 的 性能 
获得 最优 的 检测 结果 一般 有红/nr 绿 蓝 白 
红外 其中 红色 用得 最多 因为 红色 LED 成本低 并且 
黑白 CCD 芯片 对 660nm 光线 最 敏感 兰色 适合 
检测 物体 表面质量 因为 波长 短 当然 紫外 的 散射 
性 更好 因为 波长 更短 而 白色 是 中性 颜色 
适 合拍 彩色图片 或 着 被 测 物体 的 颜色 
在 变化 的 绿色 的 亮度 很高 且 波长 和 
兰色 接近 所以 有时 可 用 绿色 代替 兰色 红外 
用于 半 透明 等 的 物体 检测 波长 越长 穿透力 
越强 波长 越短 扩散性 越好 蓝色 光源 下 白色 紫色 
蓝色 等 表现 较 亮 有效 反射 蓝光 从中 也 
可以 发现 白色 无论 在 什么 光照 下 都成 成 
明显 的 白色 是 因为 其 本身 不 吸收光谱 任何 
光谱 照射到 其 表面 上 都会 被 反射 相反 黑色 
材料 则 无论什么 光照 射上去 都不 反光 成 黑色 另外 
光 的 衍 射中 衍射 条纹 的 宽度 与 波长 
是 成正比 的 如 单缝衍射 中央 明纹的/nr 半角 宽度 为 
sin θ = λ / a   λ 为 波长 
a 为 单缝/nr 宽度 而 我们 拍摄 物体 时 其 
表面 通常 都 不是 十分 光滑 总是 会 产生 衍射 
所以 使用 红光 时 衍射 会比 使用 蓝光 时的/nr 衍射 
要强 因此 通常用 红光 能 得到 更多 的 表面 细节 
而 使用 蓝光 会 得到 更大 的 对比度 如果 进行 
彩色 成像 则 通常 考虑 使用 白色 光源 白色 LED 
光源 的 制造 有 几种 方法 一种 是 使用 白色 
LED 制造 发光管/n 内部/f 有/v 蓝色/n 发光/v 芯片/n 与/p 受到/v 
激发/v 后/f 发出/v 黄色/n 的/uj 荧光粉/n 发出 的 光 按 
一定 比例 叠加 到一起 看起来 形成 了 白色 这是 最为 
觉 常见 的 形式 这种 光源 只能 通过 调节 供电 
电压 或 电流 来 改变 发光强度 颜色 是 恒定 的 
另一种 方法 是 使用 红绿蓝 三种 不同 颜色 的 LED 
按 某种 顺序 或 方式 在 光源 上 进行 排列 
并 分别 控制 每种 颜色 的 度 使用 相对 方便 
此 种方法 通常 使用 四个 单色 RGGB 颗粒 进行 排列 
所以 其中 的 绿色 分量 通常 会 比较 足 我们 
通常 所见 的 彩色显示器 彩色 电视机 手机 屏 等 显示 
设备 也是 基于 RGGB 此种 方式 进行 排列 的 之所以 
多加 一个 绿色 的 G 通量 是 因为 人眼 对 
绿色 光源 波长 555nm 最 敏感 机器 视觉 应用 中 
注意 目标 颜色 与 光源 颜色 的 搭配 我们 看到 
某个 物体 成某/nr 种颜色 是 因为 其 反射 了 对应 
的 光谱 即 如果 目标 是 红色 的 如果 是 
白色 的 光照 射 或者 是 红色 的 光照 射 
都有 红色 的 光 返回 那么 在 黑白 相机 中 
将会 是 白色 的 如果 是 蓝色 的 光来 拍摄 
则 没有 红色 的 光 可以 反射 那么 其 将会 
是 黑色 的 基于 这样 的 理论 我们 拍摄 物体 
时 如果 要将 某 种颜色 打成 白色 那么 就 得 
使用 与此 颜色 相同 或 相似 的 光源 光 的 
波长 一样 或 接近 而 如果 要 打成 黑色 则 
需要 选择 与 目标 颜色 波长 差 较大 的 光源 
而在 镜头 的 分辨率 能 分别 最小 两点 之间 的 
距离 公式 δ = 0.61 λ / NA λ 为 
波长 NA 为 数值孔径 从中 可以 知道 当 NA 固 
定时 使用 不同 波长 颜色 的 光 时 镜头 的 
分辨率 是 不 一样 的 因此 在 使用 光源 时 
同 一支 镜头 在 蓝色 光照 下 的 分辨率 通常 
会 高于 红色 光照 条件 使用 机器 视觉 LED 光源 
一般 都 提供 几种 供电 方式 可供 选择 常见 的 
有 5V 12V 24V 直流电源 功率 根据 所用 LED 的 
数量 多少 而定 电压 不同 会 引起 什么 区别 呢 
这 和 LED 的 特性 有关 一般 LED 的 工作 
电 流在 10mA ~ 25mA 特别 亮 的 LED 可达 
50mA 甚至 更高 而 LED 的 电压 降 一般 为 
1.8 V 到 3.3 V 因此 通常 每个 LED 上都 
串联 一个 电阻 分压 电阻 这样 才能 保证 LED 发光 
均匀 而且在 电压波动 时 不易 损毁 那么 由于 LED 上 
的 电压 降 和 通过 的 电流 都是 恒定 的 
供电 电源 的 电压 不 同时 多余 的 电压 是 
串联 的 电阻 所 承担 的 例如 给 一颗 1.8 
V 15mA 的 LED 用 24V 供电 时 需要 串联 
1.48 K Ω 24 1.8 / 0.015 = 1480 此时 
电阻 的 功耗 是 0.015 * 0.015 * 1480 = 
0.333 W 如果 使用 多个 LED 颗粒 组合成 光源 光源 
会 发出 很高 的 热量 这时 必须 采用 风扇 等 
强制 散热 手段 否则 光源 的 寿命 会 很短 而 
同样 的 LED 使用 5V 供电 时 串联 电阻 R 
= 213 Ω 电阻 的 功耗 为 0.048 W 和 
24V 供电 时差 了 近 7倍 这时 仅仅 靠 对流 
产生 的 散热 效应 就 足够 了 不必 用 强制 
散热 的 方法 既然 用 低电压 有好处 为什么 还 使用 
12V 24V 呢 原因 很 简单 由于 机器 视觉 用于 
工业生产 线上 一般 24V 是 标准 配置 另外 电压 高时/nr 
搞 干扰 能力强 而 低压 则 对 电源 和 工作 
环境 提出 了 更高 的 要求 是 使用 恒流源 还是 
恒压源 环境温度 有何 影响 等 均 需要 考虑 常亮 还是 
闪亮 图片 亮 暗 的 控制 除了 快门 光圈 增益 
外 还 可以 控制 光源 的 亮 暗 以及 亮 
的 时间 来 控制 我们 先 来看 一下 常亮 光源 
和 闪光 的 优缺点 如果 保持 稳定 的 供电 那么 
光源 的 亮度 基本 不变 如果 供电 使用 脉冲 脉冲 
的 时间 宽度 和 LED 本身 的 响应 时间 决定 
了 发光 时间 若 是 这个 时间 小于 相机 快门 
开启 的 时间 那么 相机 的 曝光 程度 是由 光源 
发出 的 光通量 决定 的 如果 大于 快门 时间 则由 
快门 决定 一般 情况 下 如果 需要 频闪 光源 时间 
小于 快门速度 传统 上 使用 普通 的 照相机 闪光灯 使用 
LED 强度 不够 所以 以往 针对于 LED 光源 来讲 闪 
光是 指 光源 开启 时间 大于 快门 时间 的 情况 
频闪 控制器 通常 采用 的 是 超 电流 的 方法 
即 控制 通过 LED 的 电流 超出 标定 的 值 
多少 倍 而使 亮度 增加 但是 这种 高 负荷 的 
工作 状态 由于 功率 过大 发热 严重 对 光源 的 
寿命 影响 很大 所以 通常 通电 时间 都 很短 减少 
光源 的 工作 时间 以此来 延长 光源 的 使用 时间 
使用 频闪 控制器 可以获得 高亮 的 光源 可以 减少 环境 
的 影响 可以 减少 快门 时间 从而 减少 动态拍摄 时的拖/nr 
尾 现象 而且 如果 只 需要 平常 的 亮度 时 
可以 使用 低 亮度 的 LED 发光管 可以 降低 成本 
但是 使用 频闪 时 电源 的 成本 会 提高 而且 
同步 问题 也 必须 考虑 频闪 控制器 可以 从 外部 
输出 触 发信号 来 触发 光源 也 可以 从 外部 
输出 触 发信号 来 触发 频闪 控制器 本身 输出 触 
发信号 同时 触发 光源 与 相机 这样 能 达到 光源 
与 相机 触发 的 同步 机器 视觉 光源 的 选择 
是 为了 将被 测 物体 与 背景 尽量 明显 分别 
获得 高 品质 高对比度 的 图像 而且 视觉 光源 的 
正确 选择 直接影响 系统 的 成败 处理 精度 和 速度 
荣旭/nr 机器 视觉 光源 具有 亮度 可调 低温 均衡 无闪烁 
无 阴影 亮度 色温 一致 使用 寿命 长 等 优点 
本公司 致力于 不断 开发 新的 产品 和 完善 其 功能 
提供 多种 机器 视觉 光源 产品 免费 提供 测试 并 
协助 提供 整体 解决 方案 它 已 广泛 应用 于 
各个 行业 光源 的 种类 视觉 系统 使用 的 光源 
主要 有三种 高频 荧光灯 光纤 卤素灯 LED 发 光二极管 照明 
理想 的 视觉 光源 应该 是 明亮 均匀 稳定 的 
高频 荧光灯 发光 原理 和 日光灯 类似 只是 灯管 是 
工业 级 产品 并且 采用 高频 电源 也 就是 光源 
闪烁 的 频率 远高于 相机 采集 图象 的 频率 消除 
图像 的 闪烁 适合 大面积 照明 亮度高 且 成本 较低 
但 需要 隔 一定 时间 换 灯管 一定 要 进口 
的 才 过关 国内 的 高频 做 的 不行 老 
有 闪烁 国外 最快 可 做到 60KHz 光纤 卤素灯 卤素灯 
也叫 光纤 光源 因为 光线 是 通过 光纤 传输 的 
适合 小 范围 的 高亮度 照明 它 真正 发光 的 
是 卤素灯 炮 功率 很大 可达 100 多瓦 高亮度 卤素灯 
炮 通过 光学 反射 和 一个 专门 的 透镜 系统 
进一步 聚焦 提高 光源 亮度 卤素灯 还有 一个 名字 叫 
冷光源 因为 通过 光纤 传输 之后 出 光 的 这 
一头 是 不热 的 适合 对 环境 温度 比较 敏感 
的 场合 比如 二次元 量测仪 的 照明 但 它 的 
缺点 就是 卤素灯 炮 寿命 只有 2000 小时 左右 LED 
灯 使用寿命 约 10000 － 30000 小时 可以 使用 多个 
LED 达到 高亮度 同时 可组合 不同 的 形状 响应 速度 
快 波长 可以 根据 用途 选择 机器 视觉 LED 光源 
的 性能 优势 可 制成 各种 形状 尺寸 及 各种 
照射 角度 可 根据 需要 制成 各种 颜色 并 可以 
随时 调节 亮度 通过 散热装置 散热 效果 更好 光亮度 更 
稳定 使用 寿命 长 约 3万 小时 间断 使用 寿命 
更长 反应 快捷 可在 10 微秒 或 更短 的 时间 
内 达到 最大 亮度 电源 带有 外 触发 可以 通过 
计算机 控制 起动 速度快 可以 用作 频闪灯 运行 成本 低 
寿命长 的 LED 会在 综合 成本 和 性能 方面 体现 
出 更大 的 优势 可 根据 客户 的 需要 进行 
特殊 设计 工业 相机 由 两 大 基本 部件 组成 
图像 感光 芯片 和 数字化 的 数据接口 图像/n 感光/n 芯片/n 
由/p 数十/m 万至/nr 数百/m 万个/nr 像素/n 组成/v 像素 把 光线 
的 强度 转换 为 电压 输出 这些 像素 的 电压 
被以 灰度 值 的 形式 输出 所有 像素 放在 一起 
就 形成 了 图像 发送给 计算机 数据接口 主要 有 USB 
2.0 1394 和 千兆 以太网 三种 CCD CMOS 是 现在 
普遍 采用 的 两种 图像 工艺技术 它们 之间 的 主要 
差异 在于 传送 方式 的 不同 虽然 CCD 在 影像 
品质 分辨率 大小 灵敏度 等 方面 优于 CMOS 而 CMOS 
具有 低 成本 低功耗 以及 高整/nr 合度 的 特点 随着 
CCD 与 CMOS 技术 的 不断 进步 两者 之间 的 
差异 将 逐步 减小 1 分辨率 差异 由于 CMOS 的 
每个 像素 都比 CCD 复杂 且 其 像素 尺寸 很难 
达到 CCD 的 水平 因此 当 我们 比较 相同 尺寸 
的 CCD 与 CMOS 时 CCD 的 分辨率 通常 会 
优于 CMOS 传感器 的 水平 同 尺寸 大小 CCD 的 
分辨率 要 高于 CMOS 也 就是说 成像 质量 要 优于 
CMOS 2 噪声 差异 由于 CMOS 的 每个 感 光二极管 
都 需要 搭配 一个 放大器 若以 百万 像素 计算 的话 
那就/nr 需要 上 百万个 的 放大器 然而 放大器 属于 模拟电路 
很难 让 所得 的 每个 结果 都 保持 一致 而 
CCD 只 需要 一个 放大器 放在 芯片 边缘 与 CMOS 
相比 它 的 噪声 相对 减少 很多 大大 提高 了 
图像 品质 3 灵敏度 差异 因为 CMOS 信号 是以 点 
为 单位 的 电荷 信号 而 CCD 是以 行为 单位 
的 电流 信号 读取 信号 时 CMOS 是 点 直接 
读取 信号 CCD 则是 行 间接 读取 信号 因此在 像素 
尺寸 相同 的 情况 下 CMOS 的 灵敏度 要 低于 
CCD 4 耗电量 差异 CMOS 采用 主动 式 图像 采集 
方式 感 光二极管 所 产生 的 电荷 会 直接 由 
旁边 的 电晶体 放大 输出 而 CCD 为 被动式 采集 
方式 必须 外加 12 ~ 18V 的 电压 以使 每个 
像素 中的 电荷 移送 到 传输通道 因此 CCD 就必须 设计 
更 精密 的 电源 线路 和 耐压 强度 这样 使得 
CCD 的 耗电量 远远 高出 CMOS 根据 计算 CMOS 的 
耗电量 仅 是 CCD 的 1/8 ~ 1/10 5 成本差异 
由于 CMOS 与 现有 的 大 规模 集成电路 生产工艺 相同 
可以 一次 全部 整合 周边 设施 到 传感器 芯片 中 
大大 节省 了 外围 芯片 的 成本 而 CCD 采用 
电荷 传递 的 方式 输出 数据 只要 其中 有 一个 
像素 传送 出现 故障 就 会 导致 一 整排 的 
数据 无法 正常 传送 因此 控制 CCD 的 成品率 比 
CMOS 困难 许多 因此 CCD 的 制造 成本 就 相对 
高于 CMOS 传感器 印刷 包装 行业 品种繁多 印刷品 颜色 与 
形状 多样 部分 产品 的 材质 具有 极高 的 反射度 
并且 表面 印制 了 彩色 图案 如 易拉罐 瓶盖 的 
综合 检测 一直 存在 着 打光 难 的 问题 因此 
对 产品 的 检测 要求 都是/nr 十分 严格 运用 机器 
视觉 技术 能 迅速 准确 的 发现 印刷品 的 各种 
缺陷 机器 视觉 用于 印刷 行业 中 的 质量 检测 
其 基本 的 工作 原理 是 用 摄像机 拍摄 采集 
印刷品 上 的 图像 在 计算机 中 与 该 印品 
的 标准 图像 模板 相匹配 比较 如果 发现 差异 并 
超出 设定 的 公差 范围 即 判 定为 不 合格 
产品 采用/v 检测/vn 系统/n 进行/v 质量/n 检测/vn 可以/c 提供/v 检测/vn 
全/a 过程/n 的/uj 实时/d 报警/n 和/c 详尽/a 完善 的 分析 
报告 外 现场 操作者 还 可以 根据 全自动 检测 系统 
的 实时 报警 及 分析 报告 对 工作 中 出现 
的 问题 进行 相应 的 调整 并且 管理者 还 可以 
依据 检测 结果 的 分析 报告 对 生产 过程 进行 
跟踪 更 有利于 生产 技术 的 管理 也 就是说 质量 
检测 设备 不仅 可以 提升 成品 的 合格率 还 能够 
协助 生产商 改进 工艺流程 建立 质量 管理 体系 达到 一个 
长期 稳定 的 质量 标准   检测 印刷 制品 颜色 
缺陷 检测 如 露 印 检测 浅 印 检测 偏色 
检测 露白 检测 等 材质 缺陷 检测 如 孔洞 检测 
异物 检测 印刷 缺陷 检测 如 残缺 检测 刀 丝 
检测 飞 墨 检测 露 印 检测 套印 误差 检测 
二维码 缺陷 检测 如 重号 检测 偏 位 检测 不匹配 
检测 等 远 心 工业 镜头 主要 是 为 纠正 
传统 工业 镜头 的 视差 而 特殊 设计 的 镜头 
它 可以 在 一定 的 物 距 范围内 使 得到 
的 图像 放大 倍率 不会 随物 距 的 变化 而 
变化 这对 被 测 物 不在 同 一物 面上 的 
情况 是 非常 重要 的 应用 普通 工业 镜头 目标 
物体 越 靠近 镜头 工作距离 越短 所成 的 像 就 
越大 在 使用 普通 镜头 进行 尺寸 测量 时 会 
存在 如下 问题 1 由于 被 测量 物体 不在 同一个 
测量 平面 而 造成 放大 倍率 的 不同 2 镜头 
畸 变大 3 视差 也 就是 当 物 距 变大 
时 对 物体 的 放大倍数 也 改变 4 镜头 的 
解析度 不高 5 由于 视觉 光源 的 几何 特性 而 
造成 的 图像 边缘 位置 的 不确定性 而 远 心 
镜头 就 可以 有效 解决 普通 镜头 存在 的 上述 
问题 而且 没有 此 性质 的 判断 误差 因此 可用在 
高 精度 测量 度量 计量 等 方面 远 心 镜头 
是 一种 高端 的 工业 镜头 通常 有 比较 出众 
的 像 质 特别 适合 于 尺寸 测量 的 应用 
无论何处 在 特定 的 工作 距离 重新 调焦 后会 有 
相同 的 放大 倍率 因为 远 心 镜头 的 最大 
视场 范围 直接 与 镜头 的 光 栏 接近 程度 
有关 镜头 尺寸 越大 需要 的 现场 就 越大 远 
心 测量 镜头 能 提供 优越 的 影像 质素 畸变 
比 传统 定 焦镜/nr 头小 这种 光学 设计 令 影像 
面 更 对称 可 配合 软件 进行 精密测量 普通 镜头 
优点 成本低 实用 用途 广 普通 镜头 缺点 放大 倍率 
会 有变化 有 视差 普通 镜头 应用 大 物体 成像 
远 心 镜头 的 优点 放大倍数 恒定 不随 景深 变化 
而 变化 无 视差 远 心 镜头 的 缺点 成本高 
尺寸 大 重量 重 远 心 镜头 的 应用 度量衡 
方面 基于 CCD 方面 的 测量 微晶/n 学/n 镜头/n 的/uj 
焦距/n 分为/v 像/v 方/n 焦距/n 和物方/nr 焦距/n 像/v 方/n 焦距/n 
是/v 像/v 方/n 主面/b 到/v 像/v 方/n 焦点/n 的/uj 距离/n 
同样 物/zg 方/n 焦距/n 就是/d 物/zg 方/n 主面/b 到/v 物/zg 
方/n 焦点/n 的/uj 距离/n 是 像 方 焦距 入射/v 光线/n 
为/p 平行线/n 时/n 通过/p 透镜/n 光线/n 的/uj 交/v 点到/i 透镜/n 
的/uj 距离/n ./i 当/t 点光源/n 距/n 透镜/n 某一/i 距离/n 时/n 
折射/v 光线/n 为/p 平行线/n 这个 距离 叫 物 方 焦距 
. 物 方远 心 镜头 及 像 方远 心 镜头 
介绍 在 测量 系统 中 物 距 常 发生 变化 
从而 使 像 高 发生变化 所以 测得 的 物体 尺寸 
也 发生 变化 即 产生 了 测量误差 另一方面 即使 物 
距 是 固定 的 也会 因为 CCD 敏感 表面 不易 
精确 调整 在 像 平面 上 同样 亲 会 产生 
测量误差 为了 解决 上述 问题 可以 采用 远 心 镜头 
其中 像 方远 心 镜头 可以 消除 物 距 变化 
带来 的 测量误差 而 物 方远 心 镜头 则 可以 
消除 CCD 位置 不准 带来 的 测量误差 1 物 方远 
心 镜头 物 方远 心 镜头 是 将 孔径光阑 放置 
在 光学系统 的 像 方 焦平面 上 示出 当 孔径光阑 
放在 像 方 焦平面 上 时 即使 物 距 发生 
改变 像距 也 发生 改变 但 像 高并/nr 没有 发生 
改变 即 测得 的 物体 尺寸 不会 变化 清楚 地 
显示 出 物 方远 心 光路 的 原理 其中 孔径光阑 
位于 像 方焦面 上 物 方主/nr 光线 平行 于光轴 如果 
物体 B1B2 正确 地 位于 与 CCD 表面 M 共轭 
的 位置 A1 上 那么 它 在 CCD 表面上 的 
像 为 M1M2 如果 由于 物 距 改变 物体 B1B2 
不在 位置 A1 而在 位置 A2 那么 它 的 像 
B ´ 1B ´ 2 偏离 CCD 表面 B ´ 
1 和B´/nr 2 点在 CCD 表面上 投影 为 一个 弥散 
斑 其 中心 仍 为 M1 和M/nr 2点 按此 投 
影像 读出 的 长度 仍 为 M2M1 这就是说 上述 物 
距 改变 并不 影响 测量 精度 2 像 方远 心 
光路 像 方远 心 光路 是 将 孔径光阑 放置 在 
光学系统 的 物 方 焦平面 上 而 像 方的主/nr 光线 
平行 于光轴 如 所示 如果 物体 B1B2 的 像 B 
´ 1B ´ 2 不与 CCD 表面 M 重合 则在 
CCD 表面 M 上 得到 的 是 B ´ 1B 
´ 2 的 投 影像 其 散 斑 中心 距离 
M1M2 ＝ B ´ 1B ´ 2 因此 不管/c CCD/w 
表面/n M/w 是否/v 和B´/nr 1B/i ´/i 2/m 相/v 重合/vn 它 
和 标尺 所 对应 的 长度 总是 B1B2 所以 没有 
测量误差 双侧 远 心 镜头 曝光 时间 Exposure time 为了 
将 光 投射 到 照相 感光 材料 的 感光 面上 
快门 所要 打开 的 时间 视 照相 感光 材料 的 
感光度 和对/nr 感光 面上 的 照度 而定 相机 曝光 时间 
是 指 从快 门 打开 到 关闭 的 时间 间隔 
在 这 一段 时间 内 物体 可以 在 底片 上 
留下 影像 曝光 时间 是 看 需要 而定 的 没有 
长短 好坏 的 说法 只 有 需要 的 讲法 比如 
你 拍 星星 的 轨迹 就 需要 很长 的 曝光 
时间 可能 是 几个 小时 这样 星星 的 长时间 运动轨迹 
就会 在 底片 上 成像 如果 你 要 拍 飞驰 
的 汽车 清晰 的 身影 就要 用 很短 的 时间 
通常 是 几千 分之 一秒 曝光 时间 长 的话 进 
的 光 就多 适合 光线 条件 比 较差 的 情况 
曝光 时间 短 则 适合 光线 比较好 的 情况 有的是 
0 . 04ms 93ms 有的是 1/71000 s 2s 有的是 1/7000 
s 7s 等等 曝光 时间 主要 是 指 底片 的 
感光 时间 曝光 时间 越长 底片 上 生成 的 相片 
越亮/nr 相反 越暗/nr 在 外界 光线 比较 暗 的 情况 
下 一般 要求 延长 曝光 时间 比如说 夜景 1 . 
分辨率 Resolution 相机 每次 采集 图像 的 像素 点数 Pixels 
对于 数字相机 机 一般 是 直接 与 光电 传感器 的 
像 元数/nr 对应 的 对于 模拟 相 机机 则是 取决于 
视频 制式 PAL 制为 768 * 576 NTSC 制为 640 
* 480 2 . 像素 深度 Pixel Depth 即 每 
像素 数据 的 位数 一般 常用 的 是 8Bit 对于 
数字相机 机 一般 还会有 10Bit 12Bit 等 3 . 最大 
帧率 Frame Rate / 行频 Line Rate 相 机机 采集 
传输 图像 的 速率 对于 面 阵 相 机机 一般 
为 每秒 采集 的 帧数 Frames / Sec . 对于 
线 阵 相机 为 每秒 采集 的 行数 Lines / 
Sec . 4 . 曝光 方式 Exposure 和 快门 速度 
Shutter 对于 线 阵 相 机机 都是 逐行 曝光 的 
方式 可以 选择 固定 行频 和外/nr 触发 同步 的 采集 
方式 曝光 时间 可以 与 行 周期 一致 也 可以 
设定 一个 固定 的 时间 面/n 阵/n 相/v 机机/i 有帧/nr 
曝光/nz 场 曝光 和 滚动 行 曝光 等 几种 常见 
方式 数字相机 一般 都 提供 外 触发 采 图 的 
功能 快门 速度 一般 可到 10 微秒 高速相机 机 还 
可以 更快 可以 看到 ccd 芯片 的 工业 相机 外观 
5 . 像 元 尺寸 Pixel Size 像 元大 小和 
像 元数/nr 分辨率 共同 决定 了 相机 机 靶 面的 
大小 目前 数字相机 机 像 元 尺寸 一般 为 3 
μ m 10 μ m 一般 像 元 尺寸 越小 
制造 难度 越大 图像 质量 也 越 不容易 提高 6 
. 光谱 响应 特性 Spectral Range 是 指 该 像 
元 传感器 对 不同 光波 的 敏感 特性 一般 响应 
范围 是 350nm － 1000nm 一些 相 机机 在 靶 
面前 加 了 一个 滤镜 滤除 红外 光线 如果 系统 
需要 对 红外 感光 时可/nr 去掉 该 滤镜 工业 镜头 
倍率 及 视场 范围 的 计算 方法 一 工业 镜头 
光学 放大 倍率 的 计算 方法 二 工业 镜头 对应 
视场 范围 的 计算 方法 附 常见 工业 相机 传感器 
尺寸 大小 1/4 ″ 3 . 2mm × 2 . 
4mm 1/3 ″ 4 . 8mm × 3 . 6mm 
1/2 ″ 6 . 4mm × 4 . 8mm 2/3 
″ 8.8 × 6 . 6mm 1 ″ 12 . 
8mm × 9 . 6mm 机器 视觉 系统 中 工业 
镜头 相当 于人 的 眼睛 其 主要 作用 是 将 
目标 的 光学图像 聚焦 在 图像 传感器 相机 的 光敏 
面 阵 上 视觉 系统 处理 的 所有 图像 信息 
均 通过 工业 镜头 得到 工业 镜头 的 质量 直接 
影响 到 视觉 系统 的 整体 性能 下面 对 机器 
视觉 工业 镜头 的 相关 专业 术语 做 以 详解 
一 远 心 光学系统 指 主 光线 平行 于 工业 
镜头 光学 轴 的 光学系统 而光 从 物体 朝向 镜头 
发出 与 光学 轴 保持 平行 甚至在 轴 外 同样 
如此 则 称为 物 体侧 远 心 光学系统 二 远 
心 镜头 远 心 镜头 指 主 光线 与 镜头 
光源 平行 的 工业 镜头 有物 方远 心 像 方远 
心 双侧 远 心 普通 工业 镜头 主 光线 与 
镜头 光轴 有 角度 因此 工件 上下 移动 时 像 
的 大小 有变化 双侧 远 心 境头 主 物 方 
像 方均/nr 为主 光线 与 光轴 平行 光圈 可变 可以 
得到 高的/nr 景深 比 物 方远 心 境头 更能 得到 
稳定 的 像 最 适合 于 测量用 图像处理 光学系统 但是/c 
大型/b 化/n 成本/n 高物/nr 方远/i 心/n 境头/i 只是/c 物/zg 方主/nr 
光线/n 与/p 镜头/n 主轴/n 平行/n 工件/n 上下/f 变化/vn 图像 的 
大小 基本 不会 变化 使用 同轴 落 射 照 明时 
的 必要条件 小型化/n 亦可/v 对应/vn 像/v 方远/i 心/n 境头/i 只是/c 
像/v 方主/nr 光线/n 与/p 镜头/n 光轴/n 平行/n 相机/d 侧/v 即使/c 
有/v 安装/v 个体/n 差/a 也 可以 吸收 摄影 倍率 的 
变化 用于 色 偏移 补偿 摄像机 本应 都 采用 这种 
镜头 三 远 心 光学系统 的 特色 优点 更小 的 
尺寸 减少 镜头 数量 可 降低 成本 缺点 上下 移动 
物体 表面 时 会 改变 物体 尺寸 或 位置 优点 
上下 移动 物体 表面 时 不会 改变 物体 尺寸 或 
位置 使用 同轴 照 明时 可使用 更小 的 尺寸 缺点 
未使用 同轴 照 明时 大于 标准 镜头 的 尺寸 四 
远 心 远 心 度 是 指 物体 的 倍率 
误差 倍率 误差 越小 远 心 度 越高 远 心 
度 有 各种 不同 的 用途 在 镜头 使用 前 
把握 远 心 度 很重要 远 心 镜头 的 主 
光线 与 镜头 的 光轴 平行 远 心 度 不好 
远 心 镜头 的 使用 效果 就 不好 远 心 
度 可以用 下图 进行 简单 的 确认 五 分辨率 μ 
m 光 学系 能力 的 尺度 表示 黑白 格状 图案 
通过 镜头 观察 时 1mm 中 可以 分辨 观察到 黑白 
条纹 的 最多 对数 分辨率 为 两点 间 在 无法 
识别 前 能 靠近 的 最近 距离 测量 值 例如 
1 μ m 的 分辨率 代表 两点 间 在 无法 
识别 前 能 靠近 的 最近 距离 为 1 μ 
m 以下 为 根据 镜头 的 无 相差 光 衍射 
情况 计算 理论 分辨率 的 公式 六 分辨力 Lines ／ 
mm 分辩 力 指 黑白 网 线图 镜头 里 影像 
内 1mm 面积 可 识别 的 黑白 两 色 条纹 
数 分辨力 的 单位 为 线条 / mm 例如 100 
线条 / mm 代表 可 识别 黑白 间距 1 / 
100mm 10 μ m 黑白 线条 的 宽度 为 1 
/ 200mm 5 μ m 七 水平 TV 分辨率 TV 
线条 宽度 里 的 黑白 水平线 总 条数 相当于 电视机 
屏幕 垂直 高度 的 高度 值 屏幕 的 垂直 与 
水平 长度 比率 通常 为 3 4 因此 水平 宽度 
里 的 总 条数 为 3/4 电视机 水平 分辨率 为 
240TV 条 线 电视机 屏幕 水平 宽度 的 总 条数 
为 320条 线 测量 镜头 的 分辨率 时 一组 黑色 
与 白色 线条 应 视为 一条线 但是 在 电视机 分辨率 
线条 方面 一组 视为 2TV 线条 八 失真 % 失 
真为 光学 轴 外 的 直 型 物体 呈现 曲线 
时的/nr 镜头 像差 镜头 失真 也 称为 镜头 畸变 即 
光学 透镜 固有 的 透视 失真 的 总称 可分为 枕 
形 失真 和 桶形 失真 直线 朝向 中心 的 失真 
情况 为 枕 形 失真 Pincushion Distortion 向外 扩张 的 
失真 称为 桶形 失真 Barrel Distortion 如下 图示 九 TV 
失真 % TV 屏幕 上 的 影像 失真 数值 越 
接近 零 牲 能 越高 十 电视 失真 实际 边长 
的 歪曲 形状 与 理想 的 形状 的 百分比 算出 
的 值 十一 孔径 效率 边际 光量 % 孔径 效率 
为 使用 镜头 拍摄 均匀 亮度 的 物体 时 成像 
盘 光学 轴 与 四周 区域 之间 的 亮度 差异 
单位 为 百分比 % 假设 中央 亮度 为 100 为 
镜头 的 光学 特征 之一 十二 遮蔽 % 遮蔽 为 
使用 镜头 与 CCD TV 镜头 拍摄 均匀 亮度 的 
物体 时 电视机 屏幕 中央 与 边缘 之间 的 亮度 
差异 单位 为 百分比 % 通常 使用 受 光 组件 
与 CCD 组件 的 功率 比 计算 此 百分比 遮蔽 
意指 镜头 与 TV 镜头 的 整体 表现 可使用 远 
心 光学系统 以 缩小 遮蔽 的 情况 十三 色差 在 
镜头 光学 统 中 形成 影像 的 位置 与 影像 
放大 倍率 随 光线 波长 的 不同 而 不同 不同 
波长 的 光线 有 不同 的 颜色 这 叫做 色彩 
失真 光学 轴上 的 失真 叫做 色彩 失真 放大 倍率 
的 差异 则 叫做 放大 倍率 色彩 失真 十四 工作距离 
WD mm 工作距离 指 镜头 第一个 工作面 到 被 测 
物体 的 距离 十五 物像 间 距离 O / I 
Object to Imager OI 指 物体 到 结 像 平面 
的 距离 十六 焦距 f mm 后 焦距 / 前 
焦距 焦距 为 光学系统 的 主 光 点到 焦点 的 
距离 从/p 最后/f 一片/m 镜头/n 的/uj 顶点/n 到/v 后/f 焦点/n 
的/uj 距离/n 为 后 焦距 从 第一片 镜头 的 顶点 
到 前 焦点 的 距离 为 前 焦距 十七 景深 
深度/ns 为/p 与/p 物体/n 从/p 最佳/z 焦点/n 前后/f 移动/vn 时．/nr 
出现/v 最/d 锐利/a 焦点/n 的/uj 最近/f 点/m 与/p 最远点/n 之间/f 
的/uj 距离/n 物 体侧 的 深度 范围 称为 景深 同样 
照相机 侧 的 范围 称为 焦点 深度 具体 的 景深 
的 值 多少 略有不同 景深 Depth of Field 可以 用 
以下 的 计算 式 计算出来 景深 = 2 x Permissible 
COC x 实效 F / 光学 倍率 2 = 允许 
误差值 / NA x 光学 倍率 使用 的 是 0 
. 04mm 的 Permissible COC 通过 镜头 的 影像 理论 
土 会 形成 点状 清晰 影像 上 出现 可 接受 
的 摸 糊 情况 称为 可 接受 的 弥散 圆 
十八 焦深 深度 为 当 CCD 从 最佳 焦点 前后 
移动 时 出现 最 锐利 焦点 的 最近 点 与 
最远点 之间 的 距离 影像 侧 的 深度 范围 称为 
焦深 十九 后 截距 mm 从 镜头 安装 座盘 前端 
到 影像 的 距离 二十 C 安装 座 规格 名称 
标准 外径 螺丝 螺纹 数 25 . 4mm 用 后 
截距 U 125.4000 m m 3 2 T h r 
e a d s 17.526 m m 二十一 数值孔径 NA 
NA 当 物体 在 入射光 孔上/nr 产生 的 半角 为 
u 且 折射率 为 n n x sinu 为 物 
体侧 数值 孔经/nr NA 当 物体 在出 射 光 孔上/nr 
产生 的 半角 为 u 且 折射率 为 n n 
x sinu 为 影像 侧 数值孔径 { NA NA = 
n x sinu NA = n x sin u NA 
越高 镜头 的 分辨率 与 亮 度越 佳 如下 图 
所示 入射 角度 u 物 体侧 折射率 n 成像 侧 
的 折射率 n NA = NA x 放大率 对于 Macro 
镜头 NA = M / 2 xF NA = 1/2 
xF NA = NA x 光学 倍率 NA = NA 
x 光学 倍率 二十二 F 值 F No 此 值 
指 镜头 的 亮度 将 镜头 对焦 距离 除以 物 
体侧 的 有效 直径 入射光 孔 直径 Dmm 即可 得到 
此 数值 也 可使用 NA 与 镜头 的 光学 放大 
倍率 β 计算 数值 越小 镜头 越 明亮 F No 
= 焦距 / 入射 孔径 或有 効 口径 = f 
／ D 二十三 有效 F No 此 值 为 具体 
在 有限 距离 内 的 镜头 亮度 指 实际 操作 
时的/nr 亮度 光学 放大 倍率 越高 β 镜头 越暗/nr 实效 
F = 1 + 光学 倍率 x F # 实效 
F = 光学 倍率 / 2NA 二十四 光学 放大 倍率 
β 物体 尺寸 与 影像 尺寸 的 比例 β = 
y ／ y = b ／ a = NA ／ 
NA = CCD 镜头 元件 尺寸 ／ 视野 实际 尺寸 
二十五 光学 倍率 放大 倍率 Magnification 指 的 是 通过 
镜头 的 调整 能够 改变 拍摄 对象 原本 成像 面积 
的 大小 光学 倍率 就是 通过 光学 镜头 变倍 的 
放大 倍率 主 要点 与 成像 的 关系 放大率 是 
指 成像 大小 与 物体 的 比 二十六 电子 放大 
倍率 电子 放大 倍率 为 影 像在 显示器 屏幕 上 
显示 时与 在 CCD 上 显示 相比 的 放大 倍率 
二十七 显示器 放大 倍率 显示器 放大 倍率 为 通过 镜头 
在 显示器 呈现 物体 的 放大 倍率 显示器 放大 倍率 
= 光学 放大 倍率 β x 电子 放大 倍率 计算 
范例 光学 放大 倍率 = 02x CCD 尺寸 1/2 对角线 
8mm 显示器 1/4 电子 放大 倍率 = 14 x25 . 
4/8 = 44.45 显示器 放大 倍率 = 0.2 x 44.45 
= 8.89 倍 1 英寸 = 25 . 44mm ※ 
有时 根据 TV 监视器 的 扫描 状态 以上 的 简易 
计算 将 有 一些 变化 二十八 视野 FOV 视野 指使 
用 照相机 以后 看到 的 物体 侧 的 范围 照相机 
有效 区域 的 纵向 长度 V / 光学 倍率 M 
＝ 视野 V 照相机 有效 区域 的 横向 长度 H 
/ 光学 倍率 M ＝ 视野 H 照相机 有效 区域 
的 纵向 长度 V or H = 照相机 一个 画 
素 的 尺寸 × 有効画/nr 素数 V or H 来 
计算 计算 范例 光学 放大 倍率 = 0.2 x CCD 
尺寸 1／2 长 4 . 8mm 宽 6 . 4mm 
} 视野 尺寸 长度 = 4.8 ／ 0.2 = 24 
mm 宽度 = 6.4 ／ 0.2 = 32 { mm 
二十九 解析度 表示 了 所能 见到 了 2点 的 间隔 
0.61 x 使用 波长 λ / NA = 解析度 μ 
以上 的 计算 方法 理论 上 可以 计算出 解析度 但 
不包括 失真 ※ 使用 波 长为 550nm 三十 解像 力 
１mm 中间 可以 看到 黑 白线 的 条数 单位 lp 
/ mm 三十一 MTF Modulation Transfer Function 成像/v 时/n 再现/v 
物体/n 表面/n 的/uj 浓淡/a 变化/vn 而/c 使用/v 的/uj 空间/n 周/nr 
波数/n 和/c 对比度/l 三十二 成 像圈 成像 尺寸 φ 要 
输入 相机 感应器 尺寸 三十三 照相机 Mount C mount 1 
diameter x 32 TPI FB 17 . 526mm CS mount 
1 diameter x 32 TPI FB 12 . 526mm F 
mount FB 46 . 5mm M72 Mount FB 厂家 各有不同 
三十四 边缘 亮度 相对 照度 是 指 中央 的 照度 
与 周边 的 照度 的 百分比 三十五 通风 盘 及 
解析度 Airy Disk 通风 盘 是 指 通过 没有 失真 
的 镜头 在 将 光 集中 一点 时 实际上 形成 
的 是 一个 同心圆 这个 同心圆 就 叫做 Airy Disk 
Airy Disk 的 半径 r 可以 通过 以下 的 计算 
公式 计算 出来 这个 值 称为 解析度 ｒ = 0.61 
λ / NA Airy Disk 的 半径 随 波长 改变 
而 改变 波长 越长 光/n 越难/nr 集中/v 于/p 一点/m 例 
N A 0.07 的 镜头 波 長 550nm r = 
0.61 * 0.55 / 0.07 = 4.8 μ 三十六 MTF 
及 解析度 MTF Modulation Transfer Function 是 指 物体 表面 
的 浓淡 变化 成像 侧 也被 再现 出来 表示 镜头 
的 成像 性能 成像 再现 物体 的 对比度 的 程度 
测试 对比 性能 用 的 是 具有 特定 空间 周 
波数 的 黑白 间隔 测试 空间 周 波数 是 指 
１mm 的 距离 浓淡 变化 的 程度 所示 黑白 矩阵 
波 黑白 的 对比度 为 100% . 这个 对 象被 
镜头 摄 影后 成像 的 对比度 的 变化 被 定量化 
基本上 不管什么 镜头 都会 出现 对比度 降低 的 情况 最终 
对比度 降低 至 0% 不能 进行 颜色 的 区别 显示 
了 物 体侧 与 成像 侧 的 空间 周 波数 
的 变化 横轴 表示 空间 周 波数 纵轴 表示 亮度 
物 体侧 与 成像 侧 的 对比度 由 A B 
计算出来 MTF 由 A B 的 比率 计算出来 解析度 与 
MTF 的 关系 解析度 是 指 2点 之间 怎样 被 
分离 认识 的 间隔 一般 从 解析度 的 值 可以 
判断 出 镜头 的 好坏 但是 实际 是 MTF 与 
解析度 有 很大 的 关系 显示 了 两个 不同 镜头 
的 MTF 曲线 镜头 a 解析度 低 但是 具有 高对比度 
镜头 b 对比度 低 但是 解析度 高 三十七 微距 镜头 
不用 近 接环 或 特写 镜头 而 实现 扩大 摄影 
为 近 接 摄影 而 设计 的 镜头 有限 远 
= 从 物镜 出 射 的 光 在 一定 距离处 
聚焦 三十八 CCTV 镜头 适合于 广 范围 的 扩大 观察 
需要 严格 精度 时 不适合 无限 远 = 从 物镜 
出 射 的 光 不 聚焦 平行 前进 三十九 变倍 
镜头 焦距 可变 镜头 倍率 摄像 范围 等 可以 简单 
改变 适合 于 需要 寻找 最 合适 摄影 条件 摄影 
距离 镜头 的 焦距 以 便于 操作 的 场合 使用 
不 产生 聚焦 位置 移动 的 称为 变倍 镜头 产生 
焦距 位置 移动 的 称为 变焦镜头 四十 成像 圆 光学系统 
中 成像 圆 的 尺寸 成像 圆 的 尺寸 = 
CCD 对角 尺寸 和 CCD 尺寸 同样 意义 四十一 后 
变倍 镜头 安装 在 CCD 前面 不 改变 工作距离 扩 
大视野 范围 F 值 下降 分辨率 对比度 下降 聚焦 会 
有些 不准 四十二 前 变倍 镜头 安装 在 镜头 前面 
工作距离 会 变化 亮度 不变 扩 大视野 范围 如果 把 
工业 相机 比喻 为人 的 眼睛 工业 镜头 就 好比 
是 眼球 它 直接 关系 到 监看 物体 的 远近 
范围 和 效果 工业 镜头 的 选用 应 考虑 一下 
几点 1 工业 镜头 尺寸 应 等于 或 大于 工业 
相机 成像 面 尺寸 例如 1/3 ″ 工业 相机 可选 
1/3 ″ 1 ″ 整个 范围内 的 工业 镜头 但 
水平 视角 的 大小 都是/nr 一样 的 只是 使用 大于 
1/3 ″ 的 工业 镜头 能够 更多 地 利用 成形 
更 精确 了 工业 镜头 中心 光路 所以 可 提高 
图像 质量 和 分辨率 2 选用 合适 的 工业 镜头 
焦距 焦距 越大 监看 距离 越远 水平 视角 越小 监视 
范围 越窄/nr 焦距 越小 监看 距离 越近/nr 水平 视角 越大 
监视 范围 越宽/nr 工业 镜头 焦距 可 按照 以下 公式 
估算 f = A × L / H f 镜头 
焦距 A 摄像机 CCD 垂 向 尺寸 L 被 摄 
物体 到 镜头 距离 H 被 摄 物体 高度 格式 
1 英寸 2/3 英寸 1/2 英寸 1/3 英寸 1/4 英寸 
CCD 垂 向 尺寸 9.6 ㎜ 6.6 ㎜ 4.8 ㎜ 
3.6 ㎜ 2.7 ㎜ 3 考虑 环境 光线 的 变化 
光线 对 图像 的 采集 效果 起着 十分 重要 的 
作用 一般来说 对于 光线 变化 不 明显 的 环境 常 
选用 手动 光圈 镜头 将 光圈 手 调到 一个 比较 
理想 的 数值 后就/nr 可不 动了 如果 光线 变化 较大 
如 室外 24 小时 监看 应选 用 自动 光圈 能够 
根据 光线 的 明暗 变化 自动 调节 光圈值 的 大小 
保证 图像质量 但 需 注意 的 是 如果 光线 照度 
不均匀 特别 是 监视 目标 与 背景光 反差 较大 时 
采用 自动 光圈 镜头 效果 不 理想 4 考虑 最佳 
监看 范围 因为 工业 镜头 焦距 和 水平 视角 成反比 
因此 既想 看得远 又想 看得 宽阔 和 清晰 这是 无法 
同时 实现 的 每个 焦距 的 镜头 都 只能 在 
一定 范围 内 达到 最佳 的 监看 效果 所以 如果 
监看 的 距离 较远 且 范围 较大 最好 是 增加 
摄像机 的 数量 或 采用 电动 变焦镜头 配合 云台 安装 
5 工业 镜头 接口 与 工业 相机 接口 要 一致 
现在 的 工业 相机 和 工业 镜头 通常 都是 CS 
型 接口 CS 型 摄像机 可以 和 CS 型 C 
型 镜头 配 接 但 和C型/nr 镜头 接 配 时 
必须 在 工业 镜头 和 工业 相机 之间 加 接 
配 环 否则 可能 碰坏 CCD 成像 面的 保护 玻璃 
造成 CCD 工业 相机 的 损坏 C 型 工业 相机 
不能 和 CS 型 工业 镜头 配 接 近年来 利用 
影像 量 测 物品 尺寸 已经 成为 行业 发展 的 
趋势 由于 相机 影像 软件 及 照明 组件 等 设备 
的 进步 让 影像 量 测 物品 尺寸 的 精准 
度 能 媲美 或 更 胜于 手动 或 雷射 光 
的 量 测 整合 光学系统 工程 的 应用 我们 可 
发现 光学 产品 的 优劣 决定 了 系统 的 品质 
而 远 心 镜头 能 执行 各种 形式 的 光学 
量 测 软件 工程 需要 具 高分辨率 高/a 对比性/l 和低/nr 
几何/r 变形/n 特性/n 的/uj 拍摄/v 影像/vn 来/v 判断/v 出/v 精准/n 
的/uj 量/n 测数据/n 除了 光学 设备 本身 的 要求 视角 
的 选择 也 具 相当 的 重要性 在 不 适当 
的 观测 点下 量 测 物体 会 造成 物体 拍摄 
影像 的 扭曲 除了 影像处理 过程 中 会 造成 的 
干扰 系统 设计 者 也 同时 将 光学 配备 本身 
会 影响 光学 量 测 精准性 的 几个 限制 纳入 
考虑 1 ． 由于 物体 摆放 位置 而 造成 的 
不正常 放大 2 ． 影像 的 变形 3 ． 视角 
选择 而 造成 的 误差 4 ． 低 影像 分辨率 
5 ． 不适当 光源 干扰 下 造成 边界 的 不确定性 
远 心 镜头 能 有效 降低 甚至 消除 以上 的 
问题 因此 远 心 镜头 也 成为 精密 光学 量 
测系统 决定性 的 因素 图一 不同 镜头 的 光学 原理 
接下来 我们 简要 的 介绍 远 心 镜头 是 如何 
有效 降低 噪声 及 变形 等 问题 一 放大 倍率 
的 一致性 光学 量 测系统 通常会 自 物体 正上方 拍摄 
不 纪录 物体 侧面 以 测量 其 直径 或 直线 
距离 由于 许多 机械 零组件 无法 精准 定位 或 具有 
高度 差 或 厚度 等 问题 工程师 需要 可靠 光学 
量 测系统 来 判定 影像 与 物体 的 实际 间距 
左上 图为 利用 远 心 镜头 拍摄 圆柱形 零件 上 
的 齿条 左 下图 为 利用 普通 镜头 拍摄 同样 
对象 的 影像 右上图 为 两个 同样 对象 置于 相距 
100 mm 下 利用 远 心 镜头 拍 的 影像 
右 下图 为 同样 情形 下 利用 普通 镜头 捕捉 
的 影像 左图 在 一般 标准 镜头 下 物体 的 
影像 大小 会 因为 与 镜头 的 距离 标记 为 
s 不同 而 改变 同样 的 不同 大小 的 对象 
可能 会受 距离 的 影响 而 看起来 相同 反观 远 
心 镜头 能 容许 一定 程度 的 距离 改变 在 
＂ 限定 景深 ＂ 或 ＂ 远 心 度 区间 
＂ 内 影像 不会 因 物体 与 镜头 间 距离 
的 改变 而 放大 或 缩小 此 特性 是 由于 
在 光学系统 中 只有 与 光轴 平行 的 光束 会被 
接收 因此 远 心 镜头 必须 大于 或 等于 被 
摄 物体 的 直径 Telecentric 这个 单字 是 来自 于 
希腊 前缀 tele 遥远 以及 字根 center 中心 在此 代表 
着 光学系统 的 轴心 代表 此 光学系统 的 入射 光线 
在 通过 远 心 镜头 时是与/nr 镜头 的 中央 轴心 
平行 而 成像 点 会在 远 心 镜头 的 焦点 
平面 上 左图 在 远 心 系统 内 唯有 与 
轴心 平行 或 接近 平行 的 光束 会被 接受 在此 
我们 举 个 简单 的 例子 来 说明 两种 光学系统 
的 差异性 首先 我们 使用 一个 焦距 为 12 毫米 
的 标准 镜头 f = 12 mm 及 以 1/3 
吋 的 侦测器 为 接口 来 测定 放置 于 200 
毫米 s = 200 mm 外 的 20 毫米 H 
= 20 mm 对象 当 对象 位移 1 毫米 ds 
= 1mm 时 其 成像 大 小将 会有 约略 0.1 
毫米 的 差异 如 以下 公式 dH = ds / 
s   x H = 1/200 x 20 mm = 
0 1 mm 在 telecentric 光学系统 下 成像 的 大小 
的 变化 取决于 telecentric 曲线 一个 高 品质 远 心 
镜头 的 曲线 角度 theta 能趋/nr 近于 0.1 ° 0 
0017 rad 代表 当 物体 同样 移动 1 毫米 ds 
= 1mm 时 其 成像 将 只 会有 0.0017 毫米 
的 改变 dH = ds   x theta = 1 
  x 0 0017 mm = 0 0017 mm 因此 
相较 于 标准 镜头 远 心 镜头 能将 放大 倍率 
的 误差 缩小 至 1/10 或 甚至 1/100 上图 远 
心 曲线 决定了 物体 被 移动 时 成像 改变 的 
倍率 Telecentric range 或是 telecentric depth 代表 在 维持 放大 
倍率 下 能 摆设 物体 的 范围 然而 当 物体 
不在 telecentric range 中 并不 代表 镜头 功能 就 不具 
远 心 的 特性 影像 的 变异 程度 主要 是 
由 镜头 的 远 心 曲线 由 前文 的 theta 
所定 出来 的 或 远 心 度 所 决定 这个 
曲线 决定了 物体 在 移动 时 造成 的 影像 误差 
大小 然而 当 主要 入射 光束 与 光轴 平行 时 
成像 的 大小 就 不会 因 物体 置放 的 距离 
而 影响 由于 远 心 镜头 必须 接收 与 光轴 
平行 的 入射 光源 远 心 镜头 的 尺寸 必须 
比 拍摄 物体 还大 因此 远 心 镜头 会比 一般 
镜头 大 且 厚重 成本 也 比 一般 镜头 高 
二 低 失真度 Distortion 影像 的 变形 是 限制 光学 
量 测 准确性 的 重要 因素 之一 再好 的 镜头 
都 还是 无法 避免 然而 有 时候 一 或 数个 
像素 的 错误 可能 具 决定性 的 影响 失真度 也 
可以 说 是 影像 与 实际 画面 的 差异 度 
失真度 是 利用 影像 点 与 影像 中心 位置 的 
距离 和在/nr 标准 影像 未 失真 影像 的 实际 距离 
之间 的 差异 来 计算 举例来说 一个 与 画面 中心 
距离 200 像素 的 标的 在 影像 画面 中 只有 
和 中心点 间隔 198个 像素 其 失真度 则为 distortion = 
198 200 / 200 = 2/200 = 1% 正向 放射性 
失真 Positive radial distortion 也 被 称为 pincushion 性 失真 
负向 放射性 失真 negative radial distortion 可被 另 称为 barrel 
distortion 此类/r 的/uj 变形/n 和/c 影像/vn 中心/n 的/uj 距离/n 大小/b 
有/v 绝对/d 的/uj 关联性/n pincushion type distortion barrel type distortion 
影像 的 失真 可被 视作 真实 画面 经过 二维 几何 
性 变形 的 结果 由于 通常 不是 线性 改变 而是 
二 或 三度 的 多项式 的 变形 影像 会被 些许 
的 拉扯 及 扭曲 一般 的 镜头 具有 数度 或 
数十 度 的 失真度 不过 由于 大 部分 的 影像 
镜头 是 用在 一般 监测 系统 或 普通 摄影 中 
些许 的 影像 失 真是 能被 容许 的 但 此 
瑕疵 让 精密 影像 测 量变 的 困难 高品质 的 
远 心 镜头 只 具有 低于 0.1% 失真度 的 特性 
虽然 这个 数次 听起来 很小 但在 高 分辨率 的 摄影 
机下 仍能 造成 将近 一个 像素 的 误差 因此 许多 
失真 的 影像 会 利用 软件 做 校正 将校 正用 
图样 此 图样 的 精密度 必须 比 置于 镜头 下方 
拍摄 之后 利用软件 计算 影像 校正 公式 将 失真 影像 
做 校正 由于/c 影像/vn 的/uj 失真/v 程度/n 与/p 物体/n 和/c 
镜头/n 的/uj 距离/n 有/v 极高/i 的/uj 关联性/n 因此 必须 格外 
留意 物体 在被 摄影 时与 镜头 的 距离 除了 与 
远 心 镜头 的 距离 以外 物体 和远心/nr 镜头 之间 
必须 尽量 保持 垂直 以 避免 non axially symmetric distortion 
effects 所谓 的 梯形 性 失真 或称 Keystone or thin 
prism effect 是 另一个 影像 测量 系统 中 必须 克服 
的 问题 如果 拍摄 物体 没有 被 放置 于 中心点 
此类 的 影像 通常 据 非 对称性 也 很难 利用软件 
校正 左图 为 一张 使用 远 心 镜头 所 拍摄 
的 不 失真 影像 中 图为 同 一个 画面 但 
具 放射性 变形 的 影像 右 图为 同 一个 画面 
但 具有 梯形 性 失真 的 影像 三 视角 误差 
使用 一般 光学 镜头 拍摄 非 平面 物体 时 物体 
的 大小 会 因为 距离 而 改变 因此 拍摄 管 
柱形 物体 时 管柱 顶端 与 底端 会成 被 拍摄 
成像 为 同心圆 而非 同样 的 双圆 而在 远 心 
镜头 下 圆柱 底端 则 会与 柱顶 的 圆 完全 
重叠 左图 为 一般 镜头 下 常见 的 视角 误差 
右图 由远 心 镜头 所 拍摄 的 影像 能不 会 
出现 此 问题 这个 现象 是 因为 光束 路径 的 
特殊性 而 造成 的 在 一般 光学 镜头 下 没有 
与 光轴 平行 的 纵向 光束 会在 感 光源 件 
上 投 射成 平行 距离 然而 只 些 接收 平行光束 
的 远 心 镜头 则 不会 有 同样 的 问题 
一般 镜头 通常 会将 3D 物体 的 立体影像 包括 空间 
距离 转换成 2D 影像 而 远 心 镜头 只会 纪录 
2D 平面 影像 而 不受 物体 的 立体 距离 影响 
这个 特性 在 影像 量 测系统 中 具有 极大 的 
优势 一般 镜头 会将 光束 镜头 左边 的 纵向 距离 
投 射成 平行 影像 而 远 心 镜头 不会 有 
这种 情形 四 高 影像 分辨率 影像 的 分辨率 是 
利用 CTF contrast transfer function 将 影像 的 对比 清晰度 
量化 使用 不同 分辨率 镜头 拍摄 USAF test pattern 的 
结果 左图 高分辨率 影像 右图 低分辨率 影像 很多 影像 系统 
是 利用 多个 低 画 素 相机 搭配 低分辨率 的 
便宜 镜头 因而 只得到 非常 模糊 的 影像 而/c 远/a 
心/n 镜头/n 的/uj 高分辨率/n 让/v 它/r 能/v 搭配/v 低/a 像素/n 
高/a 分辨率/n 的/uj 相机/d 而/c 依然/d 得到/v 良好/a 的/uj 影像/vn 
品质/n 五 锐利 的 边缘 影像 影像 拍摄 时 背景 
光线 常常 会 让 物体 的 轮廓 变 的 难以 
界定 border effects 主要 是 因为 背景 的 强光 会与 
物体 边缘 的 阴影 重叠 除此之外 当 光线 自 不同 
角度 投射 于 物体 上 时 某些 光源 被 物体 
反射 后 仍然 被 镜头 所 接收 如 下图 十一 
所示 这种 光线 常常 会被 误判 来自 物体 背后 造成 
边缘 判 定上 的 误差 因此当 物体 具有 高度 立体 
特性 时 容易 会 出现 误差 在 一般 镜头 下 
常见 的 Border effects 能在 远 心 镜头 下 有 
明显 的 改善 这个 问题 在 远 心 镜头 下 
能被 明显 的 改善 当 光圈 缩 的 够 小时 
只有 与 光轴 平行 的 光束 能 通过 镜头 因此 
被 物体 反射 的 光线 就 不会 被 接收 影像 
的 精准性 也就 能 明显 提升 如果 想要 更进一步 的 
提升 影像 的 品质 可利用 collimated 或称 telecentric 照明设备 搭配 
远 心 镜头 在 这种 配备 能让 相机 与 光源 
互相配合 让 所有 自 collimated 光源 发出 的 光 都能 
是 被 镜头 所 接收 的 平行光束 让/v 噪声/n 与/p 
曝光/nz 时间/n 都能/nr 大幅/d 的/uj 降低/v 除此之外 边缘 定位 的 
问题 也因 光源 的 控制 而 有 明显 的 改善 
Collimated telecentric 光源 设备 只 提供 与 光轴 接近 平行 
的 光束 一 对 工业 镜头 的 选择 我们 首先 
必须 确定 客户 需求 • 1 视野 范围 光学 放大倍数 
及 期望 的 工作 距离 在 选择 工业 镜头 时 
会 选择 比 被 测 物体 视野 稍大 一点 的 
工业 镜头 以 有利于 运动控制 • 2 景深 要求 对于 
对 景深 有 要求 的 项目 尽可能 使用 小 的 
光圈 在 选择 放大 倍率 的 工业 镜头 时 在 
项目 许可 下 尽可能 选用 低 倍率 工业 镜头 如果 
项目 要求 比较 苛刻 时 倾向 选择 高 景深 的 
尖端 工业 镜头 • 3 芯片 大小 和 相机 接口 
例如 2/3 工业 镜头 支持 最大 的 工业 相机 耙 
面为 2/3 它 是 不能 支持 1 英寸 以上 的 
工业 相机 • 4 注意 与 光源 的 配合 选配 
合适 的 工业 镜头 • 5 可 安装 空间 在 
方案 可选择 情况下 让 客户 更改 设备 尺寸 是 不 
现实 的 二 典型 案例 齿轮 项目 • 1 该 
项目 的 基本 要求 是 检测 齿轮 滚轴 的 安装 
质量 缺失 和 滚轴 的 直径 公差 200 微米 在线 
检测 速度 为 2个 / 秒 • 2 相机 的 
选择 客户 需求 200um 根据 精度 = FOV / Resolution 
测量 齿轮 实际 大小             
为 48mm 加 上边缘 宽度 以 60mm 作为 FOV H 
以此 数据 算 的 相机 Resolution = FOV H / 
精度 = 60 / 0.2 = 300 故 选择 640 
* 480 分辨率 曝光 时间 至少 1/2 的 工业 相机 
• 3 工业 镜头 的 选择 由于 这个 项目 上 
对 检测 环境 没有 特殊 要求 人为 设定 WD = 
200mm CCD   Size 根据 相机 参数 1/4 对角线 长度 
乘 16 转换 为 4mm 再 根据 4 3 的 
比例 勾股定理 算出 水平 的 直角 边为3/nr . 2mm 根据 
Focus level / WD = CCD Size / FOVf = 
CCD Size * WD / FOV = 3.2 * 200/60 
= 10 . 6mm 故 选择 12mm 定 焦可/nr 满足 
需求 综上所述 选择 640 * 480 分辨率 曝光 时间 为 
1/10000 到 30 的 工业 相机 12mm 定 焦 CCTV 
镜头 品牌 产地 镜头 类型 施耐德 Schneider 德 国定 焦 
远 心 卡尔蔡司 Zeiss 德 国定 焦 远 心 μ 
Tron 日本 定 焦 定 倍 远 心 连续 变倍 
Moritex 日本 定 焦 定 倍 远 心 连续/a 变倍/nz 
SPACECOM/w 日本/ns 百万/m 像素/n 定/v 焦/a COMPUTAR/w 日本/ns 百万/m 像素/n 
定/v 焦/a 宾得/nr PENTAX/w 日本/ns 百万/m 像素/n 定/v 焦/a 腾龙/ns 
TAMRON/w 日本/ns 百万/m 像素/n 定/v 焦/a 精工/n 日本/ns 百万/m 像素/n 
定/v 焦/a VST/w 日本/ns 定/v 焦/a 定 倍 远 心 
连续 变倍 KOWA 日本 百万 像素 定 焦视清/nr VICO 日本 
远 心 定 倍 定 焦 百万 像素 定 焦1/nr 
远 心 镜头 运用 目的 远 心 镜 头目 的 
就是 消除 由于 被 测 物体 或 CCD 芯片 离 
镜头 距离 的 远近 不一致 造成 放大 倍率 不一样 分为 
物 方远 心 镜头 像 方远 心 镜头 和 双侧 
远 心 镜头 物 方远 心 镜头 通过 在 像 
方 焦平面 上 放置 孔径光阑 使 物 方主/nr 光线 平行 
于光轴 从而 虽然 物 距 改变 但 成像 位置 不变 
像 方远 心 镜头 通过 在 物 方 焦平面 上 
放置 孔径光阑 使 像 方主/nr 光线 平行 于光轴 从而 虽然 
CCD 芯片 的 安装 位置 有 改变 在 CCD 芯片 
上 投影 成像 大小 不变 双侧 远 心 镜头 则是 
兼有 以上 两种 特点 但 结构 相对 复杂 Q 远 
心 镜头 为何 价格 高 有何 优点 A   远 
心 镜头 的 设计 是 采 Telecentric 原理 低 失真 
无 视角 误差 较 适合 工业 上 量 测 应用 
所以 价位 较 一般 CCTV 镜头 高 远 心 镜头 
另有 同轴 镜头 设计 提供 不同 工作距离 不同 放大 倍率 
供选择 Q   远 心 镜头 为何 低 倍率 镜头 
价格 反而 高 A 因为 Telecentric 镜头 为了 要 减少 
失真 让 平行 光 进入 所以 镜头 设计 必须 比 
被 照 体大 所以 低 倍率 镜头 通常 口径 都 
很大 所需 的 镜片 材料 成本 较高 所以 价格 较高 
Q 同轴 光 镜头 打 同轴 光 时 中间 亮度 
较 亮 旁边 整 暗 是 何原因 如何 补救 A 
因为 同轴 光 镜头 的 投射 光线 集中于 中心 5 
~ 6 ㎜ 左右 如果 看 的 范围 较大 边缘 
附近 光线 较 暗 这是 低 倍率 同轴 光 镜头 
常有 的 现象 可以 外加 环形 光源 来 补足 光线 
不够 地方 Q   远 心 镜头 可否 搭配 CCTV 
用 的 2倍 镜 使用 A 可以 但是 影像 质量 
变差 所需 光强度 更强 不 建议 使用 Q   远 
心 镜头 规格 上 标示 镜头 分解 能 解析力 是 
代表 什么意思 A 镜头 解析力 的 定义 是 镜头 能 
看清楚 最小 物体 边缘 的 能力 如果 低于 此 分解 
能 就 无法 看 清楚 了 须 另外 找 解析力 
更高 的 镜头 如 高倍 显微 物镜 Q   远 
心 镜头 景深 为何 不能 很长 A   远 心 
镜头 设计 时即/nr 考虑到 景深 倍率 光圈 工作距离 等 参数 
取得 最佳 点 所以 景深 均为 固定 的 数值 如要 
增长 景深 而 牺牲 别的 参数 会 影响 镜头 质量 
Q 如果 要 看到 1 μ m 的 物体 可用 
何种 镜头 A 要看到 小于 1 μ m 以下 物体 
必须 用 高倍 显微 物镜 但 工作距离 变得 很小 约 
7 ㎜ 景深 变得 很浅 了 Q 用 远 心 
镜头 所 放大 的 影像 到底 是 多少 倍 A 
影像 实 总 际 放大 倍率 是 等于 镜头 光学 
倍率 × Monitor 放大 倍率 Monitor 放大 倍率 是 Monitor 
对角线 除 上 CCD Sensor 对角线 1/3 〞 CCD Sensor 
投射 到 14 吋 Monitor 是 59.3倍 Q   远 
心 镜头 除了 C mount 之外 可否 提供 其它 mount 
选择 A 除了 C mount 之外 还有 直径 φ 17 
㎜ 及 直径 φ 12 ㎜ 二种 mount 供选择 这些 
mount 是 针对 笔 型 CCD 专用 的 镜头 三 
像/v 方远/i 心/n 光路/n 原理/n 及/c 作用/v 像/v 方主/nr 光线/n 
平行/n 于光轴/nr 主/b 光线/n 的/uj 会聚/v 中心/n 位于/v 物/zg 方/n 
无限/v 远/a 称之为 像 方远 心 光路 作用 可以 消除 
像 方 调焦 不准 引入 的 测量误差 用途 大地 测量 
仪器 四 双侧 远 心 光路 原理 及 作用 综合 
了 物 方/像/nr 方远 心 的 双重 作用 主要 用于 
视觉 测量 检测 领域 优势 1 大 景深 2 景深 
范围 内 物像 倍率 不变 3 低 畸变 通常 1% 
全幅 画面 4 垂直 成像 时 无 投影 现象 劣势 
1 体积 大 重量 沉 由于 平行 光路 入射 镜头 
的 口径 要 大于 被 摄 物体 2 焦距 固定 
变焦 困难 3 工作距离 相对 较短 4 光阑 小 需要 
更强 的 照明 在 设计 工业 机器 视觉 系统 时 
使用 工业 数字相机 还是 工业 模拟 相机 是 最重要 的 
决定 之一 二者 各 有其 优缺点 但 归根结底 要 根据 
成本 和 一些 关键 操作 因素 来 选择 如果 考虑 
了 这些 因素 哪 一项 技术 更 有优势 就会 明朗 
化了 机器 视觉 基础 机器 视觉 被 应用于 自动 质量检验 
工艺 控制 参数 测量 和 自动 组装 等等 许多 领域 
在 这些 系统 中 相机 是 决定 着 成本 速度 
和 精度 的 关键 组件 工业/n 模拟/v 相机/d 和/c 工业/n 
数字相机/n 都/d 可以/c 用/p 在/p 这些/r 系统/n 中/f 而 了解 
工业 相机 的 性能 规格 及其 在 各种 视觉 任务 
中 的 重要性 对于 把 机器 视觉 付诸 工业 控制 
是 最 基本 的 一步 机器 视觉 系统 包括 三 
个 主要 部分 工业 相机 采集卡 和 存储 并 分析 
图像 以 提取 信息 的 计算机 或 图像 处理器 图像 
处理器 和 采集卡 属于 相对 容易 选择 的 电子 装置 
它们 的 主要 参数 是 存储 能力 和 处理 速度 
工业 相机 是 这些 系统 中 情况 最为 复杂 的 
部分 现代 的 工业 模拟 相机 和 工业 数字相机 采用 
电荷耦合 器件 CCD 或 互补 金属 氧化物 半导体 CMOS 芯片 
来 捕获 图像 并 生成 电子 信号 发送 给 计算机 
进行 处理 CCD 和 CMOS 成像 器 由 一系列 方形 
光电池 组成 它们 将 收集 到 的 光子 转化 为 
电子 并将 生成 的 电荷 积蓄 起来 在 CCD 中 
当 从芯/nr 片中 每次 读取 一个 像素 时 电荷 被 
转换 成 电压 而在 CMOS 中 每个 光敏 器件 旁边 
的 电路 将 光能 转化成 电压 二者 在 图像 质量 
上 没有 明显 的 优劣 之分 基于 CMOS 的 工业 
相机 需要 的 部件 较少 电耗 较低 提供 数据 的 
速度 也比 基于 CCD 的 相机 快 但 CCD 则是 
更为 成熟 的 技术 能够 以 较低 的 噪声 提供 
质量 更好 的 图像 而 弱点 是 数据 传输 速度 
较慢 不太 灵活 部件 较多 和 电耗 较高 信号/n 精度/n 
CCD/w 和/c CMOS/w 芯片/n 在/p 内部/f 都/d 生成/v 模拟信号/n 因此 
模拟 相机 和 数字相机 之间 的 主要 区别 在于 图像 
是 在哪里 被 数字化 的 数字相机 在 相机 里 将 
信号 数字化 并且 通过 串行 总线接口 比如 FireWire USB Camera 
Link Gigabit Ethernet 将 信号 以 数字 方式 传 输给 
计算机 或 图像 处理器 而在 另一方面 模拟 相机 系统 并 
不是 在 其 内部 将 图像 信号 数字化 数字化 是由 
计算机 完成 的 所以 模拟 信息 是 通过 同轴电缆 而 
进行 传输 的 尽管 两种 方法 都 能够 有效 地 
传输 信号 但 模拟信号 可能 会 由于 工厂 内 其他 
设备 比如 电动机 或 高压 电缆 的 电磁 干扰 而 
造成 失真 随着 噪声 水平 的 提高 模拟 相机 的 
动态 范围 原始 信号 与 噪声 之比 会 降低 动态/n 
范围/n 决定了/i 有/v 多少/m 信息/n 能够/v 被/p 从/p 相机/d 传/n 
输给/v 计算机/n 数字 信号 不 受电 噪声 影响 因此 数字相机 
的 动态 范围 更高 能够 向 计算机 传输 更 精确 
的 信号 数字相机 的 典型 动态 范围 在 55 分贝 
到 60 分贝 之间 而 模拟 相机 则为 45 分贝 
到 50 分贝 左右 所用 电缆 的 长度 和 类型 
也 影响 着 信号 的 精度 模拟 相机 的 电缆 
简单 而且 便宜 在 电 噪声 导致 信号 严重 失真 
之前 能够 将 信号 可靠地 300米 以上 由于 数字相机 传输 
的 是 高带宽 信号 电缆 的 长度 受 电缆 中 
信号 良师 衰减 损失 水平 的 限制 根据 使用 的 
通信 协议 的 不同 电缆 的 典型 长度 如下   
      FireWire             
            大约 10米 到 20米 
        USB           
                    
          大约 10米 到 20米   
      Camera Link           
                大约 10米 
现在 市场 上 有了 采用 千 兆位 以太网 标准 电缆 
的 新系统 这些 电缆 能够 将 数字 图像 数据 传输 
100 米左右 而 不发生 损失 分辨率 和 捕获 速度 分辨率 
是 描述 相机 性能 的 重要 参数 之一 它 包括 
两个 方面         阵 列中 传感 单元 
或称 像素 的 数量         每个 传感 
单元 的 大小 模拟 相机 通常 是 基于 视频 图形 
阵列 VGA 成像 格式 分辨率 被 限制 在 大约 640 
× 480 像素 这 只是 机器 视觉 系统 要求 的 
下限 而在 另一方面 数字相机 能够 达到 80兆 像素 甚至 更高 
模拟 相机 和 数字相机 典型 的 像素 大小 在 3 
微米 到 20 微米 范围内 第二 个 重要 参数 是 
帧 速 或者说 相机 连续 提供 图像 的 速度 帧 
速 越高 在给 定 时间 内 能够 完成 的 检验 
测量 或 识别 工作 就 越多 像素数 和帧速/nr 之间 存在 
着 相互 影响 所以 相机 的 像素 数 越多 其 
帧 速 越低 但是 这 并非 是 一成不变 的 规则 
因为 尺寸 越小 的 半导体 转换 速度 通常 就 越快 
所以 像素数 相同 的 两台 相机 可能 具有 差别 很大 
的 帧 速 640 × 480 像素 模拟 相机 的 
典型 帧 速 为 每秒 30 帧 而 分辨率 为 
2兆 像素 1600 × 1200 像素 的 数字 相机 能够 
达到 相同 的 帧 速 16兆 像素 的 数字相机 帧 
速 约为 每秒 3 帧 另外 相机 传感器 可 采用 
多 端口 设计 将 图像 分解成 片段 以 同时 读出 
还 可以 在 软件 的 控制 下 只 读取 图像 
中 感兴趣 的 部位 而 不是 读取 全部 传感器 阵列 
同样 能够 缩短 传输 时间 其他 因素 除了 分辨率 和帧速/nr 
其他 重要 的 设计 因素 还 包括 动态 范围 和 
灵敏度 动态 范围 或 图像 每个 像素 的 字节数 决定 
着 采集卡 需要 的 存储 容量 以及 图像 处理器 需要 
的 算法 精度 它 也 影响 着 传感器 的 曝光 
宽容度 每 像素 只有 几个 字节 的 相机 将 无法 
像 字节数 更高 的 相机 那样 满足 很宽 的 照明 
条件 范围 一般来说 数字相机 的 动态 范围 指标 更 好一些 
因为 它们 的 抗 噪声 性能 更好 传感器 灵敏度 也 
决定 着 可靠 地 使用 相机 所 需要 的 照明 
条件 在 光线 不好 或者 为 防止 运动 图像 模糊 
而 提高 快门 速度 的 情况 下 要求 相机 具有 
更高 的 灵敏度 同 波长 有关 的 相机 灵敏度 也许 
非常重要 根据 应用 的 不同 可能 需要 采用 发 光二极管 
甚至 红外 或 紫外 照明 相机 的 波长 灵敏度 也 
应当 匹配 最后 相机 生成 彩色 或者 单色 图像 的 
能力 也 十分 重要 关于 总 成本 的 考虑 各个 
设计 参数 共同 影响 着 相机 的 成本 典型 情况 
下 由于 传感器 尺寸 的 原因 像素数 越高 的 相机 
就越 昂贵 与此 类似 在 一定 的 分辨率 下 帧 
速 提高 成本 也 趋向于 增加 同时 提高 帧 速 
和 分辨率 通常 要求 相机 具有 多 端口 读出 这使 
系统 的 复杂 程度 增加 因而 提高 了 成本 从 
上世纪 七十 年代 起 许多/m 供应商/n 都/d 开始/v 提供/v 基于/p 
CCD/w 和/c CMOS/w 技术/n 的/uj 模拟/v 相机/d 典型 的 价位 
在 200 美元 左右 模拟 相机 采集卡 的 价位 也在 
200 美元 左右 相比之下 数字相机 的 价位 在 1 000 
美元 到 20 000 美元 范围内 大幅度 变化 数字相机 采集卡 
的 价位 在 1 000 美元 到 2 000 美元 
之间 但是 随着 数字相机 和 采集卡 变得 越来越 普及 它们 
的 价位 也 在 逐渐 降低 在对 成本 进行 比较 
时 设备 的 价格 还 只是 问题 的 一个 方面 
设计 人员 还 必须 考虑 软件 硬件 安装 维护 和 
升级 等 方面 的 成本 还有 给定 的 相机 技术 
是否 能够 达到 要求 的 性能 完成 特定 任务 所 
需要 的 工业 相机 数量 在 安装 成本 中 占到 
了 一定 比例 举例来说 从1/nr 毫米 见方 的 检验 区域 
中 解析 出 1 微米 见方 的 片段 可能 需要 
用到 5台 模拟 相机 和 采集卡 而 这些 制备 必须 
保持 同步 以 获得 清晰 的 图像 只 使用 1台 
百万 像素 的 工业 数字相机 和 采集卡 就 可以 解析 
同样 大小 的 区域 而且 无需 在 计算机 中 同步 
处理 多幅 图像 例如 一家 汽车 制造商 的 保险杠 检验 
系统 需要 12台 模拟 相机 12片 采集卡 12套 软件 和 
3台 计算机 公司 发现 就算 可能 使 所有 相机 的 
图像 同步化 以 获得 一幅 保险杠 的 可靠 图像 也 
是 难度 相当大 的 用 1台 百万 像素 的 数字相机 
1片 采集卡 和 1台 计算机 取代 了 这个 相机 阵列 
后 系统/n 的/uj 安装/v 和/c 维护/v 都/d 变得/v 十分/m 简单/a 
和/c 方便/a 一般来说 典型 的 数字 相机 需要 更长 的 
时间 进行 安装 和 设定 但 对于 前述 应用 实例 
而言 需要 的 数字 相 机数量 大为 减少 因此 维护 
成本 也 将 大幅度 降低 另外 数字相机/n 的/uj 功能性/n 和/c 
灵活性/n 都/d 更强/i 能够 快速 重新 编程 在 系统 运行 
过程 中 即可 进行 现场 固件 升级 而 相比之下 模拟 
相机 则 必须 被 送回 制造厂 才能 进行 性能 升级 
最后 一项 成本 因素 是 功率 消耗 典型 的 模拟 
相机 需要 5瓦 到 10瓦 操作 功率 而 分辨率 指标 
相当 的 数字 相机 则 不到 1瓦 应用 要求 对于 
一 项 应用 选择 什么样 的 工业 相机 合适 取决于 
机器 视觉 系统 想 要 达到 什么 目标 视觉 检验 
非 接触 式 测量 物体 识别 和 定位 是 三个 
常见 的 应用 每/zg 一个/m 都有/nr 不同/a 的/uj 要求/v 典型 
的 检验 系统 将 图像 同 模板 或者 已知 合格品 
图像 进行 对比 以 检查 偏差 高 质量 的 图像 
一般 需要 用 图像 处理器 来 进行 可靠 的 对比 
这 意味着 工业/n 相机/d 必须/d 同时/c 具有/v 高/a 分辨率/n 和每/nr 
像素/n 足够/v 的/uj 字节数/n 可能 也 需要 彩色 成像 能力 
非 接触 式 测量 计算 一个 物体 占据 的 像素 
数量 并将 计数 结果 转化成 尺寸 数值 这样 的 系统 
可能 需要 高 分辨率 而每 像素 的 字节数 要求 可能 
不必 太高 图像 处理器 通常 只 提取 图像 的 边缘 
或 外形 轮廓 信息 所以 一般 并 没有 很高 的 
动态 范围 和 彩色 能力 要求 物体/n 识别/v 和/c 定位/n 
有/v 各种各样/l 的/uj 要求/v 在 许多 情况 下 图像 处理 
系统 在 图像 中 搜寻 以 识别 出 基准 特征 
需要 的 分辨率 取决于 这些 特征 相 对于 整个 图像 
尺寸 的 大小 识别 系统 可能 会 需要 彩色 成像 
能力 为/p 机器/n 视觉/n 系统/n 选择/v 相/v 机时/n 要/v 认真/ad 
考虑/v 工业/n 相机/d 的/uj 性能/n 和/c 成本/n 虽然 工业 模拟 
相机 远比 工业 数字相机 便宜 但 它们 的 分辨率 和 
图像 质量 较低 所以 可能会 被 局限 在 要求 不 
太高 的 应用 中 数字相机 比 模拟 相机 昂贵 但/c 
它们/r 的/uj 高/a 成本/n 可能/v 值得/v 为/p 要求/v 高/a 速度/n 
高/a 准确度/n 和高/nr 精度/n 的/uj 应用/v 而/c 付出/v 四种 工业 
相机 接口 技术 的 比较 接口技术 G i g E 
F i r e w i r e U B 
C a m e r a Link 标准 类型 C 
o m m e r c i a l C 
o n s u m e r C o n 
s u m e r C o m m e 
r c i a l 连接 方式 点对点 或 LAN 
link Cat 5 TP RJ45 点对点 – 共享 总线 主 
/ 从–/nr 共享 总线 点对点 – MDR 26 pin 带宽 
1000Mb / s 连续 模式 400Mb / s 连续 模式 
12Mb / s USB1 480Mb / s USB2 突发 模式 
2380Mb / s base 7140Mb / s full 连续 模式 
距离 max w / switch max w / fiber 100m 
no switch No LimitNo Limit 4 . 5m72m200m 5m30m 10m 
可连接 设备 数量 U n l i m i t 
e d 6 3 1 2 7 1 P C 
InterfaceGigE NICPCI cardPCI cardPCI Frame grabber1 模拟 相机 & & 
数字相机 模拟 相机 必须 带 数字 采集卡 标准 的 模拟 
相机 分辨率 很低 另外 帧率 也是 固定 的 这个 要 
根据 实际 需求 来 选择 另外 模拟 相机 采集 到 
的 是 模拟 信号 经 数字 采集卡 转换 为 数字 
信号 进行 传输 存储 模拟信号 可能 会 由于 工厂 内 
其他 设备 比如 电动机 或 高压 电缆 的 电磁 干扰 
而 造成 失真 随着 噪声 水平 的 提高 模拟 相机 
的 动态 范围 原始 信号 与 噪声 之比 会 降低 
动态/n 范围/n 决定了/i 有/v 多少/m 信息/n 能够/v 被/p 从/p 相机/d 
传/n 输给/v 计算机/n 数字相机 采集 到 的 是 数字 信号 
数字 信号 不 受电 噪声 影响 因此 数字相机 的 动态 
范围 更高 能够 向 计算机 传输 更 精确 的 信号 
2 相机 分辨率 根据 系统 的 需求 来 选择 相机 
分辨率 的 大小 下面 以 一个 应用 案例 来 分析 
应用 案例 假设 检测 一个 物体 的 表面 划痕 要求 
拍摄 的 物体 大小 为 10 * 8mm 要求 的 
检测 精度 是 0 . 01mm 首先 假设 我们 要 
拍摄 的 视野 范围 在 12 * 10mm 那么 相机 
的 最低 分辨率 应该 选择 在 12 / 0.01 * 
10 / 0.01 = 1200 * 1000 约为 120万 像素 
的 相机 也 就是说 一个 像素 对应 一个 检测 的 
缺陷 的话 那么 最 低分辨率 必须 不 少于 120万 像素 
但 市面 上 常见 的 是 130万 像素 的 相机 
因此 一般而言 是 选用 130万 像素 的 相机 但 实际 
问题 是 如果 一个 像素 对应 一个 缺陷 的话 那么 
这样 的 系统 一定会 极 不稳定 因为 随便 的 一个 
干扰 像素点 都 可能 被 误认为 缺陷 所以 我们 为了 
提高 系统 的 精准 度 和 稳定性 最好 取 缺陷 
的 面积 在 3 到 4个 像素 以上 这样 我们 
选择 的 相机 也 就在 130 万乘 3 以上 即 
最低 不能 少于 300万 像素 通常 采用 300万 像素 的 
相机 为 最佳 我 见过 最多 的 人 抱着 亚 
像素 不放 说 要做到 零点几 的 亚 像素 那么 就 
不用 这么 高 分辨率 的 相机 了 比如 他们 说 
如果 做到 0.1个 像素 就是 一个 缺陷 对应 0.1个 像素 
缺陷 的 大小 是由 像素点 个数 来 计算 的 试问 
0.1个 像素 的 面积 怎么 来 表示 这些 人 以 
亚 像素 来 忽悠 人 往往 说明 了 他们 的 
没有 常识性 换言之 我们 仅仅 是 用来 做 测量用 那么 
采用 亚 像素 算法 130万 像素 的 相机 也 能 
基本 上 满足 需求 但 有时 因为 边缘 清晰度 的 
影响 在 提取 边缘 的 时候 随便 偏移 一个 像素 
那么 精度 就 受到 了 极大 的 影响 故 我们 
选择 300万 的 相机 的话 还 可以 允许 提取 的 
边缘 偏离 3个 像素 左右 这就 很好 的 保证 了 
测量 的 精度 3 CCD & CMOS 如果 要求 拍摄 
的 物体 是 运动 的 要 处理 的 对象 也是 
实时 运动 的 物体 那么 当然 选择 CCD 芯片 的 
相机 为 最适宜 但 有的 厂商 生产 的 CMOS 相机 
如果 采用 帧 曝光 的 方式 的话 也 可以 当作 
CCD 来 使用 的 又 假如 物体 运动 的 速度 
很慢 在 我们 设定 的 相机 曝光 时间 范围 内 
物体 运动 的 距离 很小 换算 成 像素 大小 也 
就在 一两 个 像素 内 那么 选择 CMOS 相机 也 
是 合适 的 因为 在 曝光 时间 内 一两 个 
像素 的 偏差 人眼 根本 看不出来 如果 不是 做 测量用 
的话 但 超过 2个 像素 的 偏差 物体 拍 出来 
的 图像 就有 拖 影 这样 就 不能 选择 CMOS 
相机 了 4 彩色 & 黑白 如果 要 处理 的 
是 与 图像 颜色 有关 那 当然 是 采用 彩色 
相机 否则 建议 你 用 黑白 的 因为 黑白 的 
同样 分辨率 的 相机 精度 比 彩色 高 尤其 是 
在看 图像 边缘 的 时候 黑白 的 效果 更好 5 
帧率 根据 要 检测 的 速度 选择 相机 的 帧率 
一定 要 大于 或 等于 检测 速度 等于 的 情况 
就是 你 处理 图像 的 时间 一定 要 快 一定 
要 在 相机 的 曝光 和 传输 的 时间 内 
完成 6 线 阵 & 面 阵 对于 检测 精度 
要求 很高 面 阵 相机 的 分辨率 达不到 要求 的 
情况 下 当然 线 阵 相机 是 必然 的 一个 
选择 7 传输 接口 根据 传输 的 距离 稳定性 传输 
的 数据 大小 带宽 选择 USB 1394 Camerlink 百兆 / 
千兆 网 接口 的 相机 8 CCD 靶 面 靶 
面 尺寸 的 大小 会 影响 到 镜头 焦距 的 
长短 在 相同 视角 下 靶 面 尺寸 越大 焦距 
越长 在 选择 相 机时 特别 是 对 拍摄 角度 
有 比较 严格 要求 的 时候 CCD 靶 面的 大小 
CCD 与 镜头 的 配合 情况 将 直接影响 视场 角 
的 大小 和 图像 的 清晰度 因此 在 选择 CCD 
尺寸 时 要 结合 镜头 的 焦距 视场 角 一起 
选择 一般而言 选择 CCD 靶 面 要 结合 物理 安装 
的 空间 来 决定 镜头 的 工作 距离 是否 在 
安装 空间 范围内 要求 镜头 的 尺寸 一定 要 大于 
或 等于 相机 的 靶 面 尺寸 9 相机 的 
价格 同样 参数 的 相机 不同 的 厂家 价格 各不相同 
这就 靠 大家 与 厂家 沟通 和 协商 了 一般说来 
如果 你 有量/nr 的话 整体 价格 跟 你 单买 一个 
的 价格 是 差别 很大 的 工业 相机 到 传感器 
对应 放大 倍率 工业 相机 像 幅 传感器 尺寸 对角线 
9 12 13 20 27 1/4 57 . 2x76 . 
2x82 . 6x127x171 . 5 x 1/3 38.1 x 50.7 
x 55.0 x 84.6 x 114.1 x 1/2 28.6 x 
38.1 x 41.3 x 63.5 x 85.7 x 2/3 20 
. 8x27 . 7x30 . 0x46 . 2x62 . 3x1 
14 . 3x22 . 2x23 . 8x31 . 8x42 . 
9x1 .   什么 是 CCD 摄像机 CCD 是 Charge 
Coupled Device 电荷耦合 器件 的 缩写 它 是 一种 半导体 
成像 器件 因而 具有 灵敏度 高 抗 强光 畸 变小 
体积小 寿命长 抗 震动 等 优点 2 . CCD 摄像机 
的 工作 方式 被 摄 物体 的 图像 经过 镜头 
聚焦 至 CCD 芯片 上 CCD 根据 光 的 强弱 
积累 相应 比例 的 电荷 各个 像素 积累 的 电荷 
在 视频 时序 的 控制 下 逐点 外移 经 滤波 
放大 处理 后 形成 视频信号 输出 视频信号 连接 到 监视器 
或 电视机 的 视频 输入端 便 可以 看到 与 原始 
图像 相同 的 视频 图像 3 .   分辨率 的 
选择 评估 摄像机 分辨率 的 指标 是 水平 分辨率 其 
单位 为 线 对 即 成像 后 可以 分辨 的 
黑白 线 对 的 数目 常用 的 黑白 摄像机 的 
分辨率 一般 为 380 600 彩色 为 380 480 其 
数值 越大 成像 越 清晰 一般 的 监视 场合 用 
400线 左右 的 黑白 摄像机 就 可以 满足 要求 而 
对于 医疗 图像 处理 等 特殊 场合 用 600线 的 
摄像机 能 得到 更 清晰 的 图像 4 .   
成像 灵敏度 通常用 最低 环境 照度 要求 来 表明 摄像机 
灵敏度 黑白 摄像机 的 灵敏度 大约 是 0.02 0 . 
5Lux 勒克斯 彩色 摄像机 多在 1Lux 以上 0 . 1Lux 
的 摄像机 用于 普通 的 监视 场合 在 夜间 使用 
或 环境 光线 较弱 时 推荐 使用 0 . 02Lux 
的 摄像机 与 近 红外灯 配合 使用 时 也 必须 
使用 低 照度 的 摄像机 另外 摄像 的 灵敏度 还与 
镜头 有关 0 . 97Lux / F 0.75 相当于 2 
. 5Lux / F 1.2 相当于 3 . 4Lux / 
F 1.5 .   参考 环境 照度 夏日 阳光 下 
100000Lux 阴天 室外   10000Lux 电视台 演播室 1000Lux 距 60W 
台灯 60cm 桌面   300Lux 室内 日光灯 100Lux 黄昏 室内 
  10Lux20cm 处 烛光 10 15Lux 夜间 路灯 0 . 
1Lux6 .   电子 快门 电子 快门 的 时间 在 
1/50 1/100000秒 之间 摄像机 的 电子 快门 一般 设置 为 
自动 电子 快门 方式 可 根据 环境 的 亮 暗 
自动 调节 快门 时间 得到 清晰 的 图像 有些 摄像机 
允许 用户 自行 手动 调节 快门 时间 以 适应 某些 
特殊 应用 场合 7 .   外 同步 与外 触发 
外 同步 是 指 不同 的 视频 设备 之间 用 
同一 同步 信号 来 保证 视频 信号 的 同步 它 
可保证 不同 的 设备 输出 的 视频 信号 具有 相同 
的 帧 行 的 起止 时间 为了实现 外 同步 需要 
给 摄像机 输入 一个 复合 同步 信号 C sync 或 
复合 视频信号 外 同步 并 不能 保证 用户 从 指定 
时刻 得到 完整 的 连续 的 一帧 图像 要 实现 
这种 功能 必须 使用 一些 特殊 的 具有 外 触发 
功能 的 摄像机 8 .   光谱 响应 特性 CCD 
器件 由 硅材料 制成 对 近红外 比较 敏感 光谱 响应 
可 延伸 至 1 . 0um 左右 其 响应 峰值 
为 绿光 550nm 夜间 隐蔽 监视 时 可以 用 近 
红外灯 照明 人眼 看不清 环境 情况 在 监视器 上 却 
可以 清晰 成像 由于 CCD 传感器 表面 有 一层 吸收 
紫外 的 透明 电极 所以 CCD 对 紫外 不 敏感 
彩色 摄像机 的 成像 单元 上有 红 绿 兰 三色 
滤光 条 所以 彩色 摄像机 对 红外 紫外 均不 敏感 
9 . CCD 芯片 的 尺寸 CCD 的 成像 尺寸 
常用 的 有 1/2 1/3 等 成像 尺寸 越小 的 
摄像机 的 体积 可以 做得 更 小些 在 相同 学 
镜头 下 成像 尺寸 越大 视场 角 越大 机器 视觉 
系统 是 指 通过 机器 视觉 产品 即 图像 摄取 
装置 分为 CMOS 摄像头 和 CCD 摄像头 两种 将被 摄取 
目标 转换成 图像 信号 传送 给 专用 的 图像 处理 
系统 根据 像素 分布 和 亮度 颜色 等 信息 转变成 
数字化 信号 图像 系统 对 这些 信号 进行 各种 运 
算来 抽取 目标 的 特征 进而 根据 判别 的 结果 
来 控制 现场 的 设备 动作 在 机器 视觉 系统 
中 包含 独立 的 工业 摄像头 采用 业界 标准 的 
电气 接口 如 火线 IEEE1394 接口 摄像头 USB 接口 摄像头 
或 千兆 以太网 GigE 摄像头 GigE Vision interface 等 机器 
视觉 摄像头 的 典型 应用 可 分为 离线 处理 功能 
的 摄像头 和 在线 处理 功能 的 摄像头 离线 处理 
功能 的 摄像头 可 单独 对 摄像头 供电 并 可 
通过 电气 接口 将 原始 数据 传 送至 主机 视频 
传输 既 可以 是 连续 帧 也 可以 是 单帧/nr 
数据 具体 取决于 应用 的 需要 单帧/nr 捕获 与 视频 
传输 被称作 触发 模式 需要 外部 系统 通常 以 CMOS 
级 向 摄像头 系统 发送 电子 脉冲 摄像头 逻辑 将 
启动 一个 帧 集成 并 通过 电气 接口 将 扫描 
的 数据 发送 至 主机 在 某些 情况下 原始数据 通过 
总线 与 同步 信号 时钟 和 数据 一起 发送给 帧 
接收器 等 终端 数据 采集 系统 帧 接收器 在 存储器 
中 存储 数据 随后 可由 主机 应用 软件 对 数据 
进行 存取 以 处理 和 控制 离线 处理 的 一大 
优势 在于 单靠 一个 主机 就能 满足 摄像头 操控 与 
系统 控制 两者 之需 但是 由于 视频 数据 从 摄像头 
每 帧 传输 存在 一定 的 延迟 因此 这种 处理 
方式 不 适用 于 实时处理 的 应用 比如 器件 生产 
过程 中 传送 带上 的 产品 检查 由于 近来 DSP 
处理器 发展 非常 快 已经 具备 实时 执行 复杂 算法 
的 计算 功能 因此 也 使得 摄像头 的 在线 处理 
成为可能 在线 处理 功能 的 摄像头 包括 感应器 与 DSP 
处理器 二者 可 通过 非 粘接 逻辑 也 可 通过 
某种 粘接 逻辑 连接 DMA 将 感应器 扫描 的 视频 
直接 发送至 DSP 存储器 并 进行 逐 帧 处理 控制 
函数 的 最终 结果 由 处理器 在被 控制 的 系统 
中 直接 启动 或在 主机 上 作为 命令 启动 在线 
处理 功能 的 摄像头 进行 视频 处理 的 优势 在于 
数据处理 可 实时 进行 而且在 火线 USB 或 千兆 以太网 
接口 上 没有 分组 处理 的 负担 可采用 字节 优化 
型 汇编 代码 在 时钟频率 超过 300 MHz 的 DSP 
处理器 上 加快 实时 处理速度 图像 算法 的 实时 处理 
对 检查 应用 至关重要 例如 能够 检查 出 传送带 上 
移动 过快 的 的 器件 一个 帧 图像 的 计算 
完成 并 采取 相应 行动 后 才 可以 继续 向 
系统 传输 下一个 图像 帧 在 实际 应用 中 应 
依据 具体 的 应用 环境 来 选择 摄像头 不管 是 
离线 处理 功能 的 摄像头 还是 在线 处理 功能 的 
摄像头 都 具有 各自 的 技术 特点 选择 合适 合理 
的 摄像头 才能 更好 的 体现 出 机器 视觉 系统 
的 优越性 CMOS Complementary Metal Oxide Semiconductor 是 互补式 金属 
氧化物 半导体 的 英文 缩写 它/r 将/d NMOS/w 和/c PMOS/w 
二个/m 相/v 反极性/i 的/uj MOS/w 半导体/n 串/v 起来/v 形成 了 
集成电路 中 广泛 使用 的 一个 基本 单元 例如 计算机中 
用量 最大 的 内存 动态 存储器 就是 用 CMOS 工艺 
制造 的 CMOS 的 摄像机 并不比 CCD 摄像机 出现 的 
时间 晚 多少 CCD 在 六十 年代 末 而 CMOS 
在 七十 年代 初 相继 开发 出来 后来 之所以 CCD 
占了 统治 地位 是 因为 在 当时 的 工艺 制造 
技术 条件 下 CMOS 的 图像 质量 太差 了 直至 
1990年 新 工艺 的 发展 使 开发人员 再一次 对 CMOS 
产生 了 兴趣 主要 是 看到 了 CMOS 的 低功耗 
高 集成 整个 摄像机 集成 在 一片 晶 体内 低 
制造 成本 基于 不需 重新 建立 新的 生产线 可以 在 
已有 的 主流 的 逻辑 和 存储器 CMOS 流水线 中 
进行 经过 大量 的 投入 和 努力 CMOS 摄像机 在 
近几年 已 获得 了 极大 的 成功 已 形成 了 
对 CCD 的 强大 挑战 形成/v 了/ul CCD/w 和/c CMOS/w 
二个/m 激烈/a 竞争/vn 的/uj 发展/vn 方向/n 和/c 阵营/n 在 过去 
CMOS 图像 传感器 给人 的 印象 是 低端 产品 例如 
商务 用 传真机 复印机 扫描仪 到 今日 以 娱乐 为主 
的 摄像机 手机 拍摄 组件 直至 大紫 大红 的 网上 
摄像机 也 多为 CMOS 传感器 同时 CMOS 摄像机 在 图像 
质量 上 已 取得 长足 的 进步 即使 在对 图像 
质量 要求 较高 的 投影 仪上 也 获得 了 使用 
无论是 CMOS 还是 CCD 它们/r 都是/i 用/p 光敏/nr 像/v 元/m 
阵列/q 将/d 入射/v 的/uj 光/n 图像/n 转换/v 成像/v 元内的/nr 电荷/n 
所 不同 的 是 将 这些 像 元 中的 电荷 
取出 并 转换成 电压 的 方式 和 途径 不同 CCD 
是 用 电荷量 来 载荷 图像 信息 的 而 CMOS 
是 用电 压 量 来 载荷 图像 信息 的 CMOS 
和 CCD 的 工作 过程 如下 图 所示 从图/nr 可以 
看出 CCD 像 元将光/nr 转换 为 电荷 后 用 电荷耦合 
的 方法 将 电荷 逐点 逐行 地 用 电荷 移位 
寄存器 移出 直至 电荷 / 电压 转换器 图像 信息 用 
电荷 的 形式 在 芯片 内 移动 输出 而 CMOS 
则以 完全 不同 的 方式 将 图像 信息 送出 像 
元 阵列 从图/nr b 可以 看出 每/zg 一个/m 像/v 元/m 
光敏/nr 单元/n 都/d 有一个/i 电荷/n //i 电压/n 转换/v 单元/n 与之/i 
相伴/v 所以 像 元电荷 马上 转换 成为 电压 再 通过 
与 之 对应 的 矩阵 开关 将 电压 送出 阵列 
所以 CMOS 的 图像 信息 是以 电压 的 形式 传送 
输出 的 由于 这种 完全 不同 的 结构 为 它们 
带来 了 各自 的 长处 和 短处 CCD/w 和/c CMOS/w 
工作/vn 过程/n 示意图/n CMOS/w 摄像机/n 有/v 超强/v 的/uj 集成度/n 低功耗 
和小/nr 尺寸 的 优势 但在 图像质量 特别 在 低 照度 
下 和 灵活性 方面 就要 逊色 多了 所以 CMOS 适合于 
批 量大 有/v 空间/n 和/c 重量/n 限制/v 而 图像 质量 
要求 不是 太高 的 领域 例如 保安 生物 测量仪 等 
领域 使用 包括 机器 视觉 系统 中 对 图像 质量 
要求 不严 的 场合 例如 数字 或 文学 识别 易 
区分 的 缺陷 检测 简单 物体 几何 分类 简单 场景 
自动 导航 等等 机器 视觉 就是 用 机器 代替 人眼 
来做 测量 和 判断 机器 视觉 系统 是 指 通过 
机器 视觉 产品 将被 摄取 目标 转换成 图像 信号 传送 
给 专用 的 图像 处理 系统 根据 像素 分布 和 
亮度 颜色 等 信息 转变成 数字化 信号 图像 系统 对 
这些 信号 进行 各种 运 算来 抽取 目标 的 特征 
进而 根据 判别 的 结果 来 控制 现场 的 设备 
动作 由于 机器 视觉 系统 可以 快速 获取 大量 信息 
而且 易于 自动 处理 也 易于 同 设计 信息 以及 
加工 控制 信息 集成 因此 在 现代 自动化 生产 过程 
中 人们 将 机器 视觉 系统 广泛 地 用于 工况 
监视 成品 检验 和 质量 控制 等 领域 机器 视觉 
系统 的 特点 是 提高 生产 的 柔性 和 自动化 
程度 在 一些 不 适合 于 人工 作业 的 危险 
工作 环境 或 人工 视觉 难以 满足 要求 的 场合 
常用 机器 视觉 来 替代 人工 视觉 同时 在 大批量 
工业 生产 过程 中 用 人工 视觉 检查 产品 质量 
效率 低 且 精度 不高 用 机器 视觉 检测 方法 
可以 大大 提高 生产 效率 和 生产 的 自动化 程度 
而且 机器 视觉 易于 实现 信息 集成 是 实现 计算机 
集成 制造 的 基础 技术 半导体 行业 是 最先 利用 
机器 视觉 技术 进行 检测 的 行业 其他 行业 也 
随之而来 作为 生产 机械 的 OEM 的 设计 工程师 最 
基本 的 问题 就是 我 是 要 检测 这个 部件 
还是 整个 这个 产品 检测 可以 得到 高 质量 的 
产品 但是 也会 有 这样 的 事实 存在 检测 成本 
或者 产品 质量 要求 并不 需要 这样 的 检测 比如说 
牙签 假设 在 一个 装有 500个 牙签 的 盒子 里 
有 一两 个 不合格 大 多数人 都 不会 怎么 担心 
但是 对于 很多 产品 假如 前面 的 盒子 里 装 
的 不是 牙签 而是 针头 试想 不合格品 可能会 带来 什么样 
的 后果 所以 产品 功能性 的 检测 都是 不可缺少 的 
即使 只是 外观 检测 要 证明 内在 的 品质 也 
必须 要 做到 无 缺陷 因此 为了 达到 这个 目的 
许多 OEM 将 机器 视觉 应用 到 他们 将要 卖给 
用户 的 系统 中 机器 视觉 能够 为 整个 系统 
增值 表现 在 三 个 方面 提高 生产 效率 提高 
制造 过程 的 精确性 减少 成本 那么 对于 一个 设计 
工程师 来说 怎么样 才能 知道 机器 视觉 是否 适合 他 
的 系统 呢 尽管 最早 的 最 基本 的 机器 
视觉 系统 在 20 世纪 70 年代 引入 工业 就 
将其 视为 主流 应用 这就 导致 设计 工程师 要 考虑 
它 是否 合适 他们 的 应用 同时 要 考虑 利用 
机器 视觉 检测 的 成本 与 其所 能 带来 的 
利润 高 复杂度 产品 行业 比如说 半导体 行业 和 电子 
行业 由于 它们 的 复杂性 和 小型化 从 传统 上 
推动 着 机器 视觉 市场 的 发展 但是 如今 所有 
产业 包括 自动化 制药 造纸 等等 都 依靠 机器 视觉 
系统 检测 产品 以 提高 产品 质量 工业 专家 们 
预言 在 未来 的 20年 到 50年 机器 视觉 将 
成为 横跨 所有 行业 的 通用性 技术 几乎 所有 出产 
的 产品 都会 由 机器 视觉 系统 来 检测 使用 
机器 视觉 系统 有 以下 五 个 主要 原因 精确性 
由于 人眼 有 物理 条件 的 限制 在 精确性 上 
机器 有 明显 的 优点 即使 人眼 依靠 放大镜 或 
显微镜 来 检测 产品 机器 仍然 会 更加 精确 因为 
它 的 精度 能够 达到 千分之 一英寸 重复性 机器 可以 
以 相同 的 方法 一次 一次 的 完成 检测 工作 
而 不会 感到疲倦 与此相反 人眼/n 每次/r 检测/vn 产品/n 时/n 都会/i 
有/v 细微/a 的/uj 不同/a 即使 产品 时 完全 相同 的 
速度 机器 能够 更快 的 检测 产品 特别 是 当 
检测 高速 运动 的 物体 时 比如说 生产线 上 机器 
能够 提高 生产 效率 客观性 人眼 检测 还有 一个 致命 
的 缺陷 就是 情绪 带来 的 主观性 检测 结果 会 
随 工人 心情 的 好坏 产生 变化 而 机器 没有 
喜怒哀乐 检测 的 结果 自然 非常 可观 可靠 成本 由于 
机器 比人 快 一台 自动 检测 机器 能够 承担 好 
几个人 的 任务 而且 机器 不需要 停顿 不会 生病 能够 
连续 工作 所以 能够 极大 的 提高 生产 效率 一旦 
工程师 决定 使用 机器 视觉 系统 就 需要 建立 这个 
系统 其中 要素 包括 照明 光源 工件 放置 夹具 工业 
镜头 工业 相机 位置 传感器 控制 逻辑 以及 图像 采集卡 
图像 处理 软件 技术支持 由于 大多数 厂商 在 这个 领域 
都 没有 经验 机会 来了 所以 寻找 一个 既 了解 
核心技术 又能 为其 提供 系统 所 需 产品 的 供应商 
就 成为 关键 问题 典型 的 基于 PC 的 视觉 
系统 通常 由 如 . 1.1 所示 的 几 部分 
组成 . 1.1       基于 PC 的 视觉 
系统 基本 组成 ① 工业 相机 与 工业 镜头 这 
部分 属于 成像 器件 通常 的 视觉 系统 都 是由 
一套 或者 多套 这样 的 成像 系统 组成 如果 有 
多路 相机 可能 由 图像 卡 切换 来 获取 图像 
数据 也 可能 由 同步控制 同时 获取 多 相机 通道 
的 数据 根据 应用 的 需要 相机 可能 是 输出 
标准 的 单色 视频 RS 170 / CCIR 复合 信号 
Y / C RGB 信号 也 可能 是非 标准 的 
逐行扫描 信号 线 扫描 信号 高分辨率 信号 等 ② 光源 
作为 辅助 成像 器件 对 成像 质量 的 好坏 往往 
能 起到 至关重要 的 作用 各种 形状 的 LED 灯 
高频 荧光灯 光纤 卤素灯 等 都 容易 得到 ③ 传感器 
通常 以 光纤 开关 接近开关 等 的 形式 出现 用以 
判断 被 测 对象 的 位置 和 状态 告知 图像 
传感器 进行 正确 的 采集 ④ 图像 采集卡 通常 以 
插入 卡 的 形式 安装 在 PC 中 图像 采集卡 
的 主要 工作 是 把 相机 输出 的 图像 输送 
给 电脑 主机 它 将 来自 相机 的 模拟 或 
数字信号 转换成 一定 格式 的 图像 数据流 同时 它 可以 
控制 相机 的 一些 参数 比如 触 发信号 曝光 / 
积分 时间 快门 速度 等 图像 采集卡 通常 有 不同 
的 硬件 结构 以 针对 不同 类型 的 相机 同时 
也 有 不同 的 总线 形式 比如 PCI PCI64 Compact 
PCI PC104 ISA 等 ⑤ PC 平台 电脑 是 一个 
PC 式 视觉 系统 的 核心 在 这里 完成 图像 
数据 的 处理 和 绝大部分 的 控制 逻辑 对于 检测 
类型 的 应用 通常 都 需要 较 高频率 的 CPU 
这样 可以 减少 处理 的 时间 同时 为了 减少 工业 
现场 电磁 振动 灰尘 温度 等 的 干扰 必须 选择 
工业级 的 电脑 ⑥ 视觉 处理软件 机器 视觉 软件 用来 
完成 输入 的 图像 数据 的 处理 然后 通过 一定 
的 运算 得出 结果 这个 输出 的 结果 可能 是 
PASS / FAIL 信号 坐标 位置 字符串 等 常见 的 
机器 视觉 软件 以 C / C + + 图像 
库 ActiveX 控件 图 形式 编程 环境 等 形式 出现 
可以 是 专用 功能 的 比如 仅仅 用于 LCD 检测 
BGA 检测 模版 对准 等 也 可以 是 通用 目的 
的 包括 定位 测量 条码 / 字符识别 斑点 检测 等 
⑦ 控制 单元 包含 I / O 运动控制 电平 转化 
单元 等 一旦 视觉 软件 完成 图像 分析 除非 仅 
用于 监控 紧接着 需要 和 外部 单元 进行通信 以 完成 
对 生产 过程 的 控制 简单 的 控制 可以 直接 
利用 部分 图像 采集卡 自带 的 I / O 相对 
复杂 的 逻辑 / 运动控制 则 必须 依靠 附加 可编程 
逻辑 控制 单元 / 运动 控制卡 来 实现 必要 的 
动作 机器 视觉 Machine Vision 作为 光电 技术 应用 的 
一个 特定 领域 目前 已经 发展 成为 一个 前景 光明 
活力 无限 的 行业 年 平均 增长 速度 超过 2O 
％ 机器 视觉 广泛 应用于 微电子 电子产品 汽车 医疗 印刷 
包装 科研 军事 等 众多 行业 涉及 技术 一致 应用 
差异 明显 是 各种 机器 视觉 应用 系统 的 共同 
特点 机器 视觉 系统 集成 时 涉及 到 多门 技术 
最 基本 的 系统 也 需要 照明 成像 图像 数字化 
图像处理 算法 计算机软件 硬件 等 稍微 复杂 一点 的 系统 
还 会用 到 机械 设计 传感器 电子线路 PLC 运动控制 数据库 
SPC 等等 要把 这么 多 不同 方面 的 技术 和 
知识 组合 到 系统 里 使其 相互 完美 配合 并 
稳定 地 工作 对 系统 集成 人员 提出 了 很高 
的 要求 作者 根据 多年 的 经验 讲解 了 机器 
视觉 系统 集成 时所/nr 涉及 的 各种 技术 需要 综合 
考虑 的 因素 以及 评估 机器 视觉 系统 项目 成功 
的 可能性 的 方法 中国 经济 经过 数十年 的 高速 
发展 在 很多 领域 完成 了 从无到有 从 不能 到 
可以 的 跃 变 现在 已经 到 了 提高 生产 
效率 和 产品 质量 残酷 竞争 的 阶段 很多 原来 
使用 的 人工 工序 正 逐渐 被 机器 所 取代 
从而 对 机器 视觉 系统 产生 了 越来越 多 的 
需求 而 机器 视觉 技术 本来 就是 为了 解决 生产 
中 的 各种 问题 发展 起来 的 在 人类 的 
生产 活动 中 人 的 眼睛 担负 着 很多 重要 
的 任务 例如 放置 和 固定 工件 观察 和 估计 
位置 检测 外观 尺寸 确定 产品 的 一致性 检验 产品 
质量 等 这些 工作 正在 越来越 多 地被 机器 视觉 
系统 取代 一 方面 是 随着 对 生产 速度 和 
产品 质量 的 要求 越来越 高 对 检测 速度 和 
精度 的 要求 超过 了 肉眼 的 能力 另一方面 是 
因为 成像 技术 计算机 技术 或 图像 处理 技术 的 
发展 机器 视觉 系统 能够 完成 的 任务 越来越 复杂 
成本 也 越来越 低 然而 机器 视觉 技术 作为 一门 
新兴 技术 引人 中国 时间 并不 长 真正 有 经验 
的 系统 集成 人员 也 不多 而 机器 视觉 系统 
涉及到 照明 成像 电子 自动控制 计算机软件 硬件 机械设计 传感器 光学 
等 各方面 把 这些 不同 的 技术 集成 到 1个 
系统 内 并使 其 相互 完美 配合 工作 本身 就是 
艰巨 的 任务 本文 试图 根据 作者 多年 的 经验 
就 机器 视觉 系统 集成 技术 给 出 一些 建议 
期望 能够 帮助 使用 机器 视觉 系统 的 用户 评估 
其 系统 并 在 做出 合理 决策 时 提供 参考 
给 研制 系统 的 技术 人员 和 公司 提供 一些 
成功 的 经验 本文 将 介绍 需求分析 资源 配置 系统集成 
等 几个 方面 的 内容 A   需求分析 准确 地 
描述 机器 视觉 系统 需要 完成 的 功能 和 工作 
环境 对于 整个 机器 视觉 系统 的 成功 集成 是 
至关重要 的 对于 需求 的 描述 实际 定义 了 视觉 
系统 工作 的 场景 而 围绕 这个 场景 设计 1个 
系统 来 获取 合适 的 图像 并 提取 有用 的 
信息 或 控制 生产 过程 就是 我们 工作 的 目标 
这个 步骤 看起来 如此 简单 以至于 经常 被 忽略 有时候 
用户 在 生产 过程 中 产生 了 某种 需求 但是 
由于 知识面 和 技术 方面 的 原因 用户 不 知道 
自己 需要 什么样 的 视觉 系统 或者 不能 准确 描述 
自己 的 需求 而 这时 系统 集成商 自己 经验 不足 
或 没有 给 以 足够 的 重视 就 不能 帮助 
用户 来 明确 系统 的 功能 细节 这个 系统 集成 
开发 过程 注定 要 走弯路 甚至 最终 失败 所以 系统 
集成 的 第 1步 就是 明确 用户 需求 一般 情况 
下 可以 使用 下面 的 表格 来 帮助 我们 实现 
此 目标 问题 说明 检测 什么 东西 检测 的 目标 
物 是 什么 形状 是 什么样 的 检测 哪些 指标 
具体 检测 什么 指标 有无 状态 尺寸 位置 粘连 差异 
毛刺 颜色 目标 多大 物体 具体 尺寸 是 多少 工作距离 
安装 摄像机 到 被 测 物体 的 距离 最大 允许 
多远 能否 自由 调节 分辨率 多高 测 量尺寸 精度 要求 
是 多高 检测 速度 多快 全自动 测量 还是 手动 每分钟 
测量 多少 个 安装 空间 被 测 零件 周围 是否 
有 安装 光源 的 位置 是否 有 适合 安装 摄像头 
的 位置 怎样 固定 比较 合适 颜色 被 测 物体 
是 什么 颜色 我们 是否 需要 对 颜色 判别 是否 
可以 利用 颜色 差异 帮助 我们 实现 检测 目的 材质 
物体 是 什么 材料 的 表面 光学 性质 怎样 合格 
判据 合格 ／ 不 合格 的 定义 工位 信号 有 
工位 触 发信号 还是 需要 自动 连续 拍摄 图像 剔除 
或 控制 方式 是否 需要 自动 剔除 次品 或 控制 
机器 动作 怎样 对 不合格品 进行 剔除 使用 什么 信号 
格式 在 什么 位置 进行 工作 环境 工作 环境 的 
温度 湿度 粉尘 防水 杂散光 线 情况 交货 日期 这是 
不言而喻 的 B 资源 配置 机器 视觉 系统 集成 时 
涉及 到 多门 技术 最 基本 的 系统 也 需要 
照明 成像 图像 数字化 图像处理 算法 计算机软件 硬件 等 稍微 
复杂 一点 的 系统 还 会用 到 机械 设计 传感器 
电子线路 PLC 运动控制 数据库 SPC 等等 显而易见 要把 这么 多 
不同 方面 的 技术 和 知识 组 合到 1个 系统 
里 使其 相互 完美 配合 并 稳定 地 工作 对 
系统 集成 人员 提出 了 很高 的 要求 需要 根据 
具体 的 需求 来 确定 所 需要 配置 的 资源 
和 对策 B . 1 机械设计 由于 需求 不同 对 
机械 部分 的 要求 差别 很大 如果 是 全自动 的 
机器 视觉 系统 机械 部分 一般 需要 完成 的 功能 
有理 料 输送 定位 剔除 下料 等功能 而 有的 机器 
视觉 系统 则 只 需要 适当 的 固定 支架 来 
固定 相机 镜头 和 计算机 即可 差别 很大 例如 制药 
生产线 上 使用 的 西林瓶 灯 检 机 需要 完成 
理 瓶 输送 旋转 刹车 急停 相机 同步 快速 归位 
下料 分流 剔除 等 多个 动作 而且 需要 提供 多达 
15个 检测 工位 以 完成 液体 内部 悬浮物 玻璃 碎屑 
瓶身 破损 细菌 群落 瓶口 封装 瓶底 等 多项 指标 
的 检测 各种 机械零件 多达 上 千个 系统 非常 之 
复杂 而 停车场 使用 的 车牌 识别 系统 的 机械 
部分 则 非常 简单 只需要 相机 固定 和 保护 等 
安装 配件 即可 一般系统 集成商 不愿意 介入 特别 复杂 的 
机械 设计 一 方面 是 因为 在 用户 的 观念 
中 机械 设计 没有 太多 的 技术 含量 另一方面 是 
机械 加工 周期 较长 1个 小小 的 设计 错误 也 
会 导致 返工 时间 拖得 较长 所以 虽然 在 很多 
情形 下 机械 设计 在 机器 视觉 系统 中 占了 
很大 的 比重 而且 是 关键 部分 但 投入 相对 
较少 导致 整个 系统 开发 过程 不 顺利 有时候 和 
制造 机械 设备 的 公司 合作 是 最好 的 选择 
需要 指出 的 是 对于 需要 复杂 机械 系统 的 
全自动 系统 由于 大多数 系统 只能 针对 特定 的 产品 
工作 所以 除非 生产量 达到 一定 数量 或者 该 产品 
会 生产 很长时间 一般 情况 下 半自动 系统 就 足够 
了 自动 系统 开发 周期 长 成本高 生产 过程 中 
换型 困难 而 半自动 系统 只 需要 更换 1个 夹具 
重新 设置 检测 指标 和 合格 判据 就 可以 了 
B . 2 照明 光源 这个 看似 简单 的 照明 
系统 是 机器 视觉 系统 最为 关键 的 部分 直接 
关系 到 系统 的 成败 其 重要性 无论如何 强调 都是 
不 过分 的 好 的 设计 能够 使 我们 得到 
1幅 好 的 图像 从而 改善 整个 系统 的 分辨率 
简化 软件 的 运算 而不 合适 的 照明 则 会 
引起 很多 问题 例如 花点 和 过度 曝光 会 隐藏 
很多 重要 的 信息 阴影 则 会引起 边缘 的 误检 
而 信噪比 的 降低 以及 不 均匀 的 照明 会 
导致 图像处理 阈值 选择 的 困难 在 实际 应用 中 
得到 场景 的 图像 很容易 但是 得到 1幅 适合 机器 
视觉 算法 要求 的 图像 则 很难 因为 被 测 
目标 多种多样 形状 大小 不同 检测 指标 各异 而且 各种 
材料 的 反光 特性 及 颜色 也 不一样 要把 所 
需要 检测 的 特征 突显 出来 而对 不 需要 的 
特征 加以 抑制 并 不是 简单 的 任务 这 主要 
通过 设计 或 选择 合适 的 照明 光源 来 解决 
针对 特定 的 物体 和 场景 设计 ／ 选取 成本 
低廉 安装简单 照明 效果 好 的 照明 系统 就是 我们 
搭建 机器 视觉 系统 首先 需要 完成 的 任务 那么 
什么样 的 图像 才是 好 的 图像 呢 一般说来 1幅 
好 的 图像 需要 满足 以下 条件 1 充分 利用 
视场 使被 检测 物体 特征 充满 视场 从而 可以 最大限度 
地 利用 系统 的 分辨率 2 对比度 合适 灰度级 的 
最大值 接近 255 而 最小值 接近 0 3 焦距 准确 
图像 没有 因为 景深 或 运动 而 不 清晰 4 
照明 均匀 避免 反光 5 图像 畸 变小 6 感 
兴趣 的 特征 容易 被 检测 识别 其他 特征 不 
显示 或 得到 抑制 如果 选择 的 光源 能使 图像 
达到 这些 基本 的 要求 就 完成 了 机器 视觉 
系统 集成 的 第 1步 B . 3 成像 系统 
从 系统 集成 的 角度 简单 列举 选择 这些 硬件 
的 原则 由于 相机镜头 和 板卡 经过 多年 的 发展 
目前 已经 相当 成熟 而且 在 国内 市场 上 选择 
的 余地 也 不大 一般 是 本着 经济 的 原则 
够用 就好 选择 相 机时 我 的 建议 是 如果 
可能 就用 USB 接口 或 1394 接口 的 相机 这样 
可以 省掉 1个 板卡 的 费用 以后 硬件 或 软件 
升级 时 工作量 会 小 一些 对于 高端 的 应用 
除了 CameraLink 似乎 别无选择 最新 开发 的 GigE 接口 相机 
由于 TCP ／ IP 协议 Packet 传输 的 特性 在 
某些 场合 是 不能 保证 数据 的 实时性 的 但 
其 最大 的 优点 是 数据线 距离 可以 很长 主机 
可以 安装 在 办公室 内 这样/r 现场/n 就/d 只/d 需要/v 
适当/a 地/uv 安装/v 和/c 保护/v 相机/d 和/c 镜头/n 镜头 的 
可选择性 更少 除了 Computar Nikon Tamron Navitar 及 Moritex 几个 
制造商 外 市场 上 也 没有 多少 选择 空间 当然 
大多数 情况 下 也就 够用 了 如果 需要 更好 的 
成像 效果 可以 采用 单反 相机镜头 这样 做 一般 需要 
转 接口 Fujinon 在 厦门 有 生产 可是 国内 市场 
上 未见 销售 德国 CarlZeiss 镜头 很好 可惜 价格 太贵 
不太 适合 中国 市场 B . 4 计算机系统 机器 视觉 
系统 的 最佳 配置 是 使用 工控机 还是 使用 嵌入式 
系统 在 这个 问题 上 见仁见智 各有 优缺点 主要 还是 
看 使用 的 场合 和 系统 的 需求 2种 系统 
的 主要 特点 见 下表 项目 工控机 嵌入式 图像 处理 
能力 高低 扩展性 好差 体积 大小 现场 安装 难 需要 
机柜 容易 价格低 高 垄断 程度 低 高度 垄断 稳定性 
较好 非常好 设置 操作 容易 键盘 鼠标 或者 触摸屏 较难 
一般用 JOYstick 运行 操作 自动 自动 维修 简单 原 供货商 
才能 维修 通过 这些 对比 可以 看出 如果 安装 空间 
允许 选择 基于 工控机 的 视觉 系统 还是 有 更多 
的 优点 的 但是 如果 现场 必须 使用 体积 很小 
的 嵌入式 系统 那么 我们 别无选择 各 公司 的 成熟 
产品 一般 都 采用 了 嵌入式 主机 例 ~ HKeyence 
0mron Siemens Cognex 等 这 更多 的 是 由于 商业 
销售 的 考虑 因为 这样 做 可以 保证 自己 产品 
的 独特性 给 差异化 销售 找到 借口 另一方面 可以 使 
用户 自己 不能 更换 零件 从而 保证 售后服务 的 利润 
B . 5 图像处理 图像 处理 作为 机器 视觉 系统 
必不可少 的 部分 显得 如此 重要 以至于 很多 情况 下 
初学 乍到 的 人 会 以为 图像 处理 就 是 
机器 视觉 其实 我们 所说 的 图像 处理 实际 包含 
了 图像增强 和 图像 分析 2个 部分 图像增强 是 指 
经过 某种 处理 使 图像 改变 实现 对比 度提高 清晰度 
增加 特征 突出 等 目的 而 图像 分析 是 指 
经过 某种 运算 来 提取 某种 有用 的 信息 如 
有无 好坏 位置 等 以便 用来 进行 判断 或 控制 
例如 如何 使 模糊 的 图像 恢复 到 清晰 是 
典型 的 图像增强 处理 只要 得到 清晰 的 图像 就 
达到 了 目的 在 繁忙 的 机场 抓拍 过往 旅客 
的 面孔 找到 可疑 恐怖分子 则是 典型 的 图像 分析 
过程 经过 多年 的 发展 图像增强 算法 已经 基本 成熟 
例如 提 高对比度 的 灰度 拉伸 假彩色 边缘 提取 滤波 
傅立叶 变换 小波 变换 等 在 机器 视觉 系统 集成 
时 这些 一般 都是 在 图像 分析 前 作为 图像 
预处理 进行 的 而 图像 分析 算法 才是 机器 视觉 
真正 需要 解决 的 问题 通过 针对 某个 真实 场景 
的 图像 设计 1种 算法 来 得到 有用 的 信息 
完全/ad 依赖/v 于/p 技术/n 人员/n 的/uj 经验/n 和/c 能力/n 在 
这个 过程 中 公司 投入 了 大量 时间 和 金钱 
来 进行 研究 而 得到 的 算法 往往 具有 经济 
价值 公司 或 个人 都会/nr 严格 保密 例如 如果 机场 
候机 厅里 只有 1个 乘客 那么 设计 个 算法 来 
找到 这个 乘客 的 位置 是 相对 容易 的 很多 
公司 或 个人 都 可以 实现 而且 使用 的 方法 
或者 计算 时间 也 差不多 而 要在 成千上万 的 游客 
中 找到 具有 某个 特定 特征 的 乘客 就 不是 
那么 容易 了 各人 设计 出 的 算法 肯定 千差万别 
谁 能够 在 最 短时间 内 最 可靠 地 找到 
目标 就是 最 有价值 的 这种 情况 下 除了 经验 
之外 灵感 和 创造 能力 也 很 重要 也 就是说 
作为 系统 集成 所 需要 的 图像 处理 算法 需要 
很多 的 实践 经验 而 这些 算法 大多 不 是 
能够 从 书本 或 文章 里 学到 的 B . 
6 自动控制 作为 1个 子系统 完美 配合 工作 中 的 
机器 视觉 系统 自然会 用到 光电 传感器 数字 IO 接口 
PLC 运动控制 等 工业 控制 元器件 这些 方面 的 知识 
也 是 必不可少 的 虽然 如此 这些 都是/nr 成熟 的 
技术 有 基本 的 知识 直接 拿来 使用 就 可以 
了 不 需要 我们 重新 设计 而且 零件 供应商 也会 
提供 一定 的 技术 支持 一般 在 整个 系统 的 
开发 过程 中 这 方面 花费 的 时间 和 精力 
是 最少 的 C 系统集成 明确 了 我们 的 需求 
估计 了 我们 需要 配置 的 资源 理解 了 各 
子系统 需要 完成 的 工作 就 到了 把 这些 知识 
综合考虑 组成 1个 整机 系统 的 时候 了 把 这些 
不同 领域 里 得到 的 零部件 组合 在 一起 希冀 
打开 电源 时就/nr 能够 完美 的 工作 是 不太 现实 
的 这个 过程 里 有 很多 意想不到 的 问题 需要 
解决 一般 情况 下 我们 需要 遵循 一定 的 原则 
才能 使 出现 的 问题 最少 这里 根据 我们 的 
经验 给 出 一些 建议 1 尽量 使用 能够 采购 
的 零件 off the shelfcomponents 在 可能 的 情况 下 
应当 尽可能 使用 现成 的 备件 如 镜头 相机 板卡 
等 能够 买到 的 东西 就 不要 自己 做 我 
已经 多次 看到 不同 的 公司 和 研究 室 为了 
节省 成本 自己 设计 制造 很容易 买到 的 零件 结果 
浪费 了 很多 时间 走 了 很多 弯路 例如 有 
1个 公司 咨询 为什么 成像 效果 不好 我 去 现场 
一看 他们 使用 了 1个 直径 20 毫米 的 凸透镜 
作为 镜头 为了 节省 成本 15 元 人民币 买来 的 
可想而知 成像 效果 如何 岂不知 连 SONY 也 不得不 向 
CarlZeiss 采购 镜头 2 分而治之 divide and conquer 把 系统 
分割 成 多个 模块 把 每 1 部分 集成 到 
一起 确保 能够 正确 地 工作 然后再 把 这些 模块 
组成 1个 大系统 这 和 软件 开发 常用 的 方法 
是 一样 的 只有 把 1 个大 的 系统 分割 
成 小到 我们 能够 很容易 处理 的 小块 才 能够 
有效 的 完成 这 也 需要 富有 经验 的 项目 
负责人 来 完成 这项 工作 3 充分考虑 现场 条件 在 
实验室 里 开发 的 系统 安装 到 使用 现场 后 
常常 碰到问题 这 主要 是 环境光 电磁 干扰 和 振动 
几个 方面 的 原因 造成 的 机器 视觉 系统 毕竟 
使用 了 光学系统 安装 现场 的 照明 情况 或 自然光 
的 影响 有时 会 导致 我们 设计 的 算法 根本 
无法 工作 从而 致使 系统 失败 工厂 的 供电 一般 
是 带有 各种 电磁 干扰 的 很容易 从 电源线 或 
其他 地方 进入 计算机系统 从而 导致 系统 不能 稳定 工作 
如果 系统 时而/nr 工作 正常 时而 死机 一般 都是/nr 这个 
原因 造成 的 另外 工业 现场 各种 机器 同时 工作 
有时 振动 会 导致 问题 例如 如果 算法 采用 两 
幅 图像 相减 的 方法 肯定 不能 正常 工作 因为 
振动 导致 的 图像 移位 使得 图像 已经 对 不准 
了 这种 情况 下 尺寸 测量 也 会 产生 误差 
所以 系统 集成 的 过程 中 最好 能够 模拟 现场 
情况 否则 很难 1次 成功 4 把 困难 乘 2 
在 新产品 开发 过程 中 往往 会 遇到 意想不到 的 
问题 例如 有时候 1根 电线 接触不良 就会 导致 整个 系统 
不 工作 而 查找 这个 问题 并 不是 1件 容易 
的 事 有时 软件 有 小小的 问题 改成 正确 的 
代码 只 需要 几 分钟 但是 也许 2个 星期 也 
找不到 问题所在 所以 整个 系统 集成 时 碰到 的 问题 
和 解决 问题 需要 的 时间 往往 比 预计 的 
要多 越是 复杂 庞大 的 系统 越是 如此 一般 我们 
需要 把 已知 需要 解决 的 问题 总数 乘以 2 
或 3 才能 真正 地 做出 切合 实际 的 工作 
计划 机器 视觉 技术 是 计算机 学科 的 一个 重要 
分支 它 综合 了 光学 机械 电子 计算机 软硬件 等 
方面 的 技术 涉及 到 计算机 图像处理 模式识别 人工智能 信号处理 
光机电 一体化 等 多个 领域 自 起步 发展 至今 已经 
有 20 多年 的 历史 其 功能 以及 应用 范围 
随着 工业 自动化 的 发展 逐渐 完善 和 推广 其中 
特别 是 目前 的 数字 图像 传感器 CMOS 和 CCD 
摄像机 DSP FPGA ARM 等 嵌入式 技术 图像 处理 和 
模式 识别 等 技术 的 快速 发展 大大 地 推动 
了 机器 视觉 的 发展 简而言之 机器 视觉 就是 利用 
机器 代替 人眼 来作 各种 测量 和 判断 在 生产线 
上 人 来做 此类 测量 和 判断 会 因 疲劳 
个人 之间 的 差异 等 产生 误差 和 错误 但是 
机器 却会 不知 疲倦 地 稳定 地 进行 下去 一般来说 
机器 视觉 系统 包括 了 照明 系统 镜头 摄像 系统 
和 图像 处理 系统 对于 每一个 应用 我们/r 都/d 需要/v 
考虑/v 系统/n 的/uj 运行/v 速度/n 和/c 图像/n 的/uj 处理/v 速度/n 
使用 彩色 还是 黑白 摄像机 检测 目标 的 尺寸 还是 
检测 目标 有无 缺陷 视场 需要 多大 分辨率 需要 多高 
对比度 需要 多大 等 从 功能 上 来看 典型 的 
机器 视觉 系统 可以 分为 图像 采集 部分 图像 处理 
部分 和 运动控制 部分 一个 完整 的 机器 视觉 系统 
的 主要 工作 过程 如下 1 工件 定位 检测器 探测 
到 物体 已经 运动 至 接近 摄像 系统 的 视野 
中心 向 图像 采集 部分 发送 触发 脉冲 2 图像 
采集 部分 按照 事先 设定 的 程序 和 延时 分别/d 
向/p 摄像机/n 和/c 照明/v 系统/n 发出/v 启动/vn 脉冲/n 3 摄像机 
停止 目前 的 扫描 重新 开始 新的 一帧 扫描 或者 
摄像机 在 启动 脉冲 来到 之前 处于 等待 状态 启动 
脉冲 到来 后 启动 一帧 扫描 4 摄像机 开始 新的 
一帧 扫描 之前 打开 曝光 机构 曝光 时间 可以 事先 
设定 5 另一个 启动 脉冲 打开 灯光 照明 灯光 的 
开启 时间 应该 与 摄像机 的 曝光 时间 匹配 6 
摄像机 曝光 后 正式 开始 一帧 图像 的 扫描 和 
输出 7 图像 采集 部分 接收 模拟 视频信号 通过 A 
/ D 将其 数字化 或者 是 直接 接收 摄像机 数字化 
后的/nr 数字 视频 数据 8 图像 采集 部分 将 数字 
图像 存放在 处理器 或 计算机 的 内存 中 9 处理器 
对 图像 进行 处理 分析 识别 获得 测量 结果 或 
逻辑 控制值 10 处理结果 控制 流水线 的 动作 进行 定位 
纠正 运动 的 误差 等 从 上述 的 工作 流程 
可以 看出 机器 视觉 是 一种 比较 复杂 的 系统 
因为 大多数 系统 监控 对象 都是/nr 运动 物体 系统 与 
运动 物体 的 匹配 和 协调 动作 尤为重要 所以 给 
系统 各 部分 的 动作 时间 和 处理 速度 带来 
了 严格 的 要求 在 某些 应用领域 例如 机器人 飞行 
物体 导 制 等 对 整个 系统 或者 系统 的 
一部分 的 重量 体积/n 和/c 功耗/n 都会/i 有/v 严格/ad 的/uj 
要求/v 机器 视觉 系统 的 优点 有 1 非 接触 
测量 对于 观测者 与 被 观测者 都 不会 产生 任何 
损伤 从而 提高 系统 的 可靠性 2 具有 较宽 的 
光谱 响应 范围 例如 使用 人 眼看 不见 的 红外 
测量 扩展 了 人眼 的 视觉 范围 3 长时间 稳定 
工作 人类 难以 长时间 对 同一 对象 进行 观察 而 
机器 视觉 则 可以 长时间 地 作 测量 分析 和 
识别 任务 机器 视觉 系统 的 应用 领域 越来越 广泛 
在 工业 农业 国防 交通 医疗 金融 甚至 体育 娱乐 
等 等 行业 都 获得 了 广泛 的 应用 可以 
说 已经 深入 到 我们 的 生活 生产 和 工作 
的 方方面面 在 使用 机器 视觉 系统 进行 检测 的 
具体 应用 环境 中 会有 持续 进料 的 应用 或者 
间歇 进料 的 应用 即 目标 物 会 停止 一段 
时间 进行 检测 这时 就 需要 知道 检测 目标 物 
的 速度 能达到 多快 目标 物 的 数量 以及 每 
分钟 进行 检测 的 最大 数量 这些 数据 可以 根据 
视觉 系统 的 处理 速度 进行 计算 其 计算 方法 
如下 每分钟 检测 的 最大 数量 = 60 sec . 
÷ 视觉 系统 的 处理 速度 sec . 例如 如果 
视觉 系统 的 处理 速度 是 20ms 那么 每分钟 检测 
的 最大 数量 = 60sec . ÷ 0 . 02sec 
. = 3000times / min . = 50 times / 
sec . 但是 实际 处理速度 根据 视觉 系统 的 相机 
类型 和 检测 设置 会 有所不同 虽然 大多数 简单 的 
应用 能以 20ms 的 速度 运行 在 具体 应用 中 
最好 还是 用 实际 目标 物 测试 一下 检测 的 
情况 如果 在 具体 应用 中 对 视觉 系统 的 
处理 速度 有 一定 要求 可用 以下 计算 方法 获得 
视觉 系统 被 要求 的 处理 速度 ms = 1 
sec . ÷ 要求 的 检测 次数 times / sec 
. x 1000 同时 在 实际 应用 中 被 检测 
目标 物 在 相机 的 视野 范围内 持续 移动 时 
还 需要 考虑 相机 快门 的 速度 否则 会 出现 
模糊不清 的 图像 无法 达到 检测 要求 例如 相机 在 
持续 移动 的 生产线 上 捕捉 电子 部件 的 图像 
时 如果 快门速度 曝光 时间 对于 生产 线速度 来说 不 
够快 图像 就会 模糊 为了 防止 模糊 快门速度 需要 进行 
设置 使得 相机 捕捉 图像 时 物体 移动 速度 不 
超过 1/10 的 要求 容 差值 如下 图 所示 目标 
物 在 相机 的 视野 范围内 持续 移动 高速 快门 
图像 低速 快门 图像 相机 快门 速度 计算方法 快门速度 = 
要求 容差/nr mm ÷ 生产 线速度 mm / sec . 
例 检测 容差/nr = 0 . 2mm 生产 线速度 = 
200mm / sec . 快门速度 = 0 . 2mm ÷ 
10 ÷ 200mm / sec . = 1/10000 因此 此 
项 应用 中 理想 的 快门 速度 要 快于 1/10000 
如果 视觉 系统 的 处理 速度 较快 在 高速 生产线 
上 进行 检测 就 一定 可行 那么 典型 的 尺寸 
检测 处理 时间 需要 多久 呢 此 检测时间 根据 视觉 
系统 的 处理 能力 以及 针对 个别 应用 的 设置 
会有 很大 的 差异 下表 提供 了 捕捉 和 处理 
图像 所需 时间 参考值 的 估计 底线 用户 可 根据 
自己 的 实际 应用 进行 参考 使用 瑕疵 检测 污垢 
检测 或 芯片 检测 都是 非常 典型 的 机器 视觉 
系统 检测 的 应用 方式 根据 工件 和 生产线 的 
状况 不同 每种 检测 都 需要 不同 的 功能 本文 
对 机器 视觉 污点 检测工具 的 原理 及 使用 方法 
做 以 简介 1 区段 视觉 系统 透过 CCD 图像 
传感器 将 强度 资料 的 变化 检测 为 污点 或 
边缘 但是 逐个 处理 像素 需要 花费 大量 的 时间 
并且 噪声 会对 检测 结果 产生 影响 因此 视觉 系统 
使用 由 数个 像素 组成 的 小区域 的 平均 强度 
该 小区域 被称为 区段 并 透过 比较 这些 区段 的 
平均 强度 来 检测 污点 如上图 中 所示 将 区段 
4 x 4 像素 的 平均 强度 与 周边 地区 
的 平均 强度 作比较 图中 的 红色 区段 被 检测 
出 污点 2 污点 检测工具 的 算法 区段 的 比较 
和 计算 方式 检测 原理 1 将 X 方向 指定 
为 检测 方向 时 污点 检测工具 测量 指定 区域 区段 
的 平均 强度 并以 四分之一 个 区段 为 间距 改变 
区段 位置 它 可确定 四个 区段 中的 最大 和 最小 
强度 之间 的 差值 其中 包括 标准 区段 下图 中的 
① 95 该 差值 被 视为 标准 区段 的 污点 
等级 当 污点 等级 超过 当前 阈值 时 标准 区段 
被 视为 污点 被 测 区域 中 超过 预设 阈值 
的 次数 被 称为 污点 范围 该 过程 反复 进行 
从而 不断 改变 标准 区段 在被 测 区域 中 的 
位置 在 圆形 工件 上 检测 污点 的 原理 PET 
瓶 轴承 或 O 型 圈 等 多种 圆形 工件 
需要 对 圆形 区域 进行 视觉 检测 当 搜索 圆形 
区域 时 程序 同时 执行 极坐标 转换 为了 检测 污点 
它 将 圆形 窗口 检测 区段 转换 为 长方形 并在 
圆形 方向 和 半径 方向 上 比较 区段 的 强度 
机器 视觉 划痕 检测 的 基本 分析 过程 分为 两步 
首先 确定 检测 产品 表面 是否 有 划痕 其次 在 
确定 被 分析 图像 上 存在 划痕 之后 对 划痕 
进行 提取 划痕 检测 是 工业 生产 中 经常 遇到 
的 问题 在 工业 中 许多 设备 的 零部件 都是 
在 高温 高压 的 环境 中 工作 的 所受 载荷 
复杂 使用 环境 恶劣 故障率 高 造成 的 后果 也 
非常 严重 因此 对 相关 部件 的 缺陷 疲劳 裂纹 
的 产生 扩展 进行 视觉 检测 就 显得 尤为 重要 
划痕 通常 可分为 三大类 第一类 划痕 部分 灰度 值 变化 
并 不明显 整幅 图像 灰度 比较 平均 划痕 面积 也 
比较 小 只有 几个 像素点 灰度 也只 比 周围 图像 
稍低 很难 分辨 可以 对 原 图像 进行 均值 滤波 
得到 较 平滑 的 图像 并与 原 图像 相减 当 
其 差 的 绝对值 大于 阈值 时就/nr 将其 置 为 
目标 并对 所有 的 目标 进行 标记 计算 其 面积 
将 面积 过小 的 目标 去掉 剩下 的 就 标记 
为 划痕 第二类 划痕 各部分 灰度 差异 较大 形状 通常 
呈 长条 形 如果 在 一幅 图像 上 采取 固定 
阈值 分割 则 标记 的 缺陷 部分 会 小于 实际 
部分 由于 这类 图像 的 划痕 狭长 单纯 依靠 灰度 
检测 会将 缺陷 延伸 部分 漏掉 对于 这类 图像 根据/p 
其/r 特点/n 选择/v 双/n 阈值/n 和/c 缺陷/v 形状/n 特征/n 相/v 
结合/v 的/uj 方法/n 第三类 划痕 从 外观上 较易 辨认 同时 
灰度 变化 跟 周围 区域 对比 也 比较 明显 可以 
选择 较小 的 阈值 精 缺陷 部分 直接 标记 由于 
在 工业 检测 中 图像 的 多样性 对于 每一种 图像 
都要 经过 分析 综合 考虑 各种 手段 来 进行 处理 
达到 效果 一般来说 划痕 部分 的 灰度 值 和 周围 
正常 部分 相比 要 暗 也 就是 划痕 部分 灰度 
值 偏小 而且 大多 都是 在 光滑 表面 所以 整幅 
图 的 灰度 变化 总体 来说 非常 均匀 缺乏 纹理 
特征 因此 划痕 的 检测 一般 使用 基于 统计 的 
灰度 特征 或者 阈值 分割 的 方法 将 划痕 部分 
标出 数字相机 传输 接口 比较 http / / blog . csdn . net / douglax 
/ article / details / 9528297 视觉 引导 的 运动 
  如果 你 的 应用 需要 一个 视觉 系统 来 
引导 机器人 那么 必须 知道 视觉 系统 与 运动 系统 
是 如何 集成 的 对于 校准 和 操作 没 集成 
的 运动 系统 与 视觉 系统 是 初步 的 系统 
机械人 或 机构 和 视觉 系统 是 分开 校准 的 
在 操作 中 一台 独立 的 视觉 系统 根据 在 
视觉 坐标系统 中的 已知 位置 计算出 零件 位置 的 偏移量 
然后 发 指令 给 机器人 的 手臂 在 离 初始化 
编程 的 拾取 位置 的 偏移量 处 拾取 零件 由于 
机器 视觉 系统 可以 快速 获取 大量 信息 而且 易于 
自动 处理 也 易于 同 设计 信息 以及 加工 控制 
信息 集成 因此 在 现代 自动化 生产 过程 中 人们 
将 机器 视觉 系统 广泛 地 用于 装配 定位 产品 
质量 检测 产品 识别 产品 尺寸 测量 等 方面 机器 
视觉 系统 的 特点 是 提高 生产 的 柔性 和 
自动化 程度 在 一些 不 适合 于 人工 作业 的 
危险 工作 环境 或 人工 视觉 难以 满足 要求 的 
场合 常用 机器 视觉 来 替代 人工 视觉 同时 在 
大批量 工业 生产 过程 中 用 人工 视觉 检查 产品 
质量 效率 低 且 精度 不高 用 机器 视觉 检测 
方法 可以 大大 提高 生产 效率 和 生产 的 自动化 
程度 而且 机器 视觉 易于 实现 信息 集成 是 实现 
计算机 集成 制造 的 基础 技术 使用 机器 视觉 系统 
五个 主要 原因 重复性 机器 可以 以 相同 的 方法 
一次 一次 的 完成 检测 工作 而 不会 感到疲倦 与此相反 
人眼/n 每次/r 检测/vn 产品/n 时/n 都会/i 有/v 细微/a 的/uj 不同/a 
即使 产品 时 完全 相同 的 精确性 由于 人眼 有 
物理 条件 的 限制 在 精确性 上 机器 有 明显 
的 优点 即使 人眼 依靠 放大镜 或 显微镜 来 检测 
产品 机器 仍然 会 更加 精确 因为 它 的 精度 
能够 达到 千分之 一英寸 速度 机器 能够 更快 的 检测 
产品 特别 是 当 检测 高速 运动 的 物体 时 
比如说 生产线 上 机器 能够 提高 生产 效率 客观性 人眼 
检测 还有 一个 致命 的 缺陷 就是 情绪 带来 的 
主观性 检测 结果 会 随 工人 心情 的 好坏 产生 
变化 而 机器 没有 喜怒哀乐 检测 的 结果 自然 非常 
可观 可靠 成本 由于 机器 比人 快 一台 自动 检测 
机器 能够 承担 好 几个人 的 任务 而且 机器 不需要 
停顿 不会 生病 能够 连续 工作 所以 能够 极大 的 
提高 生产 效率 工业 相机 作为 机器 视觉 系统 中 
的 核心 部件 对于 机器 视觉 系统 的 重要性 是 
不言而喻 的 按照 分类 的 不同 相机 又 分为 很多 
种 1 彩色 相机 黑白 相机 黑白 相机 直接 将 
光强 信号 转换成 图像 灰度 值 生成 的 是 灰度 
图像 彩色/n 相机/d 能/v 获得/v 景/ng 物中/i 红/a 绿 蓝 
三个 分量 的 光信号 输出 彩色图像 彩色 相机 能够 提供 
比 黑白 相机 更多 的 图像 信息 彩色 相机 的 
实现 方法 主要 有 两种 棱镜/nz 分光/n 法和/nr Bayer/w 滤波/n 
法/l 棱镜 分光 彩色 相机 利用 光学 透镜 将 入射 
光线 的 R G B 分量 分离 在 三片 传感器 
上 分别 将 三种 颜色 的 光信号 转换成 电信号 最后 
对 输出 的 数字 信号 进行 合成 得到 彩色图像 2 
CCD 相机 CMOS 相机 芯片 主要 差异 在于 将 光 
转换 为 电信号 的 方式 对于 CCD 传感器 光 照射到 
像 元上/nr 像 元 产生 电荷 电荷 通过 少量 的 
输出 电极 传输 并 转化 为 电流 缓冲 信号 输出 
对于 CMOS 传感器 每个 像 元 自己 完成 电荷 到 
电压 的 转换 同时 产生 数字信号 3 按 靶 面 
类型 分类 面 阵 相机 线 阵 相机 相机 不仅 
可以 根据 传感器 技术 进行 区分 还 可以 根据 传感器 
架构 进行 区分 有 两种 主要 的 传感器 架构 面 
扫描 和线/nr 扫描 面 扫描 相机 通常用于 输出 直接 在 
监视器 上 显示 的 场合 线 扫描 相机 用于 连续 
运动 物体 成像 或 需要 连续 的 高分辨率 成像 的 
场合 线 扫描 相机 的 一个 自然 的 应用 是 
静止 画面 Web Inspection 中 要对 连续 产品 进行 成像 
比如 纺织 纸张 玻璃 钢板 等 同时 线 扫描 相机 
同样 适用 于 电子 行业 的 非 静止 画面 检测 
像 德国 Kappa 相机 根据 它 CCD 的 规格 也会 
有线 阵 面 阵 之分 4 按 输出 模式 分类 
模拟 相机 数字相机 根据 相机 数据 输出 模式 的 不同 
分为 模拟 相机 和 数字相机 模拟 相机 输出 模拟信号 数字相机 
输出 数字信号 模拟 相机 和 数字 相机 还 可以 进一步 
细分 比如 德国 Kappa 相机 按 数据接口 又 包括 USB 
2.0 接口 EE 1394 a / Fire Wire Camera Link 
接口 千兆 以太网 接口 模拟 相机 分为 逐行扫描 和 隔行扫描 
两种 隔行扫描 相机 又 包含 EIA NTSC CCIR PAL 等 
标准 制式 有关 接口 技术 的 详细 介绍 请 参考 
采集卡 及 采集 技术 部分 在 选择 一款 工业 数字相机 
时 物体 成像 的 速度 必须 充分 考虑 好 例如 
假设在 拍摄 过程 中 物体 在 曝光 中 没有 移动 
可用 相对 简单 和 便宜 的 工业 相机 对于 静止 
或 缓慢 移动 的 物体 面 阵 工业 相机 最 
适合 于对/nr 静止 或 移动 缓慢 的 物体 成像 因为 
整个 面 阵 区域 必须 一次 曝光 在 曝光 时间 
当中 任何 的 移动 会 导致 图像 的 模糊 但是 
运动 模糊 可以 通过 减少 曝光 时间 或 使用 闪光灯 
来 控制 对于 快速 移动 的 物体 当 对 运动 
的 物体 使用 一个 面 阵 工业 相机 时 需要 
考虑 在 曝光 时间 当中 处于 工业 相机 当中 的 
运动 对象 数量 还 需要 考虑 物体 上 能用 一个 
像素 表征 的 最小 特征 也 就是 对象 分辨率 在 
采集 运动 物体 的 图像 的 拇指 规则 就是 曝光 
必须 发生 在 采集 物体 移动 量小 于 一个 像素 
的 时间 内 如果 你 采集 的 物体 是 在 
以 1 厘米 / 秒 的 速度 匀速 移动 而且 
物体 分辨率 已经 设置 为 1 pixel / mm 那么 
需要 的 最大 曝光 时间 是 1/10 每秒 因为 物体 
移动 一个 距离 恰好 等于 相机 传感器 中 的 一个 
像素 当/t 使用/v 最大/a 曝光/nz 时间/n 时/n 这里/r 会/v 有/v 
一定/d 数量/n 的/uj 模糊/a 在 这种 情况 下 一般 倾向于 
将 曝光 时间 设置 的 比 最大值 要快 比如 1/20 
每秒 就能 保持 物体 在 移动 半个 像素 内 成像 
如果 同样 的 物体 以 1 厘米 / 秒 的 
速度 移动 物体 分辨率 为 1 pixel / 微米 那么 
一秒 中所 需要 的 最大 曝光 是 1/10000 . 曝光 
设置 的 对 快 取决于 所 采用 的 相机 还有 
你 是否 能够 给 物体 足够 的 光来 获得 一幅 
好 的 图像 机器 视觉 在 中国 的 发展 已 
有 十余个 年头 过去 十年 是 机器 视觉 产业 在 
中国 市场 发展 最快 的 十年 经过 一定 时期 的 
普及 与 推广 机器 视觉 已 逐渐 为 广大 客户 
所 熟知 而且 应用 范围 也 逐渐 开始 扩大 大 
规模 的 应用 领域 由 起初 的 电子 制药 等 
行业 逐步 扩展 到 包装 印刷 等 各大 领域 机器 
视觉 市场 在 发展 机器 视觉 技术 在 进步 在 
以 不断 满足 客户 发展 需求 的 同时 最 基本 
需求 的 满足 也是 不容忽视 的 一直以来 我国 的 科技 
水平 都 处于 不断 发展 的 阶段 机器 视觉 技术 
作为 科技 发展 的 产物 为了 更好 的 适应 行业 
需求 也 在 不断 的 优化 升级 纵观 行业 发展 
国内 机器 视觉 市场 机遇 与 挑战 并存 而 行业 
技术 的 升级 更 显得 尤为 必要 了 为 顺应 
行业 发展 趋势 国内 的 机器 视觉 技术 就 需要 
通过 以下 四 大要 素来 升级 一 系统 操作 简单 
方便 技术参数 简单化 处理 技术 方便化 是 系统 操作 最为 
关键 也 是 核心 的 要素 机器 视觉 技术 虽然 
属于 高 科技 技术 在 运作 过程 中 还 需要 
依靠 不断 调整 各种 参数 来 达到 最好 的 效果 
但是 目前 来说 操作 人员 大都 技术 水平 有限 因此 
系统 简化 是 大多数 客户 的 较 价格 与 质量 
之后 的 基本 需求 而 系统 简化 主要 包括 的 
是 检测 操作 的 简化 与 图像 处理 的 简化 
二 系统 长期 可维护性 一个 好 的 系统 不仅 要 
考虑 使用性 还应 考虑 其 在 长期 运 做 中的 
可维护性 机器 视觉 技术 的 稳定性 可靠性 足以 使 系统 
在 实际 应用 中 更好 的 发挥 功能 优势 提供 
有力 的 技术 支持 三 检测 技术 稳定 可靠 在 
工业 生产 过程 中 由于 被 测 物体 的 多样化 
以及 机械 的 误差 影响 使得 整个 检测 过程 很难 
是 维持 在 平稳 的 状态 因此 这 就 需要 
机器 视觉 技术 有 很高 的 稳定性 从 光源 照明 
图像 采集 到 图像 存储 与 处理 都 要有 可以 
在 任何 环境 下 持续 运作 的 适应 能力 同时 
还 要尽 量能 采集 到 突出 检测 对象 的 图像 
这样 才能 给 出 最为 稳定 准确 清晰 的 检测 
结果 才能 为 生产 或 质检 工作 提供 技术 支持 
四 系统性 价 比值 高在/nr 保障 质量 的 基础 上 
客户 最为 关心 的 莫过于 价格 问题 机器 视觉 技术 
不断 升级 本 是 件 对 客户 有益 的 事 
但 如果 只是 一味 的 使用 昂贵 的 部件 就 
会 造成 价格 的 大幅 提升 对于 大 部分 的 
用户 来说 无疑 增添 了 负担 性能好 价格低 的 系统 
才是 能 满足 最 基本 需求 的 因此 性价比 是 
衡量 一个 系统 的 重要 标志 也是 客户 选择 产品 
最 重要 的 指标 之一 中国 是 世界 的 制造 
工厂 目前 全球 几乎 所有 的 知名 企业 都把/nr 生产 
工厂 放在 中国 机器 作业 代替 人员 操作 已 成为 
市场 优胜劣汰 的 必然 选择 机器 视觉 产业 在 中国 
有着 非常 广阔 而 光明 的 前景 也使 中国 机器 
视觉 市场 成为 全球 机器 视觉 企业 的 竞争 焦点 
因此 我们 要 抓住 时机 不断 引进 各项 高新技术 促进 
行业 的 快速 发展 在 机器 视觉 系统 中 获得 
一 张高 质量 的 可 处理 的 图像 是 至关重要 
系统 之所以 成功 首先 要 保证 图像 质量 好 特征 
明显 一个 机器 视觉 项目 之所以 失败 大 部分 情况 
是 由于 图像 质量 不好 特征 不明显 引起 的 要 
保证 好 的 图像 必须 要 选择 一个 合适 的 
光源 光源 选型 基本要素     对比度 对比度 对 机器 
视觉 来说 非常 重要 机器 视觉 应用 的 照明 的 
最重要 的 任务 就是 使 需要 被 观察 的 特征 
与 需要 被 忽略 的 图像 特征 之间 产生 最大 
的 对比度 从而 易于 特征 的 区分 对比度 定义 为 
在 特征 与 其 周围 的 区域 之间 有 足够 
的 灰 度量 区别 好 的 照明 应该 能够 保证需要 
检测 的 特征 突出 于 其他 背景 亮度 当 选择 
两种 光源 的 时候 最佳 的 选择 是 选择 更 
亮 的 那个 当 光源 不够 亮 时 可能 有 
三种 不好 的 情况 会 出现 第一 相机 的 信噪比 
不够 由于 光源 的 亮度 不够 图像 的 对比度 必然 
不够 在 图像 上 出现 噪声 的 可能性 也 随即 
增大 其次 光源 的 亮度 不够 必然 要 加大 光圈 
从而 减小 了 景深 另外 当 光源 的 亮度 不够 
的 时候 自然光 等 随机 光 对 系统 的 影响 
会 最大 鲁棒性 另 一个 测试 好 光源 的 方法 
是 看 光源 是否 对 部件 的 位置 敏感度 最小 
当 光源 放置 在 摄像头 视野 的 不同 区域 或 
不同 角度 时 结果 图像 应 该不会 随之 变化 方向性 
很强 的 光源 增大 了 对 高亮 区域 的 镜面反射 
发生 的 可能性 这 不利于 后面 的 特征 提取 好 
的 光源 需要 能够 使 你 需要 寻找 的 特征 
非常 明显 除了 是 摄像头 能够 拍摄到 部件 外 好 
的 光源 应该 能够 产生 最大 的 对比度 亮度 足够 
且 对 部件 的 位置 变化 不 敏感 光源 选择 
好了 剩 下来 的 工作 就 容易 多了 具体 的 
光源 选取 方法 还 在于 试验 的 实践 经验 1 
环形 光源 提供 不同 照射 角度 不同颜色 组合 更能 突出 
物体 的 三维 信息 高密度 LED 阵列 高亮度 多种 紧凑 
设计 节省 安装 空间 解决 对角 照射 阴影 问题 可 
选配 漫射 板 导 光 光线 均匀 扩散 应用于 PCB 
基板 检测 IC 元件 检测 显微镜 照明 液晶 校正 塑胶 
容器 检测 集成电路 印字 检查 2 背光源 用 高密度 LED 
阵列 面 提供 高 强度 背光 照明 能 突出 物体 
的 外形 轮廓 特征 尤其 适合 作为 显微镜 的 载物台 
红白 两用 背光源 红蓝 多用 背光源 能 调配出 不同颜色 满足 
不 同被 测 物 多色 要求 应用于 机械零件 尺寸 的 
测量 电子元件 IC 的 外型 检测 胶片 污点 检测 透明 
物体 划痕 检测 等 3 条形 光源 较大 方形 结构 
被 测 物 的 首选 光源 颜色 可 根据 需求 
搭配 自由组合 照射 角度 与 安装 随意 可调 应用于 金属表面 
检查 图像 扫描 表面 裂缝 检测 LCD 面板 检测 等 
4 同轴 光源   光 的 一致性 好 可以 消除 
物体 表面 不 平整 引起 的 阴影 从而 减少 干扰 
部分 采用 分光镜 设计 减少 光 损失 提高 成像 清晰度 
均匀 照射 物体 表面 应用于 系列 光源 最适宜 用于 反射度 
极高 的 物体 如 金属 玻璃 胶片 晶片 等 表面 
的 划伤 检测 芯片 和 硅晶片 的 破损 检测 Mark 
点 定位 包装 条码 识别 5 AOI 专用 光源 不同 
角度 的 三 色光 照明 照射 凸显 焊锡 三维 信息 
外加 漫射 板 导 光 减少 反光 不同 角度 组合 
应用于 电路板 焊锡 检测 6 球 积分 光源 具有 积分 
效果 的 半 球面 内壁 均匀 反射 从 底部 360度 
发射出 的 光线 使 整个 图像 的 照度 十分 均匀 
应用于 合于 曲面 表面 凹凸 弧形 表面 检测 或 金属 
玻璃 表面 反光 较强 的 物体 表面 检测 7 线形 
光源 超 高亮度 采用 柱面透镜 聚光 适用 于 各种 流水线 
连续 检测 场合 阵 相机 照明 专用 AOI 专用 8 
点光源 大功率 LED 体积小 发光强度 高 光纤 卤素灯 的 替代品 
尤其 适合 作为 镜头 的 同轴 光源 等 高效 散热装置 
大大提高 光源 的 使用 寿命 应用于 适合 远 心 镜头 
使用 用于 芯片 检测 Mark 点 定位 晶片 及 液晶 
玻璃 底 基 校正 9 组合 条形 光源 四边 配置 
条形 光 每边 照明 独立 可控 可 根据 被 测 
物 要求 调整 所需 照明 角度 适用性 广 应用 案例 
CB 基板 检测 IC 元件 检测 焊锡 检查 Mark 点 
定位 显微镜 照明 包装 条码 照明 球形 物体 照明 等 
10 对位 光源 对位 速度快 视场 大 精度高 体积小 便于 
检测 集成 亮度高 可 选配 辅助 环形 光源 是 全自动 
电路板 印刷机 对位 的 专用 光源 工业 镜头 的 选型 
镜头 的 选择 过程 是 将 镜头 各项 参数 逐步 
明确化 的 过程 作为 成像 器件 镜头 通常 与 光源 
相机 一起 构成 一个 完整 的 图像 采集 系统 因此 
镜头 的 选择 受到 整个 系统 要求 的 制约 一般 
地 可以 按 以下 几个 方面 来 进行 分析 考虑 
一 波长 变焦 与否 镜头 的 工作 波长 和 是否 
需要 变焦 是 比较 容易 先 确定 下来 的 成像 
过程 中 需要 改变 放大 倍率 的 应用 采用 变焦镜头 
否则 采用 定 焦 镜头 就 可以 了 关于 镜头 
的 工作 波长 常见 的 是 可见光 波段 也有 其他 
波段 的 应用 是否 需要 另外 采取 滤光 措施 单色光 
还是 多 色光 能否 有效 避开 杂散光 的 影响 把这 
几个 问题 考虑 清楚 综合 衡量 后再 确定 镜头 的 
工作 波长 二 特殊 要求 优先 考虑 结合 实际 的 
应用 特点 可能会 有 特殊 的 要求 应该 先予 明确 
下来 例如 是否 有 测量 功能 是否 需要 使用 远 
心 镜头 成像 的 景深 是否 很大 等等 景深 往往 
不 被 重视 但是 它 却是 任何 成像 系统 都 
必须 考虑 的 三 工作距离 焦距 工作距离 和 焦距 往往 
结合 起来 考虑 一般地 可以 采用 这个 思路 先 明确 
系统 的 分辨率 结合 CCD 像素 尺寸 就能 知道 放大 
倍率 再结合 空间结构 约束 就能 知道 大概 的 物像 距离 
进一步 估算 镜头 的 焦距 所以 镜头 的 焦距 是 
和 镜头 的 工作 距离 系统 分辨率 及 CCD 像素 
尺寸 相关 的 四 像 面 大小 和像质/nr 所选 镜头 
的 像 面 大小 要与 相机 感 光面 大小 兼容 
遵循 大 的 兼容 小 的 原则 相机 感 光面 
不能 超出 镜头 标示 的 像 面 尺寸 否则 边缘 
视场 的 像 质 不保 像 质 的 要求 主要 
关注 MTF 和 畸变 两项 在 测量 应用 中 尤其 
应该 重视 畸变 五 光圈 和 接口 镜头 的 光圈 
主要 影响 像 面的 亮度 但是 现在 的 机器 视觉 
中 最终 的 图像 亮度 是由 很多 因素 共同 决定 
的 光圈 相机 增益 积分 时间 光源 等等 所以 为了 
获得 必要 的 图像 亮度 有比 较多 的 环节 供 
调整 镜头 的 接口 指 它 与 相机 的 连接 
接口 它们 两者 需 匹配 不能 直接 匹配 就 需 
考虑 转接 六 镜头 的 其它 类别 线 阵 镜头 
配 合线 阵 相机 使用 的 镜头 采用 扫描式 的 
工作 方式 需要 镜头 与 目标 相对运动 每次 曝光 成像 
一条线 多次 曝光 组成 一幅 图像 线 阵 扫描 成像 
的 特点 CCD 线 阵 方向 的 图像 分辨率 固定 
而在 目标 的 运动 方向 上 空间 采样频率 与 运动 
的 相对速度 有关 从 成像 的 角度 讲 线 阵 
镜头 和 其它 类型 的 镜头 并 没有 本质 的 
差异 只是 对 镜头 的 使用 方式 不同 而已 显微 
镜头 为了 看清 目标 的 细节 特征 显微 镜头 一般 
使用 在 高 分辨率 的 场合 它们 基本 的 特点 
是 工作 距离 短 放大 倍率 高 视场 小 远 
心 镜头 物/zg 方主/nr 光线/n 平行/n 于光轴/nr 主/b 光线/n 的/uj 
会聚/v 中心/n 位于/v 物/zg 方/n 无限/v 远/a 称之为 物 方远 
心 光路 作用 可以 消除 物 方 由于 调焦 不准确 
带来 的 测量误差 机器 视觉 光源 的 作用 机器 视觉 
光源 是 机器 视觉 系统 中 不可或缺 的 一部分 它 
的 选择 直接 影响 输入 数据 的 质量 和 应用 
效果 由于 没有 通用 的 机器 视觉 照明设备 所以 针对 
每个 特定 的 应用 实例 要 选择 相应 的 照明 
装置 以 达到 最 理想 的 应用 效果 照明 系统 
是 机器 视觉 系统 最为 关键 的 部分 之一 直接 
关系 到 系统 的 成败 好 的 打光 设计 能够 
使 我们 得到 一幅 好 的 图象 从而 改善 整个 
系统 的 分辨率 简化 软件 的 运算 而 不 适合 
的 照明 则 会 引起 很多 的 问题 1 照亮 
目标 提 高亮度 2 用作 测量 的 工具 或 参照物 
3 克服 环境光 干扰 保证 图象 稳定性 4 形成 有利于 
图象处理 的 效果 机器 视觉 光源 的 选择 1 物体 
表面 如 使 机器 视觉 照明 复杂化 的 是 物体 
表面 的 变化 造成 的 如果 所有 物体 表面 是 
相同 的 在 解决 实际 应用 的 时候 就 没有 
必要 采用 不同 的 光源 技术 了 但 由于 物体 
表面 的 不同 因此 需要 观察 视野 中 的 物体 
表面 并 分析 光源 入射 的 反映 2 控制 反射 
如果 反射光 可以 控制 图像 就 可以 控制 在 涉及 
机器 视觉 应用 的 光源 设计 时 最 重要 的 
原则 就是 控制 好 哪里 的 光源 反 射到 透镜 
及 反射 的 程度 机器 视觉 的 光源 设计 就是 
对 反射 的 研究 在 视觉 应用 中 当 观测 
一个 物体 以 决定 需要 什么样 的 光源 的 时候 
首先 要 弄清楚 如何 才能 让 物体 显现 我 如何 
才能 应用 光源 使 必须 的 光反射 到 镜头 中 
以 获得 物体 外表 3 光源 可 预测   当 
光源 入 射到 物体 表面 的 时候 光源 的 反映 
是 可以 预测 的 光源 可能 被 吸收 或 被 
反射 光 可能 被 完全 吸收 黑 金属材料 表面 难以 
照亮 或者 被 部分 吸收 造成了 颜色 的 变化 及 
亮度 的 不同 不被 吸收 的 光 就 会被 反射 
入射光 的 角度 等于 反射光 的 角度 这个 科学 的 
定律 大大 简化 了 机器 视觉 光源 因为 理想 的 
想定 的 效果 可以 通过 控制 光源 而 实现 一幅 
好 的 图象 具备 以下 条件 1 .   对比度 
明显 目标 与 背景 的 边界 清晰 2 .   
背景 尽量 淡化 而且 均匀 不 干扰 图象处理 3 . 
  与 颜色 有关 的 还需要 颜色 真实 亮度 适中 
不 过度 曝光 4 .   整体 亮度 均匀 整体 
不 均匀 灰度 差 不影响 图象处理 工业 相机 是 机器 
视觉 系统 中 的 一个 关键 组件 其 最 本质 
的 功能 就是 将 光信号 转变 成 小型 高清 工业 
相机 为 有序 的 电信号 工业 相机 又 俗称 摄像机 
相比 于 传统 的 民用 相机 摄像机 而言 它 具有 
高的/nr 图像 稳定性 高/a 传输/vn 能力/n 和高/nr 抗干扰/l 能力/n 等/u 
目前 市面 上 工业 相机 大多 是 基于 CCD 或 
CMOS 芯片 的 相机 CCD 是 目前 机器 视觉 最为 
常用 的 图像 传感器 它 集 光电 转换 及 电荷 
存贮 电荷转移 信号 读取 于 一体 是 典型 的 固体 
成像 器件 CCD 的 突出 特点 是 以 电荷 作为 
信号 而 不同 于 其它 器件 是以 电流 或者 电压 
为 信号 这类 成像 器件 通过 光电 转换 形 成电 
荷包 而后 在 驱动 脉冲 的 作用 下 转移 放大 
输出 图像 信号 典型 的 CCD 相机 由 光学 镜头 
时序 及 同步 信号 发生器 垂直 驱动器 模拟 / 数字 
信号 处理 电路 组成 CCD 作为 一 种 功能 器件 
与 真空管 相比 具有 无 灼伤 无 滞后 低电压 工作 
低功耗 等 优点 CMOS 图像 传感器 的 开发 最早 出现 
在 20 世纪 70 年代 初 90 年代 初期 随着 
超大规模 集成电路 VLSI 制造 工艺 技术 的 发展 CMOS 图像 
传感器 得到 迅速 发展 CMOS 图像 传感器 将 光敏 元 
阵列 图像 信号 放大器 信号 读取 电路 模数转换 电路 图像 
信号处理器 及 控制器 集成 在 一块 芯片 上 还 具有 
局部 像素 的 编程 随机 访问 的 优点 目前 CMOS 
图像 传感器 以其 良好 的 集成性 低功耗 高速传输/nr 和宽/nr 动态/n 
范围/n 等/u 特点/n 在/p 高分辨率/n 和/c 高速/d 场合/n 得到/v 了/ul 
广泛/a 的/uj 应用/v 由于 光电 二极管 不能 检测 精确 的 
颜色 颜色 信息 通过 与 滤色镜 或 棱镜 结合 被 
再现 颜色 信息 能 通过 使用 红色 R 绿色 G 
蓝色 B 基色 滤色镜 的 基色 模式 或者 通过 使用 
蓝绿色 C 紫红色 M 黄色 Y 绿色 G 的 四色 
滤色镜 经过 计算 创建 图像 的 补色 滤色镜 模式 获得 
总之 基色 模式 创建 的 图像 比较 暗 但是 由于 
它 更高 的 色彩 饱和度 表现出 更 精确 的 颜色 
这个 特点 即 高度 的 色彩 再现 能力 工业 相机 
与 民用 相机 的 区别 在于 1 工业 相机 的 
快门 时间 非常 短 可以 抓拍 快速 运动 的 物体 
举个 例子 把 一张 名片 贴在 电风扇 扇叶 上 以 
最大 速度 旋转 用 工业 相机 抓拍 一张 图像 能 
清晰 的 辨别 名片 上 的 字体 然而 用 一般 
的 相机 来 拍摄 是 根本 不 可能 达到 这样 
效果 的 2 工业 相机 的 图像 传感器 是 逐行扫描 
的 而 一般 摄像机 的 图像 传感器 是 隔行扫描 的 
甚至 是 隔 三行 扫描 的 逐行扫描 的 图像 传感器 
生产 比较 困难 成品率 低 出货量 也 少 世界 上 
只有 少数 几个 公司 能够 提供 这 类产品 例如 Dalsa 
Sony 而且 价格 昂贵 百万级 逐行扫描 CCD 的 价格 从 
人民币 4000元 到 3 万元 不等 其中 的 技术 参数 
也 颇为 繁多 只有 采用 逐行扫描 的 图像 传感器 才 
有可能 清晰 抓拍 快速 运功 物体 3 工业 相机 的 
拍摄 速度 远远 高于 一般 相机 工业 相机 每秒 可 
以 拍摄 十幅 到 几百 幅 的 图片 而 一般 
相机 只能 拍摄 2 3幅 图像 相差 甚远 4 工业 
相机 输出 的 是 裸 数据 其 光谱 范围 也 
往往 比 较宽 比较 适合 进行 高 质量 的 图像 
处理 算法 普遍 应用 于 机器 视觉 系统 中 而 
一般 相机 DSC 拍摄 的 图片 其 光谱 范围 只 
适合 人眼 视觉 并且 经过 了 MPEG 压缩 图像 质量 
也 较差 机器 视觉 工作 原理 机器 视觉 检测 系统 
采用 CCD 照相机 将被 检测 的 目标 转换成 图像 信号 
传送 给 专用 的 图像 处理 系统 根据 像素 分布 
和 亮度 颜色 等 信息 转变成 数字化 信号 图像 处理 
系统 对 这些 信号 进行 各种 运 算来 抽取 目标 
的 机器 视觉 特征 如 面积 数量 位置 长度 再 
根据 预设 的 允许 度 和 其他 条件 输出 结果 
包括 尺寸 角度 个数 合格 / 不 合格 有 / 
无 等 实现 自动 识别 功能 机器 视觉 特点 1 
机器 视觉 是 一项 综合 技术 其中 包括 数字 图像 
处理 技术 机械 工程 技术 控制技术 电光源 照明 技术 光学 
成像 技术 传感器 技术 模拟 与 数字 视频 技术 计算机硬件 
技术 人机 接口技术 等 这些 技术 在 机器 视觉 中式 
并列 关系 相互 协调 应用 才能 构成 一个 成功 的 
工业 机器 视觉 应用 系统 2 机器 视觉 更 强调 
实用性 要求 能够 适应 工业 生产 中 恶劣 的 环境 
要有 合理 的 性价比 要有 通用 的 工业 接口 能够 
由 普通 工作 来 操作 有/v 较高/i 的/uj 容错/a 能力/n 
和/c 安全性/nr 不会 破坏 工业产品 必须/d 有/v 较强/i 的/uj 通用性/n 
和/c 可移植性/l 3 对 机器 视觉 工程师 来说 不仅 要 
具有 研究 数学 理论 和 编制 计算机 软件 的 能力 
更 需要 的 是 光 机 电 一体化 的 综合 
能力 4 机器 视觉 更 强调 实时性 要求/v 高/a 速度/n 
和/c 高精度/n 因而 计算机 视觉 和 数字 图像 处理 中 
的 许多 技术 目前 还 难以 应用于 机器 视觉 他们 
的 发展 速度 远远 超过 其 在 工业 生产 中 
的 实际 应用 速度 在 设计 工业 机器 视觉 系统 
时 使用 数字 相机 还 是 模拟 相机 是 最重要 
的 决定 之一 二者 各 有其 优缺点 但 归根结底 要 
根据 成本 和 一些 关键 操作 因素 来 选择 如 
时了/nr 这些 因素 哪 一项 技术 更 有优势 就会 明朗 
化了 对于 一 项 应用 选择 什么样 的 相机 合适 
取决于 机器 视觉 系统 想 要 达到 什么 目的 为/p 
机器/n 视觉/n 系统/n 选择/v 相/v 机时/n 要/v 认真/ad 考虑/v 相机/d 
的/uj 性能/n 和/c 成本/n 虽然 模拟 相机 远比 数字相机 便宜 
但 它们 的 分辨率 和 图像 质量 较低 所以 可能会 
被 局限 在 要求 不 太高 的 应用 中 数字相机 
比 模拟 相机 昂贵 但/c 它们/r 的/uj 高/a 成本/n 可能/v 
值得/v 为/p 要求/v 高/a 速度/n 高 准确度 高 精度 的 
应用 而 付出 机器 视觉 被 应用于 视觉 检测 物体 
识别 自动 质量检验 工艺 控制 参数 测量 和 自动 组装 
等等 许多 领域 在 这些 系统 中 相机 是 决定 
着 成本 速度 和 精度 的 关键 组件 模拟/v 相机/d 
和/c 数字相机/n 都/d 可以/c 用/p 在/p 这些/r 系统/n 中/f 而 
了解 相机 的 性能 规格 及其 在 各种 视觉 任务 
中 的 重要性 对于 把 机器 视觉 存 诸 工业 
控制 是 最 基本 的 一步 机器 视觉 系统 包括 
三 个 主要 部分 相机 采集卡 和 存储 并 分析 
图像 以 提取 信息 的 计算机 或 图像 处理器 图像 
处理器 和 采集卡 属于 相对 容易 选择 的 电子 装置 
它们 的 主要 参数 是 存储 能力 和 处理 速度 
相机 是 这些 系统 中 情况 最为 复杂 的 部分 
现代 的 模拟 和 数字相机 采用 电荷耦合 器件 CCD 或 
互补 金属 氧化物 半导体 CMOS 芯片 来 捕猎 图像 并 
生成 电子 信号 发送 给 计算机 进行 处理 CCD/w 和/c 
CMOS/w 芯片/n 在/p 内部/f 都/d 生成/v 模拟/v 信息/n 因此 模拟 
相机 和 数字相机 之前 主要 区别 在于 图像 是 在哪里 
被 数字化 的 数字相机 在 相机 里 将 信号 数字化 
并且 通过 串行 总线接口 比如 fireWire USB Camera Link Gigabit 
Ethernet 将 信号 以 数字 方式 传 输给 计算机 或 
图像 处理器 面 在 另一方面 模拟 相机 系统 并 不是 
在 其 内部 将 图像 信号 数字化 数字化 是 邮 
计算机 完成 的 所以 模拟 信息 是 通过 同轴电缆 而 
进行 传输 的 尽管 两种 方法 都 能够 有效 地 
传输 信号 但 模拟 可能 会 由于 工厂 内 其他 
设备 的 电磁 干扰 而 造成 失真 随着 噪声 水平 
的 提高 模拟 相机 的 动态 范围 原始 信号 与 
噪声 之比 会 降低 动态/n 范围/n 决定了/i 有/v 多少/m 信息/n 
能够/v 被/p 从/p 相机/d 传/n 输给/v 计算机/n 数字信号 不受 电器 
声 影响 因此 数字相机 的 动态 范围 更高 能够 向 
计算机 传输 更 精确 的 信号 数字相机 的 典型 动态 
范围 在 55 分贝 到 60 分贝 左右 而 模拟 
相机 为 45 分贝 到 50 分贝 左右 所以 电缆 
的 长度 和 类型 也 影响 信号 的 精度 模拟 
相机 的 电缆 简单 而且 便宜 在 电 噪声 导致 
信号 严重 失真 之前 能够 将 信号 可靠地 300米 以上 
由于 数字相机 传输 的 是 高带宽 信号 电缆 的 长度 
受 电缆 中 信号 良师 衰减 损失 的 水平 的 
限制 根据 使用 的 通信 协议 的 不同 LED 光源 
的 颜分/nr 主要 分为 四种 红色 蓝色 绿色 白色 其他 
颜色 橙色 红外 紫外 用户 可以 根据 使用 环境 及 
使用 范围 的 不同 选择 合适 的 光源 种类 颜色 
以及 照明 方式 使得 检测 系统 达到 最佳 的 性能 
获得 最优 的 检测 结果 一般 有红/nr 绿 蓝 白 
红外 其中 红色 用得 最多 因为 红色 LED 成本低 并且 
黑白 CCD 芯片 对 660nm 光线 最 敏感 兰色 适合 
检测 物体 表面质量 因为 波长 短 当然 紫外 的 散射 
性 更好 因为 波长 更短 而 白色 是 中性 颜色 
适 合拍 彩色图片 或 着 被 测 物体 的 颜色 
在 变化 的 绿色 的 亮度 很高 且 波长 和 
兰色 接近 所以 有时 可 用 绿色 代替 兰色 红外 
用于 半 透明 等 的 物体 检测 波长 越长 穿透力 
越强 波长 越短 扩散性 越好 蓝色 光源 下 白色 紫色 
蓝色 等 表现 较 亮 有效 反射 蓝光 从中 也 
可以 发现 白色 无论 在 什么 光照 下 都成 成 
明显 的 白色 是 因为 其 本身 不 吸收光谱 任何 
光谱 照射到 其 表面 上 都会 被 反射 相反 黑色 
材料 则 无论什么 光照 射上去 都不 反光 成 黑色 另外 
光 的 衍 射中 衍射 条纹 的 宽度 与 波长 
是 成正比 的 如 单缝衍射 中央 明纹的/nr 半角 宽度 为 
sin θ = λ / a   λ 为 波长 
a 为 单缝/nr 宽度 而 我们 拍摄 物体 时 其 
表面 通常 都 不是 十分 光滑 总是 会 产生 衍射 
所以 使用 红光 时 衍射 会比 使用 蓝光 时的/nr 衍射 
要强 因此 通常用 红光 能 得到 更多 的 表面 细节 
而 使用 蓝光 会 得到 更大 的 对比度 如果 进行 
彩色 成像 则 通常 考虑 使用 白色 光源 白色 LED 
光源 的 制造 有 几种 方法 一种 是 使用 白色 
LED 制造 发光管/n 内部/f 有/v 蓝色/n 发光/v 芯片/n 与/p 受到/v 
激发/v 后/f 发出/v 黄色/n 的/uj 荧光粉/n 发出 的 光 按 
一定 比例 叠加 到一起 看起来 形成 了 白色 这是 最为 
觉 常见 的 形式 这种 光源 只能 通过 调节 供电 
电压 或 电流 来 改变 发光强度 颜色 是 恒定 的 
另一种 方法 是 使用 红绿蓝 三种 不同 颜色 的 LED 
按 某种 顺序 或 方式 在 光源 上 进行 排列 
并 分别 控制 每种 颜色 的 度 使用 相对 方便 
此 种方法 通常 使用 四个 单色 RGGB 颗粒 进行 排列 
所以 其中 的 绿色 分量 通常 会 比较 足 我们 
通常 所见 的 彩色显示器 彩色 电视机 手机 屏 等 显示 
设备 也是 基于 RGGB 此种 方式 进行 排列 的 之所以 
多加 一个 绿色 的 G 通量 是 因为 人眼 对 
绿色 光源 波长 555nm 最 敏感 机器 视觉 应用 中 
注意 目标 颜色 与 光源 颜色 的 搭配 我们 看到 
某个 物体 成某/nr 种颜色 是 因为 其 反射 了 对应 
的 光谱 即 如果 目标 是 红色 的 如果 是 
白色 的 光照 射 或者 是 红色 的 光照 射 
都有 红色 的 光 返回 那么 在 黑白 相机 中 
将会 是 白色 的 如果 是 蓝色 的 光来 拍摄 
则 没有 红色 的 光 可以 反射 那么 其 将会 
是 黑色 的 基于 这样 的 理论 我们 拍摄 物体 
时 如果 要将 某 种颜色 打成 白色 那么 就 得 
使用 与此 颜色 相同 或 相似 的 光源 光 的 
波长 一样 或 接近 而 如果 要 打成 黑色 则 
需要 选择 与 目标 颜色 波长 差 较大 的 光源 
而在 镜头 的 分辨率 能 分别 最小 两点 之间 的 
距离 公式 δ = 0.61 λ / NA λ 为 
波长 NA 为 数值孔径 从中 可以 知道 当 NA 固 
定时 使用 不同 波长 颜色 的 光 时 镜头 的 
分辨率 是 不 一样 的 因此 在 使用 光源 时 
同 一支 镜头 在 蓝色 光照 下 的 分辨率 通常 
会 高于 红色 光照 条件 使用 机器 视觉 LED 光源 
一般 都 提供 几种 供电 方式 可供 选择 常见 的 
有 5V 12V 24V 直流电源 功率 根据 所用 LED 的 
数量 多少 而定 电压 不同 会 引起 什么 区别 呢 
这 和 LED 的 特性 有关 一般 LED 的 工作 
电 流在 10mA ~ 25mA 特别 亮 的 LED 可达 
50mA 甚至 更高 而 LED 的 电压 降 一般 为 
1.8 V 到 3.3 V 因此 通常 每个 LED 上都 
串联 一个 电阻 分压 电阻 这样 才能 保证 LED 发光 
均匀 而且在 电压波动 时 不易 损毁 那么 由于 LED 上 
的 电压 降 和 通过 的 电流 都是 恒定 的 
供电 电源 的 电压 不 同时 多余 的 电压 是 
串联 的 电阻 所 承担 的 例如 给 一颗 1.8 
V 15mA 的 LED 用 24V 供电 时 需要 串联 
1.48 K Ω 24 1.8 / 0.015 = 1480 此时 
电阻 的 功耗 是 0.015 * 0.015 * 1480 = 
0.333 W 如果 使用 多个 LED 颗粒 组合成 光源 光源 
会 发出 很高 的 热量 这时 必须 采用 风扇 等 
强制 散热 手段 否则 光源 的 寿命 会 很短 而 
同样 的 LED 使用 5V 供电 时 串联 电阻 R 
= 213 Ω 电阻 的 功耗 为 0.048 W 和 
24V 供电 时差 了 近 7倍 这时 仅仅 靠 对流 
产生 的 散热 效应 就 足够 了 不必 用 强制 
散热 的 方法 既然 用 低电压 有好处 为什么 还 使用 
12V 24V 呢 原因 很 简单 由于 机器 视觉 用于 
工业生产 线上 一般 24V 是 标准 配置 另外 电压 高时/nr 
搞 干扰 能力强 而 低压 则 对 电源 和 工作 
环境 提出 了 更高 的 要求 是 使用 恒流源 还是 
恒压源 环境温度 有何 影响 等 均 需要 考虑 常亮 还是 
闪亮 图片 亮 暗 的 控制 除了 快门 光圈 增益 
外 还 可以 控制 光源 的 亮 暗 以及 亮 
的 时间 来 控制 我们 先 来看 一下 常亮 光源 
和 闪光 的 优缺点 如果 保持 稳定 的 供电 那么 
光源 的 亮度 基本 不变 如果 供电 使用 脉冲 脉冲 
的 时间 宽度 和 LED 本身 的 响应 时间 决定 
了 发光 时间 若 是 这个 时间 小于 相机 快门 
开启 的 时间 那么 相机 的 曝光 程度 是由 光源 
发出 的 光通量 决定 的 如果 大于 快门 时间 则由 
快门 决定 一般 情况 下 如果 需要 频闪 光源 时间 
小于 快门速度 传统 上 使用 普通 的 照相机 闪光灯 使用 
LED 强度 不够 所以 以往 针对于 LED 光源 来讲 闪 
光是 指 光源 开启 时间 大于 快门 时间 的 情况 
频闪 控制器 通常 采用 的 是 超 电流 的 方法 
即 控制 通过 LED 的 电流 超出 标定 的 值 
多少 倍 而使 亮度 增加 但是 这种 高 负荷 的 
工作 状态 由于 功率 过大 发热 严重 对 光源 的 
寿命 影响 很大 所以 通常 通电 时间 都 很短 减少 
光源 的 工作 时间 以此来 延长 光源 的 使用 时间 
使用 频闪 控制器 可以获得 高亮 的 光源 可以 减少 环境 
的 影响 可以 减少 快门 时间 从而 减少 动态拍摄 时的拖/nr 
尾 现象 而且 如果 只 需要 平常 的 亮度 时 
可以 使用 低 亮度 的 LED 发光管 可以 降低 成本 
但是 使用 频闪 时 电源 的 成本 会 提高 而且 
同步 问题 也 必须 考虑 频闪 控制器 可以 从 外部 
输出 触 发信号 来 触发 光源 也 可以 从 外部 
输出 触 发信号 来 触发 频闪 控制器 本身 输出 触 
发信号 同时 触发 光源 与 相机 这样 能 达到 光源 
与 相机 触发 的 同步 机器 视觉 光源 的 选择 
是 为了 将被 测 物体 与 背景 尽量 明显 分别 
获得 高 品质 高对比度 的 图像 而且 视觉 光源 的 
正确 选择 直接影响 系统 的 成败 处理 精度 和 速度 
荣旭/nr 机器 视觉 光源 具有 亮度 可调 低温 均衡 无闪烁 
无 阴影 亮度 色温 一致 使用 寿命 长 等 优点 
本公司 致力于 不断 开发 新的 产品 和 完善 其 功能 
提供 多种 机器 视觉 光源 产品 免费 提供 测试 并 
协助 提供 整体 解决 方案 它 已 广泛 应用 于 
各个 行业 光源 的 种类 视觉 系统 使用 的 光源 
主要 有三种 高频 荧光灯 光纤 卤素灯 LED 发 光二极管 照明 
理想 的 视觉 光源 应该 是 明亮 均匀 稳定 的 
高频 荧光灯 发光 原理 和 日光灯 类似 只是 灯管 是 
工业 级 产品 并且 采用 高频 电源 也 就是 光源 
闪烁 的 频率 远高于 相机 采集 图象 的 频率 消除 
图像 的 闪烁 适合 大面积 照明 亮度高 且 成本 较低 
但 需要 隔 一定 时间 换 灯管 一定 要 进口 
的 才 过关 国内 的 高频 做 的 不行 老 
有 闪烁 国外 最快 可 做到 60KHz 光纤 卤素灯 卤素灯 
也叫 光纤 光源 因为 光线 是 通过 光纤 传输 的 
适合 小 范围 的 高亮度 照明 它 真正 发光 的 
是 卤素灯 炮 功率 很大 可达 100 多瓦 高亮度 卤素灯 
炮 通过 光学 反射 和 一个 专门 的 透镜 系统 
进一步 聚焦 提高 光源 亮度 卤素灯 还有 一个 名字 叫 
冷光源 因为 通过 光纤 传输 之后 出 光 的 这 
一头 是 不热 的 适合 对 环境 温度 比较 敏感 
的 场合 比如 二次元 量测仪 的 照明 但 它 的 
缺点 就是 卤素灯 炮 寿命 只有 2000 小时 左右 LED 
灯 使用寿命 约 10000 － 30000 小时 可以 使用 多个 
LED 达到 高亮度 同时 可组合 不同 的 形状 响应 速度 
快 波长 可以 根据 用途 选择 机器 视觉 LED 光源 
的 性能 优势 可 制成 各种 形状 尺寸 及 各种 
照射 角度 可 根据 需要 制成 各种 颜色 并 可以 
随时 调节 亮度 通过 散热装置 散热 效果 更好 光亮度 更 
稳定 使用 寿命 长 约 3万 小时 间断 使用 寿命 
更长 反应 快捷 可在 10 微秒 或 更短 的 时间 
内 达到 最大 亮度 电源 带有 外 触发 可以 通过 
计算机 控制 起动 速度快 可以 用作 频闪灯 运行 成本 低 
寿命长 的 LED 会在 综合 成本 和 性能 方面 体现 
出 更大 的 优势 可 根据 客户 的 需要 进行 
特殊 设计 工业 相机 由 两 大 基本 部件 组成 
图像 感光 芯片 和 数字化 的 数据接口 图像/n 感光/n 芯片/n 
由/p 数十/m 万至/nr 数百/m 万个/nr 像素/n 组成/v 像素 把 光线 
的 强度 转换 为 电压 输出 这些 像素 的 电压 
被以 灰度 值 的 形式 输出 所有 像素 放在 一起 
就 形成 了 图像 发送给 计算机 数据接口 主要 有 USB 
2.0 1394 和 千兆 以太网 三种 CCD CMOS 是 现在 
普遍 采用 的 两种 图像 工艺技术 它们 之间 的 主要 
差异 在于 传送 方式 的 不同 虽然 CCD 在 影像 
品质 分辨率 大小 灵敏度 等 方面 优于 CMOS 而 CMOS 
具有 低 成本 低功耗 以及 高整/nr 合度 的 特点 随着 
CCD 与 CMOS 技术 的 不断 进步 两者 之间 的 
差异 将 逐步 减小 1 分辨率 差异 由于 CMOS 的 
每个 像素 都比 CCD 复杂 且 其 像素 尺寸 很难 
达到 CCD 的 水平 因此 当 我们 比较 相同 尺寸 
的 CCD 与 CMOS 时 CCD 的 分辨率 通常 会 
优于 CMOS 传感器 的 水平 同 尺寸 大小 CCD 的 
分辨率 要 高于 CMOS 也 就是说 成像 质量 要 优于 
CMOS 2 噪声 差异 由于 CMOS 的 每个 感 光二极管 
都 需要 搭配 一个 放大器 若以 百万 像素 计算 的话 
那就/nr 需要 上 百万个 的 放大器 然而 放大器 属于 模拟电路 
很难 让 所得 的 每个 结果 都 保持 一致 而 
CCD 只 需要 一个 放大器 放在 芯片 边缘 与 CMOS 
相比 它 的 噪声 相对 减少 很多 大大 提高 了 
图像 品质 3 灵敏度 差异 因为 CMOS 信号 是以 点 
为 单位 的 电荷 信号 而 CCD 是以 行为 单位 
的 电流 信号 读取 信号 时 CMOS 是 点 直接 
读取 信号 CCD 则是 行 间接 读取 信号 因此在 像素 
尺寸 相同 的 情况 下 CMOS 的 灵敏度 要 低于 
CCD 4 耗电量 差异 CMOS 采用 主动 式 图像 采集 
方式 感 光二极管 所 产生 的 电荷 会 直接 由 
旁边 的 电晶体 放大 输出 而 CCD 为 被动式 采集 
方式 必须 外加 12 ~ 18V 的 电压 以使 每个 
像素 中的 电荷 移送 到 传输通道 因此 CCD 就必须 设计 
更 精密 的 电源 线路 和 耐压 强度 这样 使得 
CCD 的 耗电量 远远 高出 CMOS 根据 计算 CMOS 的 
耗电量 仅 是 CCD 的 1/8 ~ 1/10 5 成本差异 
由于 CMOS 与 现有 的 大 规模 集成电路 生产工艺 相同 
可以 一次 全部 整合 周边 设施 到 传感器 芯片 中 
大大 节省 了 外围 芯片 的 成本 而 CCD 采用 
电荷 传递 的 方式 输出 数据 只要 其中 有 一个 
像素 传送 出现 故障 就 会 导致 一 整排 的 
数据 无法 正常 传送 因此 控制 CCD 的 成品率 比 
CMOS 困难 许多 因此 CCD 的 制造 成本 就 相对 
高于 CMOS 传感器 印刷 包装 行业 品种繁多 印刷品 颜色 与 
形状 多样 部分 产品 的 材质 具有 极高 的 反射度 
并且 表面 印制 了 彩色 图案 如 易拉罐 瓶盖 的 
综合 检测 一直 存在 着 打光 难 的 问题 因此 
对 产品 的 检测 要求 都是/nr 十分 严格 运用 机器 
视觉 技术 能 迅速 准确 的 发现 印刷品 的 各种 
缺陷 机器 视觉 用于 印刷 行业 中 的 质量 检测 
其 基本 的 工作 原理 是 用 摄像机 拍摄 采集 
印刷品 上 的 图像 在 计算机 中 与 该 印品 
的 标准 图像 模板 相匹配 比较 如果 发现 差异 并 
超出 设定 的 公差 范围 即 判 定为 不 合格 
产品 采用/v 检测/vn 系统/n 进行/v 质量/n 检测/vn 可以/c 提供/v 检测/vn 
全/a 过程/n 的/uj 实时/d 报警/n 和/c 详尽/a 完善 的 分析 
报告 外 现场 操作者 还 可以 根据 全自动 检测 系统 
的 实时 报警 及 分析 报告 对 工作 中 出现 
的 问题 进行 相应 的 调整 并且 管理者 还 可以 
依据 检测 结果 的 分析 报告 对 生产 过程 进行 
跟踪 更 有利于 生产 技术 的 管理 也 就是说 质量 
检测 设备 不仅 可以 提升 成品 的 合格率 还 能够 
协助 生产商 改进 工艺流程 建立 质量 管理 体系 达到 一个 
长期 稳定 的 质量 标准   检测 印刷 制品 颜色 
缺陷 检测 如 露 印 检测 浅 印 检测 偏色 
检测 露白 检测 等 材质 缺陷 检测 如 孔洞 检测 
异物 检测 印刷 缺陷 检测 如 残缺 检测 刀 丝 
检测 飞 墨 检测 露 印 检测 套印 误差 检测 
二维码 缺陷 检测 如 重号 检测 偏 位 检测 不匹配 
检测 等 远 心 工业 镜头 主要 是 为 纠正 
传统 工业 镜头 的 视差 而 特殊 设计 的 镜头 
它 可以 在 一定 的 物 距 范围内 使 得到 
的 图像 放大 倍率 不会 随物 距 的 变化 而 
变化 这对 被 测 物 不在 同 一物 面上 的 
情况 是 非常 重要 的 应用 普通 工业 镜头 目标 
物体 越 靠近 镜头 工作距离 越短 所成 的 像 就 
越大 在 使用 普通 镜头 进行 尺寸 测量 时 会 
存在 如下 问题 1 由于 被 测量 物体 不在 同一个 
测量 平面 而 造成 放大 倍率 的 不同 2 镜头 
畸 变大 3 视差 也 就是 当 物 距 变大 
时 对 物体 的 放大倍数 也 改变 4 镜头 的 
解析度 不高 5 由于 视觉 光源 的 几何 特性 而 
造成 的 图像 边缘 位置 的 不确定性 而 远 心 
镜头 就 可以 有效 解决 普通 镜头 存在 的 上述 
问题 而且 没有 此 性质 的 判断 误差 因此 可用在 
高 精度 测量 度量 计量 等 方面 远 心 镜头 
是 一种 高端 的 工业 镜头 通常 有 比较 出众 
的 像 质 特别 适合 于 尺寸 测量 的 应用 
无论何处 在 特定 的 工作 距离 重新 调焦 后会 有 
相同 的 放大 倍率 因为 远 心 镜头 的 最大 
视场 范围 直接 与 镜头 的 光 栏 接近 程度 
有关 镜头 尺寸 越大 需要 的 现场 就 越大 远 
心 测量 镜头 能 提供 优越 的 影像 质素 畸变 
比 传统 定 焦镜/nr 头小 这种 光学 设计 令 影像 
面 更 对称 可 配合 软件 进行 精密测量 普通 镜头 
优点 成本低 实用 用途 广 普通 镜头 缺点 放大 倍率 
会 有变化 有 视差 普通 镜头 应用 大 物体 成像 
远 心 镜头 的 优点 放大倍数 恒定 不随 景深 变化 
而 变化 无 视差 远 心 镜头 的 缺点 成本高 
尺寸 大 重量 重 远 心 镜头 的 应用 度量衡 
方面 基于 CCD 方面 的 测量 微晶/n 学/n 镜头/n 的/uj 
焦距/n 分为/v 像/v 方/n 焦距/n 和物方/nr 焦距/n 像/v 方/n 焦距/n 
是/v 像/v 方/n 主面/b 到/v 像/v 方/n 焦点/n 的/uj 距离/n 
同样 物/zg 方/n 焦距/n 就是/d 物/zg 方/n 主面/b 到/v 物/zg 
方/n 焦点/n 的/uj 距离/n 是 像 方 焦距 入射/v 光线/n 
为/p 平行线/n 时/n 通过/p 透镜/n 光线/n 的/uj 交/v 点到/i 透镜/n 
的/uj 距离/n ./i 当/t 点光源/n 距/n 透镜/n 某一/i 距离/n 时/n 
折射/v 光线/n 为/p 平行线/n 这个 距离 叫 物 方 焦距 
. 物 方远 心 镜头 及 像 方远 心 镜头 
介绍 在 测量 系统 中 物 距 常 发生 变化 
从而 使 像 高 发生变化 所以 测得 的 物体 尺寸 
也 发生 变化 即 产生 了 测量误差 另一方面 即使 物 
距 是 固定 的 也会 因为 CCD 敏感 表面 不易 
精确 调整 在 像 平面 上 同样 亲 会 产生 
测量误差 为了 解决 上述 问题 可以 采用 远 心 镜头 
其中 像 方远 心 镜头 可以 消除 物 距 变化 
带来 的 测量误差 而 物 方远 心 镜头 则 可以 
消除 CCD 位置 不准 带来 的 测量误差 1 物 方远 
心 镜头 物 方远 心 镜头 是 将 孔径光阑 放置 
在 光学系统 的 像 方 焦平面 上 示出 当 孔径光阑 
放在 像 方 焦平面 上 时 即使 物 距 发生 
改变 像距 也 发生 改变 但 像 高并/nr 没有 发生 
改变 即 测得 的 物体 尺寸 不会 变化 清楚 地 
显示 出 物 方远 心 光路 的 原理 其中 孔径光阑 
位于 像 方焦面 上 物 方主/nr 光线 平行 于光轴 如果 
物体 B1B2 正确 地 位于 与 CCD 表面 M 共轭 
的 位置 A1 上 那么 它 在 CCD 表面上 的 
像 为 M1M2 如果 由于 物 距 改变 物体 B1B2 
不在 位置 A1 而在 位置 A2 那么 它 的 像 
B ´ 1B ´ 2 偏离 CCD 表面 B ´ 
1 和B´/nr 2 点在 CCD 表面上 投影 为 一个 弥散 
斑 其 中心 仍 为 M1 和M/nr 2点 按此 投 
影像 读出 的 长度 仍 为 M2M1 这就是说 上述 物 
距 改变 并不 影响 测量 精度 2 像 方远 心 
光路 像 方远 心 光路 是 将 孔径光阑 放置 在 
光学系统 的 物 方 焦平面 上 而 像 方的主/nr 光线 
平行 于光轴 如 所示 如果 物体 B1B2 的 像 B 
´ 1B ´ 2 不与 CCD 表面 M 重合 则在 
CCD 表面 M 上 得到 的 是 B ´ 1B 
´ 2 的 投 影像 其 散 斑 中心 距离 
M1M2 ＝ B ´ 1B ´ 2 因此 不管/c CCD/w 
表面/n M/w 是否/v 和B´/nr 1B/i ´/i 2/m 相/v 重合/vn 它 
和 标尺 所 对应 的 长度 总是 B1B2 所以 没有 
测量误差 双侧 远 心 镜头 曝光 时间 Exposure time 为了 
将 光 投射 到 照相 感光 材料 的 感光 面上 
快门 所要 打开 的 时间 视 照相 感光 材料 的 
感光度 和对/nr 感光 面上 的 照度 而定 相机 曝光 时间 
是 指 从快 门 打开 到 关闭 的 时间 间隔 
在 这 一段 时间 内 物体 可以 在 底片 上 
留下 影像 曝光 时间 是 看 需要 而定 的 没有 
长短 好坏 的 说法 只 有 需要 的 讲法 比如 
你 拍 星星 的 轨迹 就 需要 很长 的 曝光 
时间 可能 是 几个 小时 这样 星星 的 长时间 运动轨迹 
就会 在 底片 上 成像 如果 你 要 拍 飞驰 
的 汽车 清晰 的 身影 就要 用 很短 的 时间 
通常 是 几千 分之 一秒 曝光 时间 长 的话 进 
的 光 就多 适合 光线 条件 比 较差 的 情况 
曝光 时间 短 则 适合 光线 比较好 的 情况 有的是 
0 . 04ms 93ms 有的是 1/71000 s 2s 有的是 1/7000 
s 7s 等等 曝光 时间 主要 是 指 底片 的 
感光 时间 曝光 时间 越长 底片 上 生成 的 相片 
越亮/nr 相反 越暗/nr 在 外界 光线 比较 暗 的 情况 
下 一般 要求 延长 曝光 时间 比如说 夜景 1 . 
分辨率 Resolution 相机 每次 采集 图像 的 像素 点数 Pixels 
对于 数字相机 机 一般 是 直接 与 光电 传感器 的 
像 元数/nr 对应 的 对于 模拟 相 机机 则是 取决于 
视频 制式 PAL 制为 768 * 576 NTSC 制为 640 
* 480 2 . 像素 深度 Pixel Depth 即 每 
像素 数据 的 位数 一般 常用 的 是 8Bit 对于 
数字相机 机 一般 还会有 10Bit 12Bit 等 3 . 最大 
帧率 Frame Rate / 行频 Line Rate 相 机机 采集 
传输 图像 的 速率 对于 面 阵 相 机机 一般 
为 每秒 采集 的 帧数 Frames / Sec . 对于 
线 阵 相机 为 每秒 采集 的 行数 Lines / 
Sec . 4 . 曝光 方式 Exposure 和 快门 速度 
Shutter 对于 线 阵 相 机机 都是 逐行 曝光 的 
方式 可以 选择 固定 行频 和外/nr 触发 同步 的 采集 
方式 曝光 时间 可以 与 行 周期 一致 也 可以 
设定 一个 固定 的 时间 面/n 阵/n 相/v 机机/i 有帧/nr 
曝光/nz 场 曝光 和 滚动 行 曝光 等 几种 常见 
方式 数字相机 一般 都 提供 外 触发 采 图 的 
功能 快门 速度 一般 可到 10 微秒 高速相机 机 还 
可以 更快 可以 看到 ccd 芯片 的 工业 相机 外观 
5 . 像 元 尺寸 Pixel Size 像 元大 小和 
像 元数/nr 分辨率 共同 决定 了 相机 机 靶 面的 
大小 目前 数字相机 机 像 元 尺寸 一般 为 3 
μ m 10 μ m 一般 像 元 尺寸 越小 
制造 难度 越大 图像 质量 也 越 不容易 提高 6 
. 光谱 响应 特性 Spectral Range 是 指 该 像 
元 传感器 对 不同 光波 的 敏感 特性 一般 响应 
范围 是 350nm － 1000nm 一些 相 机机 在 靶 
面前 加 了 一个 滤镜 滤除 红外 光线 如果 系统 
需要 对 红外 感光 时可/nr 去掉 该 滤镜 工业 镜头 
倍率 及 视场 范围 的 计算 方法 一 工业 镜头 
光学 放大 倍率 的 计算 方法 二 工业 镜头 对应 
视场 范围 的 计算 方法 附 常见 工业 相机 传感器 
尺寸 大小 1/4 ″ 3 . 2mm × 2 . 
4mm 1/3 ″ 4 . 8mm × 3 . 6mm 
1/2 ″ 6 . 4mm × 4 . 8mm 2/3 
″ 8.8 × 6 . 6mm 1 ″ 12 . 
8mm × 9 . 6mm 机器 视觉 系统 中 工业 
镜头 相当 于人 的 眼睛 其 主要 作用 是 将 
目标 的 光学图像 聚焦 在 图像 传感器 相机 的 光敏 
面 阵 上 视觉 系统 处理 的 所有 图像 信息 
均 通过 工业 镜头 得到 工业 镜头 的 质量 直接 
影响 到 视觉 系统 的 整体 性能 下面 对 机器 
视觉 工业 镜头 的 相关 专业 术语 做 以 详解 
一 远 心 光学系统 指 主 光线 平行 于 工业 
镜头 光学 轴 的 光学系统 而光 从 物体 朝向 镜头 
发出 与 光学 轴 保持 平行 甚至在 轴 外 同样 
如此 则 称为 物 体侧 远 心 光学系统 二 远 
心 镜头 远 心 镜头 指 主 光线 与 镜头 
光源 平行 的 工业 镜头 有物 方远 心 像 方远 
心 双侧 远 心 普通 工业 镜头 主 光线 与 
镜头 光轴 有 角度 因此 工件 上下 移动 时 像 
的 大小 有变化 双侧 远 心 境头 主 物 方 
像 方均/nr 为主 光线 与 光轴 平行 光圈 可变 可以 
得到 高的/nr 景深 比 物 方远 心 境头 更能 得到 
稳定 的 像 最 适合 于 测量用 图像处理 光学系统 但是/c 
大型/b 化/n 成本/n 高物/nr 方远/i 心/n 境头/i 只是/c 物/zg 方主/nr 
光线/n 与/p 镜头/n 主轴/n 平行/n 工件/n 上下/f 变化/vn 图像 的 
大小 基本 不会 变化 使用 同轴 落 射 照 明时 
的 必要条件 小型化/n 亦可/v 对应/vn 像/v 方远/i 心/n 境头/i 只是/c 
像/v 方主/nr 光线/n 与/p 镜头/n 光轴/n 平行/n 相机/d 侧/v 即使/c 
有/v 安装/v 个体/n 差/a 也 可以 吸收 摄影 倍率 的 
变化 用于 色 偏移 补偿 摄像机 本应 都 采用 这种 
镜头 三 远 心 光学系统 的 特色 优点 更小 的 
尺寸 减少 镜头 数量 可 降低 成本 缺点 上下 移动 
物体 表面 时 会 改变 物体 尺寸 或 位置 优点 
上下 移动 物体 表面 时 不会 改变 物体 尺寸 或 
位置 使用 同轴 照 明时 可使用 更小 的 尺寸 缺点 
未使用 同轴 照 明时 大于 标准 镜头 的 尺寸 四 
远 心 远 心 度 是 指 物体 的 倍率 
误差 倍率 误差 越小 远 心 度 越高 远 心 
度 有 各种 不同 的 用途 在 镜头 使用 前 
把握 远 心 度 很重要 远 心 镜头 的 主 
光线 与 镜头 的 光轴 平行 远 心 度 不好 
远 心 镜头 的 使用 效果 就 不好 远 心 
度 可以用 下图 进行 简单 的 确认 五 分辨率 μ 
m 光 学系 能力 的 尺度 表示 黑白 格状 图案 
通过 镜头 观察 时 1mm 中 可以 分辨 观察到 黑白 
条纹 的 最多 对数 分辨率 为 两点 间 在 无法 
识别 前 能 靠近 的 最近 距离 测量 值 例如 
1 μ m 的 分辨率 代表 两点 间 在 无法 
识别 前 能 靠近 的 最近 距离 为 1 μ 
m 以下 为 根据 镜头 的 无 相差 光 衍射 
情况 计算 理论 分辨率 的 公式 六 分辨力 Lines ／ 
mm 分辩 力 指 黑白 网 线图 镜头 里 影像 
内 1mm 面积 可 识别 的 黑白 两 色 条纹 
数 分辨力 的 单位 为 线条 / mm 例如 100 
线条 / mm 代表 可 识别 黑白 间距 1 / 
100mm 10 μ m 黑白 线条 的 宽度 为 1 
/ 200mm 5 μ m 七 水平 TV 分辨率 TV 
线条 宽度 里 的 黑白 水平线 总 条数 相当于 电视机 
屏幕 垂直 高度 的 高度 值 屏幕 的 垂直 与 
水平 长度 比率 通常 为 3 4 因此 水平 宽度 
里 的 总 条数 为 3/4 电视机 水平 分辨率 为 
240TV 条 线 电视机 屏幕 水平 宽度 的 总 条数 
为 320条 线 测量 镜头 的 分辨率 时 一组 黑色 
与 白色 线条 应 视为 一条线 但是 在 电视机 分辨率 
线条 方面 一组 视为 2TV 线条 八 失真 % 失 
真为 光学 轴 外 的 直 型 物体 呈现 曲线 
时的/nr 镜头 像差 镜头 失真 也 称为 镜头 畸变 即 
光学 透镜 固有 的 透视 失真 的 总称 可分为 枕 
形 失真 和 桶形 失真 直线 朝向 中心 的 失真 
情况 为 枕 形 失真 Pincushion Distortion 向外 扩张 的 
失真 称为 桶形 失真 Barrel Distortion 如下 图示 九 TV 
失真 % TV 屏幕 上 的 影像 失真 数值 越 
接近 零 牲 能 越高 十 电视 失真 实际 边长 
的 歪曲 形状 与 理想 的 形状 的 百分比 算出 
的 值 十一 孔径 效率 边际 光量 % 孔径 效率 
为 使用 镜头 拍摄 均匀 亮度 的 物体 时 成像 
盘 光学 轴 与 四周 区域 之间 的 亮度 差异 
单位 为 百分比 % 假设 中央 亮度 为 100 为 
镜头 的 光学 特征 之一 十二 遮蔽 % 遮蔽 为 
使用 镜头 与 CCD TV 镜头 拍摄 均匀 亮度 的 
物体 时 电视机 屏幕 中央 与 边缘 之间 的 亮度 
差异 单位 为 百分比 % 通常 使用 受 光 组件 
与 CCD 组件 的 功率 比 计算 此 百分比 遮蔽 
意指 镜头 与 TV 镜头 的 整体 表现 可使用 远 
心 光学系统 以 缩小 遮蔽 的 情况 十三 色差 在 
镜头 光学 统 中 形成 影像 的 位置 与 影像 
放大 倍率 随 光线 波长 的 不同 而 不同 不同 
波长 的 光线 有 不同 的 颜色 这 叫做 色彩 
失真 光学 轴上 的 失真 叫做 色彩 失真 放大 倍率 
的 差异 则 叫做 放大 倍率 色彩 失真 十四 工作距离 
WD mm 工作距离 指 镜头 第一个 工作面 到 被 测 
物体 的 距离 十五 物像 间 距离 O / I 
Object to Imager OI 指 物体 到 结 像 平面 
的 距离 十六 焦距 f mm 后 焦距 / 前 
焦距 焦距 为 光学系统 的 主 光 点到 焦点 的 
距离 从/p 最后/f 一片/m 镜头/n 的/uj 顶点/n 到/v 后/f 焦点/n 
的/uj 距离/n 为 后 焦距 从 第一片 镜头 的 顶点 
到 前 焦点 的 距离 为 前 焦距 十七 景深 
深度/ns 为/p 与/p 物体/n 从/p 最佳/z 焦点/n 前后/f 移动/vn 时．/nr 
出现/v 最/d 锐利/a 焦点/n 的/uj 最近/f 点/m 与/p 最远点/n 之间/f 
的/uj 距离/n 物 体侧 的 深度 范围 称为 景深 同样 
照相机 侧 的 范围 称为 焦点 深度 具体 的 景深 
的 值 多少 略有不同 景深 Depth of Field 可以 用 
以下 的 计算 式 计算出来 景深 = 2 x Permissible 
COC x 实效 F / 光学 倍率 2 = 允许 
误差值 / NA x 光学 倍率 使用 的 是 0 
. 04mm 的 Permissible COC 通过 镜头 的 影像 理论 
土 会 形成 点状 清晰 影像 上 出现 可 接受 
的 摸 糊 情况 称为 可 接受 的 弥散 圆 
十八 焦深 深度 为 当 CCD 从 最佳 焦点 前后 
移动 时 出现 最 锐利 焦点 的 最近 点 与 
最远点 之间 的 距离 影像 侧 的 深度 范围 称为 
焦深 十九 后 截距 mm 从 镜头 安装 座盘 前端 
到 影像 的 距离 二十 C 安装 座 规格 名称 
标准 外径 螺丝 螺纹 数 25 . 4mm 用 后 
截距 U 125.4000 m m 3 2 T h r 
e a d s 17.526 m m 二十一 数值孔径 NA 
NA 当 物体 在 入射光 孔上/nr 产生 的 半角 为 
u 且 折射率 为 n n x sinu 为 物 
体侧 数值 孔经/nr NA 当 物体 在出 射 光 孔上/nr 
产生 的 半角 为 u 且 折射率 为 n n 
x sinu 为 影像 侧 数值孔径 { NA NA = 
n x sinu NA = n x sin u NA 
越高 镜头 的 分辨率 与 亮 度越 佳 如下 图 
所示 入射 角度 u 物 体侧 折射率 n 成像 侧 
的 折射率 n NA = NA x 放大率 对于 Macro 
镜头 NA = M / 2 xF NA = 1/2 
xF NA = NA x 光学 倍率 NA = NA 
x 光学 倍率 二十二 F 值 F No 此 值 
指 镜头 的 亮度 将 镜头 对焦 距离 除以 物 
体侧 的 有效 直径 入射光 孔 直径 Dmm 即可 得到 
此 数值 也 可使用 NA 与 镜头 的 光学 放大 
倍率 β 计算 数值 越小 镜头 越 明亮 F No 
= 焦距 / 入射 孔径 或有 効 口径 = f 
／ D 二十三 有效 F No 此 值 为 具体 
在 有限 距离 内 的 镜头 亮度 指 实际 操作 
时的/nr 亮度 光学 放大 倍率 越高 β 镜头 越暗/nr 实效 
F = 1 + 光学 倍率 x F # 实效 
F = 光学 倍率 / 2NA 二十四 光学 放大 倍率 
β 物体 尺寸 与 影像 尺寸 的 比例 β = 
y ／ y = b ／ a = NA ／ 
NA = CCD 镜头 元件 尺寸 ／ 视野 实际 尺寸 
二十五 光学 倍率 放大 倍率 Magnification 指 的 是 通过 
镜头 的 调整 能够 改变 拍摄 对象 原本 成像 面积 
的 大小 光学 倍率 就是 通过 光学 镜头 变倍 的 
放大 倍率 主 要点 与 成像 的 关系 放大率 是 
指 成像 大小 与 物体 的 比 二十六 电子 放大 
倍率 电子 放大 倍率 为 影 像在 显示器 屏幕 上 
显示 时与 在 CCD 上 显示 相比 的 放大 倍率 
二十七 显示器 放大 倍率 显示器 放大 倍率 为 通过 镜头 
在 显示器 呈现 物体 的 放大 倍率 显示器 放大 倍率 
= 光学 放大 倍率 β x 电子 放大 倍率 计算 
范例 光学 放大 倍率 = 02x CCD 尺寸 1/2 对角线 
8mm 显示器 1/4 电子 放大 倍率 = 14 x25 . 
4/8 = 44.45 显示器 放大 倍率 = 0.2 x 44.45 
= 8.89 倍 1 英寸 = 25 . 44mm ※ 
有时 根据 TV 监视器 的 扫描 状态 以上 的 简易 
计算 将 有 一些 变化 二十八 视野 FOV 视野 指使 
用 照相机 以后 看到 的 物体 侧 的 范围 照相机 
有效 区域 的 纵向 长度 V / 光学 倍率 M 
＝ 视野 V 照相机 有效 区域 的 横向 长度 H 
/ 光学 倍率 M ＝ 视野 H 照相机 有效 区域 
的 纵向 长度 V or H = 照相机 一个 画 
素 的 尺寸 × 有効画/nr 素数 V or H 来 
计算 计算 范例 光学 放大 倍率 = 0.2 x CCD 
尺寸 1／2 长 4 . 8mm 宽 6 . 4mm 
} 视野 尺寸 长度 = 4.8 ／ 0.2 = 24 
mm 宽度 = 6.4 ／ 0.2 = 32 { mm 
二十九 解析度 表示 了 所能 见到 了 2点 的 间隔 
0.61 x 使用 波长 λ / NA = 解析度 μ 
以上 的 计算 方法 理论 上 可以 计算出 解析度 但 
不包括 失真 ※ 使用 波 长为 550nm 三十 解像 力 
１mm 中间 可以 看到 黑 白线 的 条数 单位 lp 
/ mm 三十一 MTF Modulation Transfer Function 成像/v 时/n 再现/v 
物体/n 表面/n 的/uj 浓淡/a 变化/vn 而/c 使用/v 的/uj 空间/n 周/nr 
波数/n 和/c 对比度/l 三十二 成 像圈 成像 尺寸 φ 要 
输入 相机 感应器 尺寸 三十三 照相机 Mount C mount 1 
diameter x 32 TPI FB 17 . 526mm CS mount 
1 diameter x 32 TPI FB 12 . 526mm F 
mount FB 46 . 5mm M72 Mount FB 厂家 各有不同 
三十四 边缘 亮度 相对 照度 是 指 中央 的 照度 
与 周边 的 照度 的 百分比 三十五 通风 盘 及 
解析度 Airy Disk 通风 盘 是 指 通过 没有 失真 
的 镜头 在 将 光 集中 一点 时 实际上 形成 
的 是 一个 同心圆 这个 同心圆 就 叫做 Airy Disk 
Airy Disk 的 半径 r 可以 通过 以下 的 计算 
公式 计算 出来 这个 值 称为 解析度 ｒ = 0.61 
λ / NA Airy Disk 的 半径 随 波长 改变 
而 改变 波长 越长 光/n 越难/nr 集中/v 于/p 一点/m 例 
N A 0.07 的 镜头 波 長 550nm r = 
0.61 * 0.55 / 0.07 = 4.8 μ 三十六 MTF 
及 解析度 MTF Modulation Transfer Function 是 指 物体 表面 
的 浓淡 变化 成像 侧 也被 再现 出来 表示 镜头 
的 成像 性能 成像 再现 物体 的 对比度 的 程度 
测试 对比 性能 用 的 是 具有 特定 空间 周 
波数 的 黑白 间隔 测试 空间 周 波数 是 指 
１mm 的 距离 浓淡 变化 的 程度 所示 黑白 矩阵 
波 黑白 的 对比度 为 100% . 这个 对 象被 
镜头 摄 影后 成像 的 对比度 的 变化 被 定量化 
基本上 不管什么 镜头 都会 出现 对比度 降低 的 情况 最终 
对比度 降低 至 0% 不能 进行 颜色 的 区别 显示 
了 物 体侧 与 成像 侧 的 空间 周 波数 
的 变化 横轴 表示 空间 周 波数 纵轴 表示 亮度 
物 体侧 与 成像 侧 的 对比度 由 A B 
计算出来 MTF 由 A B 的 比率 计算出来 解析度 与 
MTF 的 关系 解析度 是 指 2点 之间 怎样 被 
分离 认识 的 间隔 一般 从 解析度 的 值 可以 
判断 出 镜头 的 好坏 但是 实际 是 MTF 与 
解析度 有 很大 的 关系 显示 了 两个 不同 镜头 
的 MTF 曲线 镜头 a 解析度 低 但是 具有 高对比度 
镜头 b 对比度 低 但是 解析度 高 三十七 微距 镜头 
不用 近 接环 或 特写 镜头 而 实现 扩大 摄影 
为 近 接 摄影 而 设计 的 镜头 有限 远 
= 从 物镜 出 射 的 光 在 一定 距离处 
聚焦 三十八 CCTV 镜头 适合于 广 范围 的 扩大 观察 
需要 严格 精度 时 不适合 无限 远 = 从 物镜 
出 射 的 光 不 聚焦 平行 前进 三十九 变倍 
镜头 焦距 可变 镜头 倍率 摄像 范围 等 可以 简单 
改变 适合 于 需要 寻找 最 合适 摄影 条件 摄影 
距离 镜头 的 焦距 以 便于 操作 的 场合 使用 
不 产生 聚焦 位置 移动 的 称为 变倍 镜头 产生 
焦距 位置 移动 的 称为 变焦镜头 四十 成像 圆 光学系统 
中 成像 圆 的 尺寸 成像 圆 的 尺寸 = 
CCD 对角 尺寸 和 CCD 尺寸 同样 意义 四十一 后 
变倍 镜头 安装 在 CCD 前面 不 改变 工作距离 扩 
大视野 范围 F 值 下降 分辨率 对比度 下降 聚焦 会 
有些 不准 四十二 前 变倍 镜头 安装 在 镜头 前面 
工作距离 会 变化 亮度 不变 扩 大视野 范围 如果 把 
工业 相机 比喻 为人 的 眼睛 工业 镜头 就 好比 
是 眼球 它 直接 关系 到 监看 物体 的 远近 
范围 和 效果 工业 镜头 的 选用 应 考虑 一下 
几点 1 工业 镜头 尺寸 应 等于 或 大于 工业 
相机 成像 面 尺寸 例如 1/3 ″ 工业 相机 可选 
1/3 ″ 1 ″ 整个 范围内 的 工业 镜头 但 
水平 视角 的 大小 都是/nr 一样 的 只是 使用 大于 
1/3 ″ 的 工业 镜头 能够 更多 地 利用 成形 
更 精确 了 工业 镜头 中心 光路 所以 可 提高 
图像 质量 和 分辨率 2 选用 合适 的 工业 镜头 
焦距 焦距 越大 监看 距离 越远 水平 视角 越小 监视 
范围 越窄/nr 焦距 越小 监看 距离 越近/nr 水平 视角 越大 
监视 范围 越宽/nr 工业 镜头 焦距 可 按照 以下 公式 
估算 f = A × L / H f 镜头 
焦距 A 摄像机 CCD 垂 向 尺寸 L 被 摄 
物体 到 镜头 距离 H 被 摄 物体 高度 格式 
1 英寸 2/3 英寸 1/2 英寸 1/3 英寸 1/4 英寸 
CCD 垂 向 尺寸 9.6 ㎜ 6.6 ㎜ 4.8 ㎜ 
3.6 ㎜ 2.7 ㎜ 3 考虑 环境 光线 的 变化 
光线 对 图像 的 采集 效果 起着 十分 重要 的 
作用 一般来说 对于 光线 变化 不 明显 的 环境 常 
选用 手动 光圈 镜头 将 光圈 手 调到 一个 比较 
理想 的 数值 后就/nr 可不 动了 如果 光线 变化 较大 
如 室外 24 小时 监看 应选 用 自动 光圈 能够 
根据 光线 的 明暗 变化 自动 调节 光圈值 的 大小 
保证 图像质量 但 需 注意 的 是 如果 光线 照度 
不均匀 特别 是 监视 目标 与 背景光 反差 较大 时 
采用 自动 光圈 镜头 效果 不 理想 4 考虑 最佳 
监看 范围 因为 工业 镜头 焦距 和 水平 视角 成反比 
因此 既想 看得远 又想 看得 宽阔 和 清晰 这是 无法 
同时 实现 的 每个 焦距 的 镜头 都 只能 在 
一定 范围 内 达到 最佳 的 监看 效果 所以 如果 
监看 的 距离 较远 且 范围 较大 最好 是 增加 
摄像机 的 数量 或 采用 电动 变焦镜头 配合 云台 安装 
5 工业 镜头 接口 与 工业 相机 接口 要 一致 
现在 的 工业 相机 和 工业 镜头 通常 都是 CS 
型 接口 CS 型 摄像机 可以 和 CS 型 C 
型 镜头 配 接 但 和C型/nr 镜头 接 配 时 
必须 在 工业 镜头 和 工业 相机 之间 加 接 
配 环 否则 可能 碰坏 CCD 成像 面的 保护 玻璃 
造成 CCD 工业 相机 的 损坏 C 型 工业 相机 
不能 和 CS 型 工业 镜头 配 接 近年来 利用 
影像 量 测 物品 尺寸 已经 成为 行业 发展 的 
趋势 由于 相机 影像 软件 及 照明 组件 等 设备 
的 进步 让 影像 量 测 物品 尺寸 的 精准 
度 能 媲美 或 更 胜于 手动 或 雷射 光 
的 量 测 整合 光学系统 工程 的 应用 我们 可 
发现 光学 产品 的 优劣 决定 了 系统 的 品质 
而 远 心 镜头 能 执行 各种 形式 的 光学 
量 测 软件 工程 需要 具 高分辨率 高/a 对比性/l 和低/nr 
几何/r 变形/n 特性/n 的/uj 拍摄/v 影像/vn 来/v 判断/v 出/v 精准/n 
的/uj 量/n 测数据/n 除了 光学 设备 本身 的 要求 视角 
的 选择 也 具 相当 的 重要性 在 不 适当 
的 观测 点下 量 测 物体 会 造成 物体 拍摄 
影像 的 扭曲 除了 影像处理 过程 中 会 造成 的 
干扰 系统 设计 者 也 同时 将 光学 配备 本身 
会 影响 光学 量 测 精准性 的 几个 限制 纳入 
考虑 1 ． 由于 物体 摆放 位置 而 造成 的 
不正常 放大 2 ． 影像 的 变形 3 ． 视角 
选择 而 造成 的 误差 4 ． 低 影像 分辨率 
5 ． 不适当 光源 干扰 下 造成 边界 的 不确定性 
远 心 镜头 能 有效 降低 甚至 消除 以上 的 
问题 因此 远 心 镜头 也 成为 精密 光学 量 
测系统 决定性 的 因素 图一 不同 镜头 的 光学 原理 
接下来 我们 简要 的 介绍 远 心 镜头 是 如何 
有效 降低 噪声 及 变形 等 问题 一 放大 倍率 
的 一致性 光学 量 测系统 通常会 自 物体 正上方 拍摄 
不 纪录 物体 侧面 以 测量 其 直径 或 直线 
距离 由于 许多 机械 零组件 无法 精准 定位 或 具有 
高度 差 或 厚度 等 问题 工程师 需要 可靠 光学 
量 测系统 来 判定 影像 与 物体 的 实际 间距 
左上 图为 利用 远 心 镜头 拍摄 圆柱形 零件 上 
的 齿条 左 下图 为 利用 普通 镜头 拍摄 同样 
对象 的 影像 右上图 为 两个 同样 对象 置于 相距 
100 mm 下 利用 远 心 镜头 拍 的 影像 
右 下图 为 同样 情形 下 利用 普通 镜头 捕捉 
的 影像 左图 在 一般 标准 镜头 下 物体 的 
影像 大小 会 因为 与 镜头 的 距离 标记 为 
s 不同 而 改变 同样 的 不同 大小 的 对象 
可能 会受 距离 的 影响 而 看起来 相同 反观 远 
心 镜头 能 容许 一定 程度 的 距离 改变 在 
＂ 限定 景深 ＂ 或 ＂ 远 心 度 区间 
＂ 内 影像 不会 因 物体 与 镜头 间 距离 
的 改变 而 放大 或 缩小 此 特性 是 由于 
在 光学系统 中 只有 与 光轴 平行 的 光束 会被 
接收 因此 远 心 镜头 必须 大于 或 等于 被 
摄 物体 的 直径 Telecentric 这个 单字 是 来自 于 
希腊 前缀 tele 遥远 以及 字根 center 中心 在此 代表 
着 光学系统 的 轴心 代表 此 光学系统 的 入射 光线 
在 通过 远 心 镜头 时是与/nr 镜头 的 中央 轴心 
平行 而 成像 点 会在 远 心 镜头 的 焦点 
平面 上 左图 在 远 心 系统 内 唯有 与 
轴心 平行 或 接近 平行 的 光束 会被 接受 在此 
我们 举 个 简单 的 例子 来 说明 两种 光学系统 
的 差异性 首先 我们 使用 一个 焦距 为 12 毫米 
的 标准 镜头 f = 12 mm 及 以 1/3 
吋 的 侦测器 为 接口 来 测定 放置 于 200 
毫米 s = 200 mm 外 的 20 毫米 H 
= 20 mm 对象 当 对象 位移 1 毫米 ds 
= 1mm 时 其 成像 大 小将 会有 约略 0.1 
毫米 的 差异 如 以下 公式 dH = ds / 
s   x H = 1/200 x 20 mm = 
0 1 mm 在 telecentric 光学系统 下 成像 的 大小 
的 变化 取决于 telecentric 曲线 一个 高 品质 远 心 
镜头 的 曲线 角度 theta 能趋/nr 近于 0.1 ° 0 
0017 rad 代表 当 物体 同样 移动 1 毫米 ds 
= 1mm 时 其 成像 将 只 会有 0.0017 毫米 
的 改变 dH = ds   x theta = 1 
  x 0 0017 mm = 0 0017 mm 因此 
相较 于 标准 镜头 远 心 镜头 能将 放大 倍率 
的 误差 缩小 至 1/10 或 甚至 1/100 上图 远 
心 曲线 决定了 物体 被 移动 时 成像 改变 的 
倍率 Telecentric range 或是 telecentric depth 代表 在 维持 放大 
倍率 下 能 摆设 物体 的 范围 然而 当 物体 
不在 telecentric range 中 并不 代表 镜头 功能 就 不具 
远 心 的 特性 影像 的 变异 程度 主要 是 
由 镜头 的 远 心 曲线 由 前文 的 theta 
所定 出来 的 或 远 心 度 所 决定 这个 
曲线 决定了 物体 在 移动 时 造成 的 影像 误差 
大小 然而 当 主要 入射 光束 与 光轴 平行 时 
成像 的 大小 就 不会 因 物体 置放 的 距离 
而 影响 由于 远 心 镜头 必须 接收 与 光轴 
平行 的 入射 光源 远 心 镜头 的 尺寸 必须 
比 拍摄 物体 还大 因此 远 心 镜头 会比 一般 
镜头 大 且 厚重 成本 也 比 一般 镜头 高 
二 低 失真度 Distortion 影像 的 变形 是 限制 光学 
量 测 准确性 的 重要 因素 之一 再好 的 镜头 
都 还是 无法 避免 然而 有 时候 一 或 数个 
像素 的 错误 可能 具 决定性 的 影响 失真度 也 
可以 说 是 影像 与 实际 画面 的 差异 度 
失真度 是 利用 影像 点 与 影像 中心 位置 的 
距离 和在/nr 标准 影像 未 失真 影像 的 实际 距离 
之间 的 差异 来 计算 举例来说 一个 与 画面 中心 
距离 200 像素 的 标的 在 影像 画面 中 只有 
和 中心点 间隔 198个 像素 其 失真度 则为 distortion = 
198 200 / 200 = 2/200 = 1% 正向 放射性 
失真 Positive radial distortion 也 被 称为 pincushion 性 失真 
负向 放射性 失真 negative radial distortion 可被 另 称为 barrel 
distortion 此类/r 的/uj 变形/n 和/c 影像/vn 中心/n 的/uj 距离/n 大小/b 
有/v 绝对/d 的/uj 关联性/n pincushion type distortion barrel type distortion 
影像 的 失真 可被 视作 真实 画面 经过 二维 几何 
性 变形 的 结果 由于 通常 不是 线性 改变 而是 
二 或 三度 的 多项式 的 变形 影像 会被 些许 
的 拉扯 及 扭曲 一般 的 镜头 具有 数度 或 
数十 度 的 失真度 不过 由于 大 部分 的 影像 
镜头 是 用在 一般 监测 系统 或 普通 摄影 中 
些许 的 影像 失 真是 能被 容许 的 但 此 
瑕疵 让 精密 影像 测 量变 的 困难 高品质 的 
远 心 镜头 只 具有 低于 0.1% 失真度 的 特性 
虽然 这个 数次 听起来 很小 但在 高 分辨率 的 摄影 
机下 仍能 造成 将近 一个 像素 的 误差 因此 许多 
失真 的 影像 会 利用 软件 做 校正 将校 正用 
图样 此 图样 的 精密度 必须 比 置于 镜头 下方 
拍摄 之后 利用软件 计算 影像 校正 公式 将 失真 影像 
做 校正 由于/c 影像/vn 的/uj 失真/v 程度/n 与/p 物体/n 和/c 
镜头/n 的/uj 距离/n 有/v 极高/i 的/uj 关联性/n 因此 必须 格外 
留意 物体 在被 摄影 时与 镜头 的 距离 除了 与 
远 心 镜头 的 距离 以外 物体 和远心/nr 镜头 之间 
必须 尽量 保持 垂直 以 避免 non axially symmetric distortion 
effects 所谓 的 梯形 性 失真 或称 Keystone or thin 
prism effect 是 另一个 影像 测量 系统 中 必须 克服 
的 问题 如果 拍摄 物体 没有 被 放置 于 中心点 
此类 的 影像 通常 据 非 对称性 也 很难 利用软件 
校正 左图 为 一张 使用 远 心 镜头 所 拍摄 
的 不 失真 影像 中 图为 同 一个 画面 但 
具 放射性 变形 的 影像 右 图为 同 一个 画面 
但 具有 梯形 性 失真 的 影像 三 视角 误差 
使用 一般 光学 镜头 拍摄 非 平面 物体 时 物体 
的 大小 会 因为 距离 而 改变 因此 拍摄 管 
柱形 物体 时 管柱 顶端 与 底端 会成 被 拍摄 
成像 为 同心圆 而非 同样 的 双圆 而在 远 心 
镜头 下 圆柱 底端 则 会与 柱顶 的 圆 完全 
重叠 左图 为 一般 镜头 下 常见 的 视角 误差 
右图 由远 心 镜头 所 拍摄 的 影像 能不 会 
出现 此 问题 这个 现象 是 因为 光束 路径 的 
特殊性 而 造成 的 在 一般 光学 镜头 下 没有 
与 光轴 平行 的 纵向 光束 会在 感 光源 件 
上 投 射成 平行 距离 然而 只 些 接收 平行光束 
的 远 心 镜头 则 不会 有 同样 的 问题 
一般 镜头 通常 会将 3D 物体 的 立体影像 包括 空间 
距离 转换成 2D 影像 而 远 心 镜头 只会 纪录 
2D 平面 影像 而 不受 物体 的 立体 距离 影响 
这个 特性 在 影像 量 测系统 中 具有 极大 的 
优势 一般 镜头 会将 光束 镜头 左边 的 纵向 距离 
投 射成 平行 影像 而 远 心 镜头 不会 有 
这种 情形 四 高 影像 分辨率 影像 的 分辨率 是 
利用 CTF contrast transfer function 将 影像 的 对比 清晰度 
量化 使用 不同 分辨率 镜头 拍摄 USAF test pattern 的 
结果 左图 高分辨率 影像 右图 低分辨率 影像 很多 影像 系统 
是 利用 多个 低 画 素 相机 搭配 低分辨率 的 
便宜 镜头 因而 只得到 非常 模糊 的 影像 而/c 远/a 
心/n 镜头/n 的/uj 高分辨率/n 让/v 它/r 能/v 搭配/v 低/a 像素/n 
高/a 分辨率/n 的/uj 相机/d 而/c 依然/d 得到/v 良好/a 的/uj 影像/vn 
品质/n 五 锐利 的 边缘 影像 影像 拍摄 时 背景 
光线 常常 会 让 物体 的 轮廓 变 的 难以 
界定 border effects 主要 是 因为 背景 的 强光 会与 
物体 边缘 的 阴影 重叠 除此之外 当 光线 自 不同 
角度 投射 于 物体 上 时 某些 光源 被 物体 
反射 后 仍然 被 镜头 所 接收 如 下图 十一 
所示 这种 光线 常常 会被 误判 来自 物体 背后 造成 
边缘 判 定上 的 误差 因此当 物体 具有 高度 立体 
特性 时 容易 会 出现 误差 在 一般 镜头 下 
常见 的 Border effects 能在 远 心 镜头 下 有 
明显 的 改善 这个 问题 在 远 心 镜头 下 
能被 明显 的 改善 当 光圈 缩 的 够 小时 
只有 与 光轴 平行 的 光束 能 通过 镜头 因此 
被 物体 反射 的 光线 就 不会 被 接收 影像 
的 精准性 也就 能 明显 提升 如果 想要 更进一步 的 
提升 影像 的 品质 可利用 collimated 或称 telecentric 照明设备 搭配 
远 心 镜头 在 这种 配备 能让 相机 与 光源 
互相配合 让 所有 自 collimated 光源 发出 的 光 都能 
是 被 镜头 所 接收 的 平行光束 让/v 噪声/n 与/p 
曝光/nz 时间/n 都能/nr 大幅/d 的/uj 降低/v 除此之外 边缘 定位 的 
问题 也因 光源 的 控制 而 有 明显 的 改善 
Collimated telecentric 光源 设备 只 提供 与 光轴 接近 平行 
的 光束 一 对 工业 镜头 的 选择 我们 首先 
必须 确定 客户 需求 • 1 视野 范围 光学 放大倍数 
及 期望 的 工作 距离 在 选择 工业 镜头 时 
会 选择 比 被 测 物体 视野 稍大 一点 的 
工业 镜头 以 有利于 运动控制 • 2 景深 要求 对于 
对 景深 有 要求 的 项目 尽可能 使用 小 的 
光圈 在 选择 放大 倍率 的 工业 镜头 时 在 
项目 许可 下 尽可能 选用 低 倍率 工业 镜头 如果 
项目 要求 比较 苛刻 时 倾向 选择 高 景深 的 
尖端 工业 镜头 • 3 芯片 大小 和 相机 接口 
例如 2/3 工业 镜头 支持 最大 的 工业 相机 耙 
面为 2/3 它 是 不能 支持 1 英寸 以上 的 
工业 相机 • 4 注意 与 光源 的 配合 选配 
合适 的 工业 镜头 • 5 可 安装 空间 在 
方案 可选择 情况下 让 客户 更改 设备 尺寸 是 不 
现实 的 二 典型 案例 齿轮 项目 • 1 该 
项目 的 基本 要求 是 检测 齿轮 滚轴 的 安装 
质量 缺失 和 滚轴 的 直径 公差 200 微米 在线 
检测 速度 为 2个 / 秒 • 2 相机 的 
选择 客户 需求 200um 根据 精度 = FOV / Resolution 
测量 齿轮 实际 大小             
为 48mm 加 上边缘 宽度 以 60mm 作为 FOV H 
以此 数据 算 的 相机 Resolution = FOV H / 
精度 = 60 / 0.2 = 300 故 选择 640 
* 480 分辨率 曝光 时间 至少 1/2 的 工业 相机 
• 3 工业 镜头 的 选择 由于 这个 项目 上 
对 检测 环境 没有 特殊 要求 人为 设定 WD = 
200mm CCD   Size 根据 相机 参数 1/4 对角线 长度 
乘 16 转换 为 4mm 再 根据 4 3 的 
比例 勾股定理 算出 水平 的 直角 边为3/nr . 2mm 根据 
Focus level / WD = CCD Size / FOVf = 
CCD Size * WD / FOV = 3.2 * 200/60 
= 10 . 6mm 故 选择 12mm 定 焦可/nr 满足 
需求 综上所述 选择 640 * 480 分辨率 曝光 时间 为 
1/10000 到 30 的 工业 相机 12mm 定 焦 CCTV 
镜头 品牌 产地 镜头 类型 施耐德 Schneider 德 国定 焦 
远 心 卡尔蔡司 Zeiss 德 国定 焦 远 心 μ 
Tron 日本 定 焦 定 倍 远 心 连续 变倍 
Moritex 日本 定 焦 定 倍 远 心 连续/a 变倍/nz 
SPACECOM/w 日本/ns 百万/m 像素/n 定/v 焦/a COMPUTAR/w 日本/ns 百万/m 像素/n 
定/v 焦/a 宾得/nr PENTAX/w 日本/ns 百万/m 像素/n 定/v 焦/a 腾龙/ns 
TAMRON/w 日本/ns 百万/m 像素/n 定/v 焦/a 精工/n 日本/ns 百万/m 像素/n 
定/v 焦/a VST/w 日本/ns 定/v 焦/a 定 倍 远 心 
连续 变倍 KOWA 日本 百万 像素 定 焦视清/nr VICO 日本 
远 心 定 倍 定 焦 百万 像素 定 焦1/nr 
远 心 镜头 运用 目的 远 心 镜 头目 的 
就是 消除 由于 被 测 物体 或 CCD 芯片 离 
镜头 距离 的 远近 不一致 造成 放大 倍率 不一样 分为 
物 方远 心 镜头 像 方远 心 镜头 和 双侧 
远 心 镜头 物 方远 心 镜头 通过 在 像 
方 焦平面 上 放置 孔径光阑 使 物 方主/nr 光线 平行 
于光轴 从而 虽然 物 距 改变 但 成像 位置 不变 
像 方远 心 镜头 通过 在 物 方 焦平面 上 
放置 孔径光阑 使 像 方主/nr 光线 平行 于光轴 从而 虽然 
CCD 芯片 的 安装 位置 有 改变 在 CCD 芯片 
上 投影 成像 大小 不变 双侧 远 心 镜头 则是 
兼有 以上 两种 特点 但 结构 相对 复杂 Q 远 
心 镜头 为何 价格 高 有何 优点 A   远 
心 镜头 的 设计 是 采 Telecentric 原理 低 失真 
无 视角 误差 较 适合 工业 上 量 测 应用 
所以 价位 较 一般 CCTV 镜头 高 远 心 镜头 
另有 同轴 镜头 设计 提供 不同 工作距离 不同 放大 倍率 
供选择 Q   远 心 镜头 为何 低 倍率 镜头 
价格 反而 高 A 因为 Telecentric 镜头 为了 要 减少 
失真 让 平行 光 进入 所以 镜头 设计 必须 比 
被 照 体大 所以 低 倍率 镜头 通常 口径 都 
很大 所需 的 镜片 材料 成本 较高 所以 价格 较高 
Q 同轴 光 镜头 打 同轴 光 时 中间 亮度 
较 亮 旁边 整 暗 是 何原因 如何 补救 A 
因为 同轴 光 镜头 的 投射 光线 集中于 中心 5 
~ 6 ㎜ 左右 如果 看 的 范围 较大 边缘 
附近 光线 较 暗 这是 低 倍率 同轴 光 镜头 
常有 的 现象 可以 外加 环形 光源 来 补足 光线 
不够 地方 Q   远 心 镜头 可否 搭配 CCTV 
用 的 2倍 镜 使用 A 可以 但是 影像 质量 
变差 所需 光强度 更强 不 建议 使用 Q   远 
心 镜头 规格 上 标示 镜头 分解 能 解析力 是 
代表 什么意思 A 镜头 解析力 的 定义 是 镜头 能 
看清楚 最小 物体 边缘 的 能力 如果 低于 此 分解 
能 就 无法 看 清楚 了 须 另外 找 解析力 
更高 的 镜头 如 高倍 显微 物镜 Q   远 
心 镜头 景深 为何 不能 很长 A   远 心 
镜头 设计 时即/nr 考虑到 景深 倍率 光圈 工作距离 等 参数 
取得 最佳 点 所以 景深 均为 固定 的 数值 如要 
增长 景深 而 牺牲 别的 参数 会 影响 镜头 质量 
Q 如果 要 看到 1 μ m 的 物体 可用 
何种 镜头 A 要看到 小于 1 μ m 以下 物体 
必须 用 高倍 显微 物镜 但 工作距离 变得 很小 约 
7 ㎜ 景深 变得 很浅 了 Q 用 远 心 
镜头 所 放大 的 影像 到底 是 多少 倍 A 
影像 实 总 际 放大 倍率 是 等于 镜头 光学 
倍率 × Monitor 放大 倍率 Monitor 放大 倍率 是 Monitor 
对角线 除 上 CCD Sensor 对角线 1/3 〞 CCD Sensor 
投射 到 14 吋 Monitor 是 59.3倍 Q   远 
心 镜头 除了 C mount 之外 可否 提供 其它 mount 
选择 A 除了 C mount 之外 还有 直径 φ 17 
㎜ 及 直径 φ 12 ㎜ 二种 mount 供选择 这些 
mount 是 针对 笔 型 CCD 专用 的 镜头 三 
像/v 方远/i 心/n 光路/n 原理/n 及/c 作用/v 像/v 方主/nr 光线/n 
平行/n 于光轴/nr 主/b 光线/n 的/uj 会聚/v 中心/n 位于/v 物/zg 方/n 
无限/v 远/a 称之为 像 方远 心 光路 作用 可以 消除 
像 方 调焦 不准 引入 的 测量误差 用途 大地 测量 
仪器 四 双侧 远 心 光路 原理 及 作用 综合 
了 物 方/像/nr 方远 心 的 双重 作用 主要 用于 
视觉 测量 检测 领域 优势 1 大 景深 2 景深 
范围 内 物像 倍率 不变 3 低 畸变 通常 1% 
全幅 画面 4 垂直 成像 时 无 投影 现象 劣势 
1 体积 大 重量 沉 由于 平行 光路 入射 镜头 
的 口径 要 大于 被 摄 物体 2 焦距 固定 
变焦 困难 3 工作距离 相对 较短 4 光阑 小 需要 
更强 的 照明 在 设计 工业 机器 视觉 系统 时 
使用 工业 数字相机 还是 工业 模拟 相机 是 最重要 的 
决定 之一 二者 各 有其 优缺点 但 归根结底 要 根据 
成本 和 一些 关键 操作 因素 来 选择 如果 考虑 
了 这些 因素 哪 一项 技术 更 有优势 就会 明朗 
化了 机器 视觉 基础 机器 视觉 被 应用于 自动 质量检验 
工艺 控制 参数 测量 和 自动 组装 等等 许多 领域 
在 这些 系统 中 相机 是 决定 着 成本 速度 
和 精度 的 关键 组件 工业/n 模拟/v 相机/d 和/c 工业/n 
数字相机/n 都/d 可以/c 用/p 在/p 这些/r 系统/n 中/f 而 了解 
工业 相机 的 性能 规格 及其 在 各种 视觉 任务 
中 的 重要性 对于 把 机器 视觉 付诸 工业 控制 
是 最 基本 的 一步 机器 视觉 系统 包括 三 
个 主要 部分 工业 相机 采集卡 和 存储 并 分析 
图像 以 提取 信息 的 计算机 或 图像 处理器 图像 
处理器 和 采集卡 属于 相对 容易 选择 的 电子 装置 
它们 的 主要 参数 是 存储 能力 和 处理 速度 
工业 相机 是 这些 系统 中 情况 最为 复杂 的 
部分 现代 的 工业 模拟 相机 和 工业 数字相机 采用 
电荷耦合 器件 CCD 或 互补 金属 氧化物 半导体 CMOS 芯片 
来 捕获 图像 并 生成 电子 信号 发送 给 计算机 
进行 处理 CCD 和 CMOS 成像 器 由 一系列 方形 
光电池 组成 它们 将 收集 到 的 光子 转化 为 
电子 并将 生成 的 电荷 积蓄 起来 在 CCD 中 
当 从芯/nr 片中 每次 读取 一个 像素 时 电荷 被 
转换 成 电压 而在 CMOS 中 每个 光敏 器件 旁边 
的 电路 将 光能 转化成 电压 二者 在 图像 质量 
上 没有 明显 的 优劣 之分 基于 CMOS 的 工业 
相机 需要 的 部件 较少 电耗 较低 提供 数据 的 
速度 也比 基于 CCD 的 相机 快 但 CCD 则是 
更为 成熟 的 技术 能够 以 较低 的 噪声 提供 
质量 更好 的 图像 而 弱点 是 数据 传输 速度 
较慢 不太 灵活 部件 较多 和 电耗 较高 信号/n 精度/n 
CCD/w 和/c CMOS/w 芯片/n 在/p 内部/f 都/d 生成/v 模拟信号/n 因此 
模拟 相机 和 数字相机 之间 的 主要 区别 在于 图像 
是 在哪里 被 数字化 的 数字相机 在 相机 里 将 
信号 数字化 并且 通过 串行 总线接口 比如 FireWire USB Camera 
Link Gigabit Ethernet 将 信号 以 数字 方式 传 输给 
计算机 或 图像 处理器 而在 另一方面 模拟 相机 系统 并 
不是 在 其 内部 将 图像 信号 数字化 数字化 是由 
计算机 完成 的 所以 模拟 信息 是 通过 同轴电缆 而 
进行 传输 的 尽管 两种 方法 都 能够 有效 地 
传输 信号 但 模拟信号 可能 会 由于 工厂 内 其他 
设备 比如 电动机 或 高压 电缆 的 电磁 干扰 而 
造成 失真 随着 噪声 水平 的 提高 模拟 相机 的 
动态 范围 原始 信号 与 噪声 之比 会 降低 动态/n 
范围/n 决定了/i 有/v 多少/m 信息/n 能够/v 被/p 从/p 相机/d 传/n 
输给/v 计算机/n 数字 信号 不 受电 噪声 影响 因此 数字相机 
的 动态 范围 更高 能够 向 计算机 传输 更 精确 
的 信号 数字相机 的 典型 动态 范围 在 55 分贝 
到 60 分贝 之间 而 模拟 相机 则为 45 分贝 
到 50 分贝 左右 所用 电缆 的 长度 和 类型 
也 影响 着 信号 的 精度 模拟 相机 的 电缆 
简单 而且 便宜 在 电 噪声 导致 信号 严重 失真 
之前 能够 将 信号 可靠地 300米 以上 由于 数字相机 传输 
的 是 高带宽 信号 电缆 的 长度 受 电缆 中 
信号 良师 衰减 损失 水平 的 限制 根据 使用 的 
通信 协议 的 不同 电缆 的 典型 长度 如下   
      FireWire             
            大约 10米 到 20米 
        USB           
                    
          大约 10米 到 20米   
      Camera Link           
                大约 10米 
现在 市场 上 有了 采用 千 兆位 以太网 标准 电缆 
的 新系统 这些 电缆 能够 将 数字 图像 数据 传输 
100 米左右 而 不发生 损失 分辨率 和 捕获 速度 分辨率 
是 描述 相机 性能 的 重要 参数 之一 它 包括 
两个 方面         阵 列中 传感 单元 
或称 像素 的 数量         每个 传感 
单元 的 大小 模拟 相机 通常 是 基于 视频 图形 
阵列 VGA 成像 格式 分辨率 被 限制 在 大约 640 
× 480 像素 这 只是 机器 视觉 系统 要求 的 
下限 而在 另一方面 数字相机 能够 达到 80兆 像素 甚至 更高 
模拟 相机 和 数字相机 典型 的 像素 大小 在 3 
微米 到 20 微米 范围内 第二 个 重要 参数 是 
帧 速 或者说 相机 连续 提供 图像 的 速度 帧 
速 越高 在给 定 时间 内 能够 完成 的 检验 
测量 或 识别 工作 就 越多 像素数 和帧速/nr 之间 存在 
着 相互 影响 所以 相机 的 像素 数 越多 其 
帧 速 越低 但是 这 并非 是 一成不变 的 规则 
因为 尺寸 越小 的 半导体 转换 速度 通常 就 越快 
所以 像素数 相同 的 两台 相机 可能 具有 差别 很大 
的 帧 速 640 × 480 像素 模拟 相机 的 
典型 帧 速 为 每秒 30 帧 而 分辨率 为 
2兆 像素 1600 × 1200 像素 的 数字 相机 能够 
达到 相同 的 帧 速 16兆 像素 的 数字相机 帧 
速 约为 每秒 3 帧 另外 相机 传感器 可 采用 
多 端口 设计 将 图像 分解成 片段 以 同时 读出 
还 可以 在 软件 的 控制 下 只 读取 图像 
中 感兴趣 的 部位 而 不是 读取 全部 传感器 阵列 
同样 能够 缩短 传输 时间 其他 因素 除了 分辨率 和帧速/nr 
其他 重要 的 设计 因素 还 包括 动态 范围 和 
灵敏度 动态 范围 或 图像 每个 像素 的 字节数 决定 
着 采集卡 需要 的 存储 容量 以及 图像 处理器 需要 
的 算法 精度 它 也 影响 着 传感器 的 曝光 
宽容度 每 像素 只有 几个 字节 的 相机 将 无法 
像 字节数 更高 的 相机 那样 满足 很宽 的 照明 
条件 范围 一般来说 数字相机 的 动态 范围 指标 更 好一些 
因为 它们 的 抗 噪声 性能 更好 传感器 灵敏度 也 
决定 着 可靠 地 使用 相机 所 需要 的 照明 
条件 在 光线 不好 或者 为 防止 运动 图像 模糊 
而 提高 快门 速度 的 情况 下 要求 相机 具有 
更高 的 灵敏度 同 波长 有关 的 相机 灵敏度 也许 
非常重要 根据 应用 的 不同 可能 需要 采用 发 光二极管 
甚至 红外 或 紫外 照明 相机 的 波长 灵敏度 也 
应当 匹配 最后 相机 生成 彩色 或者 单色 图像 的 
能力 也 十分 重要 关于 总 成本 的 考虑 各个 
设计 参数 共同 影响 着 相机 的 成本 典型 情况 
下 由于 传感器 尺寸 的 原因 像素数 越高 的 相机 
就越 昂贵 与此 类似 在 一定 的 分辨率 下 帧 
速 提高 成本 也 趋向于 增加 同时 提高 帧 速 
和 分辨率 通常 要求 相机 具有 多 端口 读出 这使 
系统 的 复杂 程度 增加 因而 提高 了 成本 从 
上世纪 七十 年代 起 许多/m 供应商/n 都/d 开始/v 提供/v 基于/p 
CCD/w 和/c CMOS/w 技术/n 的/uj 模拟/v 相机/d 典型 的 价位 
在 200 美元 左右 模拟 相机 采集卡 的 价位 也在 
200 美元 左右 相比之下 数字相机 的 价位 在 1 000 
美元 到 20 000 美元 范围内 大幅度 变化 数字相机 采集卡 
的 价位 在 1 000 美元 到 2 000 美元 
之间 但是 随着 数字相机 和 采集卡 变得 越来越 普及 它们 
的 价位 也 在 逐渐 降低 在对 成本 进行 比较 
时 设备 的 价格 还 只是 问题 的 一个 方面 
设计 人员 还 必须 考虑 软件 硬件 安装 维护 和 
升级 等 方面 的 成本 还有 给定 的 相机 技术 
是否 能够 达到 要求 的 性能 完成 特定 任务 所 
需要 的 工业 相机 数量 在 安装 成本 中 占到 
了 一定 比例 举例来说 从1/nr 毫米 见方 的 检验 区域 
中 解析 出 1 微米 见方 的 片段 可能 需要 
用到 5台 模拟 相机 和 采集卡 而 这些 制备 必须 
保持 同步 以 获得 清晰 的 图像 只 使用 1台 
百万 像素 的 工业 数字相机 和 采集卡 就 可以 解析 
同样 大小 的 区域 而且 无需 在 计算机 中 同步 
处理 多幅 图像 例如 一家 汽车 制造商 的 保险杠 检验 
系统 需要 12台 模拟 相机 12片 采集卡 12套 软件 和 
3台 计算机 公司 发现 就算 可能 使 所有 相机 的 
图像 同步化 以 获得 一幅 保险杠 的 可靠 图像 也 
是 难度 相当大 的 用 1台 百万 像素 的 数字相机 
1片 采集卡 和 1台 计算机 取代 了 这个 相机 阵列 
后 系统/n 的/uj 安装/v 和/c 维护/v 都/d 变得/v 十分/m 简单/a 
和/c 方便/a 一般来说 典型 的 数字 相机 需要 更长 的 
时间 进行 安装 和 设定 但 对于 前述 应用 实例 
而言 需要 的 数字 相 机数量 大为 减少 因此 维护 
成本 也 将 大幅度 降低 另外 数字相机/n 的/uj 功能性/n 和/c 
灵活性/n 都/d 更强/i 能够 快速 重新 编程 在 系统 运行 
过程 中 即可 进行 现场 固件 升级 而 相比之下 模拟 
相机 则 必须 被 送回 制造厂 才能 进行 性能 升级 
最后 一项 成本 因素 是 功率 消耗 典型 的 模拟 
相机 需要 5瓦 到 10瓦 操作 功率 而 分辨率 指标 
相当 的 数字 相机 则 不到 1瓦 应用 要求 对于 
一 项 应用 选择 什么样 的 工业 相机 合适 取决于 
机器 视觉 系统 想 要 达到 什么 目标 视觉 检验 
非 接触 式 测量 物体 识别 和 定位 是 三个 
常见 的 应用 每/zg 一个/m 都有/nr 不同/a 的/uj 要求/v 典型 
的 检验 系统 将 图像 同 模板 或者 已知 合格品 
图像 进行 对比 以 检查 偏差 高 质量 的 图像 
一般 需要 用 图像 处理器 来 进行 可靠 的 对比 
这 意味着 工业/n 相机/d 必须/d 同时/c 具有/v 高/a 分辨率/n 和每/nr 
像素/n 足够/v 的/uj 字节数/n 可能 也 需要 彩色 成像 能力 
非 接触 式 测量 计算 一个 物体 占据 的 像素 
数量 并将 计数 结果 转化成 尺寸 数值 这样 的 系统 
可能 需要 高 分辨率 而每 像素 的 字节数 要求 可能 
不必 太高 图像 处理器 通常 只 提取 图像 的 边缘 
或 外形 轮廓 信息 所以 一般 并 没有 很高 的 
动态 范围 和 彩色 能力 要求 物体/n 识别/v 和/c 定位/n 
有/v 各种各样/l 的/uj 要求/v 在 许多 情况 下 图像 处理 
系统 在 图像 中 搜寻 以 识别 出 基准 特征 
需要 的 分辨率 取决于 这些 特征 相 对于 整个 图像 
尺寸 的 大小 识别 系统 可能 会 需要 彩色 成像 
能力 为/p 机器/n 视觉/n 系统/n 选择/v 相/v 机时/n 要/v 认真/ad 
考虑/v 工业/n 相机/d 的/uj 性能/n 和/c 成本/n 虽然 工业 模拟 
相机 远比 工业 数字相机 便宜 但 它们 的 分辨率 和 
图像 质量 较低 所以 可能会 被 局限 在 要求 不 
太高 的 应用 中 数字相机 比 模拟 相机 昂贵 但/c 
它们/r 的/uj 高/a 成本/n 可能/v 值得/v 为/p 要求/v 高/a 速度/n 
高/a 准确度/n 和高/nr 精度/n 的/uj 应用/v 而/c 付出/v 四种 工业 
相机 接口 技术 的 比较 接口技术 G i g E 
F i r e w i r e U B 
C a m e r a Link 标准 类型 C 
o m m e r c i a l C 
o n s u m e r C o n 
s u m e r C o m m e 
r c i a l 连接 方式 点对点 或 LAN 
link Cat 5 TP RJ45 点对点 – 共享 总线 主 
/ 从–/nr 共享 总线 点对点 – MDR 26 pin 带宽 
1000Mb / s 连续 模式 400Mb / s 连续 模式 
12Mb / s USB1 480Mb / s USB2 突发 模式 
2380Mb / s base 7140Mb / s full 连续 模式 
距离 max w / switch max w / fiber 100m 
no switch No LimitNo Limit 4 . 5m72m200m 5m30m 10m 
可连接 设备 数量 U n l i m i t 
e d 6 3 1 2 7 1 P C 
InterfaceGigE NICPCI cardPCI cardPCI Frame grabber1 模拟 相机 & & 
数字相机 模拟 相机 必须 带 数字 采集卡 标准 的 模拟 
相机 分辨率 很低 另外 帧率 也是 固定 的 这个 要 
根据 实际 需求 来 选择 另外 模拟 相机 采集 到 
的 是 模拟 信号 经 数字 采集卡 转换 为 数字 
信号 进行 传输 存储 模拟信号 可能 会 由于 工厂 内 
其他 设备 比如 电动机 或 高压 电缆 的 电磁 干扰 
而 造成 失真 随着 噪声 水平 的 提高 模拟 相机 
的 动态 范围 原始 信号 与 噪声 之比 会 降低 
动态/n 范围/n 决定了/i 有/v 多少/m 信息/n 能够/v 被/p 从/p 相机/d 
传/n 输给/v 计算机/n 数字相机 采集 到 的 是 数字 信号 
数字 信号 不 受电 噪声 影响 因此 数字相机 的 动态 
范围 更高 能够 向 计算机 传输 更 精确 的 信号 
2 相机 分辨率 根据 系统 的 需求 来 选择 相机 
分辨率 的 大小 下面 以 一个 应用 案例 来 分析 
应用 案例 假设 检测 一个 物体 的 表面 划痕 要求 
拍摄 的 物体 大小 为 10 * 8mm 要求 的 
检测 精度 是 0 . 01mm 首先 假设 我们 要 
拍摄 的 视野 范围 在 12 * 10mm 那么 相机 
的 最低 分辨率 应该 选择 在 12 / 0.01 * 
10 / 0.01 = 1200 * 1000 约为 120万 像素 
的 相机 也 就是说 一个 像素 对应 一个 检测 的 
缺陷 的话 那么 最 低分辨率 必须 不 少于 120万 像素 
但 市面 上 常见 的 是 130万 像素 的 相机 
因此 一般而言 是 选用 130万 像素 的 相机 但 实际 
问题 是 如果 一个 像素 对应 一个 缺陷 的话 那么 
这样 的 系统 一定会 极 不稳定 因为 随便 的 一个 
干扰 像素点 都 可能 被 误认为 缺陷 所以 我们 为了 
提高 系统 的 精准 度 和 稳定性 最好 取 缺陷 
的 面积 在 3 到 4个 像素 以上 这样 我们 
选择 的 相机 也 就在 130 万乘 3 以上 即 
最低 不能 少于 300万 像素 通常 采用 300万 像素 的 
相机 为 最佳 我 见过 最多 的 人 抱着 亚 
像素 不放 说 要做到 零点几 的 亚 像素 那么 就 
不用 这么 高 分辨率 的 相机 了 比如 他们 说 
如果 做到 0.1个 像素 就是 一个 缺陷 对应 0.1个 像素 
缺陷 的 大小 是由 像素点 个数 来 计算 的 试问 
0.1个 像素 的 面积 怎么 来 表示 这些 人 以 
亚 像素 来 忽悠 人 往往 说明 了 他们 的 
没有 常识性 换言之 我们 仅仅 是 用来 做 测量用 那么 
采用 亚 像素 算法 130万 像素 的 相机 也 能 
基本 上 满足 需求 但 有时 因为 边缘 清晰度 的 
影响 在 提取 边缘 的 时候 随便 偏移 一个 像素 
那么 精度 就 受到 了 极大 的 影响 故 我们 
选择 300万 的 相机 的话 还 可以 允许 提取 的 
边缘 偏离 3个 像素 左右 这就 很好 的 保证 了 
测量 的 精度 3 CCD & CMOS 如果 要求 拍摄 
的 物体 是 运动 的 要 处理 的 对象 也是 
实时 运动 的 物体 那么 当然 选择 CCD 芯片 的 
相机 为 最适宜 但 有的 厂商 生产 的 CMOS 相机 
如果 采用 帧 曝光 的 方式 的话 也 可以 当作 
CCD 来 使用 的 又 假如 物体 运动 的 速度 
很慢 在 我们 设定 的 相机 曝光 时间 范围 内 
物体 运动 的 距离 很小 换算 成 像素 大小 也 
就在 一两 个 像素 内 那么 选择 CMOS 相机 也 
是 合适 的 因为 在 曝光 时间 内 一两 个 
像素 的 偏差 人眼 根本 看不出来 如果 不是 做 测量用 
的话 但 超过 2个 像素 的 偏差 物体 拍 出来 
的 图像 就有 拖 影 这样 就 不能 选择 CMOS 
相机 了 4 彩色 & 黑白 如果 要 处理 的 
是 与 图像 颜色 有关 那 当然 是 采用 彩色 
相机 否则 建议 你 用 黑白 的 因为 黑白 的 
同样 分辨率 的 相机 精度 比 彩色 高 尤其 是 
在看 图像 边缘 的 时候 黑白 的 效果 更好 5 
帧率 根据 要 检测 的 速度 选择 相机 的 帧率 
一定 要 大于 或 等于 检测 速度 等于 的 情况 
就是 你 处理 图像 的 时间 一定 要 快 一定 
要 在 相机 的 曝光 和 传输 的 时间 内 
完成 6 线 阵 & 面 阵 对于 检测 精度 
要求 很高 面 阵 相机 的 分辨率 达不到 要求 的 
情况 下 当然 线 阵 相机 是 必然 的 一个 
选择 7 传输 接口 根据 传输 的 距离 稳定性 传输 
的 数据 大小 带宽 选择 USB 1394 Camerlink 百兆 / 
千兆 网 接口 的 相机 8 CCD 靶 面 靶 
面 尺寸 的 大小 会 影响 到 镜头 焦距 的 
长短 在 相同 视角 下 靶 面 尺寸 越大 焦距 
越长 在 选择 相 机时 特别 是 对 拍摄 角度 
有 比较 严格 要求 的 时候 CCD 靶 面的 大小 
CCD 与 镜头 的 配合 情况 将 直接影响 视场 角 
的 大小 和 图像 的 清晰度 因此 在 选择 CCD 
尺寸 时 要 结合 镜头 的 焦距 视场 角 一起 
选择 一般而言 选择 CCD 靶 面 要 结合 物理 安装 
的 空间 来 决定 镜头 的 工作 距离 是否 在 
安装 空间 范围内 要求 镜头 的 尺寸 一定 要 大于 
或 等于 相机 的 靶 面 尺寸 9 相机 的 
价格 同样 参数 的 相机 不同 的 厂家 价格 各不相同 
这就 靠 大家 与 厂家 沟通 和 协商 了 一般说来 
如果 你 有量/nr 的话 整体 价格 跟 你 单买 一个 
的 价格 是 差别 很大 的 工业 相机 到 传感器 
对应 放大 倍率 工业 相机 像 幅 传感器 尺寸 对角线 
9 12 13 20 27 1/4 57 . 2x76 . 
2x82 . 6x127x171 . 5 x 1/3 38.1 x 50.7 
x 55.0 x 84.6 x 114.1 x 1/2 28.6 x 
38.1 x 41.3 x 63.5 x 85.7 x 2/3 20 
. 8x27 . 7x30 . 0x46 . 2x62 . 3x1 
14 . 3x22 . 2x23 . 8x31 . 8x42 . 
9x1 .   什么 是 CCD 摄像机 CCD 是 Charge 
Coupled Device 电荷耦合 器件 的 缩写 它 是 一种 半导体 
成像 器件 因而 具有 灵敏度 高 抗 强光 畸 变小 
体积小 寿命长 抗 震动 等 优点 2 . CCD 摄像机 
的 工作 方式 被 摄 物体 的 图像 经过 镜头 
聚焦 至 CCD 芯片 上 CCD 根据 光 的 强弱 
积累 相应 比例 的 电荷 各个 像素 积累 的 电荷 
在 视频 时序 的 控制 下 逐点 外移 经 滤波 
放大 处理 后 形成 视频信号 输出 视频信号 连接 到 监视器 
或 电视机 的 视频 输入端 便 可以 看到 与 原始 
图像 相同 的 视频 图像 3 .   分辨率 的 
选择 评估 摄像机 分辨率 的 指标 是 水平 分辨率 其 
单位 为 线 对 即 成像 后 可以 分辨 的 
黑白 线 对 的 数目 常用 的 黑白 摄像机 的 
分辨率 一般 为 380 600 彩色 为 380 480 其 
数值 越大 成像 越 清晰 一般 的 监视 场合 用 
400线 左右 的 黑白 摄像机 就 可以 满足 要求 而 
对于 医疗 图像 处理 等 特殊 场合 用 600线 的 
摄像机 能 得到 更 清晰 的 图像 4 .   
成像 灵敏度 通常用 最低 环境 照度 要求 来 表明 摄像机 
灵敏度 黑白 摄像机 的 灵敏度 大约 是 0.02 0 . 
5Lux 勒克斯 彩色 摄像机 多在 1Lux 以上 0 . 1Lux 
的 摄像机 用于 普通 的 监视 场合 在 夜间 使用 
或 环境 光线 较弱 时 推荐 使用 0 . 02Lux 
的 摄像机 与 近 红外灯 配合 使用 时 也 必须 
使用 低 照度 的 摄像机 另外 摄像 的 灵敏度 还与 
镜头 有关 0 . 97Lux / F 0.75 相当于 2 
. 5Lux / F 1.2 相当于 3 . 4Lux / 
F 1.5 .   参考 环境 照度 夏日 阳光 下 
100000Lux 阴天 室外   10000Lux 电视台 演播室 1000Lux 距 60W 
台灯 60cm 桌面   300Lux 室内 日光灯 100Lux 黄昏 室内 
  10Lux20cm 处 烛光 10 15Lux 夜间 路灯 0 . 
1Lux6 .   电子 快门 电子 快门 的 时间 在 
1/50 1/100000秒 之间 摄像机 的 电子 快门 一般 设置 为 
自动 电子 快门 方式 可 根据 环境 的 亮 暗 
自动 调节 快门 时间 得到 清晰 的 图像 有些 摄像机 
允许 用户 自行 手动 调节 快门 时间 以 适应 某些 
特殊 应用 场合 7 .   外 同步 与外 触发 
外 同步 是 指 不同 的 视频 设备 之间 用 
同一 同步 信号 来 保证 视频 信号 的 同步 它 
可保证 不同 的 设备 输出 的 视频 信号 具有 相同 
的 帧 行 的 起止 时间 为了实现 外 同步 需要 
给 摄像机 输入 一个 复合 同步 信号 C sync 或 
复合 视频信号 外 同步 并 不能 保证 用户 从 指定 
时刻 得到 完整 的 连续 的 一帧 图像 要 实现 
这种 功能 必须 使用 一些 特殊 的 具有 外 触发 
功能 的 摄像机 8 .   光谱 响应 特性 CCD 
器件 由 硅材料 制成 对 近红外 比较 敏感 光谱 响应 
可 延伸 至 1 . 0um 左右 其 响应 峰值 
为 绿光 550nm 夜间 隐蔽 监视 时 可以 用 近 
红外灯 照明 人眼 看不清 环境 情况 在 监视器 上 却 
可以 清晰 成像 由于 CCD 传感器 表面 有 一层 吸收 
紫外 的 透明 电极 所以 CCD 对 紫外 不 敏感 
彩色 摄像机 的 成像 单元 上有 红 绿 兰 三色 
滤光 条 所以 彩色 摄像机 对 红外 紫外 均不 敏感 
9 . CCD 芯片 的 尺寸 CCD 的 成像 尺寸 
常用 的 有 1/2 1/3 等 成像 尺寸 越小 的 
摄像机 的 体积 可以 做得 更 小些 在 相同 学 
镜头 下 成像 尺寸 越大 视场 角 越大 机器 视觉 
系统 是 指 通过 机器 视觉 产品 即 图像 摄取 
装置 分为 CMOS 摄像头 和 CCD 摄像头 两种 将被 摄取 
目标 转换成 图像 信号 传送 给 专用 的 图像 处理 
系统 根据 像素 分布 和 亮度 颜色 等 信息 转变成 
数字化 信号 图像 系统 对 这些 信号 进行 各种 运 
算来 抽取 目标 的 特征 进而 根据 判别 的 结果 
来 控制 现场 的 设备 动作 在 机器 视觉 系统 
中 包含 独立 的 工业 摄像头 采用 业界 标准 的 
电气 接口 如 火线 IEEE1394 接口 摄像头 USB 接口 摄像头 
或 千兆 以太网 GigE 摄像头 GigE Vision interface 等 机器 
视觉 摄像头 的 典型 应用 可 分为 离线 处理 功能 
的 摄像头 和 在线 处理 功能 的 摄像头 离线 处理 
功能 的 摄像头 可 单独 对 摄像头 供电 并 可 
通过 电气 接口 将 原始 数据 传 送至 主机 视频 
传输 既 可以 是 连续 帧 也 可以 是 单帧/nr 
数据 具体 取决于 应用 的 需要 单帧/nr 捕获 与 视频 
传输 被称作 触发 模式 需要 外部 系统 通常 以 CMOS 
级 向 摄像头 系统 发送 电子 脉冲 摄像头 逻辑 将 
启动 一个 帧 集成 并 通过 电气 接口 将 扫描 
的 数据 发送 至 主机 在 某些 情况下 原始数据 通过 
总线 与 同步 信号 时钟 和 数据 一起 发送给 帧 
接收器 等 终端 数据 采集 系统 帧 接收器 在 存储器 
中 存储 数据 随后 可由 主机 应用 软件 对 数据 
进行 存取 以 处理 和 控制 离线 处理 的 一大 
优势 在于 单靠 一个 主机 就能 满足 摄像头 操控 与 
系统 控制 两者 之需 但是 由于 视频 数据 从 摄像头 
每 帧 传输 存在 一定 的 延迟 因此 这种 处理 
方式 不 适用 于 实时处理 的 应用 比如 器件 生产 
过程 中 传送 带上 的 产品 检查 由于 近来 DSP 
处理器 发展 非常 快 已经 具备 实时 执行 复杂 算法 
的 计算 功能 因此 也 使得 摄像头 的 在线 处理 
成为可能 在线 处理 功能 的 摄像头 包括 感应器 与 DSP 
处理器 二者 可 通过 非 粘接 逻辑 也 可 通过 
某种 粘接 逻辑 连接 DMA 将 感应器 扫描 的 视频 
直接 发送至 DSP 存储器 并 进行 逐 帧 处理 控制 
函数 的 最终 结果 由 处理器 在被 控制 的 系统 
中 直接 启动 或在 主机 上 作为 命令 启动 在线 
处理 功能 的 摄像头 进行 视频 处理 的 优势 在于 
数据处理 可 实时 进行 而且在 火线 USB 或 千兆 以太网 
接口 上 没有 分组 处理 的 负担 可采用 字节 优化 
型 汇编 代码 在 时钟频率 超过 300 MHz 的 DSP 
处理器 上 加快 实时 处理速度 图像 算法 的 实时 处理 
对 检查 应用 至关重要 例如 能够 检查 出 传送带 上 
移动 过快 的 的 器件 一个 帧 图像 的 计算 
完成 并 采取 相应 行动 后 才 可以 继续 向 
系统 传输 下一个 图像 帧 在 实际 应用 中 应 
依据 具体 的 应用 环境 来 选择 摄像头 不管 是 
离线 处理 功能 的 摄像头 还是 在线 处理 功能 的 
摄像头 都 具有 各自 的 技术 特点 选择 合适 合理 
的 摄像头 才能 更好 的 体现 出 机器 视觉 系统 
的 优越性 CMOS Complementary Metal Oxide Semiconductor 是 互补式 金属 
氧化物 半导体 的 英文 缩写 它/r 将/d NMOS/w 和/c PMOS/w 
二个/m 相/v 反极性/i 的/uj MOS/w 半导体/n 串/v 起来/v 形成 了 
集成电路 中 广泛 使用 的 一个 基本 单元 例如 计算机中 
用量 最大 的 内存 动态 存储器 就是 用 CMOS 工艺 
制造 的 CMOS 的 摄像机 并不比 CCD 摄像机 出现 的 
时间 晚 多少 CCD 在 六十 年代 末 而 CMOS 
在 七十 年代 初 相继 开发 出来 后来 之所以 CCD 
占了 统治 地位 是 因为 在 当时 的 工艺 制造 
技术 条件 下 CMOS 的 图像 质量 太差 了 直至 
1990年 新 工艺 的 发展 使 开发人员 再一次 对 CMOS 
产生 了 兴趣 主要 是 看到 了 CMOS 的 低功耗 
高 集成 整个 摄像机 集成 在 一片 晶 体内 低 
制造 成本 基于 不需 重新 建立 新的 生产线 可以 在 
已有 的 主流 的 逻辑 和 存储器 CMOS 流水线 中 
进行 经过 大量 的 投入 和 努力 CMOS 摄像机 在 
近几年 已 获得 了 极大 的 成功 已 形成 了 
对 CCD 的 强大 挑战 形成/v 了/ul CCD/w 和/c CMOS/w 
二个/m 激烈/a 竞争/vn 的/uj 发展/vn 方向/n 和/c 阵营/n 在 过去 
CMOS 图像 传感器 给人 的 印象 是 低端 产品 例如 
商务 用 传真机 复印机 扫描仪 到 今日 以 娱乐 为主 
的 摄像机 手机 拍摄 组件 直至 大紫 大红 的 网上 
摄像机 也 多为 CMOS 传感器 同时 CMOS 摄像机 在 图像 
质量 上 已 取得 长足 的 进步 即使 在对 图像 
质量 要求 较高 的 投影 仪上 也 获得 了 使用 
无论是 CMOS 还是 CCD 它们/r 都是/i 用/p 光敏/nr 像/v 元/m 
阵列/q 将/d 入射/v 的/uj 光/n 图像/n 转换/v 成像/v 元内的/nr 电荷/n 
所 不同 的 是 将 这些 像 元 中的 电荷 
取出 并 转换成 电压 的 方式 和 途径 不同 CCD 
是 用 电荷量 来 载荷 图像 信息 的 而 CMOS 
是 用电 压 量 来 载荷 图像 信息 的 CMOS 
和 CCD 的 工作 过程 如下 图 所示 从图/nr 可以 
看出 CCD 像 元将光/nr 转换 为 电荷 后 用 电荷耦合 
的 方法 将 电荷 逐点 逐行 地 用 电荷 移位 
寄存器 移出 直至 电荷 / 电压 转换器 图像 信息 用 
电荷 的 形式 在 芯片 内 移动 输出 而 CMOS 
则以 完全 不同 的 方式 将 图像 信息 送出 像 
元 阵列 从图/nr b 可以 看出 每/zg 一个/m 像/v 元/m 
光敏/nr 单元/n 都/d 有一个/i 电荷/n //i 电压/n 转换/v 单元/n 与之/i 
相伴/v 所以 像 元电荷 马上 转换 成为 电压 再 通过 
与 之 对应 的 矩阵 开关 将 电压 送出 阵列 
所以 CMOS 的 图像 信息 是以 电压 的 形式 传送 
输出 的 由于 这种 完全 不同 的 结构 为 它们 
带来 了 各自 的 长处 和 短处 CCD/w 和/c CMOS/w 
工作/vn 过程/n 示意图/n CMOS/w 摄像机/n 有/v 超强/v 的/uj 集成度/n 低功耗 
和小/nr 尺寸 的 优势 但在 图像质量 特别 在 低 照度 
下 和 灵活性 方面 就要 逊色 多了 所以 CMOS 适合于 
批 量大 有/v 空间/n 和/c 重量/n 限制/v 而 图像 质量 
要求 不是 太高 的 领域 例如 保安 生物 测量仪 等 
领域 使用 包括 机器 视觉 系统 中 对 图像 质量 
要求 不严 的 场合 例如 数字 或 文学 识别 易 
区分 的 缺陷 检测 简单 物体 几何 分类 简单 场景 
自动 导航 等等 机器 视觉 就是 用 机器 代替 人眼 
来做 测量 和 判断 机器 视觉 系统 是 指 通过 
机器 视觉 产品 将被 摄取 目标 转换成 图像 信号 传送 
给 专用 的 图像 处理 系统 根据 像素 分布 和 
亮度 颜色 等 信息 转变成 数字化 信号 图像 系统 对 
这些 信号 进行 各种 运 算来 抽取 目标 的 特征 
进而 根据 判别 的 结果 来 控制 现场 的 设备 
动作 由于 机器 视觉 系统 可以 快速 获取 大量 信息 
而且 易于 自动 处理 也 易于 同 设计 信息 以及 
加工 控制 信息 集成 因此 在 现代 自动化 生产 过程 
中 人们 将 机器 视觉 系统 广泛 地 用于 工况 
监视 成品 检验 和 质量 控制 等 领域 机器 视觉 
系统 的 特点 是 提高 生产 的 柔性 和 自动化 
程度 在 一些 不 适合 于 人工 作业 的 危险 
工作 环境 或 人工 视觉 难以 满足 要求 的 场合 
常用 机器 视觉 来 替代 人工 视觉 同时 在 大批量 
工业 生产 过程 中 用 人工 视觉 检查 产品 质量 
效率 低 且 精度 不高 用 机器 视觉 检测 方法 
可以 大大 提高 生产 效率 和 生产 的 自动化 程度 
而且 机器 视觉 易于 实现 信息 集成 是 实现 计算机 
集成 制造 的 基础 技术 半导体 行业 是 最先 利用 
机器 视觉 技术 进行 检测 的 行业 其他 行业 也 
随之而来 作为 生产 机械 的 OEM 的 设计 工程师 最 
基本 的 问题 就是 我 是 要 检测 这个 部件 
还是 整个 这个 产品 检测 可以 得到 高 质量 的 
产品 但是 也会 有 这样 的 事实 存在 检测 成本 
或者 产品 质量 要求 并不 需要 这样 的 检测 比如说 
牙签 假设 在 一个 装有 500个 牙签 的 盒子 里 
有 一两 个 不合格 大 多数人 都 不会 怎么 担心 
但是 对于 很多 产品 假如 前面 的 盒子 里 装 
的 不是 牙签 而是 针头 试想 不合格品 可能会 带来 什么样 
的 后果 所以 产品 功能性 的 检测 都是 不可缺少 的 
即使 只是 外观 检测 要 证明 内在 的 品质 也 
必须 要 做到 无 缺陷 因此 为了 达到 这个 目的 
许多 OEM 将 机器 视觉 应用 到 他们 将要 卖给 
用户 的 系统 中 机器 视觉 能够 为 整个 系统 
增值 表现 在 三 个 方面 提高 生产 效率 提高 
制造 过程 的 精确性 减少 成本 那么 对于 一个 设计 
工程师 来说 怎么样 才能 知道 机器 视觉 是否 适合 他 
的 系统 呢 尽管 最早 的 最 基本 的 机器 
视觉 系统 在 20 世纪 70 年代 引入 工业 就 
将其 视为 主流 应用 这就 导致 设计 工程师 要 考虑 
它 是否 合适 他们 的 应用 同时 要 考虑 利用 
机器 视觉 检测 的 成本 与 其所 能 带来 的 
利润 高 复杂度 产品 行业 比如说 半导体 行业 和 电子 
行业 由于 它们 的 复杂性 和 小型化 从 传统 上 
推动 着 机器 视觉 市场 的 发展 但是 如今 所有 
产业 包括 自动化 制药 造纸 等等 都 依靠 机器 视觉 
系统 检测 产品 以 提高 产品 质量 工业 专家 们 
预言 在 未来 的 20年 到 50年 机器 视觉 将 
成为 横跨 所有 行业 的 通用性 技术 几乎 所有 出产 
的 产品 都会 由 机器 视觉 系统 来 检测 使用 
机器 视觉 系统 有 以下 五 个 主要 原因 精确性 
由于 人眼 有 物理 条件 的 限制 在 精确性 上 
机器 有 明显 的 优点 即使 人眼 依靠 放大镜 或 
显微镜 来 检测 产品 机器 仍然 会 更加 精确 因为 
它 的 精度 能够 达到 千分之 一英寸 重复性 机器 可以 
以 相同 的 方法 一次 一次 的 完成 检测 工作 
而 不会 感到疲倦 与此相反 人眼/n 每次/r 检测/vn 产品/n 时/n 都会/i 
有/v 细微/a 的/uj 不同/a 即使 产品 时 完全 相同 的 
速度 机器 能够 更快 的 检测 产品 特别 是 当 
检测 高速 运动 的 物体 时 比如说 生产线 上 机器 
能够 提高 生产 效率 客观性 人眼 检测 还有 一个 致命 
的 缺陷 就是 情绪 带来 的 主观性 检测 结果 会 
随 工人 心情 的 好坏 产生 变化 而 机器 没有 
喜怒哀乐 检测 的 结果 自然 非常 可观 可靠 成本 由于 
机器 比人 快 一台 自动 检测 机器 能够 承担 好 
几个人 的 任务 而且 机器 不需要 停顿 不会 生病 能够 
连续 工作 所以 能够 极大 的 提高 生产 效率 一旦 
工程师 决定 使用 机器 视觉 系统 就 需要 建立 这个 
系统 其中 要素 包括 照明 光源 工件 放置 夹具 工业 
镜头 工业 相机 位置 传感器 控制 逻辑 以及 图像 采集卡 
图像 处理 软件 技术支持 由于 大多数 厂商 在 这个 领域 
都 没有 经验 机会 来了 所以 寻找 一个 既 了解 
核心技术 又能 为其 提供 系统 所 需 产品 的 供应商 
就 成为 关键 问题 典型 的 基于 PC 的 视觉 
系统 通常 由 如 . 1.1 所示 的 几 部分 
组成 . 1.1       基于 PC 的 视觉 
系统 基本 组成 ① 工业 相机 与 工业 镜头 这 
部分 属于 成像 器件 通常 的 视觉 系统 都 是由 
一套 或者 多套 这样 的 成像 系统 组成 如果 有 
多路 相机 可能 由 图像 卡 切换 来 获取 图像 
数据 也 可能 由 同步控制 同时 获取 多 相机 通道 
的 数据 根据 应用 的 需要 相机 可能 是 输出 
标准 的 单色 视频 RS 170 / CCIR 复合 信号 
Y / C RGB 信号 也 可能 是非 标准 的 
逐行扫描 信号 线 扫描 信号 高分辨率 信号 等 ② 光源 
作为 辅助 成像 器件 对 成像 质量 的 好坏 往往 
能 起到 至关重要 的 作用 各种 形状 的 LED 灯 
高频 荧光灯 光纤 卤素灯 等 都 容易 得到 ③ 传感器 
通常 以 光纤 开关 接近开关 等 的 形式 出现 用以 
判断 被 测 对象 的 位置 和 状态 告知 图像 
传感器 进行 正确 的 采集 ④ 图像 采集卡 通常 以 
插入 卡 的 形式 安装 在 PC 中 图像 采集卡 
的 主要 工作 是 把 相机 输出 的 图像 输送 
给 电脑 主机 它 将 来自 相机 的 模拟 或 
数字信号 转换成 一定 格式 的 图像 数据流 同时 它 可以 
控制 相机 的 一些 参数 比如 触 发信号 曝光 / 
积分 时间 快门 速度 等 图像 采集卡 通常 有 不同 
的 硬件 结构 以 针对 不同 类型 的 相机 同时 
也 有 不同 的 总线 形式 比如 PCI PCI64 Compact 
PCI PC104 ISA 等 ⑤ PC 平台 电脑 是 一个 
PC 式 视觉 系统 的 核心 在 这里 完成 图像 
数据 的 处理 和 绝大部分 的 控制 逻辑 对于 检测 
类型 的 应用 通常 都 需要 较 高频率 的 CPU 
这样 可以 减少 处理 的 时间 同时 为了 减少 工业 
现场 电磁 振动 灰尘 温度 等 的 干扰 必须 选择 
工业级 的 电脑 ⑥ 视觉 处理软件 机器 视觉 软件 用来 
完成 输入 的 图像 数据 的 处理 然后 通过 一定 
的 运算 得出 结果 这个 输出 的 结果 可能 是 
PASS / FAIL 信号 坐标 位置 字符串 等 常见 的 
机器 视觉 软件 以 C / C + + 图像 
库 ActiveX 控件 图 形式 编程 环境 等 形式 出现 
可以 是 专用 功能 的 比如 仅仅 用于 LCD 检测 
BGA 检测 模版 对准 等 也 可以 是 通用 目的 
的 包括 定位 测量 条码 / 字符识别 斑点 检测 等 
⑦ 控制 单元 包含 I / O 运动控制 电平 转化 
单元 等 一旦 视觉 软件 完成 图像 分析 除非 仅 
用于 监控 紧接着 需要 和 外部 单元 进行通信 以 完成 
对 生产 过程 的 控制 简单 的 控制 可以 直接 
利用 部分 图像 采集卡 自带 的 I / O 相对 
复杂 的 逻辑 / 运动控制 则 必须 依靠 附加 可编程 
逻辑 控制 单元 / 运动 控制卡 来 实现 必要 的 
动作 机器 视觉 Machine Vision 作为 光电 技术 应用 的 
一个 特定 领域 目前 已经 发展 成为 一个 前景 光明 
活力 无限 的 行业 年 平均 增长 速度 超过 2O 
％ 机器 视觉 广泛 应用于 微电子 电子产品 汽车 医疗 印刷 
包装 科研 军事 等 众多 行业 涉及 技术 一致 应用 
差异 明显 是 各种 机器 视觉 应用 系统 的 共同 
特点 机器 视觉 系统 集成 时 涉及 到 多门 技术 
最 基本 的 系统 也 需要 照明 成像 图像 数字化 
图像处理 算法 计算机软件 硬件 等 稍微 复杂 一点 的 系统 
还 会用 到 机械 设计 传感器 电子线路 PLC 运动控制 数据库 
SPC 等等 要把 这么 多 不同 方面 的 技术 和 
知识 组合 到 系统 里 使其 相互 完美 配合 并 
稳定 地 工作 对 系统 集成 人员 提出 了 很高 
的 要求 作者 根据 多年 的 经验 讲解 了 机器 
视觉 系统 集成 时所/nr 涉及 的 各种 技术 需要 综合 
考虑 的 因素 以及 评估 机器 视觉 系统 项目 成功 
的 可能性 的 方法 中国 经济 经过 数十年 的 高速 
发展 在 很多 领域 完成 了 从无到有 从 不能 到 
可以 的 跃 变 现在 已经 到 了 提高 生产 
效率 和 产品 质量 残酷 竞争 的 阶段 很多 原来 
使用 的 人工 工序 正 逐渐 被 机器 所 取代 
从而 对 机器 视觉 系统 产生 了 越来越 多 的 
需求 而 机器 视觉 技术 本来 就是 为了 解决 生产 
中 的 各种 问题 发展 起来 的 在 人类 的 
生产 活动 中 人 的 眼睛 担负 着 很多 重要 
的 任务 例如 放置 和 固定 工件 观察 和 估计 
位置 检测 外观 尺寸 确定 产品 的 一致性 检验 产品 
质量 等 这些 工作 正在 越来越 多 地被 机器 视觉 
系统 取代 一 方面 是 随着 对 生产 速度 和 
产品 质量 的 要求 越来越 高 对 检测 速度 和 
精度 的 要求 超过 了 肉眼 的 能力 另一方面 是 
因为 成像 技术 计算机 技术 或 图像 处理 技术 的 
发展 机器 视觉 系统 能够 完成 的 任务 越来越 复杂 
成本 也 越来越 低 然而 机器 视觉 技术 作为 一门 
新兴 技术 引人 中国 时间 并不 长 真正 有 经验 
的 系统 集成 人员 也 不多 而 机器 视觉 系统 
涉及到 照明 成像 电子 自动控制 计算机软件 硬件 机械设计 传感器 光学 
等 各方面 把 这些 不同 的 技术 集成 到 1个 
系统 内 并使 其 相互 完美 配合 工作 本身 就是 
艰巨 的 任务 本文 试图 根据 作者 多年 的 经验 
就 机器 视觉 系统 集成 技术 给 出 一些 建议 
期望 能够 帮助 使用 机器 视觉 系统 的 用户 评估 
其 系统 并 在 做出 合理 决策 时 提供 参考 
给 研制 系统 的 技术 人员 和 公司 提供 一些 
成功 的 经验 本文 将 介绍 需求分析 资源 配置 系统集成 
等 几个 方面 的 内容 A   需求分析 准确 地 
描述 机器 视觉 系统 需要 完成 的 功能 和 工作 
环境 对于 整个 机器 视觉 系统 的 成功 集成 是 
至关重要 的 对于 需求 的 描述 实际 定义 了 视觉 
系统 工作 的 场景 而 围绕 这个 场景 设计 1个 
系统 来 获取 合适 的 图像 并 提取 有用 的 
信息 或 控制 生产 过程 就是 我们 工作 的 目标 
这个 步骤 看起来 如此 简单 以至于 经常 被 忽略 有时候 
用户 在 生产 过程 中 产生 了 某种 需求 但是 
由于 知识面 和 技术 方面 的 原因 用户 不 知道 
自己 需要 什么样 的 视觉 系统 或者 不能 准确 描述 
自己 的 需求 而 这时 系统 集成商 自己 经验 不足 
或 没有 给 以 足够 的 重视 就 不能 帮助 
用户 来 明确 系统 的 功能 细节 这个 系统 集成 
开发 过程 注定 要 走弯路 甚至 最终 失败 所以 系统 
集成 的 第 1步 就是 明确 用户 需求 一般 情况 
下 可以 使用 下面 的 表格 来 帮助 我们 实现 
此 目标 问题 说明 检测 什么 东西 检测 的 目标 
物 是 什么 形状 是 什么样 的 检测 哪些 指标 
具体 检测 什么 指标 有无 状态 尺寸 位置 粘连 差异 
毛刺 颜色 目标 多大 物体 具体 尺寸 是 多少 工作距离 
安装 摄像机 到 被 测 物体 的 距离 最大 允许 
多远 能否 自由 调节 分辨率 多高 测 量尺寸 精度 要求 
是 多高 检测 速度 多快 全自动 测量 还是 手动 每分钟 
测量 多少 个 安装 空间 被 测 零件 周围 是否 
有 安装 光源 的 位置 是否 有 适合 安装 摄像头 
的 位置 怎样 固定 比较 合适 颜色 被 测 物体 
是 什么 颜色 我们 是否 需要 对 颜色 判别 是否 
可以 利用 颜色 差异 帮助 我们 实现 检测 目的 材质 
物体 是 什么 材料 的 表面 光学 性质 怎样 合格 
判据 合格 ／ 不 合格 的 定义 工位 信号 有 
工位 触 发信号 还是 需要 自动 连续 拍摄 图像 剔除 
或 控制 方式 是否 需要 自动 剔除 次品 或 控制 
机器 动作 怎样 对 不合格品 进行 剔除 使用 什么 信号 
格式 在 什么 位置 进行 工作 环境 工作 环境 的 
温度 湿度 粉尘 防水 杂散光 线 情况 交货 日期 这是 
不言而喻 的 B 资源 配置 机器 视觉 系统 集成 时 
涉及 到 多门 技术 最 基本 的 系统 也 需要 
照明 成像 图像 数字化 图像处理 算法 计算机软件 硬件 等 稍微 
复杂 一点 的 系统 还 会用 到 机械 设计 传感器 
电子线路 PLC 运动控制 数据库 SPC 等等 显而易见 要把 这么 多 
不同 方面 的 技术 和 知识 组 合到 1个 系统 
里 使其 相互 完美 配合 并 稳定 地 工作 对 
系统 集成 人员 提出 了 很高 的 要求 需要 根据 
具体 的 需求 来 确定 所 需要 配置 的 资源 
和 对策 B . 1 机械设计 由于 需求 不同 对 
机械 部分 的 要求 差别 很大 如果 是 全自动 的 
机器 视觉 系统 机械 部分 一般 需要 完成 的 功能 
有理 料 输送 定位 剔除 下料 等功能 而 有的 机器 
视觉 系统 则 只 需要 适当 的 固定 支架 来 
固定 相机 镜头 和 计算机 即可 差别 很大 例如 制药 
生产线 上 使用 的 西林瓶 灯 检 机 需要 完成 
理 瓶 输送 旋转 刹车 急停 相机 同步 快速 归位 
下料 分流 剔除 等 多个 动作 而且 需要 提供 多达 
15个 检测 工位 以 完成 液体 内部 悬浮物 玻璃 碎屑 
瓶身 破损 细菌 群落 瓶口 封装 瓶底 等 多项 指标 
的 检测 各种 机械零件 多达 上 千个 系统 非常 之 
复杂 而 停车场 使用 的 车牌 识别 系统 的 机械 
部分 则 非常 简单 只需要 相机 固定 和 保护 等 
安装 配件 即可 一般系统 集成商 不愿意 介入 特别 复杂 的 
机械 设计 一 方面 是 因为 在 用户 的 观念 
中 机械 设计 没有 太多 的 技术 含量 另一方面 是 
机械 加工 周期 较长 1个 小小 的 设计 错误 也 
会 导致 返工 时间 拖得 较长 所以 虽然 在 很多 
情形 下 机械 设计 在 机器 视觉 系统 中 占了 
很大 的 比重 而且 是 关键 部分 但 投入 相对 
较少 导致 整个 系统 开发 过程 不 顺利 有时候 和 
制造 机械 设备 的 公司 合作 是 最好 的 选择 
需要 指出 的 是 对于 需要 复杂 机械 系统 的 
全自动 系统 由于 大多数 系统 只能 针对 特定 的 产品 
工作 所以 除非 生产量 达到 一定 数量 或者 该 产品 
会 生产 很长时间 一般 情况 下 半自动 系统 就 足够 
了 自动 系统 开发 周期 长 成本高 生产 过程 中 
换型 困难 而 半自动 系统 只 需要 更换 1个 夹具 
重新 设置 检测 指标 和 合格 判据 就 可以 了 
B . 2 照明 光源 这个 看似 简单 的 照明 
系统 是 机器 视觉 系统 最为 关键 的 部分 直接 
关系 到 系统 的 成败 其 重要性 无论如何 强调 都是 
不 过分 的 好 的 设计 能够 使 我们 得到 
1幅 好 的 图像 从而 改善 整个 系统 的 分辨率 
简化 软件 的 运算 而不 合适 的 照明 则 会 
引起 很多 问题 例如 花点 和 过度 曝光 会 隐藏 
很多 重要 的 信息 阴影 则 会引起 边缘 的 误检 
而 信噪比 的 降低 以及 不 均匀 的 照明 会 
导致 图像处理 阈值 选择 的 困难 在 实际 应用 中 
得到 场景 的 图像 很容易 但是 得到 1幅 适合 机器 
视觉 算法 要求 的 图像 则 很难 因为 被 测 
目标 多种多样 形状 大小 不同 检测 指标 各异 而且 各种 
材料 的 反光 特性 及 颜色 也 不一样 要把 所 
需要 检测 的 特征 突显 出来 而对 不 需要 的 
特征 加以 抑制 并 不是 简单 的 任务 这 主要 
通过 设计 或 选择 合适 的 照明 光源 来 解决 
针对 特定 的 物体 和 场景 设计 ／ 选取 成本 
低廉 安装简单 照明 效果 好 的 照明 系统 就是 我们 
搭建 机器 视觉 系统 首先 需要 完成 的 任务 那么 
什么样 的 图像 才是 好 的 图像 呢 一般说来 1幅 
好 的 图像 需要 满足 以下 条件 1 充分 利用 
视场 使被 检测 物体 特征 充满 视场 从而 可以 最大限度 
地 利用 系统 的 分辨率 2 对比度 合适 灰度级 的 
最大值 接近 255 而 最小值 接近 0 3 焦距 准确 
图像 没有 因为 景深 或 运动 而 不 清晰 4 
照明 均匀 避免 反光 5 图像 畸 变小 6 感 
兴趣 的 特征 容易 被 检测 识别 其他 特征 不 
显示 或 得到 抑制 如果 选择 的 光源 能使 图像 
达到 这些 基本 的 要求 就 完成 了 机器 视觉 
系统 集成 的 第 1步 B . 3 成像 系统 
从 系统 集成 的 角度 简单 列举 选择 这些 硬件 
的 原则 由于 相机镜头 和 板卡 经过 多年 的 发展 
目前 已经 相当 成熟 而且 在 国内 市场 上 选择 
的 余地 也 不大 一般 是 本着 经济 的 原则 
够用 就好 选择 相 机时 我 的 建议 是 如果 
可能 就用 USB 接口 或 1394 接口 的 相机 这样 
可以 省掉 1个 板卡 的 费用 以后 硬件 或 软件 
升级 时 工作量 会 小 一些 对于 高端 的 应用 
除了 CameraLink 似乎 别无选择 最新 开发 的 GigE 接口 相机 
由于 TCP ／ IP 协议 Packet 传输 的 特性 在 
某些 场合 是 不能 保证 数据 的 实时性 的 但 
其 最大 的 优点 是 数据线 距离 可以 很长 主机 
可以 安装 在 办公室 内 这样/r 现场/n 就/d 只/d 需要/v 
适当/a 地/uv 安装/v 和/c 保护/v 相机/d 和/c 镜头/n 镜头 的 
可选择性 更少 除了 Computar Nikon Tamron Navitar 及 Moritex 几个 
制造商 外 市场 上 也 没有 多少 选择 空间 当然 
大多数 情况 下 也就 够用 了 如果 需要 更好 的 
成像 效果 可以 采用 单反 相机镜头 这样 做 一般 需要 
转 接口 Fujinon 在 厦门 有 生产 可是 国内 市场 
上 未见 销售 德国 CarlZeiss 镜头 很好 可惜 价格 太贵 
不太 适合 中国 市场 B . 4 计算机系统 机器 视觉 
系统 的 最佳 配置 是 使用 工控机 还是 使用 嵌入式 
系统 在 这个 问题 上 见仁见智 各有 优缺点 主要 还是 
看 使用 的 场合 和 系统 的 需求 2种 系统 
的 主要 特点 见 下表 项目 工控机 嵌入式 图像 处理 
能力 高低 扩展性 好差 体积 大小 现场 安装 难 需要 
机柜 容易 价格低 高 垄断 程度 低 高度 垄断 稳定性 
较好 非常好 设置 操作 容易 键盘 鼠标 或者 触摸屏 较难 
一般用 JOYstick 运行 操作 自动 自动 维修 简单 原 供货商 
才能 维修 通过 这些 对比 可以 看出 如果 安装 空间 
允许 选择 基于 工控机 的 视觉 系统 还是 有 更多 
的 优点 的 但是 如果 现场 必须 使用 体积 很小 
的 嵌入式 系统 那么 我们 别无选择 各 公司 的 成熟 
产品 一般 都 采用 了 嵌入式 主机 例 ~ HKeyence 
0mron Siemens Cognex 等 这 更多 的 是 由于 商业 
销售 的 考虑 因为 这样 做 可以 保证 自己 产品 
的 独特性 给 差异化 销售 找到 借口 另一方面 可以 使 
用户 自己 不能 更换 零件 从而 保证 售后服务 的 利润 
B . 5 图像处理 图像 处理 作为 机器 视觉 系统 
必不可少 的 部分 显得 如此 重要 以至于 很多 情况 下 
初学 乍到 的 人 会 以为 图像 处理 就 是 
机器 视觉 其实 我们 所说 的 图像 处理 实际 包含 
了 图像增强 和 图像 分析 2个 部分 图像增强 是 指 
经过 某种 处理 使 图像 改变 实现 对比 度提高 清晰度 
增加 特征 突出 等 目的 而 图像 分析 是 指 
经过 某种 运算 来 提取 某种 有用 的 信息 如 
有无 好坏 位置 等 以便 用来 进行 判断 或 控制 
例如 如何 使 模糊 的 图像 恢复 到 清晰 是 
典型 的 图像增强 处理 只要 得到 清晰 的 图像 就 
达到 了 目的 在 繁忙 的 机场 抓拍 过往 旅客 
的 面孔 找到 可疑 恐怖分子 则是 典型 的 图像 分析 
过程 经过 多年 的 发展 图像增强 算法 已经 基本 成熟 
例如 提 高对比度 的 灰度 拉伸 假彩色 边缘 提取 滤波 
傅立叶 变换 小波 变换 等 在 机器 视觉 系统 集成 
时 这些 一般 都是 在 图像 分析 前 作为 图像 
预处理 进行 的 而 图像 分析 算法 才是 机器 视觉 
真正 需要 解决 的 问题 通过 针对 某个 真实 场景 
的 图像 设计 1种 算法 来 得到 有用 的 信息 
完全/ad 依赖/v 于/p 技术/n 人员/n 的/uj 经验/n 和/c 能力/n 在 
这个 过程 中 公司 投入 了 大量 时间 和 金钱 
来 进行 研究 而 得到 的 算法 往往 具有 经济 
价值 公司 或 个人 都会/nr 严格 保密 例如 如果 机场 
候机 厅里 只有 1个 乘客 那么 设计 个 算法 来 
找到 这个 乘客 的 位置 是 相对 容易 的 很多 
公司 或 个人 都 可以 实现 而且 使用 的 方法 
或者 计算 时间 也 差不多 而 要在 成千上万 的 游客 
中 找到 具有 某个 特定 特征 的 乘客 就 不是 
那么 容易 了 各人 设计 出 的 算法 肯定 千差万别 
谁 能够 在 最 短时间 内 最 可靠 地 找到 
目标 就是 最 有价值 的 这种 情况 下 除了 经验 
之外 灵感 和 创造 能力 也 很 重要 也 就是说 
作为 系统 集成 所 需要 的 图像 处理 算法 需要 
很多 的 实践 经验 而 这些 算法 大多 不 是 
能够 从 书本 或 文章 里 学到 的 B . 
6 自动控制 作为 1个 子系统 完美 配合 工作 中 的 
机器 视觉 系统 自然会 用到 光电 传感器 数字 IO 接口 
PLC 运动控制 等 工业 控制 元器件 这些 方面 的 知识 
也 是 必不可少 的 虽然 如此 这些 都是/nr 成熟 的 
技术 有 基本 的 知识 直接 拿来 使用 就 可以 
了 不 需要 我们 重新 设计 而且 零件 供应商 也会 
提供 一定 的 技术 支持 一般 在 整个 系统 的 
开发 过程 中 这 方面 花费 的 时间 和 精力 
是 最少 的 C 系统集成 明确 了 我们 的 需求 
估计 了 我们 需要 配置 的 资源 理解 了 各 
子系统 需要 完成 的 工作 就 到了 把 这些 知识 
综合考虑 组成 1个 整机 系统 的 时候 了 把 这些 
不同 领域 里 得到 的 零部件 组合 在 一起 希冀 
打开 电源 时就/nr 能够 完美 的 工作 是 不太 现实 
的 这个 过程 里 有 很多 意想不到 的 问题 需要 
解决 一般 情况 下 我们 需要 遵循 一定 的 原则 
才能 使 出现 的 问题 最少 这里 根据 我们 的 
经验 给 出 一些 建议 1 尽量 使用 能够 采购 
的 零件 off the shelfcomponents 在 可能 的 情况 下 
应当 尽可能 使用 现成 的 备件 如 镜头 相机 板卡 
等 能够 买到 的 东西 就 不要 自己 做 我 
已经 多次 看到 不同 的 公司 和 研究 室 为了 
节省 成本 自己 设计 制造 很容易 买到 的 零件 结果 
浪费 了 很多 时间 走 了 很多 弯路 例如 有 
1个 公司 咨询 为什么 成像 效果 不好 我 去 现场 
一看 他们 使用 了 1个 直径 20 毫米 的 凸透镜 
作为 镜头 为了 节省 成本 15 元 人民币 买来 的 
可想而知 成像 效果 如何 岂不知 连 SONY 也 不得不 向 
CarlZeiss 采购 镜头 2 分而治之 divide and conquer 把 系统 
分割 成 多个 模块 把 每 1 部分 集成 到 
一起 确保 能够 正确 地 工作 然后再 把 这些 模块 
组成 1个 大系统 这 和 软件 开发 常用 的 方法 
是 一样 的 只有 把 1 个大 的 系统 分割 
成 小到 我们 能够 很容易 处理 的 小块 才 能够 
有效 的 完成 这 也 需要 富有 经验 的 项目 
负责人 来 完成 这项 工作 3 充分考虑 现场 条件 在 
实验室 里 开发 的 系统 安装 到 使用 现场 后 
常常 碰到问题 这 主要 是 环境光 电磁 干扰 和 振动 
几个 方面 的 原因 造成 的 机器 视觉 系统 毕竟 
使用 了 光学系统 安装 现场 的 照明 情况 或 自然光 
的 影响 有时 会 导致 我们 设计 的 算法 根本 
无法 工作 从而 致使 系统 失败 工厂 的 供电 一般 
是 带有 各种 电磁 干扰 的 很容易 从 电源线 或 
其他 地方 进入 计算机系统 从而 导致 系统 不能 稳定 工作 
如果 系统 时而/nr 工作 正常 时而 死机 一般 都是/nr 这个 
原因 造成 的 另外 工业 现场 各种 机器 同时 工作 
有时 振动 会 导致 问题 例如 如果 算法 采用 两 
幅 图像 相减 的 方法 肯定 不能 正常 工作 因为 
振动 导致 的 图像 移位 使得 图像 已经 对 不准 
了 这种 情况 下 尺寸 测量 也 会 产生 误差 
所以 系统 集成 的 过程 中 最好 能够 模拟 现场 
情况 否则 很难 1次 成功 4 把 困难 乘 2 
在 新产品 开发 过程 中 往往 会 遇到 意想不到 的 
问题 例如 有时候 1根 电线 接触不良 就会 导致 整个 系统 
不 工作 而 查找 这个 问题 并 不是 1件 容易 
的 事 有时 软件 有 小小的 问题 改成 正确 的 
代码 只 需要 几 分钟 但是 也许 2个 星期 也 
找不到 问题所在 所以 整个 系统 集成 时 碰到 的 问题 
和 解决 问题 需要 的 时间 往往 比 预计 的 
要多 越是 复杂 庞大 的 系统 越是 如此 一般 我们 
需要 把 已知 需要 解决 的 问题 总数 乘以 2 
或 3 才能 真正 地 做出 切合 实际 的 工作 
计划 机器 视觉 技术 是 计算机 学科 的 一个 重要 
分支 它 综合 了 光学 机械 电子 计算机 软硬件 等 
方面 的 技术 涉及 到 计算机 图像处理 模式识别 人工智能 信号处理 
光机电 一体化 等 多个 领域 自 起步 发展 至今 已经 
有 20 多年 的 历史 其 功能 以及 应用 范围 
随着 工业 自动化 的 发展 逐渐 完善 和 推广 其中 
特别 是 目前 的 数字 图像 传感器 CMOS 和 CCD 
摄像机 DSP FPGA ARM 等 嵌入式 技术 图像 处理 和 
模式 识别 等 技术 的 快速 发展 大大 地 推动 
了 机器 视觉 的 发展 简而言之 机器 视觉 就是 利用 
机器 代替 人眼 来作 各种 测量 和 判断 在 生产线 
上 人 来做 此类 测量 和 判断 会 因 疲劳 
个人 之间 的 差异 等 产生 误差 和 错误 但是 
机器 却会 不知 疲倦 地 稳定 地 进行 下去 一般来说 
机器 视觉 系统 包括 了 照明 系统 镜头 摄像 系统 
和 图像 处理 系统 对于 每一个 应用 我们/r 都/d 需要/v 
考虑/v 系统/n 的/uj 运行/v 速度/n 和/c 图像/n 的/uj 处理/v 速度/n 
使用 彩色 还是 黑白 摄像机 检测 目标 的 尺寸 还是 
检测 目标 有无 缺陷 视场 需要 多大 分辨率 需要 多高 
对比度 需要 多大 等 从 功能 上 来看 典型 的 
机器 视觉 系统 可以 分为 图像 采集 部分 图像 处理 
部分 和 运动控制 部分 一个 完整 的 机器 视觉 系统 
的 主要 工作 过程 如下 1 工件 定位 检测器 探测 
到 物体 已经 运动 至 接近 摄像 系统 的 视野 
中心 向 图像 采集 部分 发送 触发 脉冲 2 图像 
采集 部分 按照 事先 设定 的 程序 和 延时 分别/d 
向/p 摄像机/n 和/c 照明/v 系统/n 发出/v 启动/vn 脉冲/n 3 摄像机 
停止 目前 的 扫描 重新 开始 新的 一帧 扫描 或者 
摄像机 在 启动 脉冲 来到 之前 处于 等待 状态 启动 
脉冲 到来 后 启动 一帧 扫描 4 摄像机 开始 新的 
一帧 扫描 之前 打开 曝光 机构 曝光 时间 可以 事先 
设定 5 另一个 启动 脉冲 打开 灯光 照明 灯光 的 
开启 时间 应该 与 摄像机 的 曝光 时间 匹配 6 
摄像机 曝光 后 正式 开始 一帧 图像 的 扫描 和 
输出 7 图像 采集 部分 接收 模拟 视频信号 通过 A 
/ D 将其 数字化 或者 是 直接 接收 摄像机 数字化 
后的/nr 数字 视频 数据 8 图像 采集 部分 将 数字 
图像 存放在 处理器 或 计算机 的 内存 中 9 处理器 
对 图像 进行 处理 分析 识别 获得 测量 结果 或 
逻辑 控制值 10 处理结果 控制 流水线 的 动作 进行 定位 
纠正 运动 的 误差 等 从 上述 的 工作 流程 
可以 看出 机器 视觉 是 一种 比较 复杂 的 系统 
因为 大多数 系统 监控 对象 都是/nr 运动 物体 系统 与 
运动 物体 的 匹配 和 协调 动作 尤为重要 所以 给 
系统 各 部分 的 动作 时间 和 处理 速度 带来 
了 严格 的 要求 在 某些 应用领域 例如 机器人 飞行 
物体 导 制 等 对 整个 系统 或者 系统 的 
一部分 的 重量 体积/n 和/c 功耗/n 都会/i 有/v 严格/ad 的/uj 
要求/v 机器 视觉 系统 的 优点 有 1 非 接触 
测量 对于 观测者 与 被 观测者 都 不会 产生 任何 
损伤 从而 提高 系统 的 可靠性 2 具有 较宽 的 
光谱 响应 范围 例如 使用 人 眼看 不见 的 红外 
测量 扩展 了 人眼 的 视觉 范围 3 长时间 稳定 
工作 人类 难以 长时间 对 同一 对象 进行 观察 而 
机器 视觉 则 可以 长时间 地 作 测量 分析 和 
识别 任务 机器 视觉 系统 的 应用 领域 越来越 广泛 
在 工业 农业 国防 交通 医疗 金融 甚至 体育 娱乐 
等 等 行业 都 获得 了 广泛 的 应用 可以 
说 已经 深入 到 我们 的 生活 生产 和 工作 
的 方方面面 在 使用 机器 视觉 系统 进行 检测 的 
具体 应用 环境 中 会有 持续 进料 的 应用 或者 
间歇 进料 的 应用 即 目标 物 会 停止 一段 
时间 进行 检测 这时 就 需要 知道 检测 目标 物 
的 速度 能达到 多快 目标 物 的 数量 以及 每 
分钟 进行 检测 的 最大 数量 这些 数据 可以 根据 
视觉 系统 的 处理 速度 进行 计算 其 计算 方法 
如下 每分钟 检测 的 最大 数量 = 60 sec . 
÷ 视觉 系统 的 处理 速度 sec . 例如 如果 
视觉 系统 的 处理 速度 是 20ms 那么 每分钟 检测 
的 最大 数量 = 60sec . ÷ 0 . 02sec 
. = 3000times / min . = 50 times / 
sec . 但是 实际 处理速度 根据 视觉 系统 的 相机 
类型 和 检测 设置 会 有所不同 虽然 大多数 简单 的 
应用 能以 20ms 的 速度 运行 在 具体 应用 中 
最好 还是 用 实际 目标 物 测试 一下 检测 的 
情况 如果 在 具体 应用 中 对 视觉 系统 的 
处理 速度 有 一定 要求 可用 以下 计算 方法 获得 
视觉 系统 被 要求 的 处理 速度 ms = 1 
sec . ÷ 要求 的 检测 次数 times / sec 
. x 1000 同时 在 实际 应用 中 被 检测 
目标 物 在 相机 的 视野 范围内 持续 移动 时 
还 需要 考虑 相机 快门 的 速度 否则 会 出现 
模糊不清 的 图像 无法 达到 检测 要求 例如 相机 在 
持续 移动 的 生产线 上 捕捉 电子 部件 的 图像 
时 如果 快门速度 曝光 时间 对于 生产 线速度 来说 不 
够快 图像 就会 模糊 为了 防止 模糊 快门速度 需要 进行 
设置 使得 相机 捕捉 图像 时 物体 移动 速度 不 
超过 1/10 的 要求 容 差值 如下 图 所示 目标 
物 在 相机 的 视野 范围内 持续 移动 高速 快门 
图像 低速 快门 图像 相机 快门 速度 计算方法 快门速度 = 
要求 容差/nr mm ÷ 生产 线速度 mm / sec . 
例 检测 容差/nr = 0 . 2mm 生产 线速度 = 
200mm / sec . 快门速度 = 0 . 2mm ÷ 
10 ÷ 200mm / sec . = 1/10000 因此 此 
项 应用 中 理想 的 快门 速度 要 快于 1/10000 
如果 视觉 系统 的 处理 速度 较快 在 高速 生产线 
上 进行 检测 就 一定 可行 那么 典型 的 尺寸 
检测 处理 时间 需要 多久 呢 此 检测时间 根据 视觉 
系统 的 处理 能力 以及 针对 个别 应用 的 设置 
会有 很大 的 差异 下表 提供 了 捕捉 和 处理 
图像 所需 时间 参考值 的 估计 底线 用户 可 根据 
自己 的 实际 应用 进行 参考 使用 瑕疵 检测 污垢 
检测 或 芯片 检测 都是 非常 典型 的 机器 视觉 
系统 检测 的 应用 方式 根据 工件 和 生产线 的 
状况 不同 每种 检测 都 需要 不同 的 功能 本文 
对 机器 视觉 污点 检测工具 的 原理 及 使用 方法 
做 以 简介 1 区段 视觉 系统 透过 CCD 图像 
传感器 将 强度 资料 的 变化 检测 为 污点 或 
边缘 但是 逐个 处理 像素 需要 花费 大量 的 时间 
并且 噪声 会对 检测 结果 产生 影响 因此 视觉 系统 
使用 由 数个 像素 组成 的 小区域 的 平均 强度 
该 小区域 被称为 区段 并 透过 比较 这些 区段 的 
平均 强度 来 检测 污点 如上图 中 所示 将 区段 
4 x 4 像素 的 平均 强度 与 周边 地区 
的 平均 强度 作比较 图中 的 红色 区段 被 检测 
出 污点 2 污点 检测工具 的 算法 区段 的 比较 
和 计算 方式 检测 原理 1 将 X 方向 指定 
为 检测 方向 时 污点 检测工具 测量 指定 区域 区段 
的 平均 强度 并以 四分之一 个 区段 为 间距 改变 
区段 位置 它 可确定 四个 区段 中的 最大 和 最小 
强度 之间 的 差值 其中 包括 标准 区段 下图 中的 
① 95 该 差值 被 视为 标准 区段 的 污点 
等级 当 污点 等级 超过 当前 阈值 时 标准 区段 
被 视为 污点 被 测 区域 中 超过 预设 阈值 
的 次数 被 称为 污点 范围 该 过程 反复 进行 
从而 不断 改变 标准 区段 在被 测 区域 中 的 
位置 在 圆形 工件 上 检测 污点 的 原理 PET 
瓶 轴承 或 O 型 圈 等 多种 圆形 工件 
需要 对 圆形 区域 进行 视觉 检测 当 搜索 圆形 
区域 时 程序 同时 执行 极坐标 转换 为了 检测 污点 
它 将 圆形 窗口 检测 区段 转换 为 长方形 并在 
圆形 方向 和 半径 方向 上 比较 区段 的 强度 
机器 视觉 划痕 检测 的 基本 分析 过程 分为 两步 
首先 确定 检测 产品 表面 是否 有 划痕 其次 在 
确定 被 分析 图像 上 存在 划痕 之后 对 划痕 
进行 提取 划痕 检测 是 工业 生产 中 经常 遇到 
的 问题 在 工业 中 许多 设备 的 零部件 都是 
在 高温 高压 的 环境 中 工作 的 所受 载荷 
复杂 使用 环境 恶劣 故障率 高 造成 的 后果 也 
非常 严重 因此 对 相关 部件 的 缺陷 疲劳 裂纹 
的 产生 扩展 进行 视觉 检测 就 显得 尤为 重要 
划痕 通常 可分为 三大类 第一类 划痕 部分 灰度 值 变化 
并 不明显 整幅 图像 灰度 比较 平均 划痕 面积 也 
比较 小 只有 几个 像素点 灰度 也只 比 周围 图像 
稍低 很难 分辨 可以 对 原 图像 进行 均值 滤波 
得到 较 平滑 的 图像 并与 原 图像 相减 当 
其 差 的 绝对值 大于 阈值 时就/nr 将其 置 为 
目标 并对 所有 的 目标 进行 标记 计算 其 面积 
将 面积 过小 的 目标 去掉 剩下 的 就 标记 
为 划痕 第二类 划痕 各部分 灰度 差异 较大 形状 通常 
呈 长条 形 如果 在 一幅 图像 上 采取 固定 
阈值 分割 则 标记 的 缺陷 部分 会 小于 实际 
部分 由于 这类 图像 的 划痕 狭长 单纯 依靠 灰度 
检测 会将 缺陷 延伸 部分 漏掉 对于 这类 图像 根据/p 
其/r 特点/n 选择/v 双/n 阈值/n 和/c 缺陷/v 形状/n 特征/n 相/v 
结合/v 的/uj 方法/n 第三类 划痕 从 外观上 较易 辨认 同时 
灰度 变化 跟 周围 区域 对比 也 比较 明显 可以 
选择 较小 的 阈值 精 缺陷 部分 直接 标记 由于 
在 工业 检测 中 图像 的 多样性 对于 每一种 图像 
都要 经过 分析 综合 考虑 各种 手段 来 进行 处理 
达到 效果 一般来说 划痕 部分 的 灰度 值 和 周围 
正常 部分 相比 要 暗 也 就是 划痕 部分 灰度 
值 偏小 而且 大多 都是 在 光滑 表面 所以 整幅 
图 的 灰度 变化 总体 来说 非常 均匀 缺乏 纹理 
特征 因此 划痕 的 检测 一般 使用 基于 统计 的 
灰度 特征 或者 阈值 分割 的 方法 将 划痕 部分 
标出 数字相机 传输 接口 比较 