github/en,地址/n,：/w,mask/en,_,rcnn/en,『/w,计算机/n,视觉/n,』/w,mask/en,-/w,rcnn/en,_,论文/n,学习/v,『/w,计算机/n,视觉/n,』/w,mask/en,-/w,rcnn/en,_,项目/n,文档/n,翻译/v,『/w,计算机/n,视觉/n,』/w,mask/en,-/w,rcnn/en,_,推断/vn,网络/n,其一/r,：/w,总览/nw,『/w,计算机/n,视觉/n,』/w,mask/en,-/w,rcnn/en,_,推断/vn,网络/n,其/r,二/m,：/w,基于/p,renet/en,101/m,的/u,fpn/en,共享/v,网络/n,『/w,计算机/n,视觉/n,』/w,mask/en,-/w,rcnn/en,_,推断/vn,网络/n,其/r,三/m,：/w,rpn/en,锚框/nw,处理/v,和/c,proposal/en,生成/vn,『/w,计算机/n,视觉/n,』/w,mask/en,-/w,rcnn/en,_,推断/vn,网络/n,其/r,四/m,：/w,fpn/en,和/c,roialign/en,的/u,耦合/vn,『/w,计算机/n,视觉/n,』/w,mask/en,-/w,rcnn/en,_,推断/vn,网络/n,其/r,五/m,：/w,目标/n,检测/vn,结果/n,精炼/a,『/w,计算机/n,视觉/n,』/w,mask/en,-/w,rcnn/en,_,推断/vn,网络/n,其/r,六/m,：/w,mask/en,生成/vn,『/w,计算机/n,视觉/n,』/w,mask/en,-/w,rcnn/en,_,推断/vn,网络/n,终篇/nw,：/w,使用/v,detect/en,方法/n,进行/v,推断/vn,『/w,计算机/n,视觉/n,』/w,mask/en,-/w,rcnn/en,_,锚框/nw,生成/vn,『/w,计算机/n,视觉/n,』/w,mask/en,-/w,rcnn/en,_,训练/vn,网络/n,其一/r,：/w,数据集/nw,与/p,dataset/en,类/q,『/w,计算机/n,视觉/n,』/w,mask/en,-/w,rcnn/en,_,训练/vn,网络/n,其/r,二/m,：/w,train/en,网络结构/l,&/w,损失/n,函数/n,『/w,计算机/n,视觉/n,』/w,mask/en,-/w,rcnn/en,_,训练/vn,网络/n,其/r,三/m,：/w,训练/vn,model/en,一/m,、/w,和/c,ssd/en,锚框/nw,对比/v,mask/en,_,rcnn/en,的/u,锚框/nw,本质/n,上/f,来说/u,和/c,ssd/en,的/u,是/v,一样/u,的/u,（/w,『/w,tensorflow/en,』/w,ssd/en,源码/nw,学习/v,_,其/r,三/m,：/w,锚框/nw,生成/vn,）/w,，/w,中心点/nz,的/u,个数/n,等于/v,特征/n,层/q,像/v,素数/n,框体/nw,生成/vn,是/v,围绕/v,中心点/nz,的/u,最终/d,的/u,框体/nw,坐标/n,需要/v,归/v,一/m,化/v,到/v,01/m,之间/f,，/w,都/d,是/v,对于/p,输入/v,图片/n,的/u,相对/d,大小/n,rcnn/en,系列/q,一般/a,都/d,是/v,一个/m,共享/v,特征/n,，/w,但/c,在/p,mask/en,_,rcnn/en,结构/n,引入/v,了/u,fpn/en,结构/n,后/f,，/w,和/c,ssd/en,一样/u,，/w,使用/v,了/u,多/a,层/q,特征/n,，/w,这样/r,两者/r,的/u,锚框/nw,生成/vn,算法/n,可以/v,说是/v,如出一辙/i,了/u,，/w,只不过/d,是/v,生成/vn,策略/n,有所/v,微调/v,：/w,ssd/en,中/f,不同/a,特征/n,层/q,对应/v,着/u,不同/a,的/u,网格/n,增强/v,比例/n,参数/n,；/w,mask/en,_,rcnn/en,不通/a,层/q,的/u,比例/n,（/w,anchor/en,_,ratios/en,）/w,则/d,完全/ad,一致/a,ssd/en,每/r,一层/mq,每/r,一个/m,中心点/nz,生成/vn,该/r,层/q,ratio/en,+/w,2个框/mq,；/w,mask/en,_,rcnn/en,生成/vn,固定/a,3个框/mq,ssd/en,中心点/nz,为/p,feat/en,像素/n,偏移/vn,0.5/m,步长/nz,；/w,mask/en,_,rcnn/en,中心点/nz,直接/ad,选/v,为/p,feat/en,像素/n,位置/n,而/c,基本/a,生成/vn,方式/n,两者/r,完全/ad,一致/a,：/w,h/en,乘/v,anchor/en,_,ratios/en,*/w,*/w,0.5/m,w/en,除/p,anchor/en,_,ratios/en,*/w,*/w,0.5/m,h/en,、/w,w/en,初始值/n,为/p,给/p,定/v,的/u,参考/v,尺寸/n,，/w,即/v,感受/v,野/b,控制/v,实际/n,依赖/v,的/u,参数/n,为/p,每/r,一层/mq,的/u,anchor/en,_,ratios/en,和/c,参考/v,尺寸/n,，/w,对/p,ssd/en,：/w,anchor/en,_,sizes/en,=/w,[/w,(/w,21/m,./w,,/w, ,45/m,./w,)/w,,/w, ,(/w,45/m,./w,,/w, ,99/m,./w,)/w,,/w, ,(/w,99/m,./w,,/w, ,153/m,./w,)/w,,/w, ,(/w,153/m,./w,,/w, ,207/m,./w,)/w,,/w, ,(/w,207/m,./w,,/w, ,261/m,./w,)/w,,/w, ,(/w,261/m,./w,,/w, ,315/m,./w,)/w,]/w,anchor/en,_,ratios/en,=/w,[/w,[/w,2/m,,/w, ,./w,5/m,]/w,,/w, ,[/w,2/m,,/w, ,./w,5/m,,/w, ,3/m,,/w, ,1/m,./w,//w,3/m,]/w,,/w, ,[/w,2/m,,/w, ,./w,5/m,,/w, ,3/m,,/w, ,1/m,./w,//w,3/m,]/w,,/w, ,[/w,2/m,,/w, ,./w,5/m,,/w, ,3/m,,/w, ,1/m,./w,//w,3/m,]/w,,/w, ,[/w,2/m,,/w, ,./w,5/m,]/w,,/w, ,[/w,2/m,,/w, ,./w,5/m,]/w,]/w,对/p,mask/en,_,rcnn/en,（/w,h/en,、/w,w/en,参考/v,尺寸/n,大小/n,一致/a,）/w,:/w,self/en,./w,config/en,./w,backbone/en,_,strides/en, ,=/w, ,[/w,4/m,,/w, ,8/m,,/w, ,16/m,,/w, ,32/m,,/w, ,64/m,]/w, ,#, ,特征/n,层/q,的/u,下/f,采样/v,倍数/n,，/w,中心/n,点/q,计算/v,使用/v,self/en,./w,config/en,./w,rpn/en,_,anchor/en,_,ratios/en, ,=/w, ,[/w,0.5/m,,/w, ,1/m,,/w, ,2/m,]/w, ,#, ,特征/n,层/q,锚框/nw,生成/vn,参数/n,self/en,./w,config/en,./w,rpn/en,_,anchor/en,_,scales/en, ,=/w, ,[/w,32/m,,/w, ,64/m,,/w, ,128/m,,/w, ,256/m,,/w, ,512/m,]/w, ,#, ,特征/n,层/q,锚框/nw,感受/v,野二/nw,、/w,锚框/nw,生成/vn,锚框/nw,生成/vn,入口/n,函数/n,位于/v,model/en,./w,py/en,中/f,的/u,get/en,_,anchor/en,函数/n,，/w,需要/v,参数/n,image/en,_,shape/en,，/w,保证/v,含有/v,[/w,h/en,,/w, ,w/en,]/w,即可/v,，/w,也/d,可以/v,包含/v,[/w,h/en,,/w, ,w/en,,/w, ,c/en,]/w,，/w,def/en, ,get/en,_,anchors/en,(/w,self/en,,/w, ,image/en,_,shape/en,)/w,:/w, ,"/w,"/w,"/w,returns/en, ,anchor/en, ,pyramid/en, ,for/en, ,the/en, ,given/en, ,image/en, ,size/en,./w,"/w,"/w,"/w, ,#, ,[/w,n/en,,/w, ,(/w,height/en,,/w, ,width/en,)/w,]/w, ,backbone/en,_,shapes/en, ,=/w, ,compute/en,_,backbone/en,_,shapes/en,(/w,self/en,./w,config/en,,/w, ,image/en,_,shape/en,)/w, ,#, ,cache/en, ,anchors/en, ,and/en, ,reuse/en, ,if/en, ,image/en, ,shape/en, ,is/en, ,the/en, ,same/en, ,if/en, ,not/en, ,hasattr/en,(/w,self/en,,/w, ,"/w,_,anchor/en,_,cache/en,"/w,)/w,:/w, ,self/en,./w,_,anchor/en,_,cache/en, ,=/w, ,{/w,}/w, ,if/en, ,not/en, ,tuple/en,(/w,image/en,_,shape/en,)/w, ,in/en, ,self/en,./w,_,anchor/en,_,cache/en,:/w, ,#, ,generate/en, ,anchors/en,:/w, ,[/w,anchor/en,_,count/en,,/w, ,(/w,y/en,1/m,,/w, ,x/en,1/m,,/w, ,y/en,2/m,,/w, ,x/en,2/m,)/w,]/w, ,a/en, ,=/w, ,utils/en,./w,generate/en,_,pyramid/en,_,anchors/en,(/w, ,self/en,./w,config/en,./w,rpn/en,_,anchor/en,_,scales/en,,/w, ,#, ,(/w,32/m,,/w, ,64/m,,/w, ,128/m,,/w, ,256/m,,/w, ,512/m,)/w, ,self/en,./w,config/en,./w,rpn/en,_,anchor/en,_,ratios/en,,/w, ,#, ,[/w,0.5/m,,/w, ,1/m,,/w, ,2/m,]/w, ,backbone/en,_,shapes/en,,/w, ,#, ,with/en, ,shape/en, ,[/w,n/en,,/w, ,(/w,height/en,,/w, ,width/en,)/w,]/w, ,self/en,./w,config/en,./w,backbone/en,_,strides/en,,/w, ,#, ,[/w,4/m,,/w, ,8/m,,/w, ,16/m,,/w, ,32/m,,/w, ,64/m,]/w, ,self/en,./w,config/en,./w,rpn/en,_,anchor/en,_,stride/en,)/w, ,#, ,1/m, ,#, ,keep/en, ,a/en, ,copy/en, ,of/en, ,the/en, ,latest/en, ,anchors/en, ,in/en, ,pixel/en, ,coordinates/en, ,because/en, ,#, ,it/en,'/w,s/en, ,used/en, ,in/en, ,inspect/en,_,model/en, ,notebooks/en,./w, ,#, ,todo/en,:/w, ,remove/en, ,this/en, ,after/en, ,the/en, ,notebook/en, ,are/en, ,refactored/en, ,to/en, ,not/en, ,use/en, ,it/en, ,self/en,./w,anchors/en, ,=/w, ,a/en, ,#, ,normalize/en, ,coordinates/en, ,self/en,./w,_,anchor/en,_,cache/en,[/w,tuple/en,(/w,image/en,_,shape/en,)/w,]/w, ,=/w, ,utils/en,./w,norm/en,_,boxes/en,(/w,a/en,,/w, ,image/en,_,shape/en,[/w,:/w,2/m,]/w,)/w, ,return/en, ,self/en,./w,_,anchor/en,_,cache/en,[/w,tuple/en,(/w,image/en,_,shape/en,)/w,]/w,调用/v,函数/n,compute/en,_,backbone/en,_,shapes/en,计算/v,各个/r,特征/n,层/q,shape/en,：/w,def/en, ,compute/en,_,backbone/en,_,shapes/en,(/w,config/en,,/w, ,image/en,_,shape/en,)/w,:/w, ,"/w,"/w,"/w,computes/en, ,the/en, ,width/en, ,and/en, ,height/en, ,of/en, ,each/en, ,stage/en, ,of/en, ,the/en, ,backbone/en, ,network/en,./w, ,returns/en,:/w, ,[/w,n/en,,/w, ,(/w,height/en,,/w, ,width/en,)/w,]/w,./w, ,where/en, ,n/en, ,is/en, ,the/en, ,number/en, ,of/en, ,stages/en, ,"/w,"/w,"/w, ,if/en, ,callable/en,(/w,config/en,./w,backbone/en,)/w,:/w, ,return/en, ,config/en,./w,compute/en,_,backbone/en,_,shape/en,(/w,image/en,_,shape/en,)/w, ,#, ,currently/en, ,supports/en, ,resnet/en, ,only/en, ,assert/en, ,config/en,./w,backbone/en, ,in/en, ,[/w,"/w,resnet/en,50/m,"/w,,/w, ,"/w,resnet/en,101/m,"/w,]/w, ,return/en, ,np/en,./w,array/en,(/w, ,[/w,[/w,int/en,(/w,math/en,./w,ceil/en,(/w,image/en,_,shape/en,[/w,0/m,]/w, ,//w, ,stride/en,)/w,)/w,,/w, ,int/en,(/w,math/en,./w,ceil/en,(/w,image/en,_,shape/en,[/w,1/m,]/w, ,//w, ,stride/en,)/w,)/w,]/w, ,for/en, ,stride/en, ,in/en, ,config/en,./w,backbone/en,_,strides/en,]/w,)/w, ,#, ,[/w,4/m,,/w, ,8/m,,/w, ,16/m,,/w, ,32/m,,/w, ,64/m,]/w,调用/v,函数/n,utils/en,./w,generate/en,_,pyramid/en,_,anchors/en,生成/vn,全部/m,锚框/nw,：/w,def/en, ,generate/en,_,pyramid/en,_,anchors/en,(/w,scales/en,,/w, ,ratios/en,,/w, ,feature/en,_,shapes/en,,/w, ,feature/en,_,strides/en,,/w, ,anchor/en,_,stride/en,)/w,:/w, ,"/w,"/w,"/w,generate/en, ,anchors/en, ,at/en, ,different/en, ,levels/en, ,of/en, ,a/en, ,feature/en, ,pyramid/en,./w, ,each/en, ,scale/en, ,is/en, ,associated/en, ,with/en, ,a/en, ,level/en, ,of/en, ,the/en, ,pyramid/en,,/w, ,but/en, ,each/en, ,ratio/en, ,is/en, ,used/en, ,in/en, ,all/en, ,levels/en, ,of/en, ,the/en, ,pyramid/en,./w, ,returns/en,:/w, ,anchors/en,:/w, ,[/w,n/en,,/w, ,(/w,y/en,1/m,,/w, ,x/en,1/m,,/w, ,y/en,2/m,,/w, ,x/en,2/m,)/w,]/w,./w, ,all/en, ,generated/en, ,anchors/en, ,in/en, ,one/en, ,array/en,./w, ,sorted/en, ,with/en, ,the/en, ,same/en, ,order/en, ,of/en, ,the/en, ,given/en, ,scales/en,./w, ,so/en,,/w, ,anchors/en, ,of/en, ,scale/en,[/w,0/m,]/w, ,come/en, ,first/en,,/w, ,then/en, ,anchors/en, ,of/en, ,scale/en,[/w,1/m,]/w,,/w, ,and/en, ,so/en, ,on/en,./w, ,"/w,"/w,"/w, ,#, ,anchors/en, ,#, ,[/w,anchor/en,_,count/en,,/w, ,(/w,y/en,1/m,,/w, ,x/en,1/m,,/w, ,y/en,2/m,,/w, ,x/en,2/m,)/w,]/w, ,anchors/en, ,=/w, ,[/w,]/w, ,for/en, ,