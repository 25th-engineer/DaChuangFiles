1/m,./w, ,线性/n,分类器/nw,在/p,深度/n,学习/v,与/p,计算机/n,视觉/n,系列/q,(/w,2/m,)/w,我们/r,提到/v,了/u,图像/n,识别/v,的/u,问题/n,，/w,同时/c,提出/v,了/u,一种/mq,简单/a,的/u,解决/v,方法/n,——/w,knn/en,。/w,然后/c,我们/r,也/d,看到/v,了/u,knn/en,在/p,解决/v,这个/r,问题/n,的/u,时候/n,，/w,虽然/c,实现/v,起来/v,非常/d,简单/a,，/w,但是/c,有/v,很/d,大/a,的/u,弊端/n,：/w,分类器/nw,必须/d,记住/v,全部/m,的/u,训练/vn,数据/n,(/w,因为/c,要/v,遍/q,历找/nw,近邻/n,啊/y,！/w,！/w,)/w,，/w,而/c,在/p,任何/r,实际/n,的/u,图像/n,训练/vn,集/vg,上/f,，/w,数据量/n,很/d,可能/v,非常/d,大/a,，/w,那么/r,一次性/d,载入/v,内存/n,，/w,不管/c,是/v,速度/n,还是/c,对/p,硬件/n,的/u,要求/v,，/w,都/d,是/v,一个/m,极大/a,的/u,挑战/vn,。/w,分类/vn,的/u,时候/n,要/v,遍历/nw,所有/b,的/u,训练/vn,图片/n,，/w,这/r,是/v,一个/m,相当/d,相当/d,相当/d,耗时/v,的/u,过程/n,。/w,这个/r,部分/n,我们/r,介绍/v,一类/b,新/a,的/u,分类器/nw,方法/n,，/w,而/c,对/p,其/r,的/u,改进/v,和/c,启发/v,也/d,能/v,帮助/v,我们/r,自然而然/i,地/u,过渡/v,到/v,深度/n,学习/v,中/f,的/u,卷积神经网/nt,。/w,有/v,两个/m,重要/a,的/u,概念/n,：/w,得分/n,函数/n,//w,score/en, ,function/en,：/w,将/d,原始/a,数据/n,映射/v,到/v,每个/r,类/q,的/u,打分/v,的/u,函数/n,损失/n,函数/n,//w,loss/en, ,function/en,：/w,用于/v,量化/v,模型/n,预测/v,结果/n,和/c,实际/n,结果/n,之间/f,吻合度/nw,的/u,函数/n,在/p,我们/r,得到/v,损失/n,函数/n,之后/f,，/w,我们/r,就/d,将/d,问题/n,转化/v,成为/v,一个/m,最/d,优化/v,的/u,问题/n,，/w,目标/n,是/v,得到/v,让/v,我们/r,的/u,损失/n,函数/n,取值/v,最/d,小/a,的/u,一组/mq,参数/n,。/w,2/m,./w, ,得分/n,函数/n,//w,score/en, ,function/en,首先/d,我们/r,定义/n,一个/m,有/v,原始/a,的/u,图片/n,像素/n,值/n,映射/v,到/v,最后/f,类目/nz,得分/n,的/u,函数/n,，/w,也/d,就/d,是/v,这里/r,提到/v,的/u,得分/n,函数/n,。/w,先/d,笼统/a,解释/v,一下/m,，/w,一会儿/m,我们/r,给/p,个/q,具体/a,的/u,实例/n,来/v,说明/v,。/w,假设/v,我们/r,的/u,训练/vn,数据为/nw,，/w,对应/v,的/u,标签/n,yi/en,，/w,这里/r,i/en,=/w,1/m,…/w,n/en,表示/v,n/en,个/q,样本/n,，/w,yi/en,∈,1/m,…/w,k/en,表示/v,k/en,类/q,图片/n,。/w,比如/v,cifar/en,-/w,10/m,数据/n,集中/v,n/en,=/w,50000/m,，/w,而/c,d/en,=/w,32/m,x/en,32/m,x/en,3/m,=/w,3072/m,像素/n,，/w,k/en,=/w,10/m,，/w,因为/c,这时候/r,我们/r,有/v,10个/m,不同/a,的/u,类别/n,(/w,狗/n,//w,猫/n,//w,车/n,…/w,)/w,，/w,我们/r,实际上/d,要/v,定义/n,一个/m,将/d,原始/a,像素/n,映射/v,到/v,得分/n,上/f,函数/n,2.1/m, ,线性/n,分类器/nw,我们/r,先/d,丢/v,出/v,一个/m,简单/a,的/u,线性/n,映射/v,：/w,在/p,这个/r,公式/n,里/f,，/w,我们/r,假定/v,图片/n,的/u,像素/n,都/d,平展/a,为/p,[/w,d/en, ,x/en, ,1/m,]/w,的/u,向量/n,。/w,然后/c,我们/r,有/v,两个/m,参数/n,：/w,w/en,是/v,[/w,k/en, ,x/en, ,d/en,]/w,的/u,矩阵/n,，/w,而/c,向量/n,b/en,为/p,[/w,k/en, ,x/en, ,1/m,]/w,的/u,。/w,在/p,cifar/en,-/w,10/m,中/f,，/w,每张/r,图片平/nw,展开/v,得到/v,一个/m,[/w,3072/m, ,x/en, ,1/m,]/w,的/u,向量/n,，/w,那/r,w/en,就/d,应该/v,是/v,一个/m,[/w,10/m, ,x/en, ,3072/m,]/w,的/u,矩阵/n,，/w,b/en,为/p,[/w,10/m, ,x/en, ,1/m,]/w,的/u,向量/n,。/w,这样/r,，/w,以/p,我们/r,的/u,线性/n,代数/n,知识/n,，/w,我们/r,知道/v,这个/r,函数/n,，/w,接受/v,3072个/m,数/m,作为/v,输入/v,，/w,同时/c,输出/v,10个/m,数/m,作为/v,类目/nz,得分/n,。/w,我们/r,把/p,w/en,叫做/v,权重/nz,，/w,b/en,叫做/v,偏移/vn,向量/n,。/w,说明/v,几/m,个/q,点/q,：/w,我们/r,知道/v,一次/mq,矩阵/n,运算/vn,，/w,我们/r,就/d,可以/v,借助/v,w/en,把/p,原始/a,数据/n,映射/v,为/p,10个/m,类别/n,的/u,得分/n,。/w,其实/d,我们/r,的/u,输入/v,(/w,xi/en,,/w,yi/en,)/w,其实/d,是/v,固定/a,的/u,，/w,我们/r,现在/t,要/v,做/v,的/u,事情/n,是/v,，/w,我们/r,要/v,调整/vn,w/en,,/w, ,b/en,使得/v,我们/r,的/u,得分/n,结果/n,和/c,实际/n,的/u,类目/nz,结果/n,最为/d,吻合/v,。/w,我们/r,可以/v,想象/v,到/v,，/w,这样/r,一种/mq,分类/vn,解决/v,方案/n,的/u,优势/n,是/v,，/w,一旦/d,我们/r,找到/v,合适/a,的/u,参数/n,，/w,那么/r,我们/r,最后/f,的/u,模型/n,可以/v,简化/v,到/v,只有/c,保留/v,w/en,,/w, ,b/en,即可/v,，/w,而/c,所有/b,原始/a,的/u,训练/vn,数据/n,我们/r,都/d,可以/v,不/d,管/v,了/u,。/w,识别/v,阶段/n,，/w,我们/r,需要/v,做/v,的/u,事情/n,仅仅/d,是/v,一次/mq,矩阵/n,乘法/n,和/c,一次/mq,加法/n,，/w,这个/r,计算量/nw,相对/d,之前/f,…/w,不要/d,小/a,太/d,多/a,好么/nw,…/w,提前/v,剧透/nw,一下/m,，/w,其实/d,卷积神经网/nt,做/v,的/u,事情/n,也/d,是/v,类似/v,的/u,，/w,将/d,原始/a,输入/v,的/u,像素/n,映射/v,成/v,类目/nz,得分/n,，/w,只不过/d,它/r,的/u,中间/f,映射/v,更加/d,复杂/a,，/w,参数/n,更/d,多/a,而已/y,…/w,2.2/m, ,理解/v,线性/n,分类器/nw,我们/r,想想/v,，/w,其实线性/nw,分类器/nw,在/p,做/v,的/u,事情/n,，/w,是/v,对/p,每个/r,像素/n,点/q,的/u,三个/m,颜色/n,通道/n,，/w,做/v,计算/v,。/w,咱们/r,拟/v,人化/vn,一下/m,，/w,帮助/v,我们/r,理解/v,，/w,可以/v,认为/v,设定/v,的/u,参数/n,//w,权重/nz,不同/a,会/v,影响/vn,分类器/nw,的/u,『/w,性格/n,』/w,，/w,从而/c,使得/v,分类器/nw,对/p,特定/b,位置/n,的/u,颜色/n,会/v,有/v,自己/r,的/u,喜好/v,。/w,举/v,个/q,例子/n,，/w,假如/c,说/v,我们/r,的/u,分类器/nw,要/v,识别/v,『/w,船只/n,』/w,，/w,那么/r,它/r,可能/v,会/v,喜欢/v,图片/n,的/u,四周/f,都/d,是/v,蓝色/n,(/w,通常/d,船/n,只是/d,在/p,水/n,里/f,海里/q,吧/y,…/w,)/w,。/w,我们/r,用/p,一个/m,实际/n,的/u,例子/n,来/v,表示/v,这个/r,得分/n,映射/v,的/u,过程/n,，/w,大概/d,就/d,是/v,下/f,图/n,这个/r,样子/n,：/w,原始/a,像素/n,点/q,向量/n,xi/en,经过/p,w/en,和/c,b/en,映射/v,为/p,对应/v,结果/n,类别/n,的/u,得分/n,。/w,不过/c,上面/f,这/r,组/q,参数/n,其实/d,给/p,的/u,是/v,不/d,太/d,恰当/a,的/u,，/w,因为/c,我们/r,看到/v,在/p,这/r,组/q,参数/n,下/f,，/w,图片/n,属于/v,狗狗/n,的/u,得分/n,最高/a, ,-/w,_,-/w,|/w,|/w,2/m,./w,2/m,./w,1/m, ,划分/v,的/u,第/m,1种/mq,理解/v,图片/n,被/p,平/v,展开/v,之后/f,，/w,向量/n,维度/n,很/d,高/a,，/w,高维/nr,空间/n,比较/d,难/a,想象/v,。/w,我们/r,简化/v,一下/m,，/w,假如/c,把/p,图片/n,像素/n,输入/v,，/w,看做/v,可以/v,压缩/v,到/v,二维/nr,空间/n,之中/f,的/u,点/q,，/w,那/r,我们/r,想想/v,，/w,分类器/nw,实际上/d,在/p,做/v,的/u,事情/n,就/d,如/v,下/f,图/n,所/u,示/vg,：/w,w/en,中/f,的/u,每/r,一列/mq,对应/v,类别/n,中/f,的/u,每/r,一类/mq,，/w,而/c,当/p,我们/r,改变/v,w/en,中/f,的/u,值/n,的/u,时候/n,，/w,图/n,上/f,的/u,线/n,的/u,方向/n,会/v,跟着/v,改变/v,，/w,那么/r,b/en,呢/y,？/w,对/p,，/w,b/en,是/v,一个/m,偏移量/nz,，/w,它/r,表示/v,当/p,我们/r,的/u,直线/n,方向/n,确定/v,以后/f,，/w,我们/r,可以/v,适当/a,平移/vn,直线/n,到/v,合适/a,的/u,位置/n,。/w,没有/v,b/en,会/v,怎么样/r,呢/y,，/w,如果/c,直线/n,没有/v,偏移量/nz,，/w,那/r,意味/n,着/u,所有/b,的/u,直线/n,都/d,要/v,通过/p,原点/n,，/w,这种/r,强/a,限制/v,条件/n,下/f,显然/ad,不/d,能/v,保证/v,很/d,好/a,的/u,平面/n,类别/n,分割/v,。/w,2/m,./w,2/m,./w,2/m, ,划分/v,的/u,第/m,2种/mq,理解/v,对/p,w/en,第二/m,种/q,理解/v,方式/n,是/v,，/w,w/en,的/u,每/r,一行/n,可以/v,看做/v,是/v,其中/r,一个/m,类别/n,的/u,模板/n,。/w,而/c,我们/r,输入/v,图片/n,相对/d,这个/r,类别/n,的/u,得分/n,，/w,实际上/d,是/v,像素/n,点/q,和/c,模板/n,匹配度/nw,(/w,通过/p,内积/n,运算/vn,获得/v,)/w,，/w,而/c,类目/nz,识别/v,实际上/d,就是/d,在/p,匹配/vn,图像/n,和/c,所有/b,类别/n,的/u,模板/n,，/w,找到/v,匹配度/nw,最高/a,的/u,那个/r,。/w,是不是/v,感觉/n,和/c,knn/en,有点/d,类似/v,的/u,意思/n,？/w,是/v,有/v,那么/r,点/q,相近/a,，/w,但是/c,这里/r,我们/r,不再/d,比/p,对/p,所有/b,图片/n,，/w,而是/c,比/p,对/p,类别/n,的/u,模板/n,，/w,这样/r,比/p,对/p,次数/n,只/d,和/c,类/q,目数/nw,k/en,有/v,关系/n,，/w,所以/c,自然/d,计算量/nw,要/v,小/a,很多/m,,/w,同时/c,比对/d,的/u,时候/n,用/p,的/u,不再/d,是/v,l/en,1/m,或者/c,l/en,2/m,距离/n,，/w,而是/c,内积/n,计算/v,。/w,我们/r,提前/v,透露/v,一下/m,cifar/en,-/w,10/m,上/f,学习/v,到/v,的/u,模板/n,的/u,样子/n,：/w,你/r,看/v,，/w,和/c,我们/r,设想/vn,的/u,很/d,接近/v,，/w,ship/en,类别/n,的/u,周边/n,有/v,大量/m,的/u,蓝色/n,，/w,而/c,car/en,的/u,旁边/f,是/v,土地/n,的/u,颜色/n,。/w,2/m,./w,2/m,./w,3/m, ,关于/p,偏移量/nz,的/u,处理/v,我们/r,先/d,回到/v,如下/v,的/u,公式/n,：/w,公式/n,中/f,有/v,w/en,和/c,b/en,两个/m,参数/n,，/w,我们/r,知道/v,调节/vn,两个/m,参数/n,总/b,归/v,比/p,调节/vn,一个/m,参数/n,要/v,麻烦/an,，/w,所以/c,我们/r,用/p,一点/m,小/a,技巧/n,，/w,来/v,把/p,他们/r,组合/v,在/p,一起/s,，/w,放/v,到/v,一个/m,参数/n,中/f,。/w,我们/r,现在/t,要/v,做/v,的/u,运算/vn,是/v,矩阵/n,乘法/n,再/d,加/v,偏/d,移/v,量/n,，/w,最/d,常用/a,的/u,合并/v,方法/n,就/d,是/v,，/w,想/v,办法/n,把/p,b/en,合并/v,成/v,w/en,的/u,一部分/m,。/w,我们/r,仔细/ad,看看/v,下面/f,这/r,张/q,图片/n,：/w,我们/r,给/p,输入/v,的/u,像素/n,矩阵/n,加上/v,一个/m,1/m,，/w,从而/c,把/p,b/en,拼/v,接到/v,w/en,里/f,变成/v,一个/m,变量/n,。/w,依旧/z,拿/v,cifar/en,-/w,10/m,举例/v,，/w,原本/d,是/v,[/w,3072/m, ,x/en, ,1/m,]/w,的/u,像素/n,向量/n,，/w,我们/r,添/v,上/f,最后/f,那个/r,1/m,变成/v,[/w,3073/m, ,x/en, ,1/m,]/w,的/u,向量/n,，/w,而/c,[/w,w/en,]/w,变成/v,[/w,w/en, ,b/en,]/w,。/w,2/m,./w,2/m,./w,4/m, ,关于/p,数据/n,的/u,预/d,处理/v,插播/nz,一段/mq,，/w,实际/n,应用/vn,中/f,，/w,我们/r,很多/m,时候/n,并/c,不/d,是/v,把/p,原始/a,的/u,像素/n,矩阵/n,作为/v,输入/v,，/w,而是/c,会/v,预先/d,做/v,一些/m,处理/v,，/w,比如说/l,，/w,有/v,一个/m,很/d,重要/a,的/u,处理/v,叫做/v,『/w,去/v,均值/n,』/w,，/w,他/r,做/v,的/u,事情/n,是/v,对于/p,训练/vn,集/vg,，/w,我们/r,求得/v,所有/b,图片/n,像素/n,矩阵/n,的/u,均值/n,，/w,作为/v,中心/n,，/w,然后/c,输入/v,的/u,图片/n,先/d,减/v,掉/v,这个/r,均值/n,，/w,再/d,做/v,后续/vn,的/u,操作/v,。/w,有时候/d,我们/r,甚至/d,要/v,对/p,图片/n,的/u,幅度/n,归/v,一/m,化/v,//w,scaling/en,。/w,去/v,均值/n,是/v,一个/m,非常/d,重要/a,的/u,步骤/n,，/w,原因/n,我们/r,在/p,后续/vn,的/u,梯度/n,下降/v,里/f,会/v,提到/v,。/w,2.3/m, ,损失/n,函数/n,我们/r,已经/d,通过/p,参数/n,w/en,，/w,完成/v,了/u,由/p,像素/n,映射/v,到/v,类目/nz,得分/n,的/u,过程/n,。/w,同时/c,，/w,我们/r,知道/v,我们/r,的/u,训练/vn,数据/n,(/w,xi/en,,/w,yi/en,)/w,是/v,给/p,定/v,的/u,，/w,我们/r,可以/v,调整/vn,的/u,是/v,参数/n,//w,权重/nz,w/en,，/w,使得/v,这个/r,映射/v,的/u,结果/n,和/c,实际/n,类别/n,是/v,吻合/v,的/u,。/w,我们/r,回到/v,最/d,上面/f,的/u,图片/n,中/f,预测/v, ,[/w,猫/n,//w,狗/n,//w,船/n,]/w, ,得分/n,的/u,例子/n,里/f,，/w,这个/r,图片/n,中/f,给/p,定/v,的/u,w/en,显然/ad,不/d,是/v,一个/m,合理/a,的/u,值/n,，/w,预测/v,的/u,结果/n,和/c,实际/n,情况/n,有/v,很/d,大/a,的/u,偏差/n,。/w,于是/c,我们/r,现在/t,要/v,想/v,办法/n,，/w,去/v,把/p,这个/r,偏差/n,表示/v,出来/v,，/w,拟/v,人/n,一点/m,说/v,，/w,就是/d,我们/r,希望/v,我们/r,的/u,模型/n,在/p,训练/vn,的/u,过程/n,中/f,，/w,能够/v,对/p,输出/v,的/u,结果/n,计算/v,并/c,知道/v,自己/r,做/v,的/u,好坏/n,。/w,而/c,能/v,帮助/v,我们/r,完成/v,这/r,件/q,事情/n,的/u,工具/n,叫做/v,『/w,损失/n,函数/n,//w,loss/en, ,function/en,』/w,，/w,其实/d,它/r,还有/v,很多/m,其他/r,的/u,名字/n,，/w,比如说/l,，/w,你/r,说不定/l,在/p,其他/r,的/u,地方/n,听/v,人/n,把/p,它/r,叫做/v,『/w,代价/n,函数/n,//w,cost/en, ,function/en,』/w,或者/c,『/w,客观/n,度/q,//w,objective/en,』/w,，/w,直观/a,一点/m,说/v,，/w,就是/d,我们/r,输出/v,的/u,结果/n,和/c,实际/n,情况/n,偏差/n,很/d,大/a,的/u,时候/n,，/w,损失/n,//w,代价/n,就/d,会/v,很/d,大/a,。/w,2/m,./w,3/m,./w,1/m, ,多/a,类别/n,支持/v,向/p,量机/nw,损失/n,//w,multiclass/en, ,support/en, ,vector/en, ,machine/en, ,loss/en,腻害/nw,的/u,大神/nz,们/k,定义/n,出/v,了/u,好些/m,损失/n,函数/n,，/w,我们/r,这里/r,首先/d,要/v,介绍/v,一种/mq,极其/d,常用/a,的/u,，/w,叫做/v,多/a,类别/n,支持/v,向/p,量机/nw,损失/n,(/w,multiclass/en, ,svm/en, ,loss/en,)/w,。/w,如果/c,要/v,用/p,一句/mq,精简/v,的/u,话/n,来/v,描述/v,它/r,，/w,就/d,是/v,它/r,(/w,svm/en,)/w,希望/v,正确/a,的/u,类别/n,结果/n,获得/v,的/u,得分/n,比/p,不/d,正确/a,的/u,类别/n,，/w,至少/d,要/v,高/a,上/f,一个/m,固定/a,的/u,大小/n,Δ,。/w,我们/r,先/d,解释/v,一下/m,这/r,句/q,话/n,，/w,一会儿/m,再/d,举/v,个/q,例子/n,说明/v,一下/m,。/w,对于/p,训练/vn,集中/v,的/u,第/m,i/en,张/q,图片/n,数据/n,xi/en,，/w,我们/r,的/u,得分/n,函数/n,，/w,在/p,参数/n,w/en,下/f,会/v,计算/v,出/v,一个/m,所有/b,类/q,得分/n,结果/n,其中/r,第/m,j/en,类/q,得分/n,我们/r,记作/nw,，/w,该/r,图片/n,的/u,实际/n,类别/n,为/p,yi/en,，/w,则/d,对于/p,第/m,i/en,张样本/nr,图片/n,，/w,我们/r,的/u,损失/n,函数/n,是/v,如下/v,定义/n,的/u,：/w,看/v,公式/n,容易/a,看/v,瞎/v,，/w,译者/n,也/d,经常/d,深深/d,地/u,为/p,自己/r,智商/n,感到/v,捉急/nw,，/w,我们/r,举/v,个/q,例子/n,来/v,解释/v,一下/m,这个/r,公式/n,。/w,假如/c,我们/r,现在/t,有/v,三个/m,类别/n,，/w,而/c,得分/n,函数/n,计算/v,某/r,张/q,图片/n,的/u,得分/n,为/p,，/w,而/c,实际/n,的/u,结果/n,是/v,第一/m,类/q,(/w,yi/en,=/w,0/m,)/w,。/w,假设/v,Δ,=/w,10/m,(/w,这个/r,参数/n,一会儿/m,会/v,介绍/v,)/w,。/w,上面/f,的/u,公式/n,把/p,错误/n,类别/n,(/w,j/en,≠/w,yi/en,)/w,都/d,遍历/nw,了/u,一遍/mq,，/w,求/v,值加/nw,和/c,：/w,仔细/ad,看看/v,上述/b,的/u,两项/mq,，/w,左边/f,项/q,-/w,10/m,和/c,0/m,中/f,的/u,最/d,大/a,值/n,为/p,0/m,，/w,因此/c,取值/v,是/v,零/m,。/w,其实/d,这里/r,的/u,含义/n,是/v,，/w,实际/n,的/u,类别/n,得分/n,13/m,要/v,比/p,第二/m,类/q,得分/n,-/w,7/m,高出/v,20/m,，/w,超过/v,了/u,我们/r,设定/v,的/u,正确/a,类目/nz,和/c,错误/n,类目/nz,之间/f,的/u,最小/a,margin/en, ,Δ,=/w,10/m,，/w,因此/c,第二/m,类/q,的/u,结果/n,我们/r,认为/v,是/v,满意/v,的/u,，/w,并/c,不/d,带来/v,loss/en,，/w,所以/c,值/n,为/p,0/m,。/w,而/c,第三/nw,类/q,得分/n,11/m,，/w,仅/d,比/p,13/m,小/a,2/m,，/w,没有/v,大于/v,Δ,=/w,10/m,，/w,因此/c,我们/r,认为/v,他/r,是/v,有/v,损失/n,//w,loss/en,的/u,，/w,而/c,损失/n,就/d,是/v,当前/t,距离/n,2/m,距离/n,设定/v,的/u,最/d,小/a,距离/n,Δ,的/u,差距/n,8/m,。/w,注意/v,到/v,我们/r,的/u,得分/n,函数/n,是/v,输入/v,像/v,素值/nr,的/u,一个/m,线性/n,函数/n,，/w,因此/c,公式/n,又/d,可以/v,简化/v,为/p,(/w,其中/r,wj/en,是/v,w/en,的/u,第/m,j/en,行/v,)/w,：/w,我们/r,还/d,需要/v,提/v,一下/m,的/u,是/v,，/w,关于/p,损失/n,函数/n,中/f,max/en,(/w,0/m,,/w,-/w,)/w,的/u,这种/r,形式/n,，/w,我们/r,也/d,把/p,它/r,叫做/v,hinge/en, ,loss/en,//w,铰链/n,型/k,损失/n,，/w,有时候/d,你/r,会/v,看到/v,squared/en, ,hinge/en, ,loss/en, ,svm/en,(/w,也/d,叫/v,l/en,2/m,-/w,svm/en,)/w,，/w,它/r,用/p,到/v,的/u,是/v,，/w,这个/r,损失/n,函数/n,惩罚/vn,那些/r,在/p,设定/v,Δ,距离/n,之内/f,的/u,错误/n,类别/n,的/u,惩罚度/nw,更/d,高/a,。/w,两种/mq,损失/n,函数/n,标准/n,在/p,特定/b,的/u,场景/n,下/f,效果/n,各/r,有/v,优劣/n,，/w,要/v,判定/v,用/p,哪个/r,，/w,还是/c,得/u,借助于/v,交叉/vn,验证/vn,//w,cross/en,-/w,validation/en,。/w,对于/p,损失/n,函数/n,的/u,理解/v,，/w,可以/v,参照/v,下/f,图/n,：/w,./w,3/m,./w,2/m, ,正则化/nw,如果/c,大家/r,仔细/ad,想想/v,，/w,会/v,发现/v,，/w,使用/v,上述/b,的/u,loss/en, ,function/en,，/w,会/v,有/v,一个/m,bug/en,。/w,如果/c,参数/n,w/en,能够/v,正确/a,地/u,识别/v,训练/vn,集中/v,所有/b,的/u,图片/n,(/w,损失/n,函数/n,为/p,0/m,)/w,。/w,那么/r,我们/r,对/p,m/en,做/v,一些/m,变换/v,，/w,可以/v,得到/v,无数/m,组/q,也/d,能/v,满足/v,loss/en, ,function/en,=/w,0/m,的/u,参数/n,w/en,’/w,(/w,举/v,个/q,例子/n,，/w,对于/p,λ,>,1/m,的/u,所有/b,λ,w/en,，/w,原来/d,的/u,错误/n,类别/n,和/c,正确/a,类别/n,之间/f,的/u,距离/n,已经/d,大于/v,Δ,，/w,现在/t,乘/v,以/p,λ,，/w,更/d,大/a,了/u,，/w,显然/ad,也/d,能/v,满足/v,loss/en,为/p,0/m,)/w,。/w,于是/c,…/w,我们/r,得/u,想/v,办法/n,把/p,w/en,参数/n,的/u,这种/r,不确定性/nw,去除/v,掉/v,啊/y,…/w,这/r,就是/d,我们/r,要/v,提到/v,的/u,正则化/nw,，/w,我们/r,需要/v,在/p,原来/d,的/u,损失/n,函数/n,上/f,再/d,加上/v,一项/mq,正则化/nw,项/q,(/w,regularization/en, ,penalty/en, ,r/en,(/w,w/en,)/w,)/w,，/w,最/d,常见/a,的/u,正/d,则/d,化项/nw,是/v,l/en,2/m,范数/nr,，/w,它/r,会/v,对/p,幅度/n,很/d,大/a,的/u,特征/n,权/n,重/a,给/p,很/d,高/a,的/u,惩罚/vn,：/w,根据/p,公式/n,可以/v,看到/v,，/w,这个/r,表达/v,式/k,r/en,(/w,w/en,)/w,把/p,所有/b,w/en,的/u,元素/n,的/u,平方项/nw,求和/vn,了/u,。/w,而且/c,它/r,和/c,数据/n,本身/r,无关/v,，/w,只/d,和/c,特征/n,权/n,重/a,有/v,关系/n,。/w,我们/r,把/p,两/m,部分组/n,(/w,数据/n,损失/n,//w,data/en, ,loss/en,和/c,正则化/nw,损失/n,//w,regularization/en, ,loss/en,)/w,在/p,一起/s,，/w,得到/v,完整/a,的/u,多/a,类别/n,svm/en,损失/n,权重/nz,，/w,如下/v,：/w,也/d,可以/v,展开/v,，/w,得到/v,更/d,具体/a,的/u,完整/a,形式/n,：/w,其中/r,n/en,是/v,训练/vn,样本/n,数/m,，/w,我们/r,给/p,正/d,则/d,化项/nw,一个/m,参数/n,λ,，/w,但是/c,这个/r,参数/n,的/u,设定/v,只有/c,通过/p,实验/vn,确定/v,，/w,对/p,…/w,还是/c,得/u,交叉/vn,验证/vn,//w,cross/en,-/w,validation/en,。/w,关于/p,设定/v,这样/r,一个/m,正则化/nw,惩罚/vn,项/q,为什么/r,能/v,解决/v,w/en,的/u,不确定性/nw,，/w,我们/r,在/p,之后/f,的/u,系列/q,里/f,会/v,提到/v,，/w,这里/r,我们/r,举/v,个/q,例子/n,简单/a,看看/v,，/w,这个/r,项/q,是/v,怎么/r,起/v,到/v,作用/n,的/u,。/w,假定/v,我们/r,的/u,输入/v,图片/n,像素/n,矩阵/n,是/v,x/en,=/w,[/w,1/m,,/w,1/m,,/w,1/m,,/w,1/m,]/w,，/w,而/c,现在/t,我们/r,有/v,两组/mq,不同/a,的/u,w/en,权/n,重/a,参数/n,中/f,对应/v,的/u,向量/n,w/en,1/m,=/w,[/w,1/m,,/w,0/m,,/w,0/m,,/w,0/m,]/w,，/w,w/en,2/m,=/w,[/w,0.25/m,,/w,0.25/m,,/w,0.25/m,,/w,0.25/m,]/w,。/w,那/r,我们/r,很/d,容易/a,知道/v,wt/en,1/m,x/en,=/w,wt/en,2/m,x/en,=/w,1/m,，/w,所以/c,不/d,加/v,正/d,则/d,项/q,的/u,时候/n,，/w,这/r,俩/m,得到/v,的/u,结果/n,是/v,完全/ad,一样/u,的/u,，/w,也/d,就/d,意味/n,着/u,——/w,它们/r,是/v,等价/vn,的/u,。/w,但是/c,加/v,了/u,正/d,则/d,项/q,之后/f,，/w,我们/r,发现/v,w/en,2/m,总体/n,的/u,损失/n,函数/n,结果/n,更/d,小/a,(/w,因为/c,4/m,*/w,0.25/m,^,2/m,</w,1/m,)/w,，/w,于是/c,我们/r,的/u,系统/n,会/v,选择/v,w/en,2/m,，/w,这/r,也/d,就/d,意味/n,着/u,系统/n,更/d,『/w,喜欢/v,』/w,权/n,重/a,分布/v,均匀/ad,的/u,参数/n,，/w,而/c,不/d,是/v,某些/r,特征/n,权/n,重/a,明显/a,高于/v,其他/r,权/n,重/a,(/w,占据/v,绝对/d,主导/n,作用/n,)/w,的/u,参数/n,。/w,之后/f,的/u,系列/q,里/f,会/v,提到/v,，/w,这样/r,一个/m,平滑/an,的/u,操作/v,，/w,实际上/d,也/d,会/v,提高/v,系统/n,的/u,泛化/nw,能力/n,，/w,让/v,其/r,具备/v,更/d,高/a,的/u,通用性/n,，/w,而/c,不至于/d,在/p,训练/vn,集/vg,上/f,过/u,拟合/nz,。/w,另外/c,，/w,我们/r,在/p,讨论/v,过/u,拟合/nz,的/u,这个/r,部分/n,的/u,时候/n,，/w,并/c,没有/v,提到/v,b/en,这个/r,参数/n,，/w,这/r,是/v,因为/c,它/r,并/c,不/d,具备/v,像/v,w/en,一样/u,的/u,控制/v,输入/v,特征/n,的/u,某个/r,维度/n,影响力/n,的/u,能力/n,。/w,还/d,需要/v,说/v,一下/m,的/u,是/v,，/w,因为/c,正/d,则/d,项/q,的/u,引入/v,，/w,训练/vn,集/vg,上/f,的/u,准确度/n,是/v,会/v,有/v,一定/d,程度/n,的/u,下降/v,的/u,，/w,我们/r,永远/d,也/d,不/d,可能/v,让/v,损失/n,达到/v,零/m,了/u,(/w,因为/c,这/r,意味着/v,正则化/nw,项/q,为/p,0/m,，/w,也/d,就/d,是/v,w/en,=/w,0/m,)/w,。/w,下面/f,是/v,简单/a,的/u,计算/v,损失/n,函数/n,(/w,没/d,加上/v,正则化/nw,项/q,)/w,的/u,代码/n,，/w,有/v,未/d,向/p,量化/v,和/c,向/p,量化/v,两种/mq,形式/n,：/w,def/en, ,l/en,_,i/en,(/w,x/en,,/w, ,y/en,,/w, ,w/en,)/w,:/w, ,"/w,"/w,"/w, ,未/d,向/p,量化/v,版本/n,./w, ,对/p,给/p,定/v,的/u,单个/b,样本/n,(/w,x/en,,/w,y/en,)/w,计算/v,multiclass/en, ,svm/en, ,loss/en,./w, ,-/w, ,x/en,:/w, ,代表/n,图片/n,像素/n,输入/v,的/u,向量/n, ,(/w,例如/v,cifar/en,-/w,10/m,中/f,是/v,3073/m, ,x/en, ,1/m,，/w,因为/c,添加/vn,了/u,bias/en,项/q,对应/v,的/u,1/m,到/v,x/en,中/f,)/w, ,-/w, ,y/en,:/w, ,图片/n,对应/v,的/u,类别/n,编号/v,(/w,比如/v,cifar/en,-/w,10/m,中/f,是/v,0/m,-/w,9/m,)/w, ,-/w, ,w/en,:/w, ,权重/nz,矩阵/n, ,(/w,例如/v,cifar/en,-/w,10/m,中/f,是/v,10/m, ,x/en, ,3073/m,)/w, ,"/w,"/w,"/w, ,delta/en, ,=/w, ,1.0/m, ,#, ,设定/v,delta/en, ,scores/en, ,=/w, ,w/en,./w,dot/en,(/w,x/en,)/w, ,#, ,内积/n,计算/v,得分/n, ,correct/en,_,class/en,_,score/en, ,=/w, ,scores/en,[/w,y/en,]/w, ,d/en, ,=/w, ,w/en,./w,shape/en,[/w,0/m,]/w, ,#, ,类别/n,数/m,:/w,例如/v,10/m, ,loss/en,_,i/en, ,=/w, ,0.0/m, ,for/en, ,j/en, ,in/en, ,xrange/en,(/w,d/en,)/w,:/w, ,#, ,遍历/nw,所有/b,错误/n,的/u,类别/n, ,if/en, ,j/en, ,=/w,=/w, ,y/en,:/w, ,#, ,跳/v,过/u,正确/a,类别/n, ,continue/en, ,#, ,对/p,第/m,i/en,个/q,样本/n,累加/v,loss/en, ,loss/en,_,i/en, ,+/w,=/w, ,max/en,(/w,0/m,,/w, ,scores/en,[/w,j/en,]/w, ,-/w, ,correct/en,_,class/en,_,score/en, ,+/w, ,delta/en,)/w, ,return/en, ,loss/en,_,i/en, ,def/en, ,l/en,_,i/en,_,vectorized/en,(/w,x/en,,/w, ,y/en,,/w, ,w/en,)/w,:/w, ,"/w,"/w,"/w, ,半/m,向/p,量化/v,的/u,版本/n,，/w,速度/n,更/d,快/a,。/w, ,之所以/c,说/v,是/v,半/m,向/p,量化/v,，/w,是/v,因为/c,这个/r,函数/n,外层/n,要/v,用/p,for/en,循环/vn,遍历/nw,整个/b,训练/vn,集/vg, ,-/w,_,-/w,|/w,|/w, ,"/w,"/w,"/w, ,delta/en, ,=/w, ,1.0/m, ,scores/en, ,=/w, ,w/en,./w,dot/en,(/w,x/en,)/w, ,#, ,矩阵/n,一次性/d,计算/v, ,margins/en, ,=/w, ,np/en,./w,maximum/en,(/w,0/m,,/w, ,scores/en, ,-/w, ,scores/en,[/w,y/en,]/w, ,+/w, ,delta/en,)/w, ,margins/en,[/w,y/en,]/w, ,=/w, ,0/m, ,loss/en,_,i/en, ,=/w, ,np/en,./w,sum/en,(/w,margins/en,)/w, ,return/en, ,loss/en,_,i/en, ,def/en, ,l/en,(/w,x/en,,/w, ,y/en,,/w, ,w/en,)/w,:/w, ,"/w,"/w,"/w, ,全/a,向/p,量化/v,实现/v, ,:/w, ,-/w, ,x/en,:/w, ,包含/v,所有/b,训练/vn,样本/n,中/f,数据/n,(/w,例如/v,cifar/en,-/w,10/m,是/v,3073/m, ,x/en, ,50000/m,)/w, ,-/w, ,y/en,:/w, ,所有/b,的/u,类别/n,结果/n, ,(/w,例如/v,50000/m, ,x/en, ,1/m,的/u,向量/n,)/w, ,-/w, ,w/en,:/w, ,权重/nz,矩阵/n, ,(/w,例如/v,10/m, ,x/en, ,3073/m,)/w, ,"/w,"/w,"/w, ,#,待/v,完成/v,./w,./w,./w,说/v,到/v,这里/r,，/w,其实/d,我们/r,的/u,损失/n,函数/n,，/w,是/v,提供/v,给/p,我们/r,一个/m,数值型/nw,的/u,表示/v,，/w,来/v,衡量/v,我们/r,的/u,预测/v,结果/n,和/c,实际/n,结果/n,的/u,差别/n,。/w,而/c,要/v,提高/v,预测/v,的/u,准确性/n,，/w,要/v,做/v,的/u,事情/n,是/v,，/w,想/v,办法/n,最小化/nw,这个/r,loss/en,。/w,2.4/m, ,一些/m,现实/n,的/u,考虑/v,点/q,2/m,./w,4/m,./w,1/m, ,设定/v,delta/en,我们/r,在/p,计算/v,multi/en, ,svm/en, ,loss/en,的/u,时候/n,，/w,Δ,是/v,我们/r,提前/v,设定/v,的/u,一个/m,参数/n,。/w,这个/r,值/n,咋/r,设定/v,？/w,莫不/d,是/v,…/w,也/d,需要/v,交叉/vn,验证/vn,…/w,？/w,其实/d,基本上/d,大部分/m,的/u,场合/n,下/f,我们/r,设定/v,Δ,=/w,1.0/m,都/d,是/v,一个/m,安全/an,的/u,设定/v,。/w,我们/r,看/v,公式/n,中/f,的/u,参数/n,Δ,和/c,λ,似乎/d,是/v,两个/m,截然不同/i,的/u,参数/n,，/w,实际上/d,他俩/r,做/v,的/u,事情/n,比较/d,类似/v,，/w,都/d,是/v,尽量/d,让/v,模型/n,贴近/v,标准/n,预测/v,结果/n,的/u,时候/n,，/w,在/p, ,数据/n,损失/n,//w,data/en, ,loss/en,和/c, ,正则化/nw,损失/n,//w,regularization/en, ,loss/en,之间/f,做/v,一个/m,交换/v,和/c,平衡/a,。/w,在/p,损失/n,函数/n,计算/v,公式/n,里/f,，/w,可以/v,看出/v,，/w,权重/nz,w/en,的/u,幅度/n,对/p,类别/n,得分/n,有/v,最/d,直接/ad,的/u,影响/vn,，/w,我们/r,减小/v,w/en,，/w,最后/f,的/u,得分/n,就/d,会/v,减少/v,；/w,我们/r,增大/v,w/en,，/w,最后/f,的/u,得分/n,就/d,增大/v,。/w,从/p,这个/r,角度/n,看/v,，/w,Δ,这个/r,参数/n,的/u,设定/v,(/w,Δ,=/w,1/m,或者/c,Δ,=/w,100/m,)/w,，/w,其实/d,无法/v,限定/v,w/en,的/u,伸缩/v,。/w,而/c,真正/d,可以/v,做到/v,这/r,点/q,的/u,是/v,正/d,则/d,化项/nw,，/w,λ,的/u,大小/n,，/w,实际上/d,控制/v,着/u,权重/nz,可以/v,增长/v,和/c,膨胀/v,的/u,空间/n,。/w,2/m,./w,4/m,./w,2/m, ,关于/p,二元/mq,//w,binary/en,支持/v,向/p,量机/nw,如果/c,大家/r,之前/f,接触/v,过/u,binary/en, ,svm/en,，/w,我们/r,知道/v,它/r,的/u,公式/n,如下/v,：/w,我们/r,可以/v,理解/v,为/p,类别/n,yi/en,∈−/nw,1/m,,/w,1/m,，/w,它/r,是/v,我们/r,的/u,多/a,类别/n,识别/v,的/u,一个/m,特殊/a,情况/n,，/w,而/c,这里/r,的/u,c/en,和/c,λ,是/v,一样/u,的/u,作用/n,，/w,只不过/d,他们/r,的/u,大小/n,对/p,结果/n,的/u,影响/vn,是/v,相反/v,的/u,，/w,也/d,就/d,是/v,c/en,∝/w,1/m,//w,λ,2/m,./w,4/m,./w,3/m, ,关于/p,非线性/b,的/u,svm/en,如果/c,对/p,机器/n,学习/v,有/v,了解/v,，/w,你/r,可能/v,会/v,了解/v,很多/m,其他/r,关于/p,svm/en,的/u,术语/n,：/w,kernel/en,，/w,dual/en,，/w,smo/en,算法/n,等等/u,。/w,在/p,这个/r,系列/q,里面/f,我们/r,只/d,讨论/v,最/d,基本/a,的/u,线性/n,形式/n,。/w,当然/d,，/w,其实/d,从/p,本质/n,上/f,来说/u,，/w,这些/r,方法/n,都/d,是/v,类似/v,的/u,。/w,2.5/m, ,softmax/en,分类/vn,器话/nw,说/v,其实/d,有/v,两种/mq,特别/d,常见/a,的/u,分类器/nw,，/w,前面/f,提/v,的/u,svm/en,是/v,其中/r,的/u,一种/mq,，/w,而/c,另外/c,一种/mq,就/d,是/v,softmax/en,分类器/nw,，/w,它/r,有/v,着/u,截然不同/i,的/u,损失/n,函数/n,。/w,如果/c,你/r,听说/v,过/u,『/w,逻辑/n,回归/v,二/m,分类器/nw,』/w,，/w,那么/r,softmax/en,分类器/nw,是/v,它/r,泛化/nw,到/v,多/a,分类/vn,的/u,情形/n,。/w,不/d,像/v,svm/en,这种/r,直接/ad,给/p,类目/nz,打分/v,f/en,(/w,xi/en,,/w,w/en,)/w,并/c,作为/v,输出/v,，/w,softmax/en,分类器/nw,从/p,新/a,的/u,角度/n,做/v,了/u,不/d,一样/u,的/u,处理/v,，/w,我们/r,依旧/z,需要/v,将/d,输入/v,的/u,像素/n,向/p,量/n,映射/v,为/p,得分/n,f/en,(/w,x/en,_,i/en,;/w, ,w/en,)/w, ,=/w, ,w/en, ,x/en,_,i/en,，/w,只不过/d,我们/r,还/d,需要/v,将/d,得分/n,映射/v,到/v,概/d,率域/nw,，/w,我们/r,也/d,不再/d,使用/v,hinge/en, ,loss/en,了/u,，/w,而是/c,使用/v,交叉/vn,熵/g,损失/n,//w,cross/en,-/w,entropy/en, ,loss/en,，/w,形式/n,如下/v,：/w,我们/r,使用/v,fj/en,来/v,代表/n,得分/n,向量/n,f/en,的/u,第/m,j/en,个/q,元素值/nw,。/w,和/c,前面/f,提到/v,的/u,一样/u,，/w,总体/n,的/u,损失/n,//w,loss/en,也/d,是/v,li/en,遍历/nw,训练/vn,集/vg,之后/f,的/u,均值/n,，/w,再/d,加上/v,正/d,则/d,化项/nw,r/en,(/w,w/en,)/w,，/w,而/c,函数/n,被/p,称之为/v,softmax/en,函数/n,：/w,它/r,的/u,输入值/nw,是/v,一个/m,实数/n,向/p,量/n,z/en,，/w,然后/c,在/p,指数/n,域/ng,做/v,了/u,一个/m,归/v,一/m,化/v,(/w,以/p,保证/v,之和/n,为/p,1/m,)/w,映射/v,为/p,概率/n,。/w,2/m,./w,5/m,./w,1/m, ,信息论/n,角度/n,的/u,理解/v,对于/p,两个/m,概率/n,分布/v,p/en,(/w,“/w,真实/a,的/u,概率/n,分布/v,”/w,)/w,和/c,估测/v,的/u,概率/n,分布/v,q/en,(/w,估测/v,的/u,属于/v,每个/r,类/q,的/u,概率/n,)/w,，/w,它们/r,的/u,互熵/nw,定义/n,为/p,如下/v,形式/n,：/w,而/c,softmax/en,分类器/nw,要/v,做/v,的/u,事情/n,，/w,就是/d,要/v,最小化/nw,预测/v,类别/n,的/u,概率/n,分布/v,(/w,之前/f,看到/v,了/u,，/w,是/v,与/p,『/w,实际/n,类别/n,概率/n,分布/v,』/w,(/w,p/en,=/w,[/w,0/m,,/w,…/w,1/m,,/w,…/w,,/w,0/m,]/w,，/w,只/d,在/p,结果/n,类目/nz,上/f,是/v,1/m,，/w,其余/r,都/d,为/p,0/m,)/w,两个/m,概率/n,分布/v,的/u,交叉/vn,熵/g,。/w,另外/c,，/w,因为/c,互熵/nw,可以/v,用/p,熵/g,加上/v,kl/en,距离/n,//w,kullback/en,-/w,leibler/en, ,divergence/en,(/w,也/d,叫/v,相对/d,熵/g,//w,relative/en, ,entropy/en,)/w,来/v,表示/v,，/w,即/v,，/w,而/c,p/en,的/u,熵/g,为/p,0/m,(/w,这/r,是/v,一个/m,确定/v,事件/n,，/w,无/v,随机性/n,)/w,，/w,所以/c,互熵/nw,最小化/nw,，/w,等同/v,于/p,最小化/nw,两个/m,分布/v,之间/f,的/u,kl/en,距离/n,。/w,换句话说/c,，/w,交叉/vn,熵/g,想/v,要/v,从/p,给/p,定/v,的/u,分布/v,q/en,上/f,预测/v,结果/n,分布/v,p/en,。/w,2/m,./w,5/m,./w,2/m, ,概率/n,角度/n,的/u,理解/v,我们/r,再/d,来/v,看看/v,以下/f,表达/v,式/k,其实/d,可以/v,看做/v,给/p,定/v,图片/n,数据/n,xi/en,和/c,类别/n,yi/en,以及/c,参数/n,w/en,之后/f,的/u,归/v,一/m,化/v,概率/n,。/w,在/p,概率/n,的/u,角度/n,理解/v,，/w,我们/r,在/p,做/v,的/u,事情/n,，/w,就/d,是/v,最小化/nw,错误/n,类别/n,的/u,负/v,log/en,似然/nw,概率/n,，/w,也/d,可以/v,理解/v,为/p,进行/v,最/d,大/a,似然/nw,估计/v,//w,maximum/en, ,likelihood/en, ,estimation/en, ,(/w,mle/en,)/w,。/w,这个/r,理解/v,角度/n,还有/v,一个/m,好处/n,，/w,这个/r,时候/n,我们/r,的/u,正/d,则/d,化项/nw,r/en,(/w,w/en,)/w,有/v,很/d,好/a,的/u,解释性/n,，/w,可以/v,理解/v,为/p,整个/b,损失/n,函数/n,在/p,权/n,重/a,矩阵/n,w/en,上/f,的/u,一个/m,高斯/nr,先验/n,，/w,所以/c,其实/d,这时候/r,是/v,在/p,做/v,一个/m,最大/a,后验/nw,估计/v,//w,maximum/en, ,a/en, ,posteriori/en, ,(/w,map/en,)/w,。/w,2/m,./w,5/m,./w,3/m, ,实际/n,工程/n,上/f,的/u,注意/v,点/q,：/w,数据/n,稳定性/n,在/p,我们/r,要/v,写/v,代码/n,工程/n,实现/v,softmax/en,函数/n,的/u,时候/n,，/w,计算/v,的/u,中间/f,项/q,因为/c,指数/n,运算/vn,可能/v,变/v,得/u,非常/d,大/a,，/w,除法/n,的/u,结果/n,非常/d,不/d,稳定/a,，/w,所以/c,这里/r,需要/v,一个/m,小/a,技巧/n,。/w,注意/v,到/v,，/w,如果/c,我们/r,在/p,分子/n,分/q,母/b,前/f,都/d,乘/v,以/p,常数/n,c/en,，/w,然后/c,整理/v,到/v,指数/n,上/f,，/w,我们/r,会/v,得到/v,下面/f,的/u,公式/n,：/w,c/en,的/u,取值/v,由/p,我们/r,而/c,定/v,，/w,不/d,影响/vn,最后/f,的/u,结果/n,，/w,但是/c,对于/p,实际/n,计算/v,过程/n,中/f,的/u,稳定性/n,有/v,很/d,大/a,的/u,帮助/v,。/w,一个/m,最/d,常见/a,的/u,c/en,取值/v,为/p,。/w,这/r,表明/v,我们/r,应该/v,平移/vn,向/p,量/n,f/en,中/f,的/u,值/n,使得/v,最/d,大/a,值/n,为/p,0/m,，/w,以下/f,的/u,代码/n,是/v,它/r,的/u,一个/m,实现/v,：/w,f/en, ,=/w, ,np/en,./w,array/en,(/w,[/w,123/m,,/w, ,456/m,,/w, ,789/m,]/w,)/w, ,#, ,3个/m,类别/n,的/u,预测/v,示例/n, ,p/en, ,=/w, ,np/en,./w,exp/en,(/w,f/en,)/w, ,//w, ,np/en,./w,sum/en,(/w,np/en,./w,exp/en,(/w,f/en,)/w,)/w, ,#, ,直接/ad,运算/vn,，/w,数值/n,稳定性/n,不/d,太/d,好/a, ,#, ,我们/r,先/d,对/p,数据/n,做/v,一个/m,平移/vn,，/w,所以/c,输入/v,的/u,最/d,大/a,值/n,为/p,0/m,:/w, ,f/en, ,-/w,=/w, ,np/en,./w,max/en,(/w,f/en,)/w, ,#, ,f/en, ,变成/v, ,[/w,-/w,666/m,,/w, ,-/w,333/m,,/w, ,0/m,]/w, ,p/en, ,=/w, ,np/en,./w,exp/en,(/w,f/en,)/w, ,//w, ,np/en,./w,sum/en,(/w,np/en,./w,exp/en,(/w,f/en,)/w,)/w, ,#, ,结果/n,正确/a,，/w,同时/c,解决/v,数值/n,不/d,稳定/a,问题/n,2/m,./w,5/m,./w,4/m, ,关于/p,softmax/en,这个/r,名字/n,的/u,一点/m,说明/v,准确/a,地/u,说/v,，/w,svm/en,分类器/nw,使用/v,hinge/en, ,loss/en,(/w,有时候/d,也/d,叫/v,max/en,-/w,margin/en, ,loss/en,)/w,。/w,而/c,softmax/en,分类器/nw,使用/v,交叉/vn,熵/g,损失/n,//w,cross/en,-/w,entropy/en, ,loss/en,。/w,softmax/en,分类器/nw,从/p,softmax/en,函数/n,(/w,恩/ng,，/w,其实/d,做/v,的/u,事情/n,就/d,是/v,把/p,一列/mq,原始/a,的/u,类别/n,得分归一化/nw,到/v,一列/mq,和/c,为/p,1/m,的/u,正数/v,表示/v,概率/n,)/w,得到/v,，/w,softmax/en,函数/n,使得/v,交叉/vn,熵/g,损失/n,可以/v,用/p,起来/v,。/w,而/c,实际上/d,，/w,我们/r,并/c,没有/v,softmax/en, ,loss/en,这个/r,概念/n,，/w,因为/c,softmax/en,实质/n,上/f,就/d,是/v,一个/m,函数/n,，/w,有时候/d,我们/r,图/n,方便/a,，/w,就/d,随口/d,称呼/v,softmax/en, ,loss/en,。/w,2.6/m, ,svm/en, ,与/p, ,softmax/en,这个/r,比较/d,很/d,有意思/l,，/w,就/d,像/v,在/p,用/p,到/v,分类/vn,算法/n,的/u,时候/n,，/w,就/d,会/v,想/v,svm/en,还是/c,logistic/en, ,regression/en,呢/y,一样/u,。/w,我们/r,先/d,用/p,一张/mq,图/n,来/v,表示/v,从/p,输入/v,端/v,到/v,分类/vn,结果/n,，/w,svm/en,和/c,softmax/en,都/d,做/v,了/u,啥/r,：/w,区别/n,就是/d,拿/v,到/v,原始/a,像素/n,数据/n,映射/v,得到/v,的/u,得分/n,之后/f,的/u,处理/v,，/w,而/c,正/d,因为/c,处理/v,方式/n,不同/a,，/w,我们/r,定义/n,不同/a,的/u,损失/n,函数/n,，/w,有/v,不同/a,的/u,优化/v,方法/n,。/w,2/m,./w,6/m,./w,1/m, ,另外/c,的/u,差别/n,svm/en,下/f,，/w,我们/r,能/v,完成/v,类别/n,的/u,判定/v,，/w,但是/c,实际上/d,我们/r,得到/v,的/u,类别/n,得分/n,，/w,大小/n,顺序/n,表示/v,着/u,所/u,属/v,类别/n,的/u,排序/vn,，/w,但是/c,得分/n,的/u,绝对值/n,大小/n,并/c,没有/v,特别/d,明显/a,的/u,物理/n,含义/n,。/w,softmax/en,分类器/nw,中/f,，/w,结果/n,的/u,绝对值/n,大小/n,表征/v,属于/v,该/r,类别/n,的/u,概率/n,。/w,举/v,个/q,例子/n,说/v,，/w,svm/en,可能/v,拿/v,到/v,对应/v, ,猫/n,//w,狗/n,//w,船/n, ,的/u,得分/n,[/w,12.5/m,,/w, ,0.6/m,,/w, ,-/w,23.0/m,]/w,，/w,同一个/r,问题/n,，/w,softmax/en,分类器/nw,拿/v,到/v,[/w,0.9/m,,/w, ,0.09/m,,/w, ,0.01/m,]/w,。/w,这样/r,在/p,svm/en,结果/n,下/f,我们/r,只/d,知道/v,『/w,猫/n,』/w,是/v,正确/a,答案/n,，/w,而/c,在/p,softmax/en,分类器/nw,的/u,结果/n,中/f,，/w,我们/r,可以/v,知道/v,属于/v,每个/r,类别/n,的/u,概率/n,。/w,但是/c,，/w,softmax/en,中/f,拿/v,到/v,的/u,概率/n,，/w,其实/d,和/c,正则化/nw,参数/n,λ,有/v,很/d,大/a,的/u,关系/n,，/w,因为/c,λ,实际上/d,在/p,控制/v,着/u,w/en,的/u,伸缩/v,程度/n,，/w,所以/c,也/d,控制/v,着/u,最后/f,得分/n,的/u,scale/en,，/w,这/r,会/v,直接/ad,影响/vn,最后/f,概率/n,向/p,量/n,中/f,概率/n,的/u,『/w,分散度/nw,』/w,，/w,比如说/l,某个/r,λ,下/f,，/w,我们/r,得到/v,的/u,得分/n,和/c,概率/n,可能/v,如下/v,：/w,而/c,我们/r,加大/v,λ,，/w,提高/v,其/r,约束/vn,能力/n,后/f,，/w,很/d,可能/v,得分/n,变为/v,原来/d,的/u,一半/m,大小/n,，/w,这时候/r,如下/v,：/w,因为/c,λ,的/u,不同/a,，/w,使得/v,最后/f,得到/v,的/u,结果/n,概率/n,分散度/nw,有/v,很/d,大/a,的/u,差别/n,。/w,在/p,上面/f,的/u,结果/n,中/f,，/w,猫/n,有/v,着/u,统治性/n,的/u,概率/n,大小/n,，/w,而/c,在/p,下面/f,的/u,结果/n,中/f,，/w,它/r,和/c,船只/n,的/u,概率/n,差距/n,被/p,缩小/v,。/w