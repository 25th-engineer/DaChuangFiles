在/p,本节/t,中/f,，/w,笔者/n,将/d,详细/ad,介绍/v, ,azure/en, ,认知/vn,服务/vn,中/f,的/u,一种/mq,：/w,计算机/n,视觉/n, ,(/w,computer/en, ,vision/en,)/w, ,api/en,。/w,我的/nt,一个/m,客户/n,有/v,需求/n,，/w,他们/r,需要/v,消费者/n,与/p,自己/r,的/u,产品/n,合照/nz,，/w,然后/c,上传/v,到/v,服务器/n,并/c,转发/v,到/v,朋友圈/nz,。/w,但是/c,为了/p,防止/v,恶意/n,用户/n,上/f,传/v,不/d,健康/a,的/u,照片/n,，/w,需要/v,对/p,图像/n,进行/v,筛查/vn,。/w,计算机/n,视觉/n, ,api/en, ,的/u,分析/vn,图像/n,功能/n,，/w,正好/z,有/v, ,adult/en, ,参数/n,，/w,可以/v,检测/vn,图像/n,是否/v,是/v,色情/n,的/u,，/w,正好/z,满足/v,客户/n,的/u,需求/n,。/w,请/v,注意/v,：/w,本文/r,使用/v,的/u,是/v,国内/s,由/p,世纪互联运维/nw,的/u, ,azure/en, ,china/en, ,计算机/n,视觉/n,服务/vn,，/w,api/en, ,参考/v,。/w,如果/c,是/v,使用/v,的/u,是/v,海外/s,的/u, ,azure/en, ,china/en, ,计算机/n,视觉/n,服务/vn,，/w,api/en,参考/v,。/w,计算机/n,视觉/n,解决/v,的/u,问题/n,：/w,1/m,./w, ,分析/vn,图像/n,检查/vn,图像/n,中/f,发现/v,的/u,视觉/n,内容/n,，/w,分析/vn,是否/v,有/v,不/d,健康/a,内容/n,。/w,2/m,./w, ,生成/vn,缩略/nw,图/n,裁剪/v,和/c,生成/vn,缩略/nw,图/n,。/w,3/m,./w, ,读取/v,图片/n,中/f,的/u,文字/n,4/m,./w, ,识别/v,名人/n,关键/n,步骤/n,主要/b,有/v,：/w,接下来/l,我们/r,进入/v, ,demo/en, ,时间/n,，/w,在/p,开始/v,之前/f,，/w,请/v,先/d,准备/v, ,azure/en, ,china/en, ,账户/n,。/w,第一/m,部分/n,：/w,创建/v,计算机/n,视觉/n, ,api/en,，/w,并/c,获得/v, ,api/en, ,key/en,1/m,./w, ,我们/r,找到/v,需要/v,分析/vn,的/u,图片/n, ,url/en,，/w,我/r,这里/r,准备/v,了/u,一张/mq,人脸/n,的/u,照片/n,。/w,2/m,./w, ,我们/r,登录/vn, ,azure/en, ,china/en, ,管理/vn,界面/n,。/w,3/m,./w, ,点击/v,下/f,图/n,的/u,认知/vn,服务/vn,账户/n,4/m,./w, ,点击/v, ,创建/v,认知/vn,服务/vn,账户/n,。/w,如/v,下/f,图/n,：/w,5/m,./w, ,定价/vn,层/q,，/w,我们/r,选择/v,免费/v,。/w,因为/c,是/v, ,demo/en, ,环境/n,，/w,我们/r,就/d,用/p,免费/v,，/w,如果/c,是/v,生产/vn,环境/n,建议/n,选择/v,标准/n,。/w,6/m,./w, ,创建/v,完/v,认知/vn,服务/vn,以后/f,，/w,我们/r,点击/v,密钥/n,，/w,获得/v,访问/v,这个/r,计算机/n,视觉/n, ,api/en, ,的/u, ,access/en, ,key/en,。/w,请/v,保留/v,好/a,这个/r, ,key/en,，/w,下面/f,还要/v,继续/v,使用/v,。/w,第二/m,部分/n,：/w,了解/v, ,api/en, ,参数/n,1/m,./w, ,request/en, ,url/en,：/w,2/m,./w, ,reques/en, ,t/en, ,参数/n,：/w,(/w,1/m,)/w, ,visualfeatures/en, ,参数/n,我们/r,可以/v,设置/v, ,visualfeatures/en, ,为/p,：/w,a/en,./w, ,categories/en,:/w, ,对/p,图像/n,内容/n,进行/v,分类/vn,b/en,./w, ,tags/en,:/w, ,对/p,图像/n,进行/v,标记/n,c/en,./w, ,description/en,:/w, ,用/p,完整/a,的/u,英文/nz,句子/n,描述/v,图像/n,内容/n,d/en,./w, ,faces/en,:/w, ,检测/vn,脸部/n,是否/v,存在/v,。/w, ,如果/c,存在/v,，/w,生成/vn,坐标/n,，/w,性别/n,和/c,年龄/n,e/en,./w, ,imagetype/en,:/w, ,检测/vn,图像/n,是/v,剪贴/vn,还是/c,直线/n,绘图/vn,f/en,./w, ,color/en,:/w, ,确定/v,重音/n,颜色/n,，/w,主色/nw,，/w,以及/c,图像/n,是否/v,为/p,黑白/b,g/en,./w, ,adult/en,:/w, ,检测/vn,图像/n,是否/v,是/v,色情/n,的/u,（/w,描绘/v,裸露/vd,或/c,性/ng,行为/n,）/w,。/w, ,还/d,会/v,检测/vn,到/v,性/ng,暗示/vn,内容/n,。/w,(/w,2/m,)/w, ,details/en,:/w,如果/c,设置/v, ,celebrities/en,，/w,则/d,可以/v,识别/v,名人/n,。/w,(/w,3/m,)/w, ,language/en,:/w,默认/v,是/v, ,en/en,，/w,英文/nz,。/w,可以/v,设置/v,为/p, ,zh/en,，/w,简体/b,中文/nz,。/w,3/m,./w, ,request/en, ,headers/en,：/w,(/w,1/m,)/w, ,content/en,-/w,type/en,(/w,2/m,)/w, ,ocp/en,-/w,apim/en,-/w,subscription/en,-/w,key/en,:/w,上面/f,的/u, ,api/en, ,access/en, ,key/en,4/m,./w,request/en, ,body/en,：/w,(/w,1/m,)/w,支持/v,的/u,图像/n,为/p, ,jpeg/en,,/w, ,png/en,,/w, ,gif/en,和/c,bmp/en,(/w,2/m,)/w,图像/n,的/u,尺寸/n,必须/d,小于/v,4/m,mb/en,(/w,3/m,)/w,图像/n,的/u,分辨率/n,至少/d,为/p,50/m, ,x/en, ,50/m,第三/nw,部分/n,：/w,使用/v, ,api/en, ,测试/vn,控制/v,台/q,调试/v, ,api/en,，/w,并/c,设置/v,调试/v, ,api/en, ,的/u,参数/n,我们/r,拿/v,到/v,上面/f,的/u, ,api/en, ,key/en,，/w,就/d,可以/v,写/v,代码/n,开发/v,了/u,。/w,不过/c,azure/en,认知/vn,服务/vn,提供/v,了/u,非常/d,好/a,的/u,控制台/n,，/w,可以/v,方便/a,我们/r,进行/v,api/en,调试/v,。/w,1/m,./w, ,选择/v,打开/v, ,api/en, ,测试/vn,控制台/n,。/w,2/m,./w, ,在/p, ,api/en, ,控制台/n,，/w,修改/v,以下/f,内容/n,：/w,query/en, ,parameters/en,(/w,1/m,)/w, ,visualfeatures/en,，/w,我们/r,输入/v,：/w,categories/en,,/w,tags/en,,/w,description/en,,/w,faces/en,,/w,imagetype/en,,/w,color/en,,/w,adult/en,这样/r,识别/v,多/a,个/q,元素/n,。/w,(/w,2/m,)/w, ,details/en,，/w,我们/r,不/d,输入/v,信息/n,(/w,3/m,)/w, ,language/en,，/w,使用/v,默认/v,的/u, ,enheaders/en,:/w,(/w,1/m,)/w, ,content/en,-/w,type/en,，/w,我们/r,使用/v,默认/v,值/n,(/w,2/m,)/w, ,ocp/en,-/w,apim/en,-/w,subscription/en,-/w,key/en,，/w,我们/r,输入/v,步骤/n,一/m,的/u, ,api/en, ,access/en, ,keyrequest/en, ,body/en,:/w,(/w,1/m,)/w, ,我们/r,修改/v,为/p,：/w,{/w,"/w,url/en,"/w,:/w,"/w,https/en,:/w,//w,//w,leizhangstorage/en,./w,blob/en,./w,core/en,./w,chinacloudapi/en,./w,cn/en,//w,azureblog/en,//w,analyzeimagesample/en,./w,jpg/en,"/w,}/w,所有/b,参数/n,的/u,修改/v,内容/n,如下/v,图/n,：/w,request/en, ,url/en, ,为/p,：/w,https/en,:/w,//w,//w,api/en,./w,cognitive/en,./w,azure/en,./w,cn/en,//w,vision/en,//w,v/en,1.0/m,//w,analyze/en,?/w,visualfeatures/en,=/w,categories/en,,/w,tags/en,,/w,description/en,,/w,faces/en,,/w,imagetype/en,,/w,color/en,,/w,adult/en,&/w,language/en,=/w,en/en,然后/c,我们/r,点击/v, ,api/en, ,测试/vn,控制/v,台/q,的/u, ,send/en,。/w,显示/v,识别/v,结果/n,。/w,下面/f,的/u,结果/n,我/r,就/d,不/d,一一/d,说明/v,了/u,，/w,主要/b,的/u,显示/v,结果/n,有/v,：/w,1/m,./w, ,faces/en,，/w,识别/v,出/v,图像/n,中/f,的/u,人/n,脸/n,坐标/n,，/w,性别/n,和/c,年龄/n,2/m,./w, ,adultscore/en,，/w,识别/v,出/v,检测/vn,图像/n,是否/v,是/v,色情/n,的/u,，/w,分数/n,越/d,高/a,，/w,则/d,图像/n,色情/n,的/u,可能性/n,越/d,大/a,pragma/en,:/w, ,no/en,-/w,cache/en, ,apim/en,-/w,request/en,-/w,id/en,:/w, ,8/m,a/en,9/m,e/en,6/m,b/en,8/m,c/en,-/w,3/m,a/en,20/m,-/w,42/m,a/en,0/m,-/w,91/m,e/en,0/m,-/w,52/m,d/en,6/m,fbdc/en,5/m,f/en,9/m,e/en, ,strict/en,-/w,transport/en,-/w,security/en,:/w, ,max/en,-/w,age/en,=/w,31536000/m,;/w, ,includesubdomains/en,;/w, ,preload/en, ,x/en,-/w,content/en,-/w,type/en,-/w,options/en,:/w, ,nosniff/en, ,cache/en,-/w,control/en,:/w, ,no/en,-/w,cache/en, ,date/en,:/w, ,thu/en,,/w, ,15/m, ,jun/en, ,2017/m, ,09/m,:/w,06/m,:/w,16/m, ,gmt/en, ,x/en,-/w,aspnet/en,-/w,version/en,:/w, ,4/m,./w,0/m,./w,30319/m, ,x/en,-/w,powered/en,-/w,by/en,:/w, ,asp/en,./w,net/en, ,content/en,-/w,length/en,:/w, ,1595/m, ,content/en,-/w,type/en,:/w, ,application/en,//w,json/en,;/w, ,charset/en,=/w,utf/en,-/w,8/m, ,expires/en,:/w, ,-/w,1/m, ,{/w, ,"/w,categories/en,"/w,:/w, ,[/w, ,{/w, ,"/w,name/en,"/w,:/w, ,"/w,people/en,_,group/en,"/w,,/w, ,"/w,score/en,"/w,:/w, ,0.9765625/m, ,}/w, ,]/w,,/w, ,"/w,adult/en,"/w,:/w, ,{/w, ,"/w,isadultcontent/en,"/w,:/w, ,false/en,,/w, ,"/w,isracycontent/en,"/w,:/w, ,false/en,,/w, ,"/w,adultscore/en,"/w,:/w, ,0.01091344840824604/m,,/w, ,"/w,racyscore/en,"/w,:/w, ,0.055492393672466278/m, ,}/w,,/w, ,"/w,tags/en,"/w,:/w, ,[/w, ,{/w, ,"/w,name/en,"/w,:/w, ,"/w,outdoor/en,"/w,,/w, ,"/w,confidence/en,"/w,:/w, ,0.99716836214065552/m, ,}/w,,/w, ,{/w, ,"/w,name/en,"/w,:/w, ,"/w,person/en,"/w,,/w, ,"/w,confidence/en,"/w,:/w, ,0.99493598937988281/m, ,}/w,,/w, ,{/w, ,"/w,name/en,"/w,:/w, ,"/w,posing/en,"/w,,/w, ,"/w,confidence/en,"/w,:/w, ,0.95204299688339233/m, ,}/w,,/w, ,{/w, ,"/w,name/en,"/w,:/w, ,"/w,group/en,"/w,,/w, ,"/w,confidence/en,"/w,:/w, ,0.82954329252243042/m, ,}/w,,/w, ,{/w, ,"/w,name/en,"/w,:/w, ,"/w,people/en,"/w,,/w, ,"/w,confidence/en,"/w,:/w, ,0.583439290523529/m, ,}/w,,/w, ,{/w, ,"/w,name/en,"/w,:/w, ,"/w,crowd/en,"/w,,/w, ,"/w,confidence/en,"/w,:/w, ,0.019400959834456444/m, ,}/w, ,]/w,,/w, ,"/w,description/en,"/w,:/w, ,{/w, ,"/w,tags/en,"/w,:/w, ,[/w, ,"/w,outdoor/en,"/w,,/w, ,"/w,person/en,"/w,,/w, ,"/w,posing/en,"/w,,/w, ,"/w,photo/en,"/w,,/w, ,"/w,grass/en,"/w,,/w, ,"/w,group/en,"/w,,/w, ,"/w,standing/en,"/w,,/w, ,"/w,people/en,"/w,,/w, ,"/w,man/en,"/w,,/w, ,"/w,woman/en,"/w,,/w, ,"/w,young/en,"/w,,/w, ,"/w,holding/en,"/w,,/w, ,"/w,dress/en,"/w,,/w, ,"/w,white/en,"/w,,/w, ,"/w,court/en,"/w, ,]/w,,/w, ,"/w,captions/en,"/w,:/w, ,[/w, ,{/w, ,"/w,text/en,"/w,:/w, ,"/w,a/en, ,group/en, ,of/en, ,people/en, ,posing/en, ,for/en, ,a/en, ,picture/en,"/w,,/w, ,"/w,confidence/en,"/w,:/w, ,0.94583615520612/m, ,}/w, ,]/w, ,}/w,,/w, ,"/w,requestid/en,"/w,:/w, ,"/w,8/m,a/en,9/m,e/en,6/m,b/en,8/m,c/en,-/w,3/m,a/en,20/m,-/w,42/m,a/en,0/m,-/w,91/m,e/en,0/m,-/w,52/m,d/en,6/m,fbdc/en,5/m,f/en,9/m,e/en,"/w,,/w, ,"/w,metadata/en,"/w,:/w, ,{/w, ,"/w,width/en,"/w,:/w, ,600/m,,/w, ,"/w,height/en,"/w,:/w, ,463/m,,/w, ,"/w,format/en,"/w,:/w, ,"/w,jpeg/en,"/w, ,}/w,,/w, ,"/w,faces/en,"/w,:/w, ,[/w, ,{/w, ,"/w,age/en,"/w,:/w, ,42/m,,/w, ,"/w,gender/en,"/w,:/w, ,"/w,male/en,"/w,,/w, ,"/w,facerectangle/en,"/w,:/w, ,{/w, ,"/w,left/en,"/w,:/w, ,117/m,,/w, ,"/w,top/en,"/w,:/w, ,159/m,,/w, ,"/w,width/en,"/w,:/w, ,95/m,,/w, ,"/w,height/en,"/w,:/w, ,95/m, ,}/w, ,}/w,,/w, ,{/w, ,"/w,age/en,"/w,:/w, ,54/m,,/w, ,"/w,gender/en,"/w,:/w, ,"/w,male/en,"/w,,/w, ,"/w,facerectangle/en,"/w,:/w, ,{/w, ,"/w,left/en,"/w,:/w, ,490/m,,/w, ,"/w,top/en,"/w,:/w, ,111/m,,/w, ,"/w,width/en,"/w,: