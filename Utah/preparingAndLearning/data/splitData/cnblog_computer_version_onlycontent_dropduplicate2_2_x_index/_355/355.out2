使用/v,opencv/en,3/m,处理/v,图像/n,下面/f,要/v,介绍/v,的/u,内容/n,都/d,与/p,图像/n,处理/v,有关/vn,，/w,这时/r,需要/v,修改/v,图像/n,，/w,比如/v,要/v,使用/v,具有/v,艺术性/n,的/u,滤镜/n,、/w,外插/nw,（/w,extrapolate/en,）/w,某些/r,部分/n,、/w,分割/v,、/w,粘贴/v,或/c,其他/r,需要/v,的/u,操作/v,。/w,不同/a,色彩/n,空间/n,的/u,转换/v,opencv/en,中/f,有数/a,百种/mq,关于/p,在/p,不同/a,色彩/n,空间/n,之间/f,转换/v,的/u,方法/n,。/w,当前/t,，/w,在/p,计算机/n,视觉/n,中/f,有/v,三种/mq,常用/a,的/u,色彩/n,空间/n,：/w,灰度/n,、/w,bgr/en,以及/c,hsv/en,(/w,hue/en,,/w,saturation/en,,/w,value/en,)/w,1/m,./w,灰度/n,色彩/n,空间/n,是/v,通过/p,去除/v,彩色/b,信息/n,来/v,将/d,其/r,转换/v,成/v,灰阶/nw,，/w,灰度/n,色彩/n,空间/n,对/p,中间/f,处理/v,特别/d,有效/a,，/w,比如/v,人脸/n,检测/vn,。/w,2/m,./w,bgr/en,,/w,即/v,蓝/a,-/w,绿/a,-/w,红/a,色彩/n,空间/n,，/w,每/r,一个/m,像素/n,点/q,都/d,由/p,一个/m,三元数/nw,组/q,来/v,表示/v,，/w,分别/d,代表/n,蓝/a,、/w,绿/a,、/w,红/a,三种/mq,颜色/n,。/w,网页/n,开发者/nz,可能/v,熟悉/v,另/r,一个/m,与/p,之/u,相似/a,的/u,颜色/n,空间/n,：/w,rgb/en,，/w,它们/r,只是/d,在/p,颜色/n,的/u,顺序/n,上/f,不同/a,。/w,3/m,./w,hsv/en,,/w,h/en,(/w,hue/en,)/w,是/v,色调/n,，/w,s/en,(/w,saturation/en,)/w,是/v,饱和度/n,,/w,v/en,(/w,value/en,)/w,表示/v,黑暗/a,的/u,程度/n,（/w,或/c,光谱/n,另/r,一端/n,的/u,明亮/a,程度/n,）/w,傅里叶/nr,变换/v,在/p,opencv/en,中/f,，/w,对/p,图像/n,和/c,视频/n,的/u,大多数/m,处理/v,都/d,或多或少/d,会/v,涉及/v,傅里叶/nr,变换/v,的/u,概念/n,。/w,傅里叶/nr,观察/v,到/v,所有/b,的/u,波形/n,都/d,可以/v,由/p,一系列/mq,简单/a,且/c,频率/n,不同/a,的/u,正弦/n,曲线/n,叠加/vn,得到/v,。/w,也就是说/l,，/w,人们/n,所/u,看到/v,的/u,波形/n,都/d,是/v,由/p,其他/r,波形/n,叠加/vn,得到/v,的/u,。/w,这个/r,概念/n,也/d,对/p,操作/v,图像/n,非常/d,有/v,帮助/v,，/w,因为/c,这样/r,我们/r,可以/v,区分/v,图像/n,里/f,哪些/r,区域/n,的/u,信号/n,（/w,比如/v,图像/n,像素/n,）/w,变化/vn,特别/d,强/a,，/w,哪些/r,区域/n,的/u,信号/n,变化/vn,不/d,那么/r,强/a,，/w,从而/c,可以/v,任意/d,地/u,标记/n,噪声/n,区域/n,、/w,感/vg,兴趣/n,区域/n,、/w,前景/n,和/c,背景/n,等/u,。/w,原始/a,图像/n,由/p,许多/m,频率/n,组成/v,，/w,人们/n,能够/v,分离/v,这些/r,频率/n,来/v,理解/v,图像/n,和/c,提取/v,感/vg,兴趣/n,地/u,数据/n,注意/v,：/w,在/p,opencv/en,环境/n,中/f,，/w,有/v,许多/m,实现/v,了/u,的/u,算法/n,让/v,我们/r,能够/v,处理/v,图像/n,、/w,理解/v,图像/n,中/f,所/u,包含/v,的/u,意义/n,。/w,这些/r,算法/n,在/p,numpy/en,中/f,也/d,有/v,实现/v,，/w,而且/c,更/d,容易/a,使用/v,。/w,numpy/en,中/f,有/v,快速/d,傅里叶/nr,变换/v,（/w,fft/en,）/w,包/v,，/w,它/r,包含/v,了/u,fft/en,2/m,(/w,)/w,函数/n,，/w,该/r,函数/n,可以/v,计算/v,一幅/mq,图像/n,的/u,离散/vn,傅里叶/nr,变换/v,（/w,dft/en,）/w,下面/f,通过/p,傅里叶/nr,变换/v,来/v,介绍/v,图像/n,的/u,幅度/n,谱/ng,。/w,图像/n,的/u,幅度/n,谱/ng,是/v,另/r,一种/mq,图像/n,，/w,幅度/n,谱/ng,图像/n,呈现/v,了/u,原始/a,图像/n,在/p,变化/vn,方面/n,的/u,一种/mq,表示/v,：/w,把/p,一幅/mq,图像/n,中/f,最/d,明亮/a,的/u,像素/n,放在/v,图像/n,中央/n,，/w,然后/c,逐渐/d,变/v,暗/ad,，/w,在/p,边缘/n,上/f,的/u,像素/n,最/d,暗/ad,。/w,这样/r,可以/v,发现/v,图像/n,中/f,有/v,多少/r,亮/v,的/u,像素/n,和/c,暗/ad,的/u,像素/n,，/w,以及/c,它们/r,分布/v,的/u,百分比/n,。/w,傅里叶/nr,变换/v,的/u,概念/n,是/v,许多/m,常见/a,的/u,图像/n,处理/v,操作/v,的/u,基础/n,，/w,比如/v,边缘/n,检测/vn,或/c,线/n,段/q,和/c,形状/n,检测/vn,。/w,1/m,./w,高通滤波器高通滤波器/nw,（/w,hpf/en,）/w,是/v,检测/vn,图像/n,的/u,某个/r,区域/n,，/w,然后/c,根据/p,像素/n,与/p,周围/f,像素/n,的/u,亮度/n,差值/n,来/v,提升/v,（/w,boost/en,）/w,该/r,像素/n,的/u,亮度/n,的/u,滤波器/n,。/w,核/n,是/v,指/v,一组/mq,权重/nz,的/u,集合/v,，/w,他/r,会/v,应用/vn,在/p,源/ng,图像/n,的/u,一个/m,区域/n,，/w,并/c,由此/d,生成/vn,目标/n,图像/n,的/u,一个/m,像素/n,。/w,比如/v,，/w,大小/n,为/p,7/m,的/u,核/n,意味/n,着/u,每/r,49/m,（/w,7/m,×/w,7/m,）/w,个源/nw,图像/n,的/u,像素/n,会/v,产生/v,目标/n,图像/n,的/u,一个/m,像素/n,。/w,可/v,把/p,核/n,看作/v,一块/mq,覆盖/v,在/p,源/ng,图像/n,上/f,可/v,移动/vn,的/u,毛玻璃片/nw,，/w,玻璃片/nw,覆盖/v,区域/n,的/u,光线/n,会/v,按/p,某种/r,方式/n,进行/v,扩散/v,混合/vn,后/f,透/v,过去/t,。/w,在/p,计算/v,完/v,中央/n,像素/n,与/p,周围/f,近邻/n,像素/n,的/u,亮度/n,差值/n,之和/n,以后/f,，/w,如果/c,亮度/n,变化/vn,很/d,大/a,，/w,中央/n,像素/n,的/u,亮度/n,会/v,增加/v,（/w,反之/c,则/d,不/d,会/v,）/w,。/w,换句话说/c,，/w,如果/c,一个/m,像素/n,比/p,它/r,周围/f,的/u,像素/n,更/d,突出/a,，/w,就/d,会/v,提升/v,它/r,的/u,亮度/n,这/r,在/p,边缘/n,检测/vn,上/f,尤其/d,有效/a,，/w,它/r,会/v,采用/v,一种/mq,称为/v,高频/b,提升/v,滤波器/n,的/u,高/a,通滤波器/nw,。/w,高通/nr,和/c,低/a,通滤波器/nw,都/d,有/v,一个/m,称为/v,半径/n,的/u,属性/n,，/w,它/r,决定/v,了/u,多/a,大/a,面积/n,的/u,邻近/v,像素/n,参与/v,滤波/v,运算/vn,2/m,./w,低/a,通滤波器/nw,低/a,通滤波器/nw,（/w,lpf/en,）/w,则/d,是/v,在/p,像素/n,与/p,周围/f,像素/n,的/u,亮度/n,差值/n,小于/v,一个/m,特定值/nw,时/ng,，/w,平滑/an,该/r,像素/n,的/u,亮度/n,。/w,它/r,主要/b,用于/v,去/v,噪/vg,和/c,模糊化/n,，/w,比如说/l,，/w,高斯/nr,模糊/a,是/v,最/d,常用/a,的/u,模糊滤波器/nw,（/w,平滑滤波器/nw,）/w,之一/r,，/w,它/r,是/v,一个/m,削弱/v,高频/b,信号/n,强度/n,的/u,低/a,通滤波器/nw,。/w,边缘/n,检测/vn,边缘/n,在/p,人类/n,视觉/n,和/c,计算机/n,视觉/n,中/f,均/d,起/v,着/u,重要/a,的/u,作用/n,。/w,人类/n,能够/v,仅/d,凭/p,一张/mq,背景/n,剪影/v,或/c,一个/m,草图/n,就/d,识别/v,出/v,物体/n,的/u,类型/n,和/c,姿态/n,。/w,opencv/en,提供/v,了/u,许多/m,边缘/n,检测/vn,滤波器/n,，/w,包括/v,laplacian/en,(/w,)/w,、/w,sobel/en,(/w,)/w,以及/c,scharr/en,(/w,)/w,。/w,这些/r,滤波/v,函数/n,都/d,会/v,将/d,非/h,边缘/n,区域/n,转为/v,黑色/n,，/w,将/d,边缘/n,区域/n,转为/v,白色/n,或/c,其他/r,饱和/vn,的/u,颜色/n,。/w,但是/c,，/w,这些/r,函数/n,都/d,很/d,容易/a,将/d,噪声/n,错误/n,地/u,识别/v,为/p,边缘/n,。/w,缓解/v,这个/r,问题/n,的/u,方法/n,是/v,在/p,找到/v,边缘/n,之前/f,对/p,图像/n,进行/v,模糊/a,处理/v,。/w,opencv/en,也/d,提供/v,了/u,许多/m,模糊/a,滤波/v,函数/n,，/w,包括/v,blur/en,(/w,)/w,（/w,简单/a,的/u,算术/n,平均/a,）/w,、/w,medianblur/en,(/w,)/w,以及/c,gaussianblur/en,(/w,)/w,。/w,边缘/n,检测/vn,滤波/v,函数/n,和/c,模糊/a,滤波/v,函数/n,的/u,参数/n,有/v,很多/m,，/w,但/c,总/b,会/v,有/v,一个/m,ksize/en,参数/n,，/w,它/r,是/v,一个/m,奇数/n,，/w,表示/v,滤波/v,核/n,的/u,宽/a,和/c,高/a,。/w,这里/r,使用/v,medianblur/en,(/w,)/w,作为/v,模糊/a,函数/n,，/w,它/r,对/p,去除/v,数字化/vn,的/u,视频/n,噪声/n,非常/d,有/v,效/ng,，/w,特别/d,是/v,去除/v,彩色/b,图像/n,的/u,噪声/n,；/w,使用/v,laplacian/en,(/w,)/w,作为/v,边缘/n,检测/vn,函数/n,，/w,他/r,会/v,产生/v,明显/a,的/u,边缘/n,线条/n,，/w,灰度/n,图像/n,更/d,是/v,如此/r,。/w,在/p,使用/v,medianblur/en,(/w,)/w,函数/n,之后/f,，/w,将要/d,使用/v,laplacian/en,(/w,)/w,函数/n,之前/f,，/w,需要/v,将/d,图像/n,从/p,bgr/en,色彩/n,空间/n,转为/v,灰度/n,色彩/n,空间/n,。/w,用/p,定制/v,内核/n,做/v,卷积/nw,opencv/en,预定义/nw,的/u,许多/m,滤波器/n,（/w,滤波/v,函数/n,）/w,都/d,会/v,使用/v,核/n,。/w,其实/d,核/n,是/v,一组/mq,权重/nz,，/w,它/r,决定/v,如何/r,通过/p,邻近/v,像/v,素点/nr,来/v,计算/v,新/a,的/u,像素/n,点/q,。/w,核/n,也/d,称为/v,卷积矩阵/nw,，/w,它/r,对/p,一个/m,区域/n,的/u,像素/n,做/v,调和/vn,（/w,mix/en, ,up/en,）/w,或/c,卷积/nw,运算/vn,。/w,通常/d,基于/p,核/n,的/u,滤波器/n,（/w,滤波/v,函数/n,）/w,也/d,被/p,称为/v,卷积滤波器/nw,（/w,滤波/v,函数/n,）/w,。/w,opencv/en,提供/v,了/u,一个/m,非常/d,通用/vn,的/u,filter/en,2/m,d/en,(/w,)/w,函数/n,，/w,它/r,运用/v,由/p,用户/n,指定/v,的/u,任意/d,核/n,或/c,卷积矩阵/nw,。/w,为了/p,理解/v,这个/r,函数/n,的/u,使用/v,方法/n,，/w,首先/d,来/v,了解/v,卷积矩阵/nw,的/u,格式/n,。/w,卷积矩阵/nw,是/v,一个/m,二维/nr,数组/n,，/w,有/v,奇/ag,数/m,行/v,、/w,奇数/n,列/v,，/w,中心/n,的/u,元素/n,对应/v,于/p,感/vg,兴趣/n,的/u,像素/n,，/w,其他/r,的/u,元素/n,对应/v,于/p,这个/r,像素/n,周围/f,的/u,邻近/v,像素/n,，/w,每个/r,元素/n,都/d,有/v,一个/m,整数/n,或/c,浮/v,点数/n,的/u,值/n,，/w,这些/r,值/n,就/d,是/v,应用/vn,在/p,像/v,素值/nr,上/f,的/u,权重/nz,。/w,cv/en,2/m,./w,filter/en,2/m,d/en,（/w,src/en,,/w,-/w,1/m,,/w,kernel/en,,/w,dst/en,）/w,第二/m,个/q,参数/n,指定/v,了/u,目标/n,图像/n,每个/r,通道/n,的/u,位/q,深度/n,（/w,比如/v,，/w,位/q,深度/n,cv/en,2/m,./w,cv/en,_,8/m,u/en,表示/v,每个/r,通道/n,为/p,8位/mq,）/w,，/w,如果/c,为/p,负值/n,，/w,则/d,表示/v,目标/n,图像/n,和/c,源/ng,图像/n,有/v,同样/d,的/u,位/q,深度/n,。/w,注意/v,：/w,对/p,彩色/b,图像/n,来说/u,，/w,filter/en,2/m,d/en,(/w,)/w,会/v,对/p,每个/r,通道/n,都/d,用/p,同样/d,的/u,核/n,。/w,如果/c,要/v,对/p,每个/r,通道/n,使用/v,不同/a,的/u,核/n,，/w,就/d,必须/d,用/p,split/en,(/w,)/w,函数/n,和/c,merge/en,(/w,)/w,函数/n,。/w,锐化/nr,、/w,边缘/n,检测/vn,以及/c,模糊/a,等/u,滤波器/n,都/d,使用/v,了/u,高度/d,对称/ad,的/u,核/n,。/w,但是/c,有时/d,不/d,对称/ad,的/u,核/n,也/d,会/v,得到/v,一些/m,有趣/a,的/u,效果/n,。/w,canny/en,边缘/n,检测/vn,opencv/en,还/d,提供/v,了/u,一个/m,非常/d,方便/a,的/u,canny/en,函数/n,，/w,该/r,算法/n,非常/d,流行/v,，/w,不仅/c,是/v,因为/c,它/r,的/u,效果/n,，/w,还/d,因为/c,在/p,opencv/en,程序/n,中/f,实现/v,时/ng,非常/d,简单/a,。/w,import/en, ,cv/en,2/m, ,import/en, ,numpy/en, ,as/en, ,np/en, ,img/en,=/w,cv/en,2/m,./w,imread/en,(/w,"/w,1/m,./w,jpg/en,"/w,,/w,0/m,)/w, ,cv/en,2/m,./w,imwrite/en,(/w,"/w,canny/en,./w,jpg/en,"/w,,/w,cv/en,2/m,./w,canny/en,(/w,img/en,,/w,200/m,,/w,300/m,)/w,)/w, ,cv/en,2/m,./w,imshow/en,(/w,"/w,canny/en,"/w,,/w,cv/en,2/m,./w,imread/en,(/w,"/w,canny/en,./w,jpg/en,"/w,)/w,)/w, ,cv/en,2/m,./w,waitkey/en,(/w,)/w, ,cv/en,2/m,./w,destroyallwindows/en,(/w,)/w,canny/en,边缘/n,检测/vn,算法/n,非常/d,复杂/a,，/w,但/c,也/d,很/d,有趣/a,：/w,它/r,有/v,5个/m,步骤/n,，/w,即使/c,用/p,高斯滤波器/nw,对/p,图像/n,进行/v,去/v,噪/vg,、/w,计算/v,梯度/n,、/w,在/p,边缘/n,上/f,使用/v,非/h,最/d,大/a,抑制/v,（/w,nms/en,）/w,、/w,在/p,检测/vn,到/v,的/u,边缘/n,上/f,使用/v,双/m,阈值/n,去/v,除/p,假/a,阳性/n,，/w,最后/f,还/d,会/v,分析/vn,所有/b,的/u,边缘/n,及其/c,之间/f,的/u,连接/v,，/w,以/p,保留/v,真正/d,的/u,边缘/n,并/c,消除/v,不/d,明显/a,的/u,边缘/n,。/w,轮廓/n,检测/vn,在/p,计算机/n,视觉/n,中/f,，/w,轮廓/n,检测/vn,是/v,另/r,一个/m,比较/d,重要/a,的/u,任务/n,，/w,不单/c,是/v,用/p,来/v,检测/vn,图像/n,或者/c,视频/n,帧/q,中/f,物体/n,的/u,轮廓/n,，/w,而且/c,还有/v,其他/r,操作/v,与/p,轮廓/n,检测/vn,有关/vn,。/w,这些/r,操作/v,有/v,：/w,计算/v,多边/b,形/ng,边界/n,、/w,形状/n,逼近/v,核/n,计算/v,感/vg,兴趣/n,区域/n,。/w,这/r,是/v,与/p,图像/n,数据/n,交互/v,时/ng,的/u,简单/a,操作/v,，/w,因为/c,numpy/en,中/f,的/u,矩形/n,区域/n,可以/v,使用/v,数/m,组/q,切片/v,（/w,slice/en,）/w,来/v,定义/n,。/w,在/p,介绍/v,物体/n,检测/vn,（/w,包括/v,人脸/n,）/w,和/c,物体/n,跟踪/v,的/u,概念/n,时/ng,会/v,大量/m,使用/v,这种/r,技术/n,。/w,边界/n,框/q,、/w,最小/a,矩形/n,区域/n,和/c,最/d,小/a,闭圆/nw,