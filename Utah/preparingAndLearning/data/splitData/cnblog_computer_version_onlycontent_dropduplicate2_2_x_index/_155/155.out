【/w,计算机/n,视觉/n,】/w,关于/p,opencv/en,中/f,gpu/en,配置/vn,编译/vn,的/u,相关/v,事项/n,标签/n,（/w,空格/n,分隔/v,）/w,：/w, ,【/w,计算机/n,视觉/n,】/w,前/f,一段/mq,发现/v,了/u,opencv/en,中/f,关于/p,gpu/en,以及/c,opencl/en,的/u,相关/v,知识/n,，/w,打算/v,升级/vn,一下/m,对/p,opencv/en,的/u,使用/v,，/w,但是/c,发现/v,从/p,opencv/en,官/n,网上/s,下载/v,的/u,都/d,是/v,没有/v,with/en,_,cuda/en,这/r,一/m,选项/v,的/u,。/w,于是/c,必须/d,进行/v,opencv/en,带/v,cuda/en,的/u,重/a,编译/vn,！/w,下面/f,就/d,记录/v,这/r,一/m,阶段/n,出现/v,的/u,一系列/mq,问题/n,。/w,关于/p,opencv/en,版本/n,的/u,问题/n,起初/d,直接/ad,尝试/vn,使用/v,一直/d,用/p,的/u,opencv/en,2/m,./w,4/m,./w,9/m,的/u,源码/nw,进行/v,编译/vn,，/w,选择/v,的/u,编译/vn,环境/n,为/p,visual/en, ,studio/en,2010/m, ,x/en,64/m,，/w,因为/c,前面/f,在/p,使用/v,cuda/en,的/u,时候/n,就/d,已经/d,遇到/v,过/u,关于/p,cuda/en,的/u,库/n,对于/p,32位/mq,程序/n,的/u,不/d,全面/ad,支持/v,，/w,即/v,cuda/en,的/u,较/d,高/a,版本/n,好像/v,有/v,一些/m,64位/mq,的/u,库/n,在/p,32位/mq,中/f,是/v,没有/v,的/u,。/w,所以/c,，/w,直接/ad,选择/v,了/u,x/en,64/m,的/u,平台/n,。/w,而/c,此时/r,我/r,使用/v,的/u,cuda/en,版本/n,为/p,8.0/m,。/w,总之/c,，/w,编译/vn,opencv/en,中/f,出现/v,了/u,一系列/mq,莫名其妙/i,的/u,问题/n,，/w,在/p,网上/s,也/d,不好/a,查看/v,。/w,最后/f,尝试/vn,了/u,使用/v,opencv/en,2/m,./w,4/m,./w,13/m,版本/n,，/w,听说/v,是/v,2016年/t,更新/v,的/u,版本/n,，/w,所以/c,应该/v,能/v,跟/p,cuda/en,8.0/m,匹配/vn,。/w,首先/d,只是/d,将/d,opencv/en,2/m,./w,4/m,./w,13/m,的/u,源码/nw,替换/v,了/u,opencv/en,2/m,./w,4/m,./w,9/m,的/u,源码/nw,，/w,然后/c,再/d,去/v,编译/vn,的/u,，/w,debug/en,版本/n,爆出/v,了/u,无法/v,排除/v,的/u,错误/n,，/w,而/c,release/en,版本/n,居然/d,生成/vn,成功/a,了/u,，/w,但是/c,我/r,使用/v,这些/r,库/n,的/u,时候/n,总是/d,说/v,cuda/en, ,function/en, ,api/en, ,call/en,错误/n,之类/r,，/w,应该/v,是/v,还是/c,没有/v,配置/vn,成功/a,。/w,这/r,一/m,问题/n,让/v,我/r,都/d,想/v,放弃/v,了/u,opencv/en,中/f,关于/p,cuda/en,的/u,使用/v,了/u,。/w,后来/t,一再/d,坚持/v,，/w,然后/c,决定/v,使用/v,visual/en, ,studio/en, ,2015/m,进行/v,编译/vn,。/w,这里/r,说明/v,一下/m,，/w,我/r,用/p,cmake/en,进行/v,编译/vn,的/u,时候/n,可/v,选/v,的/u,本地/r,编译器/n,有/v,10/m,，/w,13/m,，/w,和/c,15/m,版本/n,的/u,。/w,当时/t,想/v,使用/v,13/m,版本/n,的/u,win/en,64/m,，/w,但是/c,好像/v,configure/en,不过/c,，/w,于是/c,一直/d,使用/v,10/m,版本/n,，/w,即使/c,打开/v,的/u,时候/n,用/p,的/u,是/v,13/m,版本/n,，/w,但是/c,还是/c,报错/nw,。/w,后来/t,猛然/d,间/f,醒悟/v,，/w,极/d,有/v,可能/v,是/v,编译器/n,版本/n,的/u,问题/n,，/w,于是/c,使用/v,cuda/en,8.0/m,+/w,opencv/en,2/m,./w,4/m,./w,13/m,+/w,visual/en, ,studio/en, ,2015/m, ,x/en,64/m,配置/vn,，/w,不管/c,是/v,debug/en,版本/n,还是/c,release/en,版本/n,都/d,生成/vn,成功/a,了/u,，/w,这/r,全部/m,是/v,最新/a,版本/n,的/u,相互之间/l,的/u,匹配/vn,。/w,关于/p,cmake/en,的/u,配置/vn,选项/v,一个/m,是/v,要/v,选择/v,with/en,_,cuda/en,，/w,然后/c,是/v,选择/v,capabilities/en,，/w,我/r,的/u,笔记本/n,是/v,gtx/en,860/m,m/en,对应/v,的/u,为/p,5.0/m,，/w,我/r,查/v,了/u,一下/m,后面/f,要/v,部署/v,的/u,显卡/n,gtx/en,1060/m,为/p,6.1/m,，/w,我/r,把/p,这/r,两项/mq,加/v,了/u,进去/v,，/w,其实/d,还有/v,一个/m,gpu/en,架构/n,的/u,选项/v,，/w,好像/v,不/d,选/v,的/u,话/n,就/d,是/v,对应/v,自动/d,，/w,但是/c,里面/f,还/d,好像/v,只有/c,开普勒/nr,和/c,费米/nr,架构/n,？/w,我/r,配置/vn,成功/a,的/u,这次/r,没有/v,选择/v,。/w,另外/c,，/w,好像/v,用/p,10/m,版本/n,的/u,配置/vn,这个/r,能力/n,的/u,时候/n,居然/d,配置/vn,不/d,成功/a,，/w,不/d,知道/v,啥/r,原因/n,。/w,关于/p,我/r,电脑/n,上/f,opencv/en,版本/n,控制/v,的/u,说明/v,（/w,1/m,）/w,保留/v,d/en,盘根/nw,目录/n,下/f,的/u,opencv/en,2/m,./w,4/m,./w,9/m,与/p,opencv/en,2/m,./w,4/m,./w,13/m,，/w,这/r,两个/m,都/d,是/v,基于/p,微软/nt,的/u,msvc/en,编译器/n,的/u,，/w,其中/r,opencv/en,2/m,./w,4/m,./w,13/m,版本/n,中/f,的/u,x/en,64/m,中/f,对应/v,的/u,vc/en,14/m,路径/n,下/f,为/p,带/v,cuda/en,-/w,gpu/en,配置/vn,的/u,动态链/nw,接库/nw,。/w,（/w,2/m,）/w,在/p,f/en,盘根/nw,目录/n,下/f,的/u,opencv/en,2/m,./w,4/m,./w,13/m,是/v,对应/v,x/en,64/m,版本/n,的/u,cuda/en,-/w,gpu/en,编译/vn,工程/n,，/w,可以/v,保留/v,，/w,以后/f,又/d,需要/v,在/p,进行/v,修改/v,。/w,（/w,3/m,）/w, ,在/p,f/en,盘根/nw,目录/n,下/f,的/u,opencv/en,2/m,./w,4/m,./w,9/m,-/w,mingw/en,为/p,对应/v,mingw/en, ,gcc/en,编译器/n,的/u,动态/n,链接库/nw,，/w,可以/v,在/p,qt/en,-/w,gcc/en,下/f,编译/vn,使用/v,，/w,在/p,编写/v,跨/v,平台/n,的/u,工程/n,时/ng,可以/v,使用/v,qt/en,的/u,这个/r,版本/n,。/w,保留/v,工程/n,文件/n,！/w,下面/f,是/v,一些/m,引文/n,参考/v,：/w,近期/t,由于/c,课题/n,需要/v,使用/v,gpu/en,进行/v,加速/v,，/w,通过/p,调研/vn,决定/v,采用/v,opencv/en, ,的/u,gpu/en, ,支持/v,，/w,通过/p,整整/d,一天/mq,的/u,摸索/v,，/w,终于/d,配置/vn,成功/a,。/w, ,1/m,./w, ,系统/n,环境/n, ,windows/en, ,7/m, ,ultimate/en,版/n, ,64位/mq,+/w, ,visual/en, ,studio/en, ,2010/m, ,ultimate/en,版/n,+/w,opencv/en, ,2/m,./w,4/m,./w,9/m,+/w,cuda/en, ,toolkit/en, ,6.5/m,+/w,cmake/en,2/m,./w,8/m,./w,8/m, ,2/m,./w, ,配置/vn,过程/n, ,大致/d,流程/n,：/w,cuda/en, ,toolkit/en, ,6.5/m,的/u,下载/v,与/p,安装/v,--/nrf,>, ,cmake/en,的/u,下载/v,与/p,安装/v,--/nrf,>, ,opencv/en,的/u,下载/v,与/p,编译/vn,--/nrf,>,测试/vn,是否/v,安装/v,成功/a, ,2.1/m, ,cuda/en, ,toolkit/en, ,6.5/m,的/u,下载/v,与/p,安装/v, ,由于/c,之前/f,测试/vn,直接/ad,使用/v,opencv/en,的/u,预编/v,译/v,的/u,版本/n,，/w,无法/v,使用/v,其/r,gpu/en,模块/n,，/w,因此/c,需要/v,安装/v,cuda/en, ,toolkit/en,之后/f,，/w,使用/v,自己/r,的/u,基于/p,cuda/en, ,编译/vn,的/u,opencv/en, ,库/n,。/w, ,由于/c,自己/r,配置/vn,时/ng,，/w,cuda/en, ,toolkit/en,版本/n,是/v,7.0/m,，/w,于是/c,尝试/vn,了/u,一下/m,，/w,结果/n,不/d,成功/a,，/w,原因/n,估计/v,是/v,opencv/en,2/m,./w,4/m,./w,9/m,的/u,gpu/en,模块/n,对/p,最新/a,的/u,cuda/en,支持/v,不/d,够/v,完善/v,，/w,因此/c,在/p,选择/v,cuda/en, ,版本/n,时/ng,，/w,一定/d,要/v,考虑/v,opencv/en,对/p,其/r,的/u,兼容性/nz,。/w,自己/r,的/u,一个/m,经验/n,是/v,到/v, ,http/en,:/w,//w,//w,code/en,./w,opencv/en,./w,org/en,//w,projects/en,//w,opencv/en,//w,wiki/en,//w,changelog/en, ,看/v,一下/m,自己/r,的/u,opencv/en, ,版本/n,发布/v,的/u,时间/n,；/w,再/d,到/v,cuda/en,下载/v,的/u,页面/n,找/v,一个/m,发布/v,时间/n,与/p,opencv/en,发布/v,时间/n,相近/a,的/u,版本/n,；/w,选择/v,合适/a,的/u,版本/n,很/d,重要/a,；/w,自己/r,花费/v,的/u,主要/b,时间/n,就/d,浪费/v,在/p,版本/n,不/d,兼容/v,上/f,~/w,~/w,~/w, ,自己/r,使用/v,的/u,是/v,cuda/en, ,toolkit/en, ,6.5/m,，/w,根据/p,自己/r,的/u,系统/n,，/w,计算/v,需求/n,，/w,下载/v,对应/v,的/u,版本/n,，/w,一路/m,安装/v,就/d,可以/v,了/u,。/w,这个/r,问题/n,应该/v,都/d,不大/d,，/w,主要/b,是/v,确定/v,opencv/en, ,与/p,cuda/en, ,的/u,兼容性/nz,。/w, ,2.2/m, ,cmake/en, ,工具/n,的/u,下载/v,与/p,安装/v, ,到/v,http/en,:/w,//w,//w,www/en,./w,cmake/en,./w,org/en,//w,files/en,//w, ,下载/v,任何/r,自己/r,需要/v,的/u,版本/n,（/w,虽然/c,我/r,的/u,win/en,7/m,系统/n,是/v,64位/mq,的/u,，/w,但是/c,只/d,有/v,32位/mq,的/u,cmake/en, ,供/v,下载/v,，/w,cmake/en,-/w,2/m,./w,8/m,./w,8/m,-/w,win/en,32/m,-/w,x/en,86/m,./w,exe/en,,/w, ,这个/r,对/p,后面/f,的/u,编译/vn,木/ng,有/v,影响/vn,）/w,，/w,我/r,使用/v,的/u,是/v,2/m,./w,8/m,./w,8/m,，/w,下载/v,完成/v,，/w,安装/v,就/d,ok/en,~/w,~/w, ,2.3/m, ,opencv/en,的/u,下载/v,与/p,编译/vn, ,到/v,opencv/en,的/u,主页/n,上/f,找到/v,对应/v,的/u,版本/n,2/m,./w,4/m,./w,9/m,，/w,下载/v,opencv/en, ,for/en, ,windows/en, ,，/w,安装/v,到/v,自己/r,的/u,目录/n,，/w,比如/v,d/en,:/w,\/w,opencv/en,；/w,然后/c,使用/v,cmake/en,工具/n,编译/vn,基于/p,cuda/en,和/c,tbb/en,的/u,opencv/en,库/n,，/w,这个/r,过程/n,可以/v,参看/v,，/w, ,http/en,:/w,//w,//w,www/en,./w,cnblogs/en,./w,com/en,//w,freedomshe/en,//w,archive/en,//w,2013/m,//w,01/m,//w,11/m,//w,win/en,7/m,_,vs/en,2012/m,_,opencv/en,_,rebuild/en,./w,html/en, ,这/r,篇/q,文章/n,写/v,得/u,很/d,详细/ad,，/w,而且/c,图文并茂/l,，/w,很/d,好/a,懂/v,，/w,虽然/c,这/r,篇/q,文章/n,的/u,opencv/en,及/c,vs/en,版本/n,不同/a,，/w,但是/c,vs/en,2010/m,按照/p,他/r,的/u,过程/n,来/v,编译/vn,也/d,是/v,可以/v,顺利/ad,通过/p,的/u,；/w, ,需要/v,的/u,注意/v,的/u,是/v,，/w, ,1/m,）/w, ,在/p,配置/vn,cmake/en,的/u,时候/n,选择/v,vs/en,10/m, ,win/en,64/m,(/w,根据/p,自己/r,的/u,操作系统/l,和/c,vs/en,版本/n,选择/v,)/w,;/w, ,勾选/nr,with/en,_,tbb/en,，/w,with/en,_,cuda/en, ,2/m,）/w, ,把/p,debug/en,和/c,release/en,两个/m,版本/n,都/d,编译/vn,上/f,；/w,编译/vn,的/u,时间/n,比较/d,长/a,（/w,视/vg,电脑/n,性能/n,，/w,自己/r,编译/vn,花/v,了/u,）/w,，/w,耐心/a,等待/v,~/w,~/w,~/w, ,3/m,）/w,在/p,编译/vn,过程/n,中/f,可能/v,会/v,弹/v,出/v,对话/vn,框/q, ,是否/v,要/v, ,reload/en, ,the/en, ,solution/en, ,when/en, ,a/en, ,cmakelists/en,./w,tx/en, ,has/en, ,changed/en,，/w, ,这个/r,可能/v,是/v,个/q,bug/en,，/w,是/v,cmake/en,的/u,宏/nr,造成/v,的/u,，/w,所以/c,可以/v,再/d,编译/vn,前/f,检查/vn,一下/m,是否/v,有/v,这样/r,额/n,的/u,宏/nr,，/w,vs/en,2010/m,中/f, ,(/w,tools/en,)/w,工具/n,--/nrf,》/w,(/w,macros/en,)/w,宏/nr,--/nrf,》/w,(/w,macro/en, ,explorer/en,)/w,宏/nr,查看/v,器/ng,-/w,》/w,cmakevsmacros/en,2/m,（/w,也/d,可能/v,是/v,其他/r,的/u,目录/n,）/w,找到/v, ,public/en, ,sub/en, ,reloadprojects/en,(/w,optional/en, ,byval/en, ,projects/en, ,as/en, ,string/en, ,=/w, ,"/w,"/w,)/w, ,与/p,public/en, ,sub/en, ,stopbuild/en,(/w,optional/en, ,byval/en, ,projects/en, ,as/en, ,string/en, ,=/w, ,"/w,"/w,)/w,这/r,两个/m,函数/n,，/w,它们/r,应该/v,是/v,vb/en,写/v,的/u,，/w,把/p,函数/n,体注/nw,释掉/nw,就/d,可以/v,了/u,；/w, ,2.4/m, ,测试/vn,是否/v,安装/v,成功/a, ,安装/v,完成/v,后/f,，/w,新建/v,一个/m,win/en,32/m,项目/n,，/w,注意/v,配置/vn,一下/m,使用/v,x/en,64/m,选项/v,进行/v,编译/vn,；/w,如果/c,安装/v,成功/a, ,int/en, ,devnum/en,=/w,cv/en,:/w,:/w,gpu/en,:/w,:/w,getcudaenableddevicecount/en,(/w,)/w,;/w,将/d,返回/v,非/h,0/m,值/n,，/w,否则/c,说明/v,配置/vn,为/p,成功/a,。/w, ,#,include/en, ,"/w,stdafx/en,./w,h/en,"/w, ,#,include/en, ,#,include/en, ,"/w,opencv/en,2/m,//w,opencv/en,./w,hpp/en,"/w, ,#,include/en, ,"/w,opencv/en,2/m,//w,gpu/en,//w,gpu/en,./w,hpp/en,"/w, ,int/en, ,_,tmain/en,(/w,int/en, ,argc/en,,/w, ,_,tchar/en,*/w, ,argv/en,[/w,]/w,)/w, ,{/w, ,int/en, ,devnum/en,=/w,cv/en,:/w,:/w,gpu/en,:/w,:/w,getcudaenableddevicecount/en,(/w,)/w,;/w, ,try/en, ,{/w, ,cv/en,:/w,:/w,mat/en, ,src/en,_,host/en, ,=/w, ,cv/en,:/w,:/w,imread/en,(/w,"/w,lena/en,./w,jpg/en,"/w,,/w, ,cv/en,_,load/en,_,image/en,_,grayscale/en,)/w,;/w, ,cv/en,:/w,:/w,gpu/en,:/w,:/w,gpumat/en, ,dst/en,,/w, ,src/en,;/w, ,src/en,./w,upload/en,(/w,src/en,_,host/en,)/w,;/w, ,cv/en,:/w,:/w,gpu/en,:/w,:/w,threshold/en,(/w,src/en,,/w, ,dst/en,,/w, ,128.0/m,,/w, ,255.0/m,,/w, ,cv/en,_,thresh/en,_,binary/en,)/w,;/w, ,cv/en,:/w,:/w,mat/en, ,result/en,_,host/en,;/w, ,dst/en,./w,download/en,(/w,result/en,_,host/en,)/w,;/w, ,cv/en,:/w,:/w,namedwindow/en,(/w,"/w,result/en,"/w,,/w,1/m,)/w,;/w, ,cv/en,:/w,:/w,imshow/en,(/w,"/w,result/en,"/w,,/w, ,result/en,_,host/en,)/w,;/w, ,cv/en,:/w,:/w,waitkey/en,(/w,)/w,;/w, ,}/w, ,catch/en,(/w,const/en, ,cv/en,:/w,:/w,exception/en,&/w, ,ex/en,)/w, ,{/w, ,std/en,:/w,:/w,cout/en, ,</w,</w, ,"/w,error/en,:/w, ,"/w, ,</w,</w, ,ex/en,./w,what/en,(/w,)/w, ,</w,</w, ,std/en,:/w,:/w,endl/en,;/w, ,}/w, ,return/en, ,0/m,;/w, ,}/w, ,参考/v,文献/n, ,【/w,1/m,】/w, ,http/en,:/w,//w,//w,www/en,./w,cnblogs/en,./w,com/en,//w,freedomshe/en,//w,archive/en,//w,2013/m,//w,01/m,//w,11/m,//w,win/en,7/m,_,vs/en,2012/m,_,opencv/en,_,rebuild/en,./w,html/en, ,【/w,2/m,】/w,http/en,:/w,//w,//w,blog/en,./w,csdn/en,./w,net/en,//w,kelvin/en,_,yan/en,//w,article/en,//w,details/en,//w,38866795/m,按语/n,：/w,首先/d,感谢/v,http/en,:/w,//w,//w,blog/en,./w,csdn/en,./w,net/en,//w,fengbingchun/en,//w,article/en,//w,details/en,//w,9831837/m,这个/r,博主/nr,的/u,原创/b,方法/n,，/w,在/p,这个/r,基础/n,上/f,编译/vn,之后/f,发现/v,了/u,很多/m,问题/n,，/w,所以/c,进行/v,了/u,改正/v,，/w,有/v,了/u,以下/f,方法/n,：/w, ,重新/d,编译/vn,opencv/en, ,1/m,、/w, ,查看/v,本机/nz,配置/vn,，/w,查看/v,显卡/n,类型/n,是否/v,支持/v,nvidia/en, ,gpu/en,，/w,本机/nz,显卡/n,为/p,nvidia/en, ,geforce/en, ,gt/en,630/m,；/w, ,2/m,、/w, ,从/p,http/en,:/w,//w,//w,www/en,./w,nvidia/en,./w,cn/en,//w,download/en,//w,index/en,./w,aspx/en,?/w,lang/en,=/w,cn/en,下载/v,最新/a,驱动/vn,并/c,安装/v,；/w, ,3/m,、/w, ,从/p,https/en,:/w,//w,//w,developer/en,./w,nvidia/en,./w,com/en,//w,cuda/en,-/w,toolkit/en,根据/p,本机/nz,类型/n,下载/v,相应/v,最新/a,版/n,的/u,cuda/en, ,toolkit/en,6.0/m, ,64位/mq,，/w,安装/v,，/w,并/c,通过/p,样本/n,程序/n,验证/vn,其/r,安装/v,正确/a,；/w, ,4/m,、/w, ,将/d,c/en,:/w,\/w,programfiles/en,\/w,nvidiagpu/en, ,computing/en, ,toolkit/en,\/w,cuda/en,\/w,v/en,6.0/m,\/w,bin/en,添加/vn,到/v,环境/n,变量/n,中/f,(/w,检查/vn,是否/v,已经/d,默认/v,添加/vn,)/w,；/w, ,5/m,、/w, ,从/p,http/en,:/w,//w,//w,threadingbuildingblocks/en,./w,org/en,//w,下载/v,最新/a,版/n,的/u,tbb/en,4.2/m,，/w,解压缩/nz,，/w,并/c,将/d,其/r,bin/en,目录/n,d/en,:/w,\/w,soft/en,\/w,opencv/en,2/m,./w,4/m,./w,8/m,\/w,tbb/en,\/w,tbb/en,41/m,_,20140122/m,oss/en,\/w,bin/en,\/w,ia/en,64/m,\/w,vc/en,10/m,添加/vn,到/v,环境/n,变量/n,中/f,，/w,注销/v,或/c,重启/v,；/w, ,6/m,、/w, ,从/p,http/en,:/w,//w,//w,opencv/en,./w,org/en,//w,downloads/en,./w,html/en, ,下载/v,最新/a,版本/n,的/u,opencv/en,2/m,./w,4/m,./w,6/m,，/w,并/c,解/v,压缩/v,到/v,d/en,:/w,\/w,soft/en,\/w,opencv/en,2/m,./w,4/m,./w,8/m,文件夹/n,中/f,；/w, ,7/m,、/w, ,从/p,http/en,:/w,//w,//w,www/en,./w,cmake/en,./w,org/en,//w,cmake/en,//w,resources/en,//w,software/en,./w,html/en,下载/v,最新/a,版本/n,的/u,cmake/en,2/m,./w,8/m,./w,11/m,./w,2/m,并/c,安装/v,；/w, ,8/m,、/w,打开/v,cmake/en,，/w,在/p,where/en, ,isthesource/en, ,code/en,：/w,中/f,选择/v,d/en,:/w,\/w,soft/en,\/w,opencv/en,2/m,./w,4/m,./w,6/m,\/w,opencv/en,文件夹/n,，/w,在/p,where/en, ,to/en, ,buildthe/en, ,binaries/en,：/w,中/f,选择/v,d/en,:/w,//w,soft/en,//w,opencv/en,2/m,./w,4/m,./w,6/m,//w,vs/en,2010/m,_,gpu/en,文件夹/n,，/w,此/r,文件夹/n,为/p,手动/b,创建/v,；/w, ,9/m,、/w,点击/v,configure/en,按钮/n,，/w,在/p,弹/v,出/v,的/u,对话/vn,框/q,中/f,选择/v,visualstudio/en, ,10/m,，/w,然后/c,点击/v,finish/en,；/w, ,10/m,、/w, ,如果/c,有/v,红色/n,框/q,出现/v,，/w,勾选/nr,build/en,_,examples/en,、/w,with/en,_,tbb/en,、/w,with/en,_,cublas/en,、/w,with/en,_,cuda/en,、/w,with/en,_,cufft/en,，/w,然后/c,再次/d,点击/v,configure/en,按钮/n,；/w, ,11/m,、/w,如果/c,还有/v,红色/n,框/q,出现/v,，/w,tbb/en,_,include/en,_,dirs/en,，/w,将/d,其/r,值/n,改/v,为/p,d/en,:/w,\/w,soft/en,\/w,opencv/en,2/m,./w,4/m,./w,6/m,\/w,tbb/en,\/w,tbb/en,41/m,_,20130613/m,oss/en,\/w,include/en,为/p,tbb/en,中/f,include/en,所在/n,的/u,目录/n,，/w,然后/c,再次/d,点击/v,configure/en,按钮/n,；/w, ,12/m,、/w, ,如何/r,还有/v,红色/n,框/q,出现/v,，/w,tbb/en,_,lib/en,_,dir/en,、/w,tbb/en,_,stddef/en,_,path/en,，/w,再次/d,点击/v,configure/en,按钮/n,；/w, ,13/m,、/w,如果/c,在/p,下方/f,信息/n,框/q,中/f,有/v,：/w,use/en, ,tbb/en,:/w, ,yes/en,(/w,ver/en, ,4.1/m, ,interface/en, ,6105/m,)/w,，/w,use/en, ,cuda/en,:/w, ,yes/en,(/w,ver/en,5.0/m,)/w,，/w,证明/v,我们/r,已经/d,将/d,inteltbb/en,和/c,cuda/en,正确/a,配置/vn,；/w, ,14/m,、/w,点击/v,generate/en,按钮/n,，/w,此时/r,会/v,在/p,d/en,:/w,\/w,soft/en,\/w,opencv/en,2/m,./w,4/m,./w,6/m,\/w,vs/en,2010/m,_,gpu/en,文件夹/n,下/f,生成/vn,opencv/en,./w,sln/en,文件/n,；/w, ,15/m,、/w,以/p,管理员/n,身份/n,，/w,使用/v,vs/en,2010/m,打开/v,opencv/en,./w,sln/en,文件/n,，/w,选择/v,view/en,--/nrf,>, ,properties/en, ,manager/en,--/nrf,>,分别/d,选中/v,all/en,_,build/en,中/f,的/u,debug/en,和/c,release/en,上/f,的/u,microsoft/en,./w,cpp/en,./w,win/en,64/m,./w,user/en,，/w,依次/d,添加/vn,inteltbb/en,和/c,cuda/en, ,的/u,executable/en, ,directories/en,、/w,includedirectories/en,和/c,library/en, ,directories/en,，/w,点击/v,右键/nr,--/nrf,>,properties/en,：/w, ,（/w,需要/v,说明/v,的/u,是/v,：/w,opencv/en,里面/f,要/v,选择/v,build/en,文件夹/n,下面/f,的/u,路径/n,才/d,对/p,）/w, ,vc/en,+/w,+/w, ,directories/en,，/w,includedirectories/en,：/w, ,d/en,:/w,\/w,soft/en,\/w,opencv/en,2/m,./w,4/m,./w,6/m,\/w,tbb/en,\/w,tbb/en,41/m,_,20130613/m,oss/en,\/w,include/en, ,c/en,:/w,\/w,program/en, ,files/en,\/w,nvidiagpu/en, ,computingtoolkit/en,\/w,cuda/en,\/w,v/en,5.0/m,\/w,include/en, ,d/en,:/w,\/w,opencv/en,\/w,build/en,\/w,include/en, ,d/en,:/w,\/w,opencv/en,\/w,build/en,\/w,include/en,\/w,opencv/en, ,d/en,:/w,\/w,opencv/en,\/w,build/en,\/w,include/en,\/w,opencv/en,2/m, ,library/en, ,directories/en,：/w, ,d/en,:/w,\/w,soft/en,\/w,opencv/en,2/m,./w,4/m,./w,6/m,\/w,tbb/en,\/w,tbb/en,41/m,_,20130613/m,oss/en,\/w,lib/en,\/w,ia/en,64/m,\/w,vc/en,10/m, ,c/en,:/w,\/w,program/en, ,files/en,\/w,nvidia/en, ,gpu/en, ,computing/en, ,toolkit/en,\/w,cuda/en,\/w,v/en,5.0/m,\/w,lib/en,\/w,win/en,64/m, ,d/en,:/w,\/w,opencv/en,\/w,build/en,\/w,x/en,64/m,\/w,vc/en,10/m,\/w,lib/en, ,executable/en, ,directories/en,：/w, ,d/en,:/w,\/w,soft/en,\/w,opencv/en,2/m,./w,4/m,./w,6/m,\/w,tbb/en,\/w,tbb/en,41/m,_,20130613/m,oss/en,\/w,bin/en,\/w,ia/en,64/m,\/w,vc/en,10/m, ,c/en,:/w,\/w,program/en, ,files/en,\/w,nvidia/en, ,gpu/en, ,computingtoolkit/en,\/w,cuda/en,\/w,v/en,5.0/m,\/w,bin/en, ,d/en,:/w,\/w,opencv/en,\/w,build/en,\/w,x/en,64/m,\/w,vc/en,10/m,\/w,bin/en, ,16/m,、/w,选中/v,modules/en,中/f,的/u,opencv/en,_,gpu/en,，/w,点击/v,右键/nr,，/w,选择/v,properties/en,--/nrf,>,linker/en,--/nrf,>,input/en,--/nrf,>,ignorespecificdefault/en, ,libraries/en,加入/v,libcmtlibcmtd/en,；/w,（/w,可/v,忽视/v,这/r,条/q,）/w, ,17/m,、/w, ,分别/d,在/p,debug/en,和/c,release/en,下/f,，/w,选择/v,solutionexplorer/en,里/f,的/u,solution/en, ,opencv/en,，/w,点击/v,右键/nr,，/w,运行/vn,”/w,rebuild/en, ,solution/en,”/w,。/w,（/w,这个/r,过程/n,比较/d,漫长/a,，/w,win/en,7/m, ,64位/mq,，/w,4/m,gb/en,内存/n,，/w,大概/d,需要/v,3小时/t,）/w, ,18/m,、/w,点击/v,cmaketargets/en,下/f,的/u,install/en,—/w,右键/nr,—/w,仅/d,本/r,工程/n,build/en,，/w,之后/f,会/v,在/p,d/en,:/w,\/w,soft/en,\/w,opencv/en,2/m,./w,4/m,./w,3/m,\/w,vs/en,2010/m,\/w,install/en,文件夹/n,下/f,的/u,bin/en,文件夹/n,中/f,存放/v,相应/v,的/u,动态库/nw,，/w,在/p,lib/en,文件夹/n,下/f,存放/v,相应/v,的/u,静态库/nw,；/w, ,补充/v,说明/v, ,(/w,1/m,)/w,、/w,安装/v,cuda/en, ,toolkit/en,时/ng,最好/d,不要/d,修改/v,其/r,默认/v,的/u,安装/v,目录/n,；/w, ,(/w,2/m,)/w,、/w,第/m,17步/mq,的/u,重建/v,过程/n,中/f,，/w,如果/c,出现/v,了/u,很/d,异常/a,诡异/a,的/u,行为/n,，/w,有/v,一种/mq,调试/v,方式/n,是/v,删除/v,原先/d,配置/vn,的/u,文件夹/n,，/w,重新/d,cmake/en,，/w,清空/nz,vs/en,2010/m,里面/f,的/u,工程/n,，/w,重新/d,编译/vn,，/w,可能/v,会/v,改善/v,。/w, ,(/w,3/m,)/w,、/w,为了/p,缩短/v,编译/vn,时间/n,，/w,可以/v,通过/p,cmake/en,中/f,改变/v,cuda/en,_,arch/en,_,bin/en,、/w,cuda/en,_,arch/en,_,ptx/en,值/n,进行/v,设置/v,，/w,将/d,build/en,_,examples/en,的/u,勾选/nr,去掉/v,（/w,没有/v,这么/r,做/v,，/w,因为/c,是/v,为了/p,全部/m,编译/vn,）/w, ,(/w,4/m,)/w,、/w,在/p,编译/vn,前/f,最好/d,把/p,360/m,安全/an,卫士/n,和/c,杀毒/v,软件/n,关闭/v,；/w, ,(/w,5/m,)/w,、/w,也/d,可/v,不用/d,管理员/n,身份/n,打开/v,opencv/en,./w,sln/en,，/w,第/m,15步/mq,的/u,属性/n,配置/vn,在/p,不同/a,的/u,电脑/n,上/f,有的/r,必须/d,的/u,，/w,有的/r,可以/v,不/d,需要/v,，/w,最/d,好/a,都/d,加上/v,，/w,免得/v,返工/v,；/w, ,(/w,6/m,)/w,、/w,也/d,可以/v,不/d,用/p,修改/v,opencv/en,_,gpu/en,模块/n,的/u,属性/n,配置/vn,，/w,默认/v,即可/v,，/w,即/v,第/m,16步/mq,也/d,不/d,是/v,必须/d,的/u,；/w, ,(/w,7/m,)/w,、/w,编译/vn,过程/n,中/f,会/v,弹/v,出/v,数/m,次/q,对话/vn,框/q,，/w,如/v,出现/v,宏/nr,对话框/n,则/d,点击/v,cancel/en,选项/v,，/w,其它/r,则/d,选择/v,yes/en,选项/v,；/w, ,(/w,8/m,)/w,、/w,编译/vn,成功/a,后/f,的/u,库/n,也/d,可以/v,直接/ad,应用/vn,于/p,opencv/en,中/f,的/u,opencl/en,模块/n,。/w, ,debug/en,过程/n, ,编译/vn,错误/n,解决/v,：/w, ,1/m,、/w,无法/v,加/v,载宏/nr,：/w, ,c/en,:/w,//w,users/en,//w,xxx/en,//w,documents/en,//w,visual/en, ,studio/en, ,2010/m,projects/en,//w,vsmacros/en,80/m,//w, ,samples/en,//w, ,samples/en,./w,vsmacros/en, ,解决/v,方法/n,：/w, ,把/p,这个/r,附件/n,放在/v,上述/b,目录/n,里面/f,：/w,附件/n, ,2/m,、/w,错误/n,：/w, ,cmakefiles/en,//w,example/en,_,gpu/en,_,driver/en,_,api/en,_,multi/en,./w,dir/en,//w,driver/en,_,api/en,_,multi/en,./w,cpp/en,./w,o/en,:/w, ,infunction/en, ,`,destroycontexts/en,(/w,)/w,'/w,:/w, ,driver/en,_,api/en,_,multi/en,./w,cpp/en,:/w,(/w,./w,text/en,./w,_,z/en,15/m,destroycontextsv/en,+/w,0/m,xc/en,)/w,:/w, ,undefined/en, ,referenceto/en, ,`,cuctxdestroy/en,_,v/en,2/m,'/w, ,driver/en,_,api/en,_,multi/en,./w,cpp/en,:/w,(/w,./w,text/en,./w,_,z/en,15/m,destroycontextsv/en,+/w,0/m,x/en,1/m,c/en,)/w,:/w, ,undefinedreference/en, ,to/en, ,`,cuctxdestroy/en,_,v/en,2/m,'/w, ,cmakefiles/en,//w,example/en,_,gpu/en,_,driver/en,_,api/en,_,multi/en,./w,dir/en,//w,driver/en,_,api/en,_,multi/en,./w,cpp/en,./w,o/en,:/w, ,infunction/en, ,`,worker/en,:/w,:/w,operator/en,(/w,)/w,(/w,int/en,)/w, ,const/en,'/w,:/w, ,driver/en,_,api/en,_,multi/en,./w,cpp/en,:/w,(/w,./w,text/en,./w,_,znk/en,6/m,workerclei/en,+/w,0/m,x/en,19/m,)/w,:/w, ,undefined/en, ,reference/en, ,to/en,`,cuctxpushcurrent/en,_,v/en,2/m,'/w, ,driver/en,_,api/en,_,multi/en,./w,cpp/en,:/w,(/w,./w,text/en,./w,_,znk/en,6/m,workerclei/en,+/w,0/m,x/en,6/m,bf/en,)/w,:/w, ,undefined/en, ,reference/en, ,to/en,`,cuctxpopcurrent/en,_,v/en,2/m,'/w, ,解决/v,方法/n,：/w, ,only/en, ,two/en, ,example/en, ,will/en, ,affect/en, ,by/en, ,this/en, ,bug/en,,/w,"/w,example/en,_,gpu/en,_,driver/en,_,api/en,_,multi/en,"/w, ,and/en,"/w,example/en,_,gpu/en,_,driver/en,_,api/en,_,stereo/en,_,multi/en,"/w, ,modify/en, ,line/en, ,39/m, ,target/en,_,link/en,_,libraries/en,(/w,$/w,{/w,the/en,_,target/en,}/w, ,$/w,{/w,opencv/en,_,linker/en,_,libs/en,}/w,$/w,{/w,opencv/en,_,gpu/en,_,samples/en,_,required/en,_,deps/en,}/w,)/w, ,to/en, ,target/en,_,link/en,_,libraries/en,(/w,$/w,{/w,the/en,_,target/en,}/w, ,$/w,{/w,opencv/en,_,linker/en,_,libs/en,}/w,$/w,{/w,opencv/en,_,gpu/en,_,samples/en,_,required/en,_,deps/en,}/w, ,cuda/en,)/w, ,in/en, ,"/w,opencv/en,-/w,2/m,./w,4/m,./w,6/m,./w,1/m,//w,samples/en,//w,gpu/en,//w,cmakelists/en,./w,txt/en,"/w, ,can/en, ,easily/en, ,fixthis/en, ,problem/en, ,3/m,、/w,错误/n,：/w,dllmain/en,重复/v,定义/n,，/w,opencv/en,_,world/en,246/m,./w,dll/en,不/d,存在/v,等/u,错误/n, ,解决/v,方法/n,：/w,cmake/en,的/u,时候/n,不要/d,勾选/nr,build/en,_,world/en,选项/v,，/w,这个/r,重建/v,也/d,不/d,是/v,必须/d,的/u, ,4/m,、/w,错误/n,37374/m,error/en, ,lnk/en,1104/m,:/w,无法/v,打开/v,文件/n,“/w,./w,./w,\/w,./w,./w,\/w,lib/en,\/w,debug/en,\/w,opencv/en,_,superres/en,248/m,d/en,./w,lib/en,”/w,d/en,:/w,\/w,opencv/en,\/w,opencv/en,248/m,gpu/en,\/w,modules/en,\/w,superres/en,\/w,linkopencv/en,_,test/en,_,superres/en, ,分析/vn,：/w,是/v,链接库/nw,链接/n,不/d,上/f,造成/v,的/u,，/w,添/v,上/f,这些/r,库/n,就/d,可以/v,了/u,。/w, ,解决/v,办法/n,：/w,第/m,15步/mq,中/f,务必/d,把/p,opencv/en,的/u,include/en,\/w,bin/en,\/w,lib/en,目标/n,都/d,加/v,进去/v,，/w,而且/c,是/v,build/en,目录/n,下/f,的/u,，/w,如果/c,还有/v,问题/n,，/w,那么/r,重新/d,cmake/en,，/w,或者/c,清除/v,vs/en,2010/m,的/u,缓存/n,就/d,可以/v,了/u,。/w, ,5/m,、/w,错误/n, ,unable/en, ,to/en, ,cast/en, ,com/en, ,object/en, ,of/en, ,type/en,'/w,system/en,./w,_,_,comobject/en,'/w, ,to/en, ,interface/en, ,type/en, ,'/w,envdte/en,./w,dte/en,'/w,./w, ,解决/v,办法/n,：/w,可能/v,是/v,这个/r,或者/c,可以/v,放/v,在/p,这里/r,不/d,解决/v,，/w,继续/v,编译/vn,可以/v,没有/v,问题/n, ,http/en,:/w,//w,//w,blogs/en,./w,msdn/en,./w,com/en,//w,b/en,//w,smondal/en,//w,archive/en,//w,2012/m,//w,10/m,//w,02/m,//w,unable/en,-/w,to/en,-/w,cast/en,-/w,com/en,-/w,object/en,-/w,of/en,-/w,type/en,-/w,system/en,-/w,comobject/en,-/w,to/en,-/w,interface/en,-/w,type/en,-/w,microsoft/en,-/w,visualstudio/en,-/w,ole/en,-/w,interop/en,-/w,iserviceprovider/en,./w,aspx/en, ,the/en, ,exception/en, ,seems/en, ,to/en, ,indicate/en, ,the/en, ,crashwas/en, ,caused/en, ,due/en, ,to/en, ,an/en, ,interface/en, ,not/en, ,being/en, ,found/en,./w, ,this/en, ,indicates/en, ,thatsomething/en,'/w,s/en, ,wrong/en, ,with/en, ,proxy/en,//w,stubs/en, ,on/en, ,the/en, ,machine/en,./w, ,at/en, ,leastiserviceprovider/en, ,is/en, ,failing/en,./w, ,ie/en, ,is/en, ,usually/en, ,the/en, ,owner/en, ,of/en, ,the/en, ,iserviceproviderproxy/en,./w, ,from/en, ,the/en, ,dump/en,,/w, ,it/en, ,showed/en, ,devenv/en,./w,exe/en, ,process/en, ,crashed/en, ,shortly/en, ,afterloading/en,:/w, ,c/en,:/w,\/w,windows/en,\/w,syswow/en,64/m,\/w,actxprxy/en,./w,dll/en, ,andc/en,:/w,\/w,windows/en,\/w,system/en,32/m,\/w,mssprxy/en,./w,dll/en, ,the/en, ,issue/en, ,turned/en, ,out/en, ,to/en, ,be/en, ,brokenregistration/en, ,for/en, ,iserviceprovider/en,./w, ,the/en, ,proxy/en,-/w,stub/en, ,clsid/en, ,was/en, ,wrong/en, ,(/w,it/en, ,wasreferring/en, ,to/en, ,actxprxy/en,./w,dll/en, ,instead/en, ,of/en, ,ieproxy/en,./w,dll/en, ,on/en, ,windows/en, ,7/m, ,x/en,64/m,)/w,./w, ,registeringieproxy/en,./w,dll/en, ,from/en, ,an/en, ,elevated/en, ,cmd/en, ,prompt/en, ,resolved/en, ,the/en, ,issue/en,./w, ,regsvr/en,32/m, ,"/w,c/en,:/w,\/w,program/en, ,files/en, ,(/w,x/en,86/m,)/w,\/w,internet/en, ,explorer/en,\/w,ieproxy/en,./w,dll/en,"/w, ,on/en, ,x/en,86/m, ,systems/en,,/w, ,regsvr/en,32/m,"/w,c/en,:/w,\/w,program/en, ,files/en,\/w,internet/en, ,explorer/en,\/w,ieproxy/en,./w,dll/en,"/w, ,新编/vn,译/v,的/u,opencv/en,使用/v,方法/n, ,1/m,、/w,打开/v,vs/en,2010/m,，/w,新建/v,一个/m,控制台/n,应用/vn,程序/n,，/w,为/p,vs/en,2010/m,配置/vn,opencv/en,环境/n,：/w,选择/v,view/en,--/nrf,>,properties/en, ,manager/en,--/nrf,>,分别/d,选中/v,debug/en,和/c,release/en,上/f,的/u,microsoft/en,./w,cpp/en,./w,win/en,64/m,./w,user/en,，/w,点击/v,右键/nr,--/nrf,>,properties/en,：/w,vc/en,+/w,+/w, ,directories/en,，/w,include/en, ,directories/en,：/w,d/en,:/w,\/w,soft/en,\/w,opencv/en,2/m,./w,4/m,./w,6/m,\/w,vs/en,2010/m,_,gpu/en,\/w,install/en,\/w,include/en,；/w,d/en,:/w,\/w,soft/en,\/w,opencv/en,2/m,./w,4/m,./w,6/m,\/w,vs/en,2010/m,_,gpu/en,\/w,install/en,\/w,include/en,\/w,opencv/en,；/w,d/en,:/w,\/w,soft/en,\/w,opencv/en,2/m,./w,4/m,./w,6/m,\/w,vs/en,2010/m,_,gpu/en,\/w,install/en,\/w,include/en,\/w,opencv/en,2/m,；/w,library/en, ,directories/en,：/w,d/en,:/w,\/w,soft/en,\/w,opencv/en,2/m,./w,4/m,./w,6/m,\/w,vs/en,2010/m,_,gpu/en,\/w,install/en,\/w,lib/en,；/w, ,2/m,、/w,选中/v,工程/n,--/nrf,>,properties/en,--/nrf,>,configuration/en, ,properties/en,--/nrf,>,linker/en,--/nrf,>,input/en,--/nrf,>,additionaldependencies/en,：/w,debug/en,和/c,release/en,，/w,添加/vn,相应/v,的/u,./w,lib/en,库/n,；/w, ,3/m,、/w,将/d,d/en,:/w,\/w,soft/en,\/w,opencv/en,2/m,./w,4/m,./w,6/m,\/w,vs/en,2010/m,_,gpu/en,\/w,install/en,\/w,bin/en,加入/v,到/v,windows/en,系统/n,环境/n,变量/n,path/en,中/f,，/w,重启/v,。/w,（/w,也/d,可以/v,将/d,install/en,文件夹/n,全部/m,拷贝/n,出来/v,，/w,作为/v,一个/m,新/a,的/u,opencv/en,版本/n,存在/v,，/w,里面/f,应该/v,包括/v,include/en,\/w,bin/en,\/w,lib/en,这个/r,几/m,个/q,主要/b,目录/n,）/w, ,4/m,、/w,示例/n,如下/v,，/w,如果/c,idevicesnum/en,结果/n,非/h,0/m,，/w,说明/v,安装/v,配置/vn,正确/a,。/w, ,1/m,./w, ,#,include/en, ,"/w,stdafx/en,./w,h/en,"/w, ,2/m,./w, ,#,include/en, ,</w,opencv/en,2/m,//w,opencv/en,./w,hpp/en,>, ,3/m,./w, ,#,include/en, ,</w,opencv/en,2/m,//w,gpu/en,//w,gpu/en,./w,hpp/en,>, ,4/m,./w, ,5/m,./w, ,using/en, ,namespace/en, ,cv/en,;/w, ,6/m,./w, ,using/en, ,namespace/en, ,cv/en,:/w,:/w,gpu/en,;/w, ,7/m,./w, ,8/m,./w, ,int/en,_,tmain/en,(/w,int/en, ,argc/en,,/w, ,_,tchar/en,*/w, ,argv/en,[/w,]/w,)/w, ,9/m,./w, ,{/w, ,10/m,./w, ,int/en, ,idevicesnum/en, ,=/w, ,getcudaenableddevicecount/en,(/w,)/w,;/w, ,11/m,./w, ,12/m,./w, ,cout/en,</w,</w,idevicesnum/en,</w,</w,endl/en,;/w, ,13/m,./w, ,14/m,./w, ,return/en, ,0/m,;/w, ,15/m,./w,}/w, ,参考/v,文献/n, ,1/m,、/w, ,http/en,:/w,//w,//w,opencv/en,./w,willowgarage/en,./w,com/en,//w,wiki/en,//w,opencv/en,_,gpu/en, ,2/m,、/w, ,http/en,:/w,//w,//w,docs/en,./w,opencv/en,./w,org/en,//w,modu