一/m,、/w,使用/v,opencv/en,处理/v,图像/n,1/m,./w,不同/a,颜色/n,空间/n,的/u,转换/v,opencv/en,中/f,有数/a,百种/mq,关于/p,在/p,不同/a,色彩/n,空间/n,之间/f,转换/v,的/u,方法/n,。/w,当前/t,，/w,在/p,计算机/n,视觉/n,中/f,有/v,三种/mq,常用/a,的/u,色彩/n,空间/n,：/w,灰度/n,、/w,bgr/en,以及/c,hsv/en,(/w,hue/en,,/w, ,saturation/en,,/w, ,value/en,)/w,灰度/n,色彩/n,空间/n,是/v,通过/p,去除/v,彩色/b,信息/n,来/v,将/d,其/r,转换/v,为/p,灰阶/nw,，/w,灰度/n,色彩/n,空间/n,对/p,中间/f,处理/v,特别/d,有效/a,，/w,比如/v,人脸/n,检测/vn,。/w,bgr/en,，/w,即/v,蓝/a,-/w,绿/a,-/w,红/a,色彩/n,空间/n,，/w,每/r,一个/m,像素/n,点/q,都/d,由/p,一个/m,三元数/nw,组/q,来/v,表示/v,，/w,分别/d,代表/n,蓝/a,、/w,绿/a,、/w,红/a,三种/mq,颜色/n,。/w,hsv/en,，/w,h/en,(/w,hue/en,)/w,是/v,色度/n,，/w,s/en,(/w,saturation/en,)/w,是/v,饱和度/n,，/w,v/en,(/w,value/en,)/w,表示/v,黑暗/a,的/u,程度/n,（/w,或/c,光谱/n,另/r,一端/n,的/u,明亮/a,程度/n,）/w,。/w,bgr/en,的/u,简短/a,说明/v,：/w,当/p,第一/m,次/q,处理/v,bgr/en,色彩/n,空间/n,时/ng,，/w,可以/v,不要/d,其中/r,的/u,一个/m,色彩/n,分量/n,，/w,比如/v,像/v,素值/nr,[/w,0/m,,/w, ,255/m,,/w, ,255/m,]/w,（/w,没有/v,蓝色/n,，/w,绿色/n,分量/n,取/v,最大值/nz,，/w,红色/n,分量/n,取/v,最大值/nz,）/w,表示/v,黄色/n,。/w,2/m,./w, ,傅里叶/nr,变换/v,numpy/en,有/v,快速/d,傅里叶/nr,变换/v,（/w,fft/en,）/w,的/u,包/v,，/w,它/r,包含/v,了/u,fft/en,2/m,(/w,)/w,函数/n,，/w,该/r,函数/n,可以/v,计算/v,一幅/mq,图像/n,的/u,离散/vn,傅里叶/nr,变换/v,（/w,dft/en,）/w,。/w,下面/f,通过/p,傅里叶/nr,变换/v,来/v,介绍/v,图像/n,的/u,幅度/n,谱/ng,。/w,图像/n,的/u,幅度/n,谱/ng,是/v,另/r,一种/mq,图像/n,，/w,幅度/n,谱/ng,图像/n,呈现/v,了/u,原始/a,图像/n,在/p,变换/v,方面/n,的/u,一种/mq,表示/v,：/w,把/p,一幅/mq,图像/n,中/f,最/d,明亮/a,的/u,像素/n,放/v,到/v,图像/n,中央/n,，/w,然后/c,逐渐/d,变/v,暗/ad,，/w,在/p,边缘/n,上/f,的/u,像素/n,最/d,暗/ad,。/w,这样/r,可以/v,发现/v,图像/n,中/f,有/v,多少/r,亮/v,的/u,像素/n,和/c,暗/ad,的/u,像素/n,，/w,以及/c,它们/r,分布/v,的/u,百分比/n,。/w,傅里叶/nr,变换/v,的/u,概念/n,是/v,边缘/n,检测/vn,或/c,线/n,段/q,和/c,形状/n,检测/vn,等/u,图像/n,处理/v,操作/v,的/u,基础/n,。/w,2.1/m, ,高/a,通滤波器/nw,高/a,通滤波器/nw,(/w,hpf/en,)/w,是/v,检测/vn,图像/n,的/u,某个/r,区域/n,，/w,然后/c,根据/p,像素/n,与/p,周围/f,像素/n,的/u,亮度/n,差值/n,来/v,提升/v,(/w,boost/en,)/w,该/r,像素/n,的/u,亮度/n,的/u,滤波器/n,。/w,核/n,是/v,指/v,一组/mq,权重/nz,的/u,集合/v,，/w,它/r,会/v,应用/vn,在/p,源/ng,图像/n,的/u,一个/m,区域/n,，/w,并/c,由此/d,生成/vn,目标/n,图像/n,的/u,一个/m,像素/n,。/w,比如/v,，/w,大小/n,为/p,7/m,的/u,核/n,意味/n,着/u,每/r,49/m,（/w,7/m, ,x/en, ,7/m,）/w,个源/nw,图像/n,的/u,像素/n,会/v,产生/v,目标/n,图像/n,的/u,一个/m,像素/n,。/w,可/v,把/p,核/n,看作/v,一块/mq,覆盖/v,在/p,源/ng,图像/n,上/f,可/v,移动/vn,的/u,毛玻璃片/nw,，/w,玻璃片/nw,覆盖/v,区域/n,的/u,光线/n,会/v,按/p,某种/r,方式/n,进行/v,扩散/v,混合/vn,后/f,透/v,过去/t,。/w,以/p,如下/v,的/u,核/n,(/w,kernal/en,)/w,为/p,例/n,：/w,[/w,[/w,0/m,,/w, ,-/w,0.25/m,,/w, ,0/m,]/w,,/w,[/w,-/w,0.25/m,,/w, ,1/m,,/w, ,-/w,0.25/m,]/w,,/w,[/w,0/m,,/w, ,-/w,0.25/m,,/w, ,0/m,]/w,]/w,在/p,计算/v,完/v,中央/n,像素/n,与/p,周围/f,邻近/v,像素/n,的/u,亮度/n,差值/n,之和/n,以后/f,，/w,如果/c,亮度/n,变化/vn,很/d,大/a,，/w,中央/n,像素/n,的/u,亮度/n,会/v,增加/v,（/w,反之/c,则/d,不/d,会/v,）/w,。/w,换句话说/c,，/w,如果/c,一个/m,像素/n,比/p,它/r,周围/f,的/u,像素/n,更/d,突出/a,，/w,就/d,会/v,提升/v,它/r,的/u,亮度/n,。/w,这/r,在/p,边缘/n,检测/vn,上/f,尤其/d,有效/a,，/w,它/r,会/v,采用/v,一种/mq,称为/v,高频/b,提升/v,滤波器/n,(/w,high/en, ,boost/en, ,filter/en,)/w,的/u,高/a,通滤波器/nw,。/w,高通/nr,和/c,低/a,通滤波器/nw,都/d,有/v,一个/m,称为/v,半径/n,(/w,radius/en,)/w,的/u,属性/n,，/w,它/r,决定/v,了/u,多/a,大/a,面积/n,的/u,邻近/v,像素/n,参与/v,滤波/v,计算/v,。/w,下面/f,是/v,一个/m,高/a,通滤波器/nw,的/u,例子/n,。/w,import/en, ,cv/en,2/m,import/en, ,numpy/en, ,as/en, ,npfrom/en, ,scipy/en, ,import/en, ,ndimagekernal/en,_,3/m,x/en,3/m, ,=/w, ,np/en,./w,array/en,(/w,[/w,[/w,-/w,1/m,,/w, ,-/w,1/m,,/w, ,-/w,1/m,]/w,,/w,[/w,-/w,1/m,,/w, ,8/m,,/w, ,-/w,1/m,]/w,,/w,[/w,-/w,1/m,,/w, ,-/w,1/m,,/w, ,-/w,1/m,]/w,]/w,)/w,kernal/en,_,5/m,x/en,5/m, ,=/w, ,np/en,./w,array/en,(/w,[/w,[/w,-/w,1/m,,/w, ,-/w,1/m,,/w, ,-/w,1/m,,/w, ,-/w,1/m,,/w, ,-/w,1/m,]/w,,/w,[/w,-/w,1/m,,/w, ,1/m,,/w, ,2/m,,/w, ,1/m,,/w, ,-/w,1/m,]/w,,/w,[/w,-/w,1/m,,/w, ,2/m,,/w, ,4/m,,/w, ,2/m,,/w, ,-/w,1/m,]/w,,/w,[/w,-/w,1/m,,/w, ,1/m,,/w, ,2/m,,/w, ,1/m,,/w, ,-/w,1/m,]/w,,/w,[/w,-/w,1/m,,/w, ,-/w,1/m,,/w, ,-/w,1/m,,/w, ,-/w,1/m,,/w,-/w,1/m,]/w,]/w,)/w,#, ,使用/v,函数/n,cv/en,2/m,./w,imread/en,(/w,)/w, ,读/v,入/v,图像/n,。/w,这/r,幅/q,图像/n,应该/v,在/p,此/r,程序/n,的/u,工作/vn,路径/n,，/w,或者/c,给/p,函数/n,提供/v,完整/a,路径/n,，/w,第二/m,个/q,参数/n,是/v,要/v,告诉/v,函数/n,应该/v,如何/r,读/v,取/v,这/r,幅/q,图片/n,。/w,#, , , , ,•/w, ,cv/en,2/m,./w,imread/en,_,color/en,：/w,读/v,入/v,一副/mq,彩色/b,图像/n,。/w,图像/n,的/u,透明度/n,会/v,被/p,忽略/v,，/w,这/r,是/v,默认/v,参数/n,。/w,#, , , , ,•/w, ,cv/en,2/m,./w,imread/en,_,grayscale/en,：/w,以/p,灰度/n,模式/n,读/v,入/v,图像/n,img/en, ,=/w, ,cv/en,2/m,./w,imread/en,(/w,'/w,lena/en,256/m,./w,bmp/en,'/w,,/w,0/m,)/w, ,#, ,注/v,：/w,此处/s,后面/f,要/v,加上/v,0/m,，/w,表示/v,已/d,灰度/n,模式/n,读/v,入/v,图像/n,k/en,3/m, ,=/w, ,ndimage/en,./w,convolve/en,(/w,img/en,,/w, ,kernal/en,_,3/m,x/en,3/m,)/w, ,#, ,注/v,：/w,使用/v,ndimage/en,./w,convolve/en,(/w,)/w,时/ng,，/w,滤波/v,核/n,的/u,维度/n,应/v,与/p,原始/a,图像/n,的/u,维度/n,相同/a,，/w,故此/c,采用/v,灰度/n,图/n,k/en,5/m, ,=/w, ,ndimage/en,./w,convolve/en,(/w,img/en,,/w, ,kernal/en,_,5/m,x/en,5/m,)/w,blurred/en, ,=/w, ,cv/en,2/m,./w,gaussianblur/en,(/w,img/en,,/w, ,(/w,11/m,,/w, ,11/m,)/w,,/w, ,0/m,)/w,g/en,_,hpf/en, ,=/w, ,img/en, ,-/w, ,blurredcv/en,2/m,./w,imshow/en,(/w,"/w,image/en,"/w,,/w, ,img/en,)/w,cv/en,2/m,./w,imshow/en,(/w,"/w,3/m,x/en,3/m,"/w,,/w, ,k/en,3/m,)/w,cv/en,2/m,./w,imshow/en,(/w,"/w,5/m,x/en,5/m,"/w,,/w, ,k/en,5/m,)/w,cv/en,2/m,./w,imshow/en,(/w,"/w,g/en,_,hpf/en,"/w,,/w, ,g/en,_,hpf/en,)/w,cv/en,2/m,./w,waitkey/en,(/w,)/w,cv/en,2/m,./w,destroyallwindows/en,(/w,)/w,注/v,：/w,这些/r,滤波器/n,中/f,的/u,所有/b,值/n,加/v,起来/v,为/p,0/m,./w,运行/vn,结果/n,为/p,：/w,导入/v,模块/n,之后/f,，/w,我们/r,定义/n,一个/m,3/m,x/en,3/m,和/c,一个/m,5/m,x/en,5/m,的/u,核/n,，/w,然后/c,将/d,读/v,入/v,的/u,图像/n,转换/v,为/p,灰度/n,格式/n,。/w,通常/d,大多数/m,的/u,图像/n,处理/v,会/v,用/p,numpy/en,来/v,完成/v,，/w,但是/c,这里/r,的/u,情况/n,比较/d,特殊/a,，/w,因为/c,需要/v,用/p,一个/m,给/p,定/v,的/u,核/n,与/p,图像/n,进行/v,“/w,卷积/nw,”/w,(/w,convolve/en,)/w,，/w,但是/c,numpy/en,碰巧/d,只/d,接受/v,一/m,维数/nr,组/q,。/w,ndimage/en,的/u,convolve/en,(/w,)/w,函数/n,支持/v,经典/n,的/u,numpy/en,数组/n,，/w,cv/en,2/m,模块/n,用/p,这种/r,数/m,组/q,来/v,存储/vn,图像/n,。/w,还有/v,一种/mq,方法/n,可/v,实现/v,高/a,通滤波器/nw,：/w,通过/p,对/p,图像/n,应用/vn,低/a,通滤波器/nw,之后/f,，/w,与/p,原始/a,图像/n,计算/v,差值/n,。/w,2.2/m, ,低/a,通滤波器高通滤波器/nw,是/v,根据/p,像素/n,与/p,邻近/v,像素/n,的/u,亮度/n,差值/n,来/v,提升/v,该/r,像素/n,的/u,亮度/n,。/w,低/a,通滤波器/nw,(/w,low/en, ,pass/en, ,filter/en,,/w, ,lpf/en,)/w,则/d,是/v,在/p,像素/n,与/p,周围/f,像素/n,的/u,亮度/n,差值/n,小于/v,一个/m,特定值/nw,时/ng,，/w,平滑/an,该/r,像素/n,的/u,亮度/n,。/w,它/r,主要/b,用于/v,去/v,噪/vg,和/c,模糊化/n,，/w,比如说/l,，/w,高斯/nr,模糊/a,是/v,最/d,常用/a,的/u,模糊滤波器/nw,（/w,平滑滤波器/nw,）/w,之一/r,，/w,它/r,是/v,一个/m,削弱/v,高频/b,信号/n,信息/n,强度/n,的/u,低/a,通滤波器/nw,。/w,3/m,./w, ,边缘/n,检测/vn,opencv/en,提供/v,了/u,许多/m,边缘/n,检测/vn,滤波/v,函数/n,，/w,包括/v,laplacian/en,(/w,)/w,、/w,sobel/en,(/w,)/w,以及/c,scharr/en,(/w,)/w,。/w,这些/r,滤波/v,函数/n,都/d,会/v,将/d,非/h,边缘/n,区域/n,转为/v,黑色/n,，/w,将/d,边缘/n,区域/n,转为/v,白色/n,或/c,其他/r,饱和/vn,的/u,颜色/n,。/w,但是/c,，/w,这些/r,函数/n,都/d,很/d,容易/a,将/d,噪声/n,错误/n,地/u,识别/v,为/p,边缘/n,。/w,缓解/v,这个/r,问题/n,的/u,方法/n,是/v,在/p,找到/v,边缘/n,之前/f,对/p,图像/n,进行/v,模糊/a,处理/v,。/w,opencv/en,也/d,提供/v,了/u,许多/m,模糊/a,滤波/v,函数/n,，/w,包括/v,blur/en,(/w,)/w,（/w,简单/a,的/u,算术/n,平均/a,）/w,、/w,medianblur/en,(/w,)/w,以及/c,gaussianblur/en,(/w,)/w,。/w,边缘/n,检测/vn,滤波/v,函数/n,和/c,模糊/a,滤波/v,函数/n,的/u,参数/n,有/v,很多/m,，/w,但/c,总/b,会/v,有/v,一个/m,ksize/en,参数/n,，/w,它/r,是/v,一个/m,奇数/n,，/w,表示/v,滤波器/n,的/u,宽/a,和/c,高/a,（/w,以/p,像素/n,为/p,单位/n,）/w,。/w,这里/r,使用/v,medianblur/en,(/w,)/w,作为/v,模糊/a,函数/n,，/w,它/r,对/p,去除/v,数字化/vn,的/u,视频/n,噪声/n,非常/d,有效/a,，/w,特别/d,是/v,去除/v,彩色/b,图像/n,的/u,噪声/n,；/w,使用/v,laplacian/en,(/w,)/w,作为/v,边缘/n,检测/vn,函数/n,，/w,它/r,会/v,产生/v,明显/a,的/u,边缘/n,线条/n,，/w,灰度/n,图像/n,更/d,是/v,如此/r,。/w,在/p,使用/v,medianblur/en,(/w,)/w,函数/n,之后/f,，/w,将要/d,使用/v,laplacian/en,(/w,)/w,函数/n,之前/f,，/w,需要/v,将/d,图像/n,从/p,bgr/en,色彩/n,空间/n,转为/v,灰度/n,色彩/n,空间/n,。/w,在/p,得到/v,laplacian/en,(/w,)/w,函数/n,的/u,结果/n,之后/f,，/w,需要/v,将/d,其/r,转换/v,成/v,黑色/n,边缘/n,和/c,白色/n,背景/n,的/u,图像/n,。/w,然后/c,将/d,其/r,归/v,一化/nw,（/w,使/v,它/r,的/u,像素/n,值/n,在/p,0/m,到/v,1/m,之间/f,）/w,，/w,并/c,乘/v,以/p,源/ng,图像/n,以便/d,能/v,将/d,边缘/n,变/v,黑/a,。/w,注意/v,，/w,核/n,的/u,大小/n,可/v,由/p,strokeedges/en,(/w,)/w,函数/n,的/u,参数/n,来/v,指定/v,。/w,blurksize/en,参数/n,会/v, ,作为/v,medianblur/en,(/w,)/w,含糊/a,的/u,ksize/en,参数/n,，/w,edgeksize/en,参数/n,会/v,作为/v,laplacian/en,(/w,)/w,函数/n,的/u,ksize/en,参数/n,。/w,对于/p,作者/n,的/u,摄像头/n,，/w,将/d,blurksize/en,值设/nw,为/p,7/m,，/w,将/d,edgeksize/en,值设/nw,为/p,5/m,会/v,得到/v,最/d,好/a,的/u,效果/n,。/w,但/c,对于/p,较/d,大/a,的/u,ksize/en,（/w,比如/v,7/m,）/w,，/w,使用/v,medianblur/en,(/w,)/w,的/u,代价/n,很/d,高/a,。/w,如果/c,在/p,使用/v,strokeedges/en,(/w,)/w,函数/n,时/ng,遇到/v,性能/n,问题/n,，/w,可/v,试/v,着/u,减/v,小/a,blurksize/en,的/u,值/n,。/w,要/v,关闭/v,模糊/a,效果/n,，/w,可以/v,将/d,blurksize/en,的/u,值设/nw,为/p,3/m,以下/f,。/w,4/m,./w, ,用/p,定制/v,内核/n,做/