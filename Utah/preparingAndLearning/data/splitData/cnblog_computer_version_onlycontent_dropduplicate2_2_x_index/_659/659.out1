计算机 视觉 之一 特征 检测 主要 内容 1 一个 例子 
解释 为什么 要 进行 特征 检测 2 图像 特征 3 
点 特征 检测 Harris 角 点 MOPS SIFT4 边缘 检测 
一 阶 微分 算子 二阶 微分 算子 Canny 算子 一 
为什么 要 检测 特征 举 一个 例子 全景 图像 拼接 
给定 两张 图像 如何 拼接 成 一张 大图 步骤 一 
检测 特征点 步骤 二 匹配 特征点 步骤 三 图像 适配 
二 图像 的 特征 有 哪些 计算机 视觉 中 常用 
的 图像 特征 包括 点 边缘 直线 曲线 等 三 
点 特征 检测 1 点 特征 的 优势 点 特征 
属于 局部 特征 对 遮挡 有 一定 鲁棒性 通常 图像 
中 可以 检测 到 成百上千 的 点 特征 以 量 
取胜 点 特征 有 较好 的 辨识 性 不同 物体 
上 的 点 容易 区分 点 特征提取 通常 速度 很快 
2 什么 是 好 的 点 特征 考虑 图像 上 
的 一个 小 窗口 当 窗口 位置 发生 微小 变化 
时 窗口 图像 如何 变化 很明显 从 下图 可以 看出 
角 点 是 一个 好 的 点 特征 因为 它 
沿 任意 方向 移动 窗口 的 灰度 变化 明显 所以 
它 可以 作为 一个 特征 来 进行 区分 和 辨别 
3 点 特征 的 数学 表达 假设 窗口 W 发生 
位置 偏移 u v 比较 偏移 前 后窗 口中 每 
一个 像素点 的 灰度 变化 值 使用 误差 平方和 定义 
误差函数 E u v 不同 位置 点 计算 得到 的 
E u v 如下 图 所示 E u v 值 
随着 u v 变化 的 效果图 可以 看出 平坦 区域 
如 天空 的 灰度 变化 不大 下 边缘 区域 沿着 
边缘 方向 的 灰度 变化 . 也 很小 下 只 
有角 点 处 的 灰度 变化 稍微 剧烈 一点 下 
误差函数 E u v 将 I u v 进行 Taylor 
展开 进一步 展开 写成 H 称为 自 相关矩阵 和是H/nr 的 
2个 特征值 E u v 的 变化 如下 图 所示 
根据 H 的 2个 特征值 大小 对 图像 点 进行 
分类 角 点 应该 满足 的 基本 性质 最小 特征值 
尽量 大角 点 响应 比 更 有效 的 角 点 
响应函数 四 点 特征 检测 Harris 角 点 算法 步骤 
将 原 图像 I 使用 w x y 进行 卷积 
并 计算 图像 梯度 Ix 与 Iy 计算 每个 图像 
点 的 自 相关矩阵 H 计算 角 点 响应 选择 
R 大于 阈值 且为 局部 极大值 的 点 作为 角 
点 Harris 角 点 改进 Harris 检测 子 获得 的 
角 点 可能 在 图像 上 分布 不 均匀 对比度 
高的/nr 区域 角 点多 改进 方法 Adaptive non maximal suppression 
ANMS 只 保留 半径 r 内角 点 响应 比 其他 
点 大 10% 的 点 作为 角 点 Brown Szeliski 
and Winder 2005 Harris 角 点 的 性质 1 . 
    旋转 不变 椭圆 转过 一定 角度 但是 其 
形状 保持 不变 特征值 保持 不变 2 .     
光照 变化 不变 只 使用 了 图像 导数 对于 光照 
线性 变化 不变 3 .     对比度 变化 部分 
不变 4 .     对于 图像 尺度 变化 不 
具有 不变性 五 点 特征 检测 MOPSMOPS Multi scale oriented 
patches 尺度 不变 在 多层 图像 金字塔 上 检测 角 
点 在 同 一层 进行 匹配 MOPS 局限 待 匹配 
的 图像 需要 尺度 近似 六 点 特征 检测 SIFTScale 
Invariant Feature Transform SIFT Lowe 2004 主要 内容 1 . 
SIFT 算法 特点 2 . SIFT 算法 流程 3 . 
SIFT 算法 的 具体 步骤 4 . SIFT 点 的 
特点 1 SIFT 算法 的 特点 不变性 对 图像 的 
旋转 和 尺度 变化 具有 不变性 对 三维 视角 变化 
和 光照 变化 具有 很强 的 适应性 局部 特征 在/p 
遮挡/v 和/c 场景/n 杂乱/n 时仍/nr 保持/v 不变性/l 辨别 力强 特征 
之间 相互 区分 的 能力 强 有利于 匹配 数量 较多 
一般 500 * 500 的 图像 能 提取 约 2000个 
特征点 2 SIFT 算法 的 流程 在 高斯 差分 Difference 
of Gaussian DOG 尺度空间 中 提取 极值 点 并 进行 
优化 从而 获取 特征点 3 SIFT 算法 点 检测 的 
具体 步骤 构建 尺度空间 构造 高斯 差分 尺度空间 DoG 尺度空间 
极值 点 检测 特征点 精确定位 去除 不稳 定点 构建 尺度空间 
模拟图像 数据 的 多 尺度 特征 其中 是 尺度 可变 
高斯 函数 尺度 参数 决定 图像 的 平滑 程度 大尺度 
对应 图像 的 概貌 特征 小尺度 对应 图像 的 细节 
特征 构造 高斯 差分 尺度空间 Difference of Gaussian DOG 为了 
在 尺度 空间 中 检测 稳定 的 关键 点 构造 
高斯 差分 尺度空间 使用 DOG 的 几个 理由 1 . 
  计算 效率高 高斯 卷积 减法 2 .     
高斯 差分 是 对 尺度 归一化 LoG 的 一个 很好 
的 近似 而 尺度 归一化 的 LoG 空间 具有 真正 
的 尺度 不变性 Lindegerg 1994 3 .   实验 比较 
表明 从 尺度 归一化 LoG 空间 中 提取 的 图像 
特征 的 尺度 稳定性 最好 优于 梯度 Hessian 或 Harris 
角 点函数 DoG 尺度空间 DoG 尺度空间 极值 点 检测 一个点 
和它同/nr 尺度 的 8个 相邻 点 以及 上下 相邻 尺度 
对应 的 9 × 2个 点 共 26个 点 比较 
以/p 确保/v 在/p 尺度/n 空间/n 和/c 二维/m 图像/n 空间/n 都/d 
检测/vn 到/v 极值/n 点/m 一个点 如果 在 DOG 尺度空间 的 
26个 领域 中 是 最大 或 最小值 时 就 认为 
该点 是 图像 在 该 尺度 下 的 一个 特征点 
一个 特征点 是 在 三维 尺度空间 的 局部 极值 点 
特征点 精确定位 一个 特征点 是 在 三维 尺度空间 的 局部 
极值 点 但 x y 为 整数 像素 为 离散 
尺度 需要 对 DoG 空间 拟合 进行 特征点 精确定位 将 
的 特征点 处 二阶 Taylor 展开 对 上式 求导 并 
令 其为 0 得到 精确 的 位置 偏移量 若 中的 
三个 变量 任意 一个 偏移量 大于 0.5 说明 精确 极值 
点 更 接近 于 另一个 特征点 则 更换 特征点 重复 
上述 精确定位 流程 去除 不 稳定 特征点 去除 对比度 低 
的 点 计算 极值 点 取值 若 则 保留 该 
特征点 否则 丢弃 去除 边缘 点 DoG 算子 会 产生 
较强 的 边缘 响应 利用 Harris 检测 子 判断 若 
则 保留 该 特征点 否则 丢弃 4 SIFT 点 的 
特点 视角 和 旋转 变化 不变性 光照 不变性 尺度 不变性 
七 点 特征 检测 小结 根据 自 相关矩阵 特征值 检测 
角 点 Harris Harris 角 点 具有 旋转 光照 不变性 
但 不具有 尺度 不变性 高斯 差分 尺度空间 中 检测 尺度 
不变 特征点 SIFT SIFT 具有 尺度 不变性 Harris 与 SIFT 
的 机理 不同 因此 可以 联合 使用 互为补充 八 边缘 
检测 主要 内容 1 . 图像 梯度 2 . 一 
阶 微分 算子 3 . 二阶 微分 算子 4 . 
Canny 算子 1 为什么 要 检测 边缘 一个 例子 基于 
边缘 的 图像编辑 2 图像 边缘 的 产生 物体 的 
边界 表面 方向 的 改变 不同 的 颜色 光照 明暗 
的 变化 3 边缘 检测 图像 梯度 图像 梯度 的 
定义 水平 梯度 垂直 梯度 图像 梯度 指向 灰度 变化 
最快 的 方向 梯度 幅 值 表示 边缘 的 强弱 
边缘 是 一 阶 倒数 的 极大值 点 4 边缘 
检测 一 阶 微分 算子 使用 差分 近似 一 阶 
微分 算子 直接 对 图像 使用 差分 容易 受到 噪声 
影响 解决 方法 先 平滑 再 微 分由 可将 平滑 
和 微分 合为 一个 算子 二维 高斯 微分 实际 应用 
中 对 二维 高斯 微分 进行 数值 近似 Prewitt 算子 
Sobel 算子 Prewitt 算子 去 噪 + 增强 边缘 Sobel 
算子 去 噪 + 增强 边缘 给 四 邻域 更大 
的 权重 使用 一 阶 微分 算子 提取 边缘 流程 
1 . 使用 Prewitt 或 Sobel 算子 对 图像 进行 
卷积 2 . 将 梯度 幅 值 大于 阈值 的 
点 标记 为 边缘 3 . optional 将 边缘 细化 
为 一个 像素 宽度 5 边缘 检测 二阶 微分 算子 
如果 不 使用 细化 如何 获得 单 像素 宽度 边缘 
边缘 是 一 阶 倒数 的 极大值 点 边缘 是 
二阶 倒数 的 过 零点 注意 仅仅 等于 0 不够 
常数 函数 也为 0 必须 存在 符号 改变 对 平滑 
图像 做 二阶 微分 二维 高斯 微分 Laplacian of Gaussian 
LoG 算子 首先 用 Gauss 函数 对 图像 进行 平滑 
抑制 噪声 然后 对 经过 平滑 的 图像 使用 Laplacian 
算子 LoG 算子 等效于 Gaussian 平滑 + Laplacian 二阶 微分 
LoG 因其 形状 也 称为 Mexican hatLoG 算子 与 一 
阶 微分 算子 的 比较 LoG 算子 的 特点 • 
正确 检测 到 的 边缘 单 像素 宽度 定位 准确 
• 形成 许多 封闭 的 轮廓 这 是 一个 主要 
问题 • 需要 更加 复杂 的 算法 检 测过 零点 
6 边缘 检测 Canny 算子 Canny 算子 是 最 常用 
的 边缘 检测 算子 Canny 算子 是 一 阶 微分 
算子 但是 一个 优化 的 方案 单 像素 宽度 噪声 
抑制 边缘增强 边缘 定位 J . Canny A Computational Approach 
to Edge Detection IEEE Trans . on PAMI 8 6 
1986.18482 citesCanny 算子 基本 流程 1 高斯 平滑 滤波器 卷积 
2 使用 一 阶 有限 差分 计算 偏 导数 的 
两个 阵列 相当于 与 模板 进行 卷积 运算 当然 也 
可以 使用 高斯 微分 算子 Prewitt 或 Sobel 直接 与 
卷积 计算 和 3 边缘 幅 值 和 边缘 方位角 
M 代表 梯度 幅 值 的 大小 在 存在 边缘 
的 图像 位置 处 M 的 值 变大 图像 的 
边缘 特征 被 增强 4 梯度 非 极大值 抑制 局部 
极值 周围 存在 相近 数值 的 点 非 极大值 抑制 
NMS Non Maxima Suppression 主要 思想 由 梯度 幅 值 
图像 仅 保留 极大值 严格地 说 保留 梯度 方 向上 
的 极大值 点 具体 过程 1 . 初始化 2 . 
对于 每个 点 在 梯度方向 和反/nr 梯度方向 各 找 n 
个 像素点 若 不是 这些 点 中的 最 大点 则将 
置 零 否则 保持 不变 在 梯度 方向 的 沿线 
上 检测 该点 是否 为 局部 极大值 简化 的 情形 
只 使用 4个 方向 0 45 90 135 得到 的 
结果 包含 边缘 的 宽度 为 1个 像素 5 对 
NMS 结果 进行 阈值 二 值 化 双 阈值 检测 
使用 大 的 阈值 得到 少量 的 边缘 点 许多 
空隙 使用 小 的 阈值 得到 大量 的 边缘 点 
大量 的 错误 检测 两个 阈值 T1 T2 T2 T1 
由 T1 得到 低 阈值 边缘 图 更大 的 误 
检测 率由 T2 得到 高 阈值 边缘 图 更加 可靠 
6 边缘连接 1 . 将 中 相连 的 边缘 点 
输出 为 一幅 边缘 图像 2 . 对于 中 每条 
边 从端/nr 点出 发在 中 寻找 其 延长 的 部分 
直至 与 中 另外 一条 边的/nr 端点 相连 否 则 
认为 中 没有 它 延长 的 部分 3 . 将 
作为 结果 输出 Canny 算子 流程 效果图 • Canny 算子 
的 优点 参数 较少 计算 效率 得到 的 边缘 连续 
完整 • 参数 的 选择 Gauss 滤波 的 尺度 双 
阈值 的 选择 LOW = HIGH * 0.4 Canny 算子 
的 处理 效果 九 总结 • 根据 自 相关矩阵 特征值 
检测 角 点 Harris • 高斯 差分 尺度空间 中 检测 
尺度 不变 特征点 SIFT • 一 阶 高斯 微分 算子 
Prewitt Sobel 极值 检测 边缘 • 二阶 高斯 微分 算子 
LoG 过 零点 检测 边缘 • 非 极大值 抑制 + 
双 阈值 检测 边缘 Canny 十 特征 检测 参考文献 • 
Harris C . and Stephens M . J . A 
combined corner and edge detector . In Alvey Vision Conference 
1988 . • Lowe D . G . Distinctive image 
features from scale invariant keypoints . International Journal of Computer 
Vision 60 2 91 – 110 2004 . • Canny 
J . A computational approach to edge detection . IEEE 
Transactions onPAMI 8 6 679 – 698 1986 . • 
Tuytelaars T . and Mikolajczyk K . Local Invariant Feature 
Detectors A Survey . Foundations and Trends in Computer Graphics 
and Vision 3 3 177 – 280 2007 . 计算机 视觉 之一 特征 检测 主要 内容 1 一个 例子 
解释 为什么 要 进行 特征 检测 2 图像 特征 3 
点 特征 检测 Harris 角 点 MOPS SIFT4 边缘 检测 
一 阶 微分 算子 二阶 微分 算子 Canny 算子 一 
为什么 要 检测 特征 举 一个 例子 全景 图像 拼接 
给定 两张 图像 如何 拼接 成 一张 大图 步骤 一 
检测 特征点 步骤 二 匹配 特征点 步骤 三 图像 适配 
二 图像 的 特征 有 哪些 计算机 视觉 中 常用 
的 图像 特征 包括 点 边缘 直线 曲线 等 三 
点 特征 检测 1 点 特征 的 优势 点 特征 
属于 局部 特征 对 遮挡 有 一定 鲁棒性 通常 图像 
中 可以 检测 到 成百上千 的 点 特征 以 量 
取胜 点 特征 有 较好 的 辨识 性 不同 物体 
上 的 点 容易 区分 点 特征提取 通常 速度 很快 
2 什么 是 好 的 点 特征 考虑 图像 上 
的 一个 小 窗口 当 窗口 位置 发生 微小 变化 
时 窗口 图像 如何 变化 很明显 从 下图 可以 看出 
角 点 是 一个 好 的 点 特征 因为 它 
沿 任意 方向 移动 窗口 的 灰度 变化 明显 所以 
它 可以 作为 一个 特征 来 进行 区分 和 辨别 
3 点 特征 的 数学 表达 假设 窗口 W 发生 
位置 偏移 u v 比较 偏移 前 后窗 口中 每 
一个 像素点 的 灰度 变化 值 使用 误差 平方和 定义 
误差函数 E u v 不同 位置 点 计算 得到 的 
E u v 如下 图 所示 E u v 值 
随着 u v 变化 的 效果图 可以 看出 平坦 区域 
如 天空 的 灰度 变化 不大 下 边缘 区域 沿着 
边缘 方向 的 灰度 变化 . 也 很小 下 只 
有角 点 处 的 灰度 变化 稍微 剧烈 一点 下 
误差函数 E u v 将 I u v 进行 Taylor 
展开 进一步 展开 写成 H 称为 自 相关矩阵 和是H/nr 的 
2个 特征值 E u v 的 变化 如下 图 所示 
根据 H 的 2个 特征值 大小 对 图像 点 进行 
分类 角 点 应该 满足 的 基本 性质 最小 特征值 
尽量 大角 点 响应 比 更 有效 的 角 点 
响应函数 四 点 特征 检测 Harris 角 点 算法 步骤 
将 原 图像 I 使用 w x y 进行 卷积 
并 计算 图像 梯度 Ix 与 Iy 计算 每个 图像 
点 的 自 相关矩阵 H 计算 角 点 响应 选择 
R 大于 阈值 且为 局部 极大值 的 点 作为 角 
点 Harris 角 点 改进 Harris 检测 子 获得 的 
角 点 可能 在 图像 上 分布 不 均匀 对比度 
高的/nr 区域 角 点多 改进 方法 Adaptive non maximal suppression 
ANMS 只 保留 半径 r 内角 点 响应 比 其他 
点 大 10% 的 点 作为 角 点 Brown Szeliski 
and Winder 2005 Harris 角 点 的 性质 1 . 
    旋转 不变 椭圆 转过 一定 角度 但是 其 
形状 保持 不变 特征值 保持 不变 2 .     
光照 变化 不变 只 使用 了 图像 导数 对于 光照 
线性 变化 不变 3 .     对比度 变化 部分 
不变 4 .     对于 图像 尺度 变化 不 
具有 不变性 五 点 特征 检测 MOPSMOPS Multi scale oriented 
patches 尺度 不变 在 多层 图像 金字塔 上 检测 角 
点 在 同 一层 进行 匹配 MOPS 局限 待 匹配 
的 图像 需要 尺度 近似 六 点 特征 检测 SIFTScale 
Invariant Feature Transform SIFT Lowe 2004 主要 内容 1 . 
SIFT 算法 特点 2 . SIFT 算法 流程 3 . 
SIFT 算法 的 具体 步骤 4 . SIFT 点 的 
特点 1 SIFT 算法 的 特点 不变性 对 图像 的 
旋转 和 尺度 变化 具有 不变性 对 三维 视角 变化 
和 光照 变化 具有 很强 的 适应性 局部 特征 在/p 
遮挡/v 和/c 场景/n 杂乱/n 时仍/nr 保持/v 不变性/l 辨别 力强 特征 
之间 相互 区分 的 能力 强 有利于 匹配 数量 较多 
一般 500 * 500 的 图像 能 提取 约 2000个 
特征点 2 SIFT 算法 的 流程 在 高斯 差分 Difference 
of Gaussian DOG 尺度空间 中 提取 极值 点 并 进行 
优化 从而 获取 特征点 3 SIFT 算法 点 检测 的 
具体 步骤 构建 尺度空间 构造 高斯 差分 尺度空间 DoG 尺度空间 
极值 点 检测 特征点 精确定位 去除 不稳 定点 构建 尺度空间 
模拟图像 数据 的 多 尺度 特征 其中 是 尺度 可变 
高斯 函数 尺度 参数 决定 图像 的 平滑 程度 大尺度 
对应 图像 的 概貌 特征 小尺度 对应 图像 的 细节 
特征 构造 高斯 差分 尺度空间 Difference of Gaussian DOG 为了 
在 尺度 空间 中 检测 稳定 的 关键 点 构造 
高斯 差分 尺度空间 使用 DOG 的 几个 理由 1 . 
  计算 效率高 高斯 卷积 减法 2 .     
高斯 差分 是 对 尺度 归一化 LoG 的 一个 很好 
的 近似 而 尺度 归一化 的 LoG 空间 具有 真正 
的 尺度 不变性 Lindegerg 1994 3 .   实验 比较 
表明 从 尺度 归一化 LoG 空间 中 提取 的 图像 
特征 的 尺度 稳定性 最好 优于 梯度 Hessian 或 Harris 
角 点函数 DoG 尺度空间 DoG 尺度空间 极值 点 检测 一个点 
和它同/nr 尺度 的 8个 相邻 点 以及 上下 相邻 尺度 
对应 的 9 × 2个 点 共 26个 点 比较 
以/p 确保/v 在/p 尺度/n 空间/n 和/c 二维/m 图像/n 空间/n 都/d 
检测/vn 到/v 极值/n 点/m 一个点 如果 在 DOG 尺度空间 的 
26个 领域 中 是 最大 或 最小值 时 就 认为 
该点 是 图像 在 该 尺度 下 的 一个 特征点 
一个 特征点 是 在 三维 尺度空间 的 局部 极值 点 
特征点 精确定位 一个 特征点 是 在 三维 尺度空间 的 局部 
极值 点 但 x y 为 整数 像素 为 离散 
尺度 需要 对 DoG 空间 拟合 进行 特征点 精确定位 将 
的 特征点 处 二阶 Taylor 展开 对 上式 求导 并 
令 其为 0 得到 精确 的 位置 偏移量 若 中的 
三个 变量 任意 一个 偏移量 大于 0.5 说明 精确 极值 
点 更 接近 于 另一个 特征点 则 更换 特征点 重复 
上述 精确定位 流程 去除 不 稳定 特征点 去除 对比度 低 
的 点 计算 极值 点 取值 若 则 保留 该 
特征点 否则 丢弃 去除 边缘 点 DoG 算子 会 产生 
较强 的 边缘 响应 利用 Harris 检测 子 判断 若 
则 保留 该 特征点 否则 丢弃 4 SIFT 点 的 
特点 视角 和 旋转 变化 不变性 光照 不变性 尺度 不变性 
七 点 特征 检测 小结 根据 自 相关矩阵 特征值 检测 
角 点 Harris Harris 角 点 具有 旋转 光照 不变性 
但 不具有 尺度 不变性 高斯 差分 尺度空间 中 检测 尺度 
不变 特征点 SIFT SIFT 具有 尺度 不变性 Harris 与 SIFT 
的 机理 不同 因此 可以 联合 使用 互为补充 八 边缘 
检测 主要 内容 1 . 图像 梯度 2 . 一 
阶 微分 算子 3 . 二阶 微分 算子 4 . 
Canny 算子 1 为什么 要 检测 边缘 一个 例子 基于 
边缘 的 图像编辑 2 图像 边缘 的 产生 物体 的 
边界 表面 方向 的 改变 不同 的 颜色 光照 明暗 
的 变化 3 边缘 检测 图像 梯度 图像 梯度 的 
定义 水平 梯度 垂直 梯度 图像 梯度 指向 灰度 变化 
最快 的 方向 梯度 幅 值 表示 边缘 的 强弱 
边缘 是 一 阶 倒数 的 极大值 点 4 边缘 
检测 一 阶 微分 算子 使用 差分 近似 一 阶 
微分 算子 直接 对 图像 使用 差分 容易 受到 噪声 
影响 解决 方法 先 平滑 再 微 分由 可将 平滑 
和 微分 合为 一个 算子 二维 高斯 微分 实际 应用 
中 对 二维 高斯 微分 进行 数值 近似 Prewitt 算子 
Sobel 算子 Prewitt 算子 去 噪 + 增强 边缘 Sobel 
算子 去 噪 + 增强 边缘 给 四 邻域 更大 
的 权重 使用 一 阶 微分 算子 提取 边缘 流程 
1 . 使用 Prewitt 或 Sobel 算子 对 图像 进行 
卷积 2 . 将 梯度 幅 值 大于 阈值 的 
点 标记 为 边缘 3 . optional 将 边缘 细化 
为 一个 像素 宽度 5 边缘 检测 二阶 微分 算子 
如果 不 使用 细化 如何 获得 单 像素 宽度 边缘 
边缘 是 一 阶 倒数 的 极大值 点 边缘 是 
二阶 倒数 的 过 零点 注意 仅仅 等于 0 不够 
常数 函数 也为 0 必须 存在 符号 改变 对 平滑 
图像 做 二阶 微分 二维 高斯 微分 Laplacian of Gaussian 
LoG 算子 首先 用 Gauss 函数 对 图像 进行 平滑 
抑制 噪声 然后 对 经过 平滑 的 图像 使用 Laplacian 
算子 LoG 算子 等效于 Gaussian 平滑 + Laplacian 二阶 微分 
LoG 因其 形状 也 称为 Mexican hatLoG 算子 与 一 
阶 微分 算子 的 比较 LoG 算子 的 特点 • 
正确 检测 到 的 边缘 单 像素 宽度 定位 准确 
• 形成 许多 封闭 的 轮廓 这 是 一个 主要 
问题 • 需要 更加 复杂 的 算法 检 测过 零点 
6 边缘 检测 Canny 算子 Canny 算子 是 最 常用 
的 边缘 检测 算子 Canny 算子 是 一 阶 微分 
算子 但是 一个 优化 的 方案 单 像素 宽度 噪声 
抑制 边缘增强 边缘 定位 J . Canny A Computational Approach 
to Edge Detection IEEE Trans . on PAMI 8 6 
1986.18482 citesCanny 算子 基本 流程 1 高斯 平滑 滤波器 卷积 
2 使用 一 阶 有限 差分 计算 偏 导数 的 
两个 阵列 相当于 与 模板 进行 卷积 运算 当然 也 
可以 使用 高斯 微分 算子 Prewitt 或 Sobel 直接 与 
卷积 计算 和 3 边缘 幅 值 和 边缘 方位角 
M 代表 梯度 幅 值 的 大小 在 存在 边缘 
的 图像 位置 处 M 的 值 变大 图像 的 
边缘 特征 被 增强 4 梯度 非 极大值 抑制 局部 
极值 周围 存在 相近 数值 的 点 非 极大值 抑制 
NMS Non Maxima Suppression 主要 思想 由 梯度 幅 值 
图像 仅 保留 极大值 严格地 说 保留 梯度 方 向上 
的 极大值 点 具体 过程 1 . 初始化 2 . 
对于 每个 点 在 梯度方向 和反/nr 梯度方向 各 找 n 
个 像素点 若 不是 这些 点 中的 最 大点 则将 
置 零 否则 保持 不变 在 梯度 方向 的 沿线 
上 检测 该点 是否 为 局部 极大值 简化 的 情形 
只 使用 4个 方向 0 45 90 135 得到 的 
结果 包含 边缘 的 宽度 为 1个 像素 5 对 
NMS 结果 进行 阈值 二 值 化 双 阈值 检测 
使用 大 的 阈值 得到 少量 的 边缘 点 许多 
空隙 使用 小 的 阈值 得到 大量 的 边缘 点 
大量 的 错误 检测 两个 阈值 T1 T2 T2 T1 
由 T1 得到 低 阈值 边缘 图 更大 的 误 
检测 率由 T2 得到 高 阈值 边缘 图 更加 可靠 
6 边缘连接 1 . 将 中 相连 的 边缘 点 
输出 为 一幅 边缘 图像 2 . 对于 中 每条 
边 从端/nr 点出 发在 中 寻找 其 延长 的 部分 
直至 与 中 另外 一条 边的/nr 端点 相连 否 则 
认为 中 没有 它 延长 的 部分 3 . 将 
作为 结果 输出 Canny 算子 流程 效果图 • Canny 算子 
的 优点 参数 较少 计算 效率 得到 的 边缘 连续 
完整 • 参数 的 选择 Gauss 滤波 的 尺度 双 
阈值 的 选择 LOW = HIGH * 0.4 Canny 算子 
的 处理 效果 九 总结 • 根据 自 相关矩阵 特征值 
检测 角 点 Harris • 高斯 差分 尺度空间 中 检测 
尺度 不变 特征点 SIFT • 一 阶 高斯 微分 算子 
Prewitt Sobel 极值 检测 边缘 • 二阶 高斯 微分 算子 
LoG 过 零点 检测 边缘 • 非 极大值 抑制 + 
双 阈值 检测 边缘 Canny 十 特征 检测 参考文献 • 
Harris C . and Stephens M . J . A 
combined corner and edge detector . In Alvey Vision Conference 
1988 . • Lowe D . G . Distinctive image 
features from scale invariant keypoints . International Journal of Computer 
Vision 60 2 91 – 110 2004 . • Canny 
J . A computational approach to edge detection . IEEE 
Transactions onPAMI 8 6 679 – 698 1986 . • 
Tuytelaars T . and Mikolajczyk K . Local Invariant Feature 
Detectors A Survey . Foundations and Trends in Computer Graphics 
and Vision 3 3 177 – 280 2007 . 计算机 视觉 之一 特征 检测 主要 内容 1 一个 例子 
解释 为什么 要 进行 特征 检测 2 图像 特征 3 
点 特征 检测 Harris 角 点 MOPS SIFT4 边缘 检测 
一 阶 微分 算子 二阶 微分 算子 Canny 算子 一 
为什么 要 检测 特征 举 一个 例子 全景 图像 拼接 
给定 两张 图像 如何 拼接 成 一张 大图 步骤 一 
检测 特征点 步骤 二 匹配 特征点 步骤 三 图像 适配 
二 图像 的 特征 有 哪些 计算机 视觉 中 常用 
的 图像 特征 包括 点 边缘 直线 曲线 等 三 
点 特征 检测 1 点 特征 的 优势 点 特征 
属于 局部 特征 对 遮挡 有 一定 鲁棒性 通常 图像 
中 可以 检测 到 成百上千 的 点 特征 以 量 
取胜 点 特征 有 较好 的 辨识 性 不同 物体 
上 的 点 容易 区分 点 特征提取 通常 速度 很快 
2 什么 是 好 的 点 特征 考虑 图像 上 
的 一个 小 窗口 当 窗口 位置 发生 微小 变化 
时 窗口 图像 如何 变化 很明显 从 下图 可以 看出 
角 点 是 一个 好 的 点 特征 因为 它 
沿 任意 方向 移动 窗口 的 灰度 变化 明显 所以 
它 可以 作为 一个 特征 来 进行 区分 和 辨别 
3 点 特征 的 数学 表达 假设 窗口 W 发生 
位置 偏移 u v 比较 偏移 前 后窗 口中 每 
一个 像素点 的 灰度 变化 值 使用 误差 平方和 定义 
误差函数 E u v 不同 位置 点 计算 得到 的 
E u v 如下 图 所示 E u v 值 
随着 u v 变化 的 效果图 可以 看出 平坦 区域 
如 天空 的 灰度 变化 不大 下 边缘 区域 沿着 
边缘 方向 的 灰度 变化 . 也 很小 下 只 
有角 点 处 的 灰度 变化 稍微 剧烈 一点 下 
误差函数 E u v 将 I u v 进行 Taylor 
展开 进一步 展开 写成 H 称为 自 相关矩阵 和是H/nr 的 
2个 特征值 E u v 的 变化 如下 图 所示 
根据 H 的 2个 特征值 大小 对 图像 点 进行 
分类 角 点 应该 满足 的 基本 性质 最小 特征值 
尽量 大角 点 响应 比 更 有效 的 角 点 
响应函数 四 点 特征 检测 Harris 角 点 算法 步骤 
将 原 图像 I 使用 w x y 进行 卷积 
并 计算 图像 梯度 Ix 与 Iy 计算 每个 图像 
点 的 自 相关矩阵 H 计算 角 点 响应 选择 
R 大于 阈值 且为 局部 极大值 的 点 作为 角 
点 Harris 角 点 改进 Harris 检测 子 获得 的 
角 点 可能 在 图像 上 分布 不 均匀 对比度 
高的/nr 区域 角 点多 改进 方法 Adaptive non maximal suppression 
ANMS 只 保留 半径 r 内角 点 响应 比 其他 
点 大 10% 的 点 作为 角 点 Brown Szeliski 
and Winder 2005 Harris 角 点 的 性质 1 . 
    旋转 不变 椭圆 转过 一定 角度 但是 其 
形状 保持 不变 特征值 保持 不变 2 .     
光照 变化 不变 只 使用 了 图像 导数 对于 光照 
线性 变化 不变 3 .     对比度 变化 部分 
不变 4 .     对于 图像 尺度 变化 不 
具有 不变性 五 点 特征 检测 MOPSMOPS Multi scale oriented 
patches 尺度 不变 在 多层 图像 金字塔 上 检测 角 
点 在 同 一层 进行 匹配 MOPS 局限 待 匹配 
的 图像 需要 尺度 近似 六 点 特征 检测 SIFTScale 
Invariant Feature Transform SIFT Lowe 2004 主要 内容 1 . 
SIFT 算法 特点 2 . SIFT 算法 流程 3 . 
SIFT 算法 的 具体 步骤 4 . SIFT 点 的 
特点 1 SIFT 算法 的 特点 不变性 对 图像 的 
旋转 和 尺度 变化 具有 不变性 对 三维 视角 变化 
和 光照 变化 具有 很强 的 适应性 局部 特征 在/p 
遮挡/v 和/c 场景/n 杂乱/n 时仍/nr 保持/v 不变性/l 辨别 力强 特征 
之间 相互 区分 的 能力 强 有利于 匹配 数量 较多 
一般 500 * 500 的 图像 能 提取 约 2000个 
特征点 2 SIFT 算法 的 流程 在 高斯 差分 Difference 
of Gaussian DOG 尺度空间 中 提取 极值 点 并 进行 
优化 从而 获取 特征点 3 SIFT 算法 点 检测 的 
具体 步骤 构建 尺度空间 构造 高斯 差分 尺度空间 DoG 尺度空间 
极值 点 检测 特征点 精确定位 去除 不稳 定点 构建 尺度空间 
模拟图像 数据 的 多 尺度 特征 其中 是 尺度 可变 
高斯 函数 尺度 参数 决定 图像 的 平滑 程度 大尺度 
对应 图像 的 概貌 特征 小尺度 对应 图像 的 细节 
特征 构造 高斯 差分 尺度空间 Difference of Gaussian DOG 为了 
在 尺度 空间 中 检测 稳定 的 关键 点 构造 
高斯 差分 尺度空间 使用 DOG 的 几个 理由 1 . 
  计算 效率高 高斯 卷积 减法 2 .     
高斯 差分 是 对 尺度 归一化 LoG 的 一个 很好 
的 近似 而 尺度 归一化 的 LoG 空间 具有 真正 
的 尺度 不变性 Lindegerg 1994 3 .   实验 比较 
表明 从 尺度 归一化 LoG 空间 中 提取 的 图像 
特征 的 尺度 稳定性 最好 优于 梯度 Hessian 或 Harris 
角 点函数 DoG 尺度空间 DoG 尺度空间 极值 点 检测 一个点 
和它同/nr 尺度 的 8个 相邻 点 以及 上下 相邻 尺度 
对应 的 9 × 2个 点 共 26个 点 比较 
以/p 确保/v 在/p 尺度/n 空间/n 和/c 二维/m 图像/n 空间/n 都/d 
检测/vn 到/v 极值/n 点/m 一个点 如果 在 DOG 尺度空间 的 
26个 领域 中 是 最大 或 最小值 时 就 认为 
该点 是 图像 在 该 尺度 下 的 一个 特征点 
一个 特征点 是 在 三维 尺度空间 的 局部 极值 点 
特征点 精确定位 一个 特征点 是 在 三维 尺度空间 的 局部 
极值 点 但 x y 为 整数 像素 为 离散 
尺度 需要 对 DoG 空间 拟合 进行 特征点 精确定位 将 
的 特征点 处 二阶 Taylor 展开 对 上式 求导 并 
令 其为 0 得到 精确 的 位置 偏移量 若 中的 
三个 变量 任意 一个 偏移量 大于 0.5 说明 精确 极值 
点 更 接近 于 另一个 特征点 则 更换 特征点 重复 
上述 精确定位 流程 去除 不 稳定 特征点 去除 对比度 低 
的 点 计算 极值 点 取值 若 则 保留 该 
特征点 否则 丢弃 去除 边缘 点 DoG 算子 会 产生 
较强 的 边缘 响应 利用 Harris 检测 子 判断 若 
则 保留 该 特征点 否则 丢弃 4 SIFT 点 的 
特点 视角 和 旋转 变化 不变性 光照 不变性 尺度 不变性 
七 点 特征 检测 小结 根据 自 相关矩阵 特征值 检测 
角 点 Harris Harris 角 点 具有 旋转 光照 不变性 
但 不具有 尺度 不变性 高斯 差分 尺度空间 中 检测 尺度 
不变 特征点 SIFT SIFT 具有 尺度 不变性 Harris 与 SIFT 
的 机理 不同 因此 可以 联合 使用 互为补充 八 边缘 
检测 主要 内容 1 . 图像 梯度 2 . 一 
阶 微分 算子 3 . 二阶 微分 算子 4 . 
Canny 算子 1 为什么 要 检测 边缘 一个 例子 基于 
边缘 的 图像编辑 2 图像 边缘 的 产生 物体 的 
边界 表面 方向 的 改变 不同 的 颜色 光照 明暗 
的 变化 3 边缘 检测 图像 梯度 图像 梯度 的 
定义 水平 梯度 垂直 梯度 图像 梯度 指向 灰度 变化 
最快 的 方向 梯度 幅 值 表示 边缘 的 强弱 
边缘 是 一 阶 倒数 的 极大值 点 4 边缘 
检测 一 阶 微分 算子 使用 差分 近似 一 阶 
微分 算子 直接 对 图像 使用 差分 容易 受到 噪声 
影响 解决 方法 先 平滑 再 微 分由 可将 平滑 
和 微分 合为 一个 算子 二维 高斯 微分 实际 应用 
中 对 二维 高斯 微分 进行 数值 近似 Prewitt 算子 
Sobel 算子 Prewitt 算子 去 噪 + 增强 边缘 Sobel 
算子 去 噪 + 增强 边缘 给 四 邻域 更大 
的 权重 使用 一 阶 微分 算子 提取 边缘 流程 
1 . 使用 Prewitt 或 Sobel 算子 对 图像 进行 
卷积 2 . 将 梯度 幅 值 大于 阈值 的 
点 标记 为 边缘 3 . optional 将 边缘 细化 
为 一个 像素 宽度 5 边缘 检测 二阶 微分 算子 
如果 不 使用 细化 如何 获得 单 像素 宽度 边缘 
边缘 是 一 阶 倒数 的 极大值 点 边缘 是 
二阶 倒数 的 过 零点 注意 仅仅 等于 0 不够 
常数 函数 也为 0 必须 存在 符号 改变 对 平滑 
图像 做 二阶 微分 二维 高斯 微分 Laplacian of Gaussian 
LoG 算子 首先 用 Gauss 函数 对 图像 进行 平滑 
抑制 噪声 然后 对 经过 平滑 的 图像 使用 Laplacian 
算子 LoG 算子 等效于 Gaussian 平滑 + Laplacian 二阶 微分 
LoG 因其 形状 也 称为 Mexican hatLoG 算子 与 一 
阶 微分 算子 的 比较 LoG 算子 的 特点 • 
正确 检测 到 的 边缘 单 像素 宽度 定位 准确 
• 形成 许多 封闭 的 轮廓 这 是 一个 主要 
问题 • 需要 更加 复杂 的 算法 检 测过 零点 
6 边缘 检测 Canny 算子 Canny 算子 是 最 常用 
的 边缘 检测 算子 Canny 算子 是 一 阶 微分 
算子 但是 一个 优化 的 方案 单 像素 宽度 噪声 
抑制 边缘增强 边缘 定位 J . Canny A Computational Approach 
to Edge Detection IEEE Trans . on PAMI 8 6 
1986.18482 citesCanny 算子 基本 流程 1 高斯 平滑 滤波器 卷积 
2 使用 一 阶 有限 差分 计算 偏 导数 的 
两个 阵列 相当于 与 模板 进行 卷积 运算 当然 也 
可以 使用 高斯 微分 算子 Prewitt 或 Sobel 直接 与 
卷积 计算 和 3 边缘 幅 值 和 边缘 方位角 
M 代表 梯度 幅 值 的 大小 在 存在 边缘 
的 图像 位置 处 M 的 值 变大 图像 的 
边缘 特征 被 增强 4 梯度 非 极大值 抑制 局部 
极值 周围 存在 相近 数值 的 点 非 极大值 抑制 
NMS Non Maxima Suppression 主要 思想 由 梯度 幅 值 
图像 仅 保留 极大值 严格地 说 保留 梯度 方 向上 
的 极大值 点 具体 过程 1 . 初始化 2 . 
对于 每个 点 在 梯度方向 和反/nr 梯度方向 各 找 n 
个 像素点 若 不是 这些 点 中的 最 大点 则将 
置 零 否则 保持 不变 在 梯度 方向 的 沿线 
上 检测 该点 是否 为 局部 极大值 简化 的 情形 
只 使用 4个 方向 0 45 90 135 得到 的 
结果 包含 边缘 的 宽度 为 1个 像素 5 对 
NMS 结果 进行 阈值 二 值 化 双 阈值 检测 
使用 大 的 阈值 得到 少量 的 边缘 点 许多 
空隙 使用 小 的 阈值 得到 大量 的 边缘 点 
大量 的 错误 检测 两个 阈值 T1 T2 T2 T1 
由 T1 得到 低 阈值 边缘 图 更大 的 误 
检测 率由 T2 得到 高 阈值 边缘 图 更加 可靠 
6 边缘连接 1 . 将 中 相连 的 边缘 点 
输出 为 一幅 边缘 图像 2 . 对于 中 每条 
边 从端/nr 点出 发在 中 寻找 其 延长 的 部分 
直至 与 中 另外 一条 边的/nr 端点 相连 否 则 
认为 中 没有 它 延长 的 部分 3 . 将 
作为 结果 输出 Canny 算子 流程 效果图 • Canny 算子 
的 优点 参数 较少 计算 效率 得到 的 边缘 连续 
完整 • 参数 的 选择 Gauss 滤波 的 尺度 双 
阈值 的 选择 LOW = HIGH * 0.4 Canny 算子 
的 处理 效果 九 总结 • 根据 自 相关矩阵 特征值 
检测 角 点 Harris • 高斯 差分 尺度空间 中 检测 
尺度 不变 特征点 SIFT • 一 阶 高斯 微分 算子 
Prewitt Sobel 极值 检测 边缘 • 二阶 高斯 微分 算子 
LoG 过 零点 检测 边缘 • 非 极大值 抑制 + 
双 阈值 检测 边缘 Canny 十 特征 检测 参考文献 • 
Harris C . and Stephens M . J . A 
combined corner and edge detector . In Alvey Vision Conference 
1988 . • Lowe D . G . Distinctive image 
features from scale invariant keypoints . International Journal of Computer 
Vision 60 2 91 – 110 2004 . • Canny 
J . A computational approach to edge detection . IEEE 
Transactions onPAMI 8 6 679 – 698 1986 . • 
Tuytelaars T . and Mikolajczyk K . Local Invariant Feature 
Detectors A Survey . Foundations and Trends in Computer Graphics 
and Vision 3 3 177 – 280 2007 . 